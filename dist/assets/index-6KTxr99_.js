(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function eG(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var NM={exports:{}},E_={},AM={exports:{}},on={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V1=Symbol.for("react.element"),tG=Symbol.for("react.portal"),nG=Symbol.for("react.fragment"),rG=Symbol.for("react.strict_mode"),iG=Symbol.for("react.profiler"),oG=Symbol.for("react.provider"),sG=Symbol.for("react.context"),aG=Symbol.for("react.forward_ref"),lG=Symbol.for("react.suspense"),cG=Symbol.for("react.memo"),uG=Symbol.for("react.lazy"),o8=Symbol.iterator;function dG(e){return e===null||typeof e!="object"?null:(e=o8&&e[o8]||e["@@iterator"],typeof e=="function"?e:null)}var EM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TM=Object.assign,PM={};function K0(e,t,n){this.props=e,this.context=t,this.refs=PM,this.updater=n||EM}K0.prototype.isReactComponent={};K0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};K0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RM(){}RM.prototype=K0.prototype;function gA(e,t,n){this.props=e,this.context=t,this.refs=PM,this.updater=n||EM}var vA=gA.prototype=new RM;vA.constructor=gA;TM(vA,K0.prototype);vA.isPureReactComponent=!0;var s8=Array.isArray,jM=Object.prototype.hasOwnProperty,yA={current:null},DM={key:!0,ref:!0,__self:!0,__source:!0};function IM(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)jM.call(t,r)&&!DM.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:V1,type:e,key:o,ref:s,props:i,_owner:yA.current}}function fG(e,t){return{$$typeof:V1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function bA(e){return typeof e=="object"&&e!==null&&e.$$typeof===V1}function hG(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var a8=/\/+/g;function MS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hG(""+e.key):t.toString(36)}function q2(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case V1:case tG:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+MS(s,0):r,s8(i)?(n="",e!=null&&(n=e.replace(a8,"$&/")+"/"),q2(i,t,n,"",function(c){return c})):i!=null&&(bA(i)&&(i=fG(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(a8,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",s8(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+MS(o,a);s+=q2(o,t,n,l,i)}else if(l=dG(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+MS(o,a++),s+=q2(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function mb(e,t,n){if(e==null)return e;var r=[],i=0;return q2(e,r,"","",function(o){return t.call(n,o,i++)}),r}function pG(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var yo={current:null},H2={transition:null},mG={ReactCurrentDispatcher:yo,ReactCurrentBatchConfig:H2,ReactCurrentOwner:yA};function OM(){throw Error("act(...) is not supported in production builds of React.")}on.Children={map:mb,forEach:function(e,t,n){mb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return mb(e,function(){t++}),t},toArray:function(e){return mb(e,function(t){return t})||[]},only:function(e){if(!bA(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};on.Component=K0;on.Fragment=nG;on.Profiler=iG;on.PureComponent=gA;on.StrictMode=rG;on.Suspense=lG;on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mG;on.act=OM;on.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=TM({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=yA.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)jM.call(t,l)&&!DM.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:V1,type:e.type,key:i,ref:o,props:r,_owner:s}};on.createContext=function(e){return e={$$typeof:sG,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oG,_context:e},e.Consumer=e};on.createElement=IM;on.createFactory=function(e){var t=IM.bind(null,e);return t.type=e,t};on.createRef=function(){return{current:null}};on.forwardRef=function(e){return{$$typeof:aG,render:e}};on.isValidElement=bA;on.lazy=function(e){return{$$typeof:uG,_payload:{_status:-1,_result:e},_init:pG}};on.memo=function(e,t){return{$$typeof:cG,type:e,compare:t===void 0?null:t}};on.startTransition=function(e){var t=H2.transition;H2.transition={};try{e()}finally{H2.transition=t}};on.unstable_act=OM;on.useCallback=function(e,t){return yo.current.useCallback(e,t)};on.useContext=function(e){return yo.current.useContext(e)};on.useDebugValue=function(){};on.useDeferredValue=function(e){return yo.current.useDeferredValue(e)};on.useEffect=function(e,t){return yo.current.useEffect(e,t)};on.useId=function(){return yo.current.useId()};on.useImperativeHandle=function(e,t,n){return yo.current.useImperativeHandle(e,t,n)};on.useInsertionEffect=function(e,t){return yo.current.useInsertionEffect(e,t)};on.useLayoutEffect=function(e,t){return yo.current.useLayoutEffect(e,t)};on.useMemo=function(e,t){return yo.current.useMemo(e,t)};on.useReducer=function(e,t,n){return yo.current.useReducer(e,t,n)};on.useRef=function(e){return yo.current.useRef(e)};on.useState=function(e){return yo.current.useState(e)};on.useSyncExternalStore=function(e,t,n){return yo.current.useSyncExternalStore(e,t,n)};on.useTransition=function(){return yo.current.useTransition()};on.version="18.3.1";AM.exports=on;var I=AM.exports;const Kf=W1(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gG=I,vG=Symbol.for("react.element"),yG=Symbol.for("react.fragment"),bG=Object.prototype.hasOwnProperty,xG=gG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wG={key:!0,ref:!0,__self:!0,__source:!0};function LM(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)bG.call(t,r)&&!wG.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:vG,type:e,key:o,ref:s,props:i,_owner:xG.current}}E_.Fragment=yG;E_.jsx=LM;E_.jsxs=LM;NM.exports=E_;var p=NM.exports,MM={exports:{}},fs={},FM={exports:{}},BM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,Y){var le=W.length;W.push(Y);e:for(;0<le;){var fe=le-1>>>1,M=W[fe];if(0<i(M,Y))W[fe]=Y,W[le]=M,le=fe;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Y=W[0],le=W.pop();if(le!==Y){W[0]=le;e:for(var fe=0,M=W.length,$=M>>>1;fe<$;){var Q=2*(fe+1)-1,ie=W[Q],oe=Q+1,de=W[oe];if(0>i(ie,le))oe<M&&0>i(de,ie)?(W[fe]=de,W[oe]=le,fe=oe):(W[fe]=ie,W[Q]=le,fe=Q);else if(oe<M&&0>i(de,le))W[fe]=de,W[oe]=le,fe=oe;else break e}}return Y}function i(W,Y){var le=W.sortIndex-Y.sortIndex;return le!==0?le:W.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=W)r(c),Y.sortIndex=Y.expirationTime,t(l,Y);else break;Y=n(c)}}function S(W){if(g=!1,_(W),!m)if(n(l)!==null)m=!0,H(k);else{var Y=n(c);Y!==null&&Z(S,Y.startTime-W)}}function k(W,Y){m=!1,g&&(g=!1,v(N),N=-1),f=!0;var le=h;try{for(_(Y),d=n(l);d!==null&&(!(d.expirationTime>Y)||W&&!C());){var fe=d.callback;if(typeof fe=="function"){d.callback=null,h=d.priorityLevel;var M=fe(d.expirationTime<=Y);Y=e.unstable_now(),typeof M=="function"?d.callback=M:d===n(l)&&r(l),_(Y)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var Q=n(c);Q!==null&&Z(S,Q.startTime-Y),$=!1}return $}finally{d=null,h=le,f=!1}}var T=!1,P=null,N=-1,A=5,D=-1;function C(){return!(e.unstable_now()-D<A)}function j(){if(P!==null){var W=e.unstable_now();D=W;var Y=!0;try{Y=P(!0,W)}finally{Y?L():(T=!1,P=null)}}else T=!1}var L;if(typeof x=="function")L=function(){x(j)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=j,L=function(){K.postMessage(null)}}else L=function(){y(j,0)};function H(W){P=W,T||(T=!0,L())}function Z(W,Y){N=y(function(){W(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){m||f||(m=!0,H(k))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var le=h;h=Y;try{return W()}finally{h=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,Y){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var le=h;h=W;try{return Y()}finally{h=le}},e.unstable_scheduleCallback=function(W,Y,le){var fe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?fe+le:fe):le=fe,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,W={id:u++,callback:Y,priorityLevel:W,startTime:le,expirationTime:M,sortIndex:-1},le>fe?(W.sortIndex=le,t(c,W),n(l)===null&&W===n(c)&&(g?(v(N),N=-1):g=!0,Z(S,le-fe))):(W.sortIndex=M,t(l,W),m||f||(m=!0,H(k))),W},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(W){var Y=h;return function(){var le=h;h=Y;try{return W.apply(this,arguments)}finally{h=le}}}})(BM);FM.exports=BM;var _G=FM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SG=I,cs=_G;function Ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zM=new Set,Lv={};function Sh(e,t){x0(e,t),x0(e+"Capture",t)}function x0(e,t){for(Lv[e]=t,e=0;e<t.length;e++)zM.add(t[e])}var Dc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_C=Object.prototype.hasOwnProperty,kG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l8={},c8={};function CG(e){return _C.call(c8,e)?!0:_C.call(l8,e)?!1:kG.test(e)?c8[e]=!0:(l8[e]=!0,!1)}function NG(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AG(e,t,n,r){if(t===null||typeof t>"u"||NG(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bo(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fi[e]=new bo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fi[t]=new bo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fi[e]=new bo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fi[e]=new bo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fi[e]=new bo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fi[e]=new bo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fi[e]=new bo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fi[e]=new bo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fi[e]=new bo(e,5,!1,e.toLowerCase(),null,!1,!1)});var xA=/[\-:]([a-z])/g;function wA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xA,wA);Fi[t]=new bo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xA,wA);Fi[t]=new bo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xA,wA);Fi[t]=new bo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fi[e]=new bo(e,1,!1,e.toLowerCase(),null,!1,!1)});Fi.xlinkHref=new bo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fi[e]=new bo(e,1,!1,e.toLowerCase(),null,!0,!0)});function _A(e,t,n,r){var i=Fi.hasOwnProperty(t)?Fi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AG(t,n,i,r)&&(n=null),r||i===null?CG(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Fc=SG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gb=Symbol.for("react.element"),Rp=Symbol.for("react.portal"),jp=Symbol.for("react.fragment"),SA=Symbol.for("react.strict_mode"),SC=Symbol.for("react.profiler"),UM=Symbol.for("react.provider"),qM=Symbol.for("react.context"),kA=Symbol.for("react.forward_ref"),kC=Symbol.for("react.suspense"),CC=Symbol.for("react.suspense_list"),CA=Symbol.for("react.memo"),Cu=Symbol.for("react.lazy"),HM=Symbol.for("react.offscreen"),u8=Symbol.iterator;function Vm(e){return e===null||typeof e!="object"?null:(e=u8&&e[u8]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,FS;function xg(e){if(FS===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);FS=t&&t[1]||""}return`
`+FS+e}var BS=!1;function zS(e,t){if(!e||BS)return"";BS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{BS=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xg(e):""}function EG(e){switch(e.tag){case 5:return xg(e.type);case 16:return xg("Lazy");case 13:return xg("Suspense");case 19:return xg("SuspenseList");case 0:case 2:case 15:return e=zS(e.type,!1),e;case 11:return e=zS(e.type.render,!1),e;case 1:return e=zS(e.type,!0),e;default:return""}}function NC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case jp:return"Fragment";case Rp:return"Portal";case SC:return"Profiler";case SA:return"StrictMode";case kC:return"Suspense";case CC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qM:return(e.displayName||"Context")+".Consumer";case UM:return(e._context.displayName||"Context")+".Provider";case kA:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case CA:return t=e.displayName||null,t!==null?t:NC(e.type)||"Memo";case Cu:t=e._payload,e=e._init;try{return NC(e(t))}catch{}}return null}function TG(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NC(t);case 8:return t===SA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function WM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PG(e){var t=WM(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vb(e){e._valueTracker||(e._valueTracker=PG(e))}function VM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=WM(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Mx(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function AC(e,t){var n=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function d8(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=wd(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KM(e,t){t=t.checked,t!=null&&_A(e,"checked",t,!1)}function EC(e,t){KM(e,t);var n=wd(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?TC(e,t.type,n):t.hasOwnProperty("defaultValue")&&TC(e,t.type,wd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function f8(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function TC(e,t,n){(t!=="number"||Mx(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wg=Array.isArray;function $p(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wd(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function PC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ge(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function h8(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ge(92));if(wg(n)){if(1<n.length)throw Error(Ge(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:wd(n)}}function GM(e,t){var n=wd(t.value),r=wd(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function p8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function RC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var yb,XM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(yb=yb||document.createElement("div"),yb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=yb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RG=["Webkit","ms","Moz","O"];Object.keys(zg).forEach(function(e){RG.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zg[t]=zg[e]})});function $M(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zg.hasOwnProperty(e)&&zg[e]?(""+t).trim():t+"px"}function YM(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$M(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var jG=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jC(e,t){if(t){if(jG[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ge(62))}}function DC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IC=null;function NA(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var OC=null,Yp=null,Jp=null;function m8(e){if(e=Z1(e)){if(typeof OC!="function")throw Error(Ge(280));var t=e.stateNode;t&&(t=D_(t),OC(e.stateNode,e.type,t))}}function JM(e){Yp?Jp?Jp.push(e):Jp=[e]:Yp=e}function QM(){if(Yp){var e=Yp,t=Jp;if(Jp=Yp=null,m8(e),t)for(e=0;e<t.length;e++)m8(t[e])}}function eF(e,t){return e(t)}function tF(){}var US=!1;function nF(e,t,n){if(US)return e(t,n);US=!0;try{return eF(e,t,n)}finally{US=!1,(Yp!==null||Jp!==null)&&(tF(),QM())}}function Fv(e,t){var n=e.stateNode;if(n===null)return null;var r=D_(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ge(231,t,typeof n));return n}var LC=!1;if(Dc)try{var Km={};Object.defineProperty(Km,"passive",{get:function(){LC=!0}}),window.addEventListener("test",Km,Km),window.removeEventListener("test",Km,Km)}catch{LC=!1}function DG(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ug=!1,Fx=null,Bx=!1,MC=null,IG={onError:function(e){Ug=!0,Fx=e}};function OG(e,t,n,r,i,o,s,a,l){Ug=!1,Fx=null,DG.apply(IG,arguments)}function LG(e,t,n,r,i,o,s,a,l){if(OG.apply(this,arguments),Ug){if(Ug){var c=Fx;Ug=!1,Fx=null}else throw Error(Ge(198));Bx||(Bx=!0,MC=c)}}function kh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function rF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g8(e){if(kh(e)!==e)throw Error(Ge(188))}function MG(e){var t=e.alternate;if(!t){if(t=kh(e),t===null)throw Error(Ge(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return g8(i),e;if(o===r)return g8(i),t;o=o.sibling}throw Error(Ge(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ge(189))}}if(n.alternate!==r)throw Error(Ge(190))}if(n.tag!==3)throw Error(Ge(188));return n.stateNode.current===n?e:t}function iF(e){return e=MG(e),e!==null?oF(e):null}function oF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oF(e);if(t!==null)return t;e=e.sibling}return null}var sF=cs.unstable_scheduleCallback,v8=cs.unstable_cancelCallback,FG=cs.unstable_shouldYield,BG=cs.unstable_requestPaint,Dr=cs.unstable_now,zG=cs.unstable_getCurrentPriorityLevel,AA=cs.unstable_ImmediatePriority,aF=cs.unstable_UserBlockingPriority,zx=cs.unstable_NormalPriority,UG=cs.unstable_LowPriority,lF=cs.unstable_IdlePriority,T_=null,Al=null;function qG(e){if(Al&&typeof Al.onCommitFiberRoot=="function")try{Al.onCommitFiberRoot(T_,e,void 0,(e.current.flags&128)===128)}catch{}}var Ra=Math.clz32?Math.clz32:VG,HG=Math.log,WG=Math.LN2;function VG(e){return e>>>=0,e===0?32:31-(HG(e)/WG|0)|0}var bb=64,xb=4194304;function _g(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ux(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_g(a):(o&=s,o!==0&&(r=_g(o)))}else s=n&~i,s!==0?r=_g(s):o!==0&&(r=_g(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ra(t),i=1<<n,r|=e[n],t&=~i;return r}function KG(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GG(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Ra(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=KG(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function FC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cF(){var e=bb;return bb<<=1,!(bb&4194240)&&(bb=64),e}function qS(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function K1(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ra(t),e[t]=n}function ZG(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ra(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function EA(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ra(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Fn=0;function uF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dF,TA,fF,hF,pF,BC=!1,wb=[],td=null,nd=null,rd=null,Bv=new Map,zv=new Map,Ru=[],XG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y8(e,t){switch(e){case"focusin":case"focusout":td=null;break;case"dragenter":case"dragleave":nd=null;break;case"mouseover":case"mouseout":rd=null;break;case"pointerover":case"pointerout":Bv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zv.delete(t.pointerId)}}function Gm(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Z1(t),t!==null&&TA(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function $G(e,t,n,r,i){switch(t){case"focusin":return td=Gm(td,e,t,n,r,i),!0;case"dragenter":return nd=Gm(nd,e,t,n,r,i),!0;case"mouseover":return rd=Gm(rd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Bv.set(o,Gm(Bv.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zv.set(o,Gm(zv.get(o)||null,e,t,n,r,i)),!0}return!1}function mF(e){var t=wf(e.target);if(t!==null){var n=kh(t);if(n!==null){if(t=n.tag,t===13){if(t=rF(n),t!==null){e.blockedOn=t,pF(e.priority,function(){fF(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function W2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);IC=r,n.target.dispatchEvent(r),IC=null}else return t=Z1(n),t!==null&&TA(t),e.blockedOn=n,!1;t.shift()}return!0}function b8(e,t,n){W2(e)&&n.delete(t)}function YG(){BC=!1,td!==null&&W2(td)&&(td=null),nd!==null&&W2(nd)&&(nd=null),rd!==null&&W2(rd)&&(rd=null),Bv.forEach(b8),zv.forEach(b8)}function Zm(e,t){e.blockedOn===t&&(e.blockedOn=null,BC||(BC=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,YG)))}function Uv(e){function t(i){return Zm(i,e)}if(0<wb.length){Zm(wb[0],e);for(var n=1;n<wb.length;n++){var r=wb[n];r.blockedOn===e&&(r.blockedOn=null)}}for(td!==null&&Zm(td,e),nd!==null&&Zm(nd,e),rd!==null&&Zm(rd,e),Bv.forEach(t),zv.forEach(t),n=0;n<Ru.length;n++)r=Ru[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ru.length&&(n=Ru[0],n.blockedOn===null);)mF(n),n.blockedOn===null&&Ru.shift()}var Qp=Fc.ReactCurrentBatchConfig,qx=!0;function JG(e,t,n,r){var i=Fn,o=Qp.transition;Qp.transition=null;try{Fn=1,PA(e,t,n,r)}finally{Fn=i,Qp.transition=o}}function QG(e,t,n,r){var i=Fn,o=Qp.transition;Qp.transition=null;try{Fn=4,PA(e,t,n,r)}finally{Fn=i,Qp.transition=o}}function PA(e,t,n,r){if(qx){var i=zC(e,t,n,r);if(i===null)JS(e,t,r,Hx,n),y8(e,r);else if($G(i,e,t,n,r))r.stopPropagation();else if(y8(e,r),t&4&&-1<XG.indexOf(e)){for(;i!==null;){var o=Z1(i);if(o!==null&&dF(o),o=zC(e,t,n,r),o===null&&JS(e,t,r,Hx,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else JS(e,t,r,null,n)}}var Hx=null;function zC(e,t,n,r){if(Hx=null,e=NA(r),e=wf(e),e!==null)if(t=kh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=rF(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hx=e,null}function gF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zG()){case AA:return 1;case aF:return 4;case zx:case UG:return 16;case lF:return 536870912;default:return 16}default:return 16}}var Uu=null,RA=null,V2=null;function vF(){if(V2)return V2;var e,t=RA,n=t.length,r,i="value"in Uu?Uu.value:Uu.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return V2=i.slice(e,1<r?1-r:void 0)}function K2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _b(){return!0}function x8(){return!1}function hs(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?_b:x8,this.isPropagationStopped=x8,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_b)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_b)},persist:function(){},isPersistent:_b}),t}var G0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jA=hs(G0),G1=gr({},G0,{view:0,detail:0}),eZ=hs(G1),HS,WS,Xm,P_=gr({},G1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DA,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xm&&(Xm&&e.type==="mousemove"?(HS=e.screenX-Xm.screenX,WS=e.screenY-Xm.screenY):WS=HS=0,Xm=e),HS)},movementY:function(e){return"movementY"in e?e.movementY:WS}}),w8=hs(P_),tZ=gr({},P_,{dataTransfer:0}),nZ=hs(tZ),rZ=gr({},G1,{relatedTarget:0}),VS=hs(rZ),iZ=gr({},G0,{animationName:0,elapsedTime:0,pseudoElement:0}),oZ=hs(iZ),sZ=gr({},G0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aZ=hs(sZ),lZ=gr({},G0,{data:0}),_8=hs(lZ),cZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dZ[e])?!!t[e]:!1}function DA(){return fZ}var hZ=gr({},G1,{key:function(e){if(e.key){var t=cZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=K2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DA,charCode:function(e){return e.type==="keypress"?K2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?K2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pZ=hs(hZ),mZ=gr({},P_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S8=hs(mZ),gZ=gr({},G1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DA}),vZ=hs(gZ),yZ=gr({},G0,{propertyName:0,elapsedTime:0,pseudoElement:0}),bZ=hs(yZ),xZ=gr({},P_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wZ=hs(xZ),_Z=[9,13,27,32],IA=Dc&&"CompositionEvent"in window,qg=null;Dc&&"documentMode"in document&&(qg=document.documentMode);var SZ=Dc&&"TextEvent"in window&&!qg,yF=Dc&&(!IA||qg&&8<qg&&11>=qg),k8=" ",C8=!1;function bF(e,t){switch(e){case"keyup":return _Z.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dp=!1;function kZ(e,t){switch(e){case"compositionend":return xF(t);case"keypress":return t.which!==32?null:(C8=!0,k8);case"textInput":return e=t.data,e===k8&&C8?null:e;default:return null}}function CZ(e,t){if(Dp)return e==="compositionend"||!IA&&bF(e,t)?(e=vF(),V2=RA=Uu=null,Dp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yF&&t.locale!=="ko"?null:t.data;default:return null}}var NZ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N8(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NZ[e.type]:t==="textarea"}function wF(e,t,n,r){JM(r),t=Wx(t,"onChange"),0<t.length&&(n=new jA("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hg=null,qv=null;function AZ(e){jF(e,0)}function R_(e){var t=Lp(e);if(VM(t))return e}function EZ(e,t){if(e==="change")return t}var _F=!1;if(Dc){var KS;if(Dc){var GS="oninput"in document;if(!GS){var A8=document.createElement("div");A8.setAttribute("oninput","return;"),GS=typeof A8.oninput=="function"}KS=GS}else KS=!1;_F=KS&&(!document.documentMode||9<document.documentMode)}function E8(){Hg&&(Hg.detachEvent("onpropertychange",SF),qv=Hg=null)}function SF(e){if(e.propertyName==="value"&&R_(qv)){var t=[];wF(t,qv,e,NA(e)),nF(AZ,t)}}function TZ(e,t,n){e==="focusin"?(E8(),Hg=t,qv=n,Hg.attachEvent("onpropertychange",SF)):e==="focusout"&&E8()}function PZ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return R_(qv)}function RZ(e,t){if(e==="click")return R_(t)}function jZ(e,t){if(e==="input"||e==="change")return R_(t)}function DZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ma=typeof Object.is=="function"?Object.is:DZ;function Hv(e,t){if(Ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_C.call(t,i)||!Ma(e[i],t[i]))return!1}return!0}function T8(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function P8(e,t){var n=T8(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T8(n)}}function kF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CF(){for(var e=window,t=Mx();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Mx(e.document)}return t}function OA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IZ(e){var t=CF(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kF(n.ownerDocument.documentElement,n)){if(r!==null&&OA(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=P8(n,o);var s=P8(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OZ=Dc&&"documentMode"in document&&11>=document.documentMode,Ip=null,UC=null,Wg=null,qC=!1;function R8(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qC||Ip==null||Ip!==Mx(r)||(r=Ip,"selectionStart"in r&&OA(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wg&&Hv(Wg,r)||(Wg=r,r=Wx(UC,"onSelect"),0<r.length&&(t=new jA("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ip)))}function Sb(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Op={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},ZS={},NF={};Dc&&(NF=document.createElement("div").style,"AnimationEvent"in window||(delete Op.animationend.animation,delete Op.animationiteration.animation,delete Op.animationstart.animation),"TransitionEvent"in window||delete Op.transitionend.transition);function j_(e){if(ZS[e])return ZS[e];if(!Op[e])return e;var t=Op[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in NF)return ZS[e]=t[n];return e}var AF=j_("animationend"),EF=j_("animationiteration"),TF=j_("animationstart"),PF=j_("transitionend"),RF=new Map,j8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rd(e,t){RF.set(e,t),Sh(t,[e])}for(var XS=0;XS<j8.length;XS++){var $S=j8[XS],LZ=$S.toLowerCase(),MZ=$S[0].toUpperCase()+$S.slice(1);Rd(LZ,"on"+MZ)}Rd(AF,"onAnimationEnd");Rd(EF,"onAnimationIteration");Rd(TF,"onAnimationStart");Rd("dblclick","onDoubleClick");Rd("focusin","onFocus");Rd("focusout","onBlur");Rd(PF,"onTransitionEnd");x0("onMouseEnter",["mouseout","mouseover"]);x0("onMouseLeave",["mouseout","mouseover"]);x0("onPointerEnter",["pointerout","pointerover"]);x0("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sg));function D8(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,LG(r,t,void 0,e),e.currentTarget=null}function jF(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;D8(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;D8(i,a,c),o=l}}}if(Bx)throw e=MC,Bx=!1,MC=null,e}function Qn(e,t){var n=t[GC];n===void 0&&(n=t[GC]=new Set);var r=e+"__bubble";n.has(r)||(DF(t,e,2,!1),n.add(r))}function YS(e,t,n){var r=0;t&&(r|=4),DF(n,e,r,t)}var kb="_reactListening"+Math.random().toString(36).slice(2);function Wv(e){if(!e[kb]){e[kb]=!0,zM.forEach(function(n){n!=="selectionchange"&&(FZ.has(n)||YS(n,!1,e),YS(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kb]||(t[kb]=!0,YS("selectionchange",!1,t))}}function DF(e,t,n,r){switch(gF(t)){case 1:var i=JG;break;case 4:i=QG;break;default:i=PA}n=i.bind(null,t,n,e),i=void 0,!LC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function JS(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=wf(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}nF(function(){var c=o,u=NA(n),d=[];e:{var h=RF.get(e);if(h!==void 0){var f=jA,m=e;switch(e){case"keypress":if(K2(n)===0)break e;case"keydown":case"keyup":f=pZ;break;case"focusin":m="focus",f=VS;break;case"focusout":m="blur",f=VS;break;case"beforeblur":case"afterblur":f=VS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=w8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=nZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=vZ;break;case AF:case EF:case TF:f=oZ;break;case PF:f=bZ;break;case"scroll":f=eZ;break;case"wheel":f=wZ;break;case"copy":case"cut":case"paste":f=aZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=S8}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,_;x!==null;){_=x;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,v!==null&&(S=Fv(x,v),S!=null&&g.push(Vv(x,S,_)))),y)break;x=x.return}0<g.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&n!==IC&&(m=n.relatedTarget||n.fromElement)&&(wf(m)||m[Ic]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?wf(m):null,m!==null&&(y=kh(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=w8,S="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=S8,S="onPointerLeave",v="onPointerEnter",x="pointer"),y=f==null?h:Lp(f),_=m==null?h:Lp(m),h=new g(S,x+"leave",f,n,u),h.target=y,h.relatedTarget=_,S=null,wf(u)===c&&(g=new g(v,x+"enter",m,n,u),g.target=_,g.relatedTarget=y,S=g),y=S,f&&m)t:{for(g=f,v=m,x=0,_=g;_;_=Qh(_))x++;for(_=0,S=v;S;S=Qh(S))_++;for(;0<x-_;)g=Qh(g),x--;for(;0<_-x;)v=Qh(v),_--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=Qh(g),v=Qh(v)}g=null}else g=null;f!==null&&I8(d,h,f,g,!1),m!==null&&y!==null&&I8(d,y,m,g,!0)}}e:{if(h=c?Lp(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=EZ;else if(N8(h))if(_F)k=jZ;else{k=PZ;var T=TZ}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=RZ);if(k&&(k=k(e,c))){wF(d,k,n,u);break e}T&&T(e,h,c),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&TC(h,"number",h.value)}switch(T=c?Lp(c):window,e){case"focusin":(N8(T)||T.contentEditable==="true")&&(Ip=T,UC=c,Wg=null);break;case"focusout":Wg=UC=Ip=null;break;case"mousedown":qC=!0;break;case"contextmenu":case"mouseup":case"dragend":qC=!1,R8(d,n,u);break;case"selectionchange":if(OZ)break;case"keydown":case"keyup":R8(d,n,u)}var P;if(IA)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Dp?bF(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(yF&&n.locale!=="ko"&&(Dp||N!=="onCompositionStart"?N==="onCompositionEnd"&&Dp&&(P=vF()):(Uu=u,RA="value"in Uu?Uu.value:Uu.textContent,Dp=!0)),T=Wx(c,N),0<T.length&&(N=new _8(N,e,null,n,u),d.push({event:N,listeners:T}),P?N.data=P:(P=xF(n),P!==null&&(N.data=P)))),(P=SZ?kZ(e,n):CZ(e,n))&&(c=Wx(c,"onBeforeInput"),0<c.length&&(u=new _8("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}jF(d,t)})}function Vv(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wx(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Fv(e,n),o!=null&&r.unshift(Vv(e,o,i)),o=Fv(e,t),o!=null&&r.push(Vv(e,o,i))),e=e.return}return r}function Qh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function I8(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Fv(n,o),l!=null&&s.unshift(Vv(n,l,a))):i||(l=Fv(n,o),l!=null&&s.push(Vv(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var BZ=/\r\n?/g,zZ=/\u0000|\uFFFD/g;function O8(e){return(typeof e=="string"?e:""+e).replace(BZ,`
`).replace(zZ,"")}function Cb(e,t,n){if(t=O8(t),O8(e)!==t&&n)throw Error(Ge(425))}function Vx(){}var HC=null,WC=null;function VC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var KC=typeof setTimeout=="function"?setTimeout:void 0,UZ=typeof clearTimeout=="function"?clearTimeout:void 0,L8=typeof Promise=="function"?Promise:void 0,qZ=typeof queueMicrotask=="function"?queueMicrotask:typeof L8<"u"?function(e){return L8.resolve(null).then(e).catch(HZ)}:KC;function HZ(e){setTimeout(function(){throw e})}function QS(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Uv(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uv(t)}function id(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function M8(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Z0=Math.random().toString(36).slice(2),vl="__reactFiber$"+Z0,Kv="__reactProps$"+Z0,Ic="__reactContainer$"+Z0,GC="__reactEvents$"+Z0,WZ="__reactListeners$"+Z0,VZ="__reactHandles$"+Z0;function wf(e){var t=e[vl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ic]||n[vl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=M8(e);e!==null;){if(n=e[vl])return n;e=M8(e)}return t}e=n,n=e.parentNode}return null}function Z1(e){return e=e[vl]||e[Ic],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lp(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ge(33))}function D_(e){return e[Kv]||null}var ZC=[],Mp=-1;function jd(e){return{current:e}}function nr(e){0>Mp||(e.current=ZC[Mp],ZC[Mp]=null,Mp--)}function Xn(e,t){Mp++,ZC[Mp]=e.current,e.current=t}var _d={},Zi=jd(_d),jo=jd(!1),Gf=_d;function w0(e,t){var n=e.type.contextTypes;if(!n)return _d;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Do(e){return e=e.childContextTypes,e!=null}function Kx(){nr(jo),nr(Zi)}function F8(e,t,n){if(Zi.current!==_d)throw Error(Ge(168));Xn(Zi,t),Xn(jo,n)}function IF(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ge(108,TG(e)||"Unknown",i));return gr({},n,r)}function Gx(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_d,Gf=Zi.current,Xn(Zi,e),Xn(jo,jo.current),!0}function B8(e,t,n){var r=e.stateNode;if(!r)throw Error(Ge(169));n?(e=IF(e,t,Gf),r.__reactInternalMemoizedMergedChildContext=e,nr(jo),nr(Zi),Xn(Zi,e)):nr(jo),Xn(jo,n)}var bc=null,I_=!1,ek=!1;function OF(e){bc===null?bc=[e]:bc.push(e)}function KZ(e){I_=!0,OF(e)}function Dd(){if(!ek&&bc!==null){ek=!0;var e=0,t=Fn;try{var n=bc;for(Fn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}bc=null,I_=!1}catch(i){throw bc!==null&&(bc=bc.slice(e+1)),sF(AA,Dd),i}finally{Fn=t,ek=!1}}return null}var Fp=[],Bp=0,Zx=null,Xx=0,As=[],Es=0,Zf=null,Cc=1,Nc="";function ff(e,t){Fp[Bp++]=Xx,Fp[Bp++]=Zx,Zx=e,Xx=t}function LF(e,t,n){As[Es++]=Cc,As[Es++]=Nc,As[Es++]=Zf,Zf=e;var r=Cc;e=Nc;var i=32-Ra(r)-1;r&=~(1<<i),n+=1;var o=32-Ra(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cc=1<<32-Ra(t)+i|n<<i|r,Nc=o+e}else Cc=1<<o|n<<i|r,Nc=e}function LA(e){e.return!==null&&(ff(e,1),LF(e,1,0))}function MA(e){for(;e===Zx;)Zx=Fp[--Bp],Fp[Bp]=null,Xx=Fp[--Bp],Fp[Bp]=null;for(;e===Zf;)Zf=As[--Es],As[Es]=null,Nc=As[--Es],As[Es]=null,Cc=As[--Es],As[Es]=null}var as=null,Jo=null,ar=!1,Sa=null;function MF(e,t){var n=Ds(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function z8(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,as=e,Jo=id(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,as=e,Jo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zf!==null?{id:Cc,overflow:Nc}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ds(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,as=e,Jo=null,!0):!1;default:return!1}}function XC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $C(e){if(ar){var t=Jo;if(t){var n=t;if(!z8(e,t)){if(XC(e))throw Error(Ge(418));t=id(n.nextSibling);var r=as;t&&z8(e,t)?MF(r,n):(e.flags=e.flags&-4097|2,ar=!1,as=e)}}else{if(XC(e))throw Error(Ge(418));e.flags=e.flags&-4097|2,ar=!1,as=e}}}function U8(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;as=e}function Nb(e){if(e!==as)return!1;if(!ar)return U8(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!VC(e.type,e.memoizedProps)),t&&(t=Jo)){if(XC(e))throw FF(),Error(Ge(418));for(;t;)MF(e,t),t=id(t.nextSibling)}if(U8(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Jo=id(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Jo=null}}else Jo=as?id(e.stateNode.nextSibling):null;return!0}function FF(){for(var e=Jo;e;)e=id(e.nextSibling)}function _0(){Jo=as=null,ar=!1}function FA(e){Sa===null?Sa=[e]:Sa.push(e)}var GZ=Fc.ReactCurrentBatchConfig;function $m(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ge(309));var r=n.stateNode}if(!r)throw Error(Ge(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ge(284));if(!n._owner)throw Error(Ge(290,e))}return e}function Ab(e,t){throw e=Object.prototype.toString.call(t),Error(Ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q8(e){var t=e._init;return t(e._payload)}function BF(e){function t(v,x){if(e){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=ld(v,x),v.index=0,v.sibling=null,v}function o(v,x,_){return v.index=_,e?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,x,_,S){return x===null||x.tag!==6?(x=ak(_,v.mode,S),x.return=v,x):(x=i(x,_),x.return=v,x)}function l(v,x,_,S){var k=_.type;return k===jp?u(v,x,_.props.children,S,_.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cu&&q8(k)===x.type)?(S=i(x,_.props),S.ref=$m(v,x,_),S.return=v,S):(S=Q2(_.type,_.key,_.props,null,v.mode,S),S.ref=$m(v,x,_),S.return=v,S)}function c(v,x,_,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=lk(_,v.mode,S),x.return=v,x):(x=i(x,_.children||[]),x.return=v,x)}function u(v,x,_,S,k){return x===null||x.tag!==7?(x=Ff(_,v.mode,S,k),x.return=v,x):(x=i(x,_),x.return=v,x)}function d(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ak(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gb:return _=Q2(x.type,x.key,x.props,null,v.mode,_),_.ref=$m(v,null,x),_.return=v,_;case Rp:return x=lk(x,v.mode,_),x.return=v,x;case Cu:var S=x._init;return d(v,S(x._payload),_)}if(wg(x)||Vm(x))return x=Ff(x,v.mode,_,null),x.return=v,x;Ab(v,x)}return null}function h(v,x,_,S){var k=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:a(v,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gb:return _.key===k?l(v,x,_,S):null;case Rp:return _.key===k?c(v,x,_,S):null;case Cu:return k=_._init,h(v,x,k(_._payload),S)}if(wg(_)||Vm(_))return k!==null?null:u(v,x,_,S,null);Ab(v,_)}return null}function f(v,x,_,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(_)||null,a(x,v,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case gb:return v=v.get(S.key===null?_:S.key)||null,l(x,v,S,k);case Rp:return v=v.get(S.key===null?_:S.key)||null,c(x,v,S,k);case Cu:var T=S._init;return f(v,x,_,T(S._payload),k)}if(wg(S)||Vm(S))return v=v.get(_)||null,u(x,v,S,k,null);Ab(x,S)}return null}function m(v,x,_,S){for(var k=null,T=null,P=x,N=x=0,A=null;P!==null&&N<_.length;N++){P.index>N?(A=P,P=null):A=P.sibling;var D=h(v,P,_[N],S);if(D===null){P===null&&(P=A);break}e&&P&&D.alternate===null&&t(v,P),x=o(D,x,N),T===null?k=D:T.sibling=D,T=D,P=A}if(N===_.length)return n(v,P),ar&&ff(v,N),k;if(P===null){for(;N<_.length;N++)P=d(v,_[N],S),P!==null&&(x=o(P,x,N),T===null?k=P:T.sibling=P,T=P);return ar&&ff(v,N),k}for(P=r(v,P);N<_.length;N++)A=f(P,v,N,_[N],S),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?N:A.key),x=o(A,x,N),T===null?k=A:T.sibling=A,T=A);return e&&P.forEach(function(C){return t(v,C)}),ar&&ff(v,N),k}function g(v,x,_,S){var k=Vm(_);if(typeof k!="function")throw Error(Ge(150));if(_=k.call(_),_==null)throw Error(Ge(151));for(var T=k=null,P=x,N=x=0,A=null,D=_.next();P!==null&&!D.done;N++,D=_.next()){P.index>N?(A=P,P=null):A=P.sibling;var C=h(v,P,D.value,S);if(C===null){P===null&&(P=A);break}e&&P&&C.alternate===null&&t(v,P),x=o(C,x,N),T===null?k=C:T.sibling=C,T=C,P=A}if(D.done)return n(v,P),ar&&ff(v,N),k;if(P===null){for(;!D.done;N++,D=_.next())D=d(v,D.value,S),D!==null&&(x=o(D,x,N),T===null?k=D:T.sibling=D,T=D);return ar&&ff(v,N),k}for(P=r(v,P);!D.done;N++,D=_.next())D=f(P,v,N,D.value,S),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?N:D.key),x=o(D,x,N),T===null?k=D:T.sibling=D,T=D);return e&&P.forEach(function(j){return t(v,j)}),ar&&ff(v,N),k}function y(v,x,_,S){if(typeof _=="object"&&_!==null&&_.type===jp&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case gb:e:{for(var k=_.key,T=x;T!==null;){if(T.key===k){if(k=_.type,k===jp){if(T.tag===7){n(v,T.sibling),x=i(T,_.props.children),x.return=v,v=x;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Cu&&q8(k)===T.type){n(v,T.sibling),x=i(T,_.props),x.ref=$m(v,T,_),x.return=v,v=x;break e}n(v,T);break}else t(v,T);T=T.sibling}_.type===jp?(x=Ff(_.props.children,v.mode,S,_.key),x.return=v,v=x):(S=Q2(_.type,_.key,_.props,null,v.mode,S),S.ref=$m(v,x,_),S.return=v,v=S)}return s(v);case Rp:e:{for(T=_.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(v,x.sibling),x=i(x,_.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=lk(_,v.mode,S),x.return=v,v=x}return s(v);case Cu:return T=_._init,y(v,x,T(_._payload),S)}if(wg(_))return m(v,x,_,S);if(Vm(_))return g(v,x,_,S);Ab(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,_),x.return=v,v=x):(n(v,x),x=ak(_,v.mode,S),x.return=v,v=x),s(v)):n(v,x)}return y}var S0=BF(!0),zF=BF(!1),$x=jd(null),Yx=null,zp=null,BA=null;function zA(){BA=zp=Yx=null}function UA(e){var t=$x.current;nr($x),e._currentValue=t}function YC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function e0(e,t){Yx=e,BA=zp=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ao=!0),e.firstContext=null)}function $s(e){var t=e._currentValue;if(BA!==e)if(e={context:e,memoizedValue:t,next:null},zp===null){if(Yx===null)throw Error(Ge(308));zp=e,Yx.dependencies={lanes:0,firstContext:e}}else zp=zp.next=e;return t}var _f=null;function qA(e){_f===null?_f=[e]:_f.push(e)}function UF(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,qA(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oc(e,r)}function Oc(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nu=!1;function HA(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ec(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function od(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oc(e,n)}return i=r.interleaved,i===null?(t.next=t,qA(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oc(e,n)}function G2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,EA(e,n)}}function H8(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Jx(e,t,n,r){var i=e.updateQueue;Nu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(h=t,f=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=gr({},d,h);break e;case 2:Nu=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);$f|=s,e.lanes=s,e.memoizedState=d}}function W8(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ge(191,i));i.call(r)}}}var X1={},El=jd(X1),Gv=jd(X1),Zv=jd(X1);function Sf(e){if(e===X1)throw Error(Ge(174));return e}function WA(e,t){switch(Xn(Zv,t),Xn(Gv,e),Xn(El,X1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:RC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=RC(t,e)}nr(El),Xn(El,t)}function k0(){nr(El),nr(Gv),nr(Zv)}function HF(e){Sf(Zv.current);var t=Sf(El.current),n=RC(t,e.type);t!==n&&(Xn(Gv,e),Xn(El,n))}function VA(e){Gv.current===e&&(nr(El),nr(Gv))}var pr=jd(0);function Qx(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tk=[];function KA(){for(var e=0;e<tk.length;e++)tk[e]._workInProgressVersionPrimary=null;tk.length=0}var Z2=Fc.ReactCurrentDispatcher,nk=Fc.ReactCurrentBatchConfig,Xf=0,mr=null,ei=null,fi=null,ew=!1,Vg=!1,Xv=0,ZZ=0;function zi(){throw Error(Ge(321))}function GA(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ma(e[n],t[n]))return!1;return!0}function ZA(e,t,n,r,i,o){if(Xf=o,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Z2.current=e===null||e.memoizedState===null?JZ:QZ,e=n(r,i),Vg){o=0;do{if(Vg=!1,Xv=0,25<=o)throw Error(Ge(301));o+=1,fi=ei=null,t.updateQueue=null,Z2.current=eX,e=n(r,i)}while(Vg)}if(Z2.current=tw,t=ei!==null&&ei.next!==null,Xf=0,fi=ei=mr=null,ew=!1,t)throw Error(Ge(300));return e}function XA(){var e=Xv!==0;return Xv=0,e}function dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fi===null?mr.memoizedState=fi=e:fi=fi.next=e,fi}function Ys(){if(ei===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=ei.next;var t=fi===null?mr.memoizedState:fi.next;if(t!==null)fi=t,ei=e;else{if(e===null)throw Error(Ge(310));ei=e,e={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},fi===null?mr.memoizedState=fi=e:fi=fi.next=e}return fi}function $v(e,t){return typeof t=="function"?t(e):t}function rk(e){var t=Ys(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=ei,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Xf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,mr.lanes|=u,$f|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Ma(r,t.memoizedState)||(Ao=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,mr.lanes|=o,$f|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ik(e){var t=Ys(),n=t.queue;if(n===null)throw Error(Ge(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Ma(o,t.memoizedState)||(Ao=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function WF(){}function VF(e,t){var n=mr,r=Ys(),i=t(),o=!Ma(r.memoizedState,i);if(o&&(r.memoizedState=i,Ao=!0),r=r.queue,$A(ZF.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||fi!==null&&fi.memoizedState.tag&1){if(n.flags|=2048,Yv(9,GF.bind(null,n,r,i,t),void 0,null),vi===null)throw Error(Ge(349));Xf&30||KF(n,t,i)}return i}function KF(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function GF(e,t,n,r){t.value=n,t.getSnapshot=r,XF(t)&&$F(e)}function ZF(e,t,n){return n(function(){XF(t)&&$F(e)})}function XF(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ma(e,n)}catch{return!0}}function $F(e){var t=Oc(e,1);t!==null&&ja(t,e,1,-1)}function V8(e){var t=dl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$v,lastRenderedState:e},t.queue=e,e=e.dispatch=YZ.bind(null,mr,e),[t.memoizedState,e]}function Yv(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function YF(){return Ys().memoizedState}function X2(e,t,n,r){var i=dl();mr.flags|=e,i.memoizedState=Yv(1|t,n,void 0,r===void 0?null:r)}function O_(e,t,n,r){var i=Ys();r=r===void 0?null:r;var o=void 0;if(ei!==null){var s=ei.memoizedState;if(o=s.destroy,r!==null&&GA(r,s.deps)){i.memoizedState=Yv(t,n,o,r);return}}mr.flags|=e,i.memoizedState=Yv(1|t,n,o,r)}function K8(e,t){return X2(8390656,8,e,t)}function $A(e,t){return O_(2048,8,e,t)}function JF(e,t){return O_(4,2,e,t)}function QF(e,t){return O_(4,4,e,t)}function e7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t7(e,t,n){return n=n!=null?n.concat([e]):null,O_(4,4,e7.bind(null,t,e),n)}function YA(){}function n7(e,t){var n=Ys();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&GA(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function r7(e,t){var n=Ys();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&GA(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function i7(e,t,n){return Xf&21?(Ma(n,t)||(n=cF(),mr.lanes|=n,$f|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ao=!0),e.memoizedState=n)}function XZ(e,t){var n=Fn;Fn=n!==0&&4>n?n:4,e(!0);var r=nk.transition;nk.transition={};try{e(!1),t()}finally{Fn=n,nk.transition=r}}function o7(){return Ys().memoizedState}function $Z(e,t,n){var r=ad(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s7(e))a7(t,n);else if(n=UF(e,t,n,r),n!==null){var i=uo();ja(n,e,r,i),l7(n,t,r)}}function YZ(e,t,n){var r=ad(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s7(e))a7(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ma(a,s)){var l=t.interleaved;l===null?(i.next=i,qA(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=UF(e,t,i,r),n!==null&&(i=uo(),ja(n,e,r,i),l7(n,t,r))}}function s7(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function a7(e,t){Vg=ew=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function l7(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,EA(e,n)}}var tw={readContext:$s,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useInsertionEffect:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useMutableSource:zi,useSyncExternalStore:zi,useId:zi,unstable_isNewReconciler:!1},JZ={readContext:$s,useCallback:function(e,t){return dl().memoizedState=[e,t===void 0?null:t],e},useContext:$s,useEffect:K8,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,X2(4194308,4,e7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return X2(4194308,4,e,t)},useInsertionEffect:function(e,t){return X2(4,2,e,t)},useMemo:function(e,t){var n=dl();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=dl();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$Z.bind(null,mr,e),[r.memoizedState,e]},useRef:function(e){var t=dl();return e={current:e},t.memoizedState=e},useState:V8,useDebugValue:YA,useDeferredValue:function(e){return dl().memoizedState=e},useTransition:function(){var e=V8(!1),t=e[0];return e=XZ.bind(null,e[1]),dl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mr,i=dl();if(ar){if(n===void 0)throw Error(Ge(407));n=n()}else{if(n=t(),vi===null)throw Error(Ge(349));Xf&30||KF(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,K8(ZF.bind(null,r,o,e),[e]),r.flags|=2048,Yv(9,GF.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=dl(),t=vi.identifierPrefix;if(ar){var n=Nc,r=Cc;n=(r&~(1<<32-Ra(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xv++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ZZ++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QZ={readContext:$s,useCallback:n7,useContext:$s,useEffect:$A,useImperativeHandle:t7,useInsertionEffect:JF,useLayoutEffect:QF,useMemo:r7,useReducer:rk,useRef:YF,useState:function(){return rk($v)},useDebugValue:YA,useDeferredValue:function(e){var t=Ys();return i7(t,ei.memoizedState,e)},useTransition:function(){var e=rk($v)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:WF,useSyncExternalStore:VF,useId:o7,unstable_isNewReconciler:!1},eX={readContext:$s,useCallback:n7,useContext:$s,useEffect:$A,useImperativeHandle:t7,useInsertionEffect:JF,useLayoutEffect:QF,useMemo:r7,useReducer:ik,useRef:YF,useState:function(){return ik($v)},useDebugValue:YA,useDeferredValue:function(e){var t=Ys();return ei===null?t.memoizedState=e:i7(t,ei.memoizedState,e)},useTransition:function(){var e=ik($v)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:WF,useSyncExternalStore:VF,useId:o7,unstable_isNewReconciler:!1};function xa(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function JC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var L_={isMounted:function(e){return(e=e._reactInternals)?kh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=uo(),i=ad(e),o=Ec(r,i);o.payload=t,n!=null&&(o.callback=n),t=od(e,o,i),t!==null&&(ja(t,e,i,r),G2(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=uo(),i=ad(e),o=Ec(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=od(e,o,i),t!==null&&(ja(t,e,i,r),G2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=uo(),r=ad(e),i=Ec(n,r);i.tag=2,t!=null&&(i.callback=t),t=od(e,i,r),t!==null&&(ja(t,e,r,n),G2(t,e,r))}};function G8(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Hv(n,r)||!Hv(i,o):!0}function c7(e,t,n){var r=!1,i=_d,o=t.contextType;return typeof o=="object"&&o!==null?o=$s(o):(i=Do(t)?Gf:Zi.current,r=t.contextTypes,o=(r=r!=null)?w0(e,i):_d),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=L_,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Z8(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&L_.enqueueReplaceState(t,t.state,null)}function QC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},HA(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$s(o):(o=Do(t)?Gf:Zi.current,i.context=w0(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(JC(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&L_.enqueueReplaceState(i,i.state,null),Jx(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function C0(e,t){try{var n="",r=t;do n+=EG(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ok(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function eN(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tX=typeof WeakMap=="function"?WeakMap:Map;function u7(e,t,n){n=Ec(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rw||(rw=!0,uN=r),eN(e,t)},n}function d7(e,t,n){n=Ec(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){eN(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){eN(e,t),typeof r!="function"&&(sd===null?sd=new Set([this]):sd.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function X8(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tX;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=mX.bind(null,e,t,n),t.then(e,e))}function $8(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y8(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ec(-1,1),t.tag=2,od(n,t,1))),n.lanes|=1),e)}var nX=Fc.ReactCurrentOwner,Ao=!1;function io(e,t,n,r){t.child=e===null?zF(t,null,n,r):S0(t,e.child,n,r)}function J8(e,t,n,r,i){n=n.render;var o=t.ref;return e0(t,i),r=ZA(e,t,n,r,o,i),n=XA(),e!==null&&!Ao?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lc(e,t,i)):(ar&&n&&LA(t),t.flags|=1,io(e,t,r,i),t.child)}function Q8(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!oE(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,f7(e,t,o,r,i)):(e=Q2(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Hv,n(s,r)&&e.ref===t.ref)return Lc(e,t,i)}return t.flags|=1,e=ld(o,r),e.ref=t.ref,e.return=t,t.child=e}function f7(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Hv(o,r)&&e.ref===t.ref)if(Ao=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Ao=!0);else return t.lanes=e.lanes,Lc(e,t,i)}return tN(e,t,n,r,i)}function h7(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn(qp,Xo),Xo|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xn(qp,Xo),Xo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Xn(qp,Xo),Xo|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Xn(qp,Xo),Xo|=r;return io(e,t,i,n),t.child}function p7(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tN(e,t,n,r,i){var o=Do(n)?Gf:Zi.current;return o=w0(t,o),e0(t,i),n=ZA(e,t,n,r,o,i),r=XA(),e!==null&&!Ao?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Lc(e,t,i)):(ar&&r&&LA(t),t.flags|=1,io(e,t,n,i),t.child)}function e6(e,t,n,r,i){if(Do(n)){var o=!0;Gx(t)}else o=!1;if(e0(t,i),t.stateNode===null)$2(e,t),c7(t,n,r),QC(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=$s(c):(c=Do(n)?Gf:Zi.current,c=w0(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Z8(t,s,r,c),Nu=!1;var h=t.memoizedState;s.state=h,Jx(t,r,s,i),l=t.memoizedState,a!==r||h!==l||jo.current||Nu?(typeof u=="function"&&(JC(t,n,u,r),l=t.memoizedState),(a=Nu||G8(t,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,qF(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:xa(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$s(l):(l=Do(n)?Gf:Zi.current,l=w0(t,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Z8(t,s,r,l),Nu=!1,h=t.memoizedState,s.state=h,Jx(t,r,s,i);var m=t.memoizedState;a!==d||h!==m||jo.current||Nu?(typeof f=="function"&&(JC(t,n,f,r),m=t.memoizedState),(c=Nu||G8(t,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return nN(e,t,n,r,o,i)}function nN(e,t,n,r,i,o){p7(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&B8(t,n,!1),Lc(e,t,o);r=t.stateNode,nX.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=S0(t,e.child,null,o),t.child=S0(t,null,a,o)):io(e,t,a,o),t.memoizedState=r.state,i&&B8(t,n,!0),t.child}function m7(e){var t=e.stateNode;t.pendingContext?F8(e,t.pendingContext,t.pendingContext!==t.context):t.context&&F8(e,t.context,!1),WA(e,t.containerInfo)}function t6(e,t,n,r,i){return _0(),FA(i),t.flags|=256,io(e,t,n,r),t.child}var rN={dehydrated:null,treeContext:null,retryLane:0};function iN(e){return{baseLanes:e,cachePool:null,transitions:null}}function g7(e,t,n){var r=t.pendingProps,i=pr.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Xn(pr,i&1),e===null)return $C(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=B_(s,r,0,null),e=Ff(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=iN(n),t.memoizedState=rN,e):JA(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rX(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ld(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ld(a,o):(o=Ff(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?iN(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=rN,r}return o=e.child,e=o.sibling,r=ld(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function JA(e,t){return t=B_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Eb(e,t,n,r){return r!==null&&FA(r),S0(t,e.child,null,n),e=JA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rX(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=ok(Error(Ge(422))),Eb(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=B_({mode:"visible",children:r.children},i,0,null),o=Ff(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&S0(t,e.child,null,s),t.child.memoizedState=iN(s),t.memoizedState=rN,o);if(!(t.mode&1))return Eb(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ge(419)),r=ok(o,r,void 0),Eb(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ao||a){if(r=vi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Oc(e,i),ja(r,e,i,-1))}return iE(),r=ok(Error(Ge(421))),Eb(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=gX.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Jo=id(i.nextSibling),as=t,ar=!0,Sa=null,e!==null&&(As[Es++]=Cc,As[Es++]=Nc,As[Es++]=Zf,Cc=e.id,Nc=e.overflow,Zf=t),t=JA(t,r.children),t.flags|=4096,t)}function n6(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),YC(e.return,t,n)}function sk(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function v7(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(io(e,t,r.children,n),r=pr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n6(e,n,t);else if(e.tag===19)n6(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xn(pr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Qx(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sk(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Qx(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sk(t,!0,n,null,o);break;case"together":sk(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$f|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ge(153));if(t.child!==null){for(e=t.child,n=ld(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ld(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iX(e,t,n){switch(t.tag){case 3:m7(t),_0();break;case 5:HF(t);break;case 1:Do(t.type)&&Gx(t);break;case 4:WA(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Xn($x,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xn(pr,pr.current&1),t.flags|=128,null):n&t.child.childLanes?g7(e,t,n):(Xn(pr,pr.current&1),e=Lc(e,t,n),e!==null?e.sibling:null);Xn(pr,pr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return v7(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xn(pr,pr.current),r)break;return null;case 22:case 23:return t.lanes=0,h7(e,t,n)}return Lc(e,t,n)}var y7,oN,b7,x7;y7=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oN=function(){};b7=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Sf(El.current);var o=null;switch(n){case"input":i=AC(e,i),r=AC(e,r),o=[];break;case"select":i=gr({},i,{value:void 0}),r=gr({},r,{value:void 0}),o=[];break;case"textarea":i=PC(e,i),r=PC(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Vx)}jC(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lv.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i?.[c],r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};x7=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ym(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oX(e,t,n){var r=t.pendingProps;switch(MA(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ui(t),null;case 1:return Do(t.type)&&Kx(),Ui(t),null;case 3:return r=t.stateNode,k0(),nr(jo),nr(Zi),KA(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nb(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Sa!==null&&(hN(Sa),Sa=null))),oN(e,t),Ui(t),null;case 5:VA(t);var i=Sf(Zv.current);if(n=t.type,e!==null&&t.stateNode!=null)b7(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ge(166));return Ui(t),null}if(e=Sf(El.current),Nb(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[vl]=t,r[Kv]=o,e=(t.mode&1)!==0,n){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(i=0;i<Sg.length;i++)Qn(Sg[i],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":d8(r,o),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qn("invalid",r);break;case"textarea":h8(r,o),Qn("invalid",r)}jC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Cb(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Cb(r.textContent,a,e),i=["children",""+a]):Lv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Qn("scroll",r)}switch(n){case"input":vb(r),f8(r,o,!0);break;case"textarea":vb(r),p8(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vx)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZM(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[vl]=t,e[Kv]=r,y7(e,t,!1,!1),t.stateNode=e;e:{switch(s=DC(n,r),n){case"dialog":Qn("cancel",e),Qn("close",e),i=r;break;case"iframe":case"object":case"embed":Qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sg.length;i++)Qn(Sg[i],e);i=r;break;case"source":Qn("error",e),i=r;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),i=r;break;case"details":Qn("toggle",e),i=r;break;case"input":d8(e,r),i=AC(e,r),Qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gr({},r,{value:void 0}),Qn("invalid",e);break;case"textarea":h8(e,r),i=PC(e,r),Qn("invalid",e);break;default:i=r}jC(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?YM(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&XM(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mv(e,l):typeof l=="number"&&Mv(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Lv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Qn("scroll",e):l!=null&&_A(e,o,l,s))}switch(n){case"input":vb(e),f8(e,r,!1);break;case"textarea":vb(e),p8(e);break;case"option":r.value!=null&&e.setAttribute("value",""+wd(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$p(e,!!r.multiple,o,!1):r.defaultValue!=null&&$p(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Vx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ui(t),null;case 6:if(e&&t.stateNode!=null)x7(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ge(166));if(n=Sf(Zv.current),Sf(El.current),Nb(t)){if(r=t.stateNode,n=t.memoizedProps,r[vl]=t,(o=r.nodeValue!==n)&&(e=as,e!==null))switch(e.tag){case 3:Cb(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cb(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vl]=t,t.stateNode=r}return Ui(t),null;case 13:if(nr(pr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&Jo!==null&&t.mode&1&&!(t.flags&128))FF(),_0(),t.flags|=98560,o=!1;else if(o=Nb(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ge(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ge(317));o[vl]=t}else _0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ui(t),o=!1}else Sa!==null&&(hN(Sa),Sa=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pr.current&1?oi===0&&(oi=3):iE())),t.updateQueue!==null&&(t.flags|=4),Ui(t),null);case 4:return k0(),oN(e,t),e===null&&Wv(t.stateNode.containerInfo),Ui(t),null;case 10:return UA(t.type._context),Ui(t),null;case 17:return Do(t.type)&&Kx(),Ui(t),null;case 19:if(nr(pr),o=t.memoizedState,o===null)return Ui(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Ym(o,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Qx(e),s!==null){for(t.flags|=128,Ym(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xn(pr,pr.current&1|2),t.child}e=e.sibling}o.tail!==null&&Dr()>N0&&(t.flags|=128,r=!0,Ym(o,!1),t.lanes=4194304)}else{if(!r)if(e=Qx(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ym(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ar)return Ui(t),null}else 2*Dr()-o.renderingStartTime>N0&&n!==1073741824&&(t.flags|=128,r=!0,Ym(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Dr(),t.sibling=null,n=pr.current,Xn(pr,r?n&1|2:n&1),t):(Ui(t),null);case 22:case 23:return rE(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Xo&1073741824&&(Ui(t),t.subtreeFlags&6&&(t.flags|=8192)):Ui(t),null;case 24:return null;case 25:return null}throw Error(Ge(156,t.tag))}function sX(e,t){switch(MA(t),t.tag){case 1:return Do(t.type)&&Kx(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return k0(),nr(jo),nr(Zi),KA(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return VA(t),null;case 13:if(nr(pr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ge(340));_0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(pr),null;case 4:return k0(),null;case 10:return UA(t.type._context),null;case 22:case 23:return rE(),null;case 24:return null;default:return null}}var Tb=!1,Gi=!1,aX=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Up(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_r(e,t,r)}else n.current=null}function sN(e,t,n){try{n()}catch(r){_r(e,t,r)}}var r6=!1;function lX(e,t){if(HC=qx,e=CF(),OA(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(WC={focusedElem:e,selectionRange:n},qx=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){t=ut;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:xa(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ge(163))}}catch(S){_r(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}return m=r6,r6=!1,m}function Kg(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sN(t,n,o)}i=i.next}while(i!==r)}}function M_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aN(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w7(e){var t=e.alternate;t!==null&&(e.alternate=null,w7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vl],delete t[Kv],delete t[GC],delete t[WZ],delete t[VZ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _7(e){return e.tag===5||e.tag===3||e.tag===4}function i6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vx));else if(r!==4&&(e=e.child,e!==null))for(lN(e,t,n),e=e.sibling;e!==null;)lN(e,t,n),e=e.sibling}function cN(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cN(e,t,n),e=e.sibling;e!==null;)cN(e,t,n),e=e.sibling}var Ai=null,wa=!1;function lu(e,t,n){for(n=n.child;n!==null;)S7(e,t,n),n=n.sibling}function S7(e,t,n){if(Al&&typeof Al.onCommitFiberUnmount=="function")try{Al.onCommitFiberUnmount(T_,n)}catch{}switch(n.tag){case 5:Gi||Up(n,t);case 6:var r=Ai,i=wa;Ai=null,lu(e,t,n),Ai=r,wa=i,Ai!==null&&(wa?(e=Ai,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ai.removeChild(n.stateNode));break;case 18:Ai!==null&&(wa?(e=Ai,n=n.stateNode,e.nodeType===8?QS(e.parentNode,n):e.nodeType===1&&QS(e,n),Uv(e)):QS(Ai,n.stateNode));break;case 4:r=Ai,i=wa,Ai=n.stateNode.containerInfo,wa=!0,lu(e,t,n),Ai=r,wa=i;break;case 0:case 11:case 14:case 15:if(!Gi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&sN(n,t,s),i=i.next}while(i!==r)}lu(e,t,n);break;case 1:if(!Gi&&(Up(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_r(n,t,a)}lu(e,t,n);break;case 21:lu(e,t,n);break;case 22:n.mode&1?(Gi=(r=Gi)||n.memoizedState!==null,lu(e,t,n),Gi=r):lu(e,t,n);break;default:lu(e,t,n)}}function o6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aX),t.forEach(function(r){var i=vX.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ma(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ai=a.stateNode,wa=!1;break e;case 3:Ai=a.stateNode.containerInfo,wa=!0;break e;case 4:Ai=a.stateNode.containerInfo,wa=!0;break e}a=a.return}if(Ai===null)throw Error(Ge(160));S7(o,s,i),Ai=null,wa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_r(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)k7(t,e),t=t.sibling}function k7(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),tl(e),r&4){try{Kg(3,e,e.return),M_(3,e)}catch(g){_r(e,e.return,g)}try{Kg(5,e,e.return)}catch(g){_r(e,e.return,g)}}break;case 1:ma(t,e),tl(e),r&512&&n!==null&&Up(n,n.return);break;case 5:if(ma(t,e),tl(e),r&512&&n!==null&&Up(n,n.return),e.flags&32){var i=e.stateNode;try{Mv(i,"")}catch(g){_r(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&KM(i,o),DC(a,s);var c=DC(a,o);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?YM(i,d):u==="dangerouslySetInnerHTML"?XM(i,d):u==="children"?Mv(i,d):_A(i,u,d,c)}switch(a){case"input":EC(i,o);break;case"textarea":GM(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?$p(i,!!o.multiple,f,!1):h!==!!o.multiple&&(o.defaultValue!=null?$p(i,!!o.multiple,o.defaultValue,!0):$p(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kv]=o}catch(g){_r(e,e.return,g)}}break;case 6:if(ma(t,e),tl(e),r&4){if(e.stateNode===null)throw Error(Ge(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){_r(e,e.return,g)}}break;case 3:if(ma(t,e),tl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uv(t.containerInfo)}catch(g){_r(e,e.return,g)}break;case 4:ma(t,e),tl(e);break;case 13:ma(t,e),tl(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(tE=Dr())),r&4&&o6(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Gi=(c=Gi)||u,ma(t,e),Gi=c):ma(t,e),tl(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ut=e,u=e.child;u!==null;){for(d=ut=u;ut!==null;){switch(h=ut,f=h.child,h.tag){case 0:case 11:case 14:case 15:Kg(4,h,h.return);break;case 1:Up(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_r(r,n,g)}}break;case 5:Up(h,h.return);break;case 22:if(h.memoizedState!==null){a6(d);continue}}f!==null?(f.return=h,ut=f):a6(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$M("display",s))}catch(g){_r(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_r(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ma(t,e),tl(e),r&4&&o6(e);break;case 21:break;default:ma(t,e),tl(e)}}function tl(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_7(n)){var r=n;break e}n=n.return}throw Error(Ge(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mv(i,""),r.flags&=-33);var o=i6(e);cN(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=i6(e);lN(e,a,s);break;default:throw Error(Ge(161))}}catch(l){_r(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cX(e,t,n){ut=e,C7(e)}function C7(e,t,n){for(var r=(e.mode&1)!==0;ut!==null;){var i=ut,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Tb;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gi;a=Tb;var c=Gi;if(Tb=s,(Gi=l)&&!c)for(ut=i;ut!==null;)s=ut,l=s.child,s.tag===22&&s.memoizedState!==null?l6(i):l!==null?(l.return=s,ut=l):l6(i);for(;o!==null;)ut=o,C7(o),o=o.sibling;ut=i,Tb=a,Gi=c}s6(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ut=o):s6(e)}}function s6(e){for(;ut!==null;){var t=ut;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gi||M_(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:xa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&W8(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}W8(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Uv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ge(163))}Gi||t.flags&512&&aN(t)}catch(h){_r(t,t.return,h)}}if(t===e){ut=null;break}if(n=t.sibling,n!==null){n.return=t.return,ut=n;break}ut=t.return}}function a6(e){for(;ut!==null;){var t=ut;if(t===e){ut=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ut=n;break}ut=t.return}}function l6(e){for(;ut!==null;){var t=ut;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{M_(4,t)}catch(l){_r(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){_r(t,i,l)}}var o=t.return;try{aN(t)}catch(l){_r(t,o,l)}break;case 5:var s=t.return;try{aN(t)}catch(l){_r(t,s,l)}}}catch(l){_r(t,t.return,l)}if(t===e){ut=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ut=a;break}ut=t.return}}var uX=Math.ceil,nw=Fc.ReactCurrentDispatcher,QA=Fc.ReactCurrentOwner,Ls=Fc.ReactCurrentBatchConfig,_n=0,vi=null,Ur=null,Li=0,Xo=0,qp=jd(0),oi=0,Jv=null,$f=0,F_=0,eE=0,Gg=null,ko=null,tE=0,N0=1/0,mc=null,rw=!1,uN=null,sd=null,Pb=!1,qu=null,iw=0,Zg=0,dN=null,Y2=-1,J2=0;function uo(){return _n&6?Dr():Y2!==-1?Y2:Y2=Dr()}function ad(e){return e.mode&1?_n&2&&Li!==0?Li&-Li:GZ.transition!==null?(J2===0&&(J2=cF()),J2):(e=Fn,e!==0||(e=window.event,e=e===void 0?16:gF(e.type)),e):1}function ja(e,t,n,r){if(50<Zg)throw Zg=0,dN=null,Error(Ge(185));K1(e,n,r),(!(_n&2)||e!==vi)&&(e===vi&&(!(_n&2)&&(F_|=n),oi===4&&ju(e,Li)),Io(e,r),n===1&&_n===0&&!(t.mode&1)&&(N0=Dr()+500,I_&&Dd()))}function Io(e,t){var n=e.callbackNode;GG(e,t);var r=Ux(e,e===vi?Li:0);if(r===0)n!==null&&v8(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&v8(n),t===1)e.tag===0?KZ(c6.bind(null,e)):OF(c6.bind(null,e)),qZ(function(){!(_n&6)&&Dd()}),n=null;else{switch(uF(r)){case 1:n=AA;break;case 4:n=aF;break;case 16:n=zx;break;case 536870912:n=lF;break;default:n=zx}n=D7(n,N7.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function N7(e,t){if(Y2=-1,J2=0,_n&6)throw Error(Ge(327));var n=e.callbackNode;if(t0()&&e.callbackNode!==n)return null;var r=Ux(e,e===vi?Li:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ow(e,r);else{t=r;var i=_n;_n|=2;var o=E7();(vi!==e||Li!==t)&&(mc=null,N0=Dr()+500,Mf(e,t));do try{hX();break}catch(a){A7(e,a)}while(!0);zA(),nw.current=o,_n=i,Ur!==null?t=0:(vi=null,Li=0,t=oi)}if(t!==0){if(t===2&&(i=FC(e),i!==0&&(r=i,t=fN(e,i))),t===1)throw n=Jv,Mf(e,0),ju(e,r),Io(e,Dr()),n;if(t===6)ju(e,r);else{if(i=e.current.alternate,!(r&30)&&!dX(i)&&(t=ow(e,r),t===2&&(o=FC(e),o!==0&&(r=o,t=fN(e,o))),t===1))throw n=Jv,Mf(e,0),ju(e,r),Io(e,Dr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ge(345));case 2:hf(e,ko,mc);break;case 3:if(ju(e,r),(r&130023424)===r&&(t=tE+500-Dr(),10<t)){if(Ux(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){uo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=KC(hf.bind(null,e,ko,mc),t);break}hf(e,ko,mc);break;case 4:if(ju(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Ra(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uX(r/1960))-r,10<r){e.timeoutHandle=KC(hf.bind(null,e,ko,mc),r);break}hf(e,ko,mc);break;case 5:hf(e,ko,mc);break;default:throw Error(Ge(329))}}}return Io(e,Dr()),e.callbackNode===n?N7.bind(null,e):null}function fN(e,t){var n=Gg;return e.current.memoizedState.isDehydrated&&(Mf(e,t).flags|=256),e=ow(e,t),e!==2&&(t=ko,ko=n,t!==null&&hN(t)),e}function hN(e){ko===null?ko=e:ko.push.apply(ko,e)}function dX(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ma(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ju(e,t){for(t&=~eE,t&=~F_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ra(t),r=1<<n;e[n]=-1,t&=~r}}function c6(e){if(_n&6)throw Error(Ge(327));t0();var t=Ux(e,0);if(!(t&1))return Io(e,Dr()),null;var n=ow(e,t);if(e.tag!==0&&n===2){var r=FC(e);r!==0&&(t=r,n=fN(e,r))}if(n===1)throw n=Jv,Mf(e,0),ju(e,t),Io(e,Dr()),n;if(n===6)throw Error(Ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hf(e,ko,mc),Io(e,Dr()),null}function nE(e,t){var n=_n;_n|=1;try{return e(t)}finally{_n=n,_n===0&&(N0=Dr()+500,I_&&Dd())}}function Yf(e){qu!==null&&qu.tag===0&&!(_n&6)&&t0();var t=_n;_n|=1;var n=Ls.transition,r=Fn;try{if(Ls.transition=null,Fn=1,e)return e()}finally{Fn=r,Ls.transition=n,_n=t,!(_n&6)&&Dd()}}function rE(){Xo=qp.current,nr(qp)}function Mf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,UZ(n)),Ur!==null)for(n=Ur.return;n!==null;){var r=n;switch(MA(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kx();break;case 3:k0(),nr(jo),nr(Zi),KA();break;case 5:VA(r);break;case 4:k0();break;case 13:nr(pr);break;case 19:nr(pr);break;case 10:UA(r.type._context);break;case 22:case 23:rE()}n=n.return}if(vi=e,Ur=e=ld(e.current,null),Li=Xo=t,oi=0,Jv=null,eE=F_=$f=0,ko=Gg=null,_f!==null){for(t=0;t<_f.length;t++)if(n=_f[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}_f=null}return e}function A7(e,t){do{var n=Ur;try{if(zA(),Z2.current=tw,ew){for(var r=mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ew=!1}if(Xf=0,fi=ei=mr=null,Vg=!1,Xv=0,QA.current=null,n===null||n.return===null){oi=1,Jv=t,Ur=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Li,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=$8(s);if(f!==null){f.flags&=-257,Y8(f,s,a,o,t),f.mode&1&&X8(o,c,t),t=f,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){X8(o,c,t),iE();break e}l=Error(Ge(426))}}else if(ar&&a.mode&1){var y=$8(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Y8(y,s,a,o,t),FA(C0(l,a));break e}}o=l=C0(l,a),oi!==4&&(oi=2),Gg===null?Gg=[o]:Gg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=u7(o,l,t);H8(o,v);break e;case 1:a=l;var x=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(sd===null||!sd.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=d7(o,a,t);H8(o,S);break e}}o=o.return}while(o!==null)}P7(n)}catch(k){t=k,Ur===n&&n!==null&&(Ur=n=n.return);continue}break}while(!0)}function E7(){var e=nw.current;return nw.current=tw,e===null?tw:e}function iE(){(oi===0||oi===3||oi===2)&&(oi=4),vi===null||!($f&268435455)&&!(F_&268435455)||ju(vi,Li)}function ow(e,t){var n=_n;_n|=2;var r=E7();(vi!==e||Li!==t)&&(mc=null,Mf(e,t));do try{fX();break}catch(i){A7(e,i)}while(!0);if(zA(),_n=n,nw.current=r,Ur!==null)throw Error(Ge(261));return vi=null,Li=0,oi}function fX(){for(;Ur!==null;)T7(Ur)}function hX(){for(;Ur!==null&&!FG();)T7(Ur)}function T7(e){var t=j7(e.alternate,e,Xo);e.memoizedProps=e.pendingProps,t===null?P7(e):Ur=t,QA.current=null}function P7(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sX(n,t),n!==null){n.flags&=32767,Ur=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Ur=null;return}}else if(n=oX(n,t,Xo),n!==null){Ur=n;return}if(t=t.sibling,t!==null){Ur=t;return}Ur=t=e}while(t!==null);oi===0&&(oi=5)}function hf(e,t,n){var r=Fn,i=Ls.transition;try{Ls.transition=null,Fn=1,pX(e,t,n,r)}finally{Ls.transition=i,Fn=r}return null}function pX(e,t,n,r){do t0();while(qu!==null);if(_n&6)throw Error(Ge(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ge(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(ZG(e,o),e===vi&&(Ur=vi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pb||(Pb=!0,D7(zx,function(){return t0(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ls.transition,Ls.transition=null;var s=Fn;Fn=1;var a=_n;_n|=4,QA.current=null,lX(e,n),k7(n,e),IZ(WC),qx=!!HC,WC=HC=null,e.current=n,cX(n),BG(),_n=a,Fn=s,Ls.transition=o}else e.current=n;if(Pb&&(Pb=!1,qu=e,iw=i),o=e.pendingLanes,o===0&&(sd=null),qG(n.stateNode),Io(e,Dr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rw)throw rw=!1,e=uN,uN=null,e;return iw&1&&e.tag!==0&&t0(),o=e.pendingLanes,o&1?e===dN?Zg++:(Zg=0,dN=e):Zg=0,Dd(),null}function t0(){if(qu!==null){var e=uF(iw),t=Ls.transition,n=Fn;try{if(Ls.transition=null,Fn=16>e?16:e,qu===null)var r=!1;else{if(e=qu,qu=null,iw=0,_n&6)throw Error(Ge(331));var i=_n;for(_n|=4,ut=e.current;ut!==null;){var o=ut,s=o.child;if(ut.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ut=c;ut!==null;){var u=ut;switch(u.tag){case 0:case 11:case 15:Kg(8,u,o)}var d=u.child;if(d!==null)d.return=u,ut=d;else for(;ut!==null;){u=ut;var h=u.sibling,f=u.return;if(w7(u),u===c){ut=null;break}if(h!==null){h.return=f,ut=h;break}ut=f}}}var m=o.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ut=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ut=s;else e:for(;ut!==null;){if(o=ut,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Kg(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ut=v;break e}ut=o.return}}var x=e.current;for(ut=x;ut!==null;){s=ut;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,ut=_;else e:for(s=x;ut!==null;){if(a=ut,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:M_(9,a)}}catch(k){_r(a,a.return,k)}if(a===s){ut=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ut=S;break e}ut=a.return}}if(_n=i,Dd(),Al&&typeof Al.onPostCommitFiberRoot=="function")try{Al.onPostCommitFiberRoot(T_,e)}catch{}r=!0}return r}finally{Fn=n,Ls.transition=t}}return!1}function u6(e,t,n){t=C0(n,t),t=u7(e,t,1),e=od(e,t,1),t=uo(),e!==null&&(K1(e,1,t),Io(e,t))}function _r(e,t,n){if(e.tag===3)u6(e,e,n);else for(;t!==null;){if(t.tag===3){u6(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sd===null||!sd.has(r))){e=C0(n,e),e=d7(t,e,1),t=od(t,e,1),e=uo(),t!==null&&(K1(t,1,e),Io(t,e));break}}t=t.return}}function mX(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=uo(),e.pingedLanes|=e.suspendedLanes&n,vi===e&&(Li&n)===n&&(oi===4||oi===3&&(Li&130023424)===Li&&500>Dr()-tE?Mf(e,0):eE|=n),Io(e,t)}function R7(e,t){t===0&&(e.mode&1?(t=xb,xb<<=1,!(xb&130023424)&&(xb=4194304)):t=1);var n=uo();e=Oc(e,t),e!==null&&(K1(e,t,n),Io(e,n))}function gX(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),R7(e,n)}function vX(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ge(314))}r!==null&&r.delete(t),R7(e,n)}var j7;j7=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jo.current)Ao=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ao=!1,iX(e,t,n);Ao=!!(e.flags&131072)}else Ao=!1,ar&&t.flags&1048576&&LF(t,Xx,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$2(e,t),e=t.pendingProps;var i=w0(t,Zi.current);e0(t,n),i=ZA(null,t,r,e,i,n);var o=XA();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(r)?(o=!0,Gx(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,HA(t),i.updater=L_,t.stateNode=i,i._reactInternals=t,QC(t,r,e,n),t=nN(null,t,r,!0,o,n)):(t.tag=0,ar&&o&&LA(t),io(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($2(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=bX(r),e=xa(r,e),i){case 0:t=tN(null,t,r,e,n);break e;case 1:t=e6(null,t,r,e,n);break e;case 11:t=J8(null,t,r,e,n);break e;case 14:t=Q8(null,t,r,xa(r.type,e),n);break e}throw Error(Ge(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xa(r,i),tN(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xa(r,i),e6(e,t,r,i,n);case 3:e:{if(m7(t),e===null)throw Error(Ge(387));r=t.pendingProps,o=t.memoizedState,i=o.element,qF(e,t),Jx(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=C0(Error(Ge(423)),t),t=t6(e,t,r,n,i);break e}else if(r!==i){i=C0(Error(Ge(424)),t),t=t6(e,t,r,n,i);break e}else for(Jo=id(t.stateNode.containerInfo.firstChild),as=t,ar=!0,Sa=null,n=zF(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_0(),r===i){t=Lc(e,t,n);break e}io(e,t,r,n)}t=t.child}return t;case 5:return HF(t),e===null&&$C(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,VC(r,i)?s=null:o!==null&&VC(r,o)&&(t.flags|=32),p7(e,t),io(e,t,s,n),t.child;case 6:return e===null&&$C(t),null;case 13:return g7(e,t,n);case 4:return WA(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=S0(t,null,r,n):io(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xa(r,i),J8(e,t,r,i,n);case 7:return io(e,t,t.pendingProps,n),t.child;case 8:return io(e,t,t.pendingProps.children,n),t.child;case 12:return io(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Xn($x,r._currentValue),r._currentValue=s,o!==null)if(Ma(o.value,s)){if(o.children===i.children&&!jo.current){t=Lc(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ec(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),YC(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ge(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),YC(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,e0(t,n),i=$s(i),r=r(i),t.flags|=1,io(e,t,r,n),t.child;case 14:return r=t.type,i=xa(r,t.pendingProps),i=xa(r.type,i),Q8(e,t,r,i,n);case 15:return f7(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:xa(r,i),$2(e,t),t.tag=1,Do(r)?(e=!0,Gx(t)):e=!1,e0(t,n),c7(t,r,i),QC(t,r,i,n),nN(null,t,r,!0,e,n);case 19:return v7(e,t,n);case 22:return h7(e,t,n)}throw Error(Ge(156,t.tag))};function D7(e,t){return sF(e,t)}function yX(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(e,t,n,r){return new yX(e,t,n,r)}function oE(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bX(e){if(typeof e=="function")return oE(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kA)return 11;if(e===CA)return 14}return 2}function ld(e,t){var n=e.alternate;return n===null?(n=Ds(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Q2(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")oE(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case jp:return Ff(n.children,i,o,t);case SA:s=8,i|=8;break;case SC:return e=Ds(12,n,t,i|2),e.elementType=SC,e.lanes=o,e;case kC:return e=Ds(13,n,t,i),e.elementType=kC,e.lanes=o,e;case CC:return e=Ds(19,n,t,i),e.elementType=CC,e.lanes=o,e;case HM:return B_(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UM:s=10;break e;case qM:s=9;break e;case kA:s=11;break e;case CA:s=14;break e;case Cu:s=16,r=null;break e}throw Error(Ge(130,e==null?e:typeof e,""))}return t=Ds(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ff(e,t,n,r){return e=Ds(7,e,r,t),e.lanes=n,e}function B_(e,t,n,r){return e=Ds(22,e,r,t),e.elementType=HM,e.lanes=n,e.stateNode={isHidden:!1},e}function ak(e,t,n){return e=Ds(6,e,null,t),e.lanes=n,e}function lk(e,t,n){return t=Ds(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xX(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qS(0),this.expirationTimes=qS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sE(e,t,n,r,i,o,s,a,l){return e=new xX(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ds(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},HA(o),e}function wX(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rp,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function I7(e){if(!e)return _d;e=e._reactInternals;e:{if(kh(e)!==e||e.tag!==1)throw Error(Ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Do(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ge(171))}if(e.tag===1){var n=e.type;if(Do(n))return IF(e,n,t)}return t}function O7(e,t,n,r,i,o,s,a,l){return e=sE(n,r,!0,e,i,o,s,a,l),e.context=I7(null),n=e.current,r=uo(),i=ad(n),o=Ec(r,i),o.callback=t??null,od(n,o,i),e.current.lanes=i,K1(e,i,r),Io(e,r),e}function z_(e,t,n,r){var i=t.current,o=uo(),s=ad(i);return n=I7(n),t.context===null?t.context=n:t.pendingContext=n,t=Ec(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=od(i,t,s),e!==null&&(ja(e,i,s,o),G2(e,i,s)),s}function sw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function d6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function aE(e,t){d6(e,t),(e=e.alternate)&&d6(e,t)}function _X(){return null}var L7=typeof reportError=="function"?reportError:function(e){console.error(e)};function lE(e){this._internalRoot=e}U_.prototype.render=lE.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ge(409));z_(e,t,null,null)};U_.prototype.unmount=lE.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yf(function(){z_(null,e,null,null)}),t[Ic]=null}};function U_(e){this._internalRoot=e}U_.prototype.unstable_scheduleHydration=function(e){if(e){var t=hF();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ru.length&&t!==0&&t<Ru[n].priority;n++);Ru.splice(n,0,e),n===0&&mF(e)}};function cE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function q_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f6(){}function SX(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=sw(s);o.call(c)}}var s=O7(t,r,e,0,null,!1,!1,"",f6);return e._reactRootContainer=s,e[Ic]=s.current,Wv(e.nodeType===8?e.parentNode:e),Yf(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=sw(l);a.call(c)}}var l=sE(e,0,!1,null,null,!1,!1,"",f6);return e._reactRootContainer=l,e[Ic]=l.current,Wv(e.nodeType===8?e.parentNode:e),Yf(function(){z_(t,l,n,r)}),l}function H_(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=sw(s);a.call(l)}}z_(t,s,e,i)}else s=SX(n,t,e,i,r);return sw(s)}dF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_g(t.pendingLanes);n!==0&&(EA(t,n|1),Io(t,Dr()),!(_n&6)&&(N0=Dr()+500,Dd()))}break;case 13:Yf(function(){var r=Oc(e,1);if(r!==null){var i=uo();ja(r,e,1,i)}}),aE(e,1)}};TA=function(e){if(e.tag===13){var t=Oc(e,134217728);if(t!==null){var n=uo();ja(t,e,134217728,n)}aE(e,134217728)}};fF=function(e){if(e.tag===13){var t=ad(e),n=Oc(e,t);if(n!==null){var r=uo();ja(n,e,t,r)}aE(e,t)}};hF=function(){return Fn};pF=function(e,t){var n=Fn;try{return Fn=e,t()}finally{Fn=n}};OC=function(e,t,n){switch(t){case"input":if(EC(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=D_(r);if(!i)throw Error(Ge(90));VM(r),EC(r,i)}}}break;case"textarea":GM(e,n);break;case"select":t=n.value,t!=null&&$p(e,!!n.multiple,t,!1)}};eF=nE;tF=Yf;var kX={usingClientEntryPoint:!1,Events:[Z1,Lp,D_,JM,QM,nE]},Jm={findFiberByHostInstance:wf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CX={bundleType:Jm.bundleType,version:Jm.version,rendererPackageName:Jm.rendererPackageName,rendererConfig:Jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=iF(e),e===null?null:e.stateNode},findFiberByHostInstance:Jm.findFiberByHostInstance||_X,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rb.isDisabled&&Rb.supportsFiber)try{T_=Rb.inject(CX),Al=Rb}catch{}}fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kX;fs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cE(t))throw Error(Ge(200));return wX(e,t,null,n)};fs.createRoot=function(e,t){if(!cE(e))throw Error(Ge(299));var n=!1,r="",i=L7;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=sE(e,1,!1,null,null,n,!1,r,i),e[Ic]=t.current,Wv(e.nodeType===8?e.parentNode:e),new lE(t)};fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ge(188)):(e=Object.keys(e).join(","),Error(Ge(268,e)));return e=iF(t),e=e===null?null:e.stateNode,e};fs.flushSync=function(e){return Yf(e)};fs.hydrate=function(e,t,n){if(!q_(t))throw Error(Ge(200));return H_(null,e,t,!0,n)};fs.hydrateRoot=function(e,t,n){if(!cE(e))throw Error(Ge(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=L7;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=O7(t,null,e,1,n??null,i,!1,o,s),e[Ic]=t.current,Wv(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new U_(t)};fs.render=function(e,t,n){if(!q_(t))throw Error(Ge(200));return H_(null,e,t,!1,n)};fs.unmountComponentAtNode=function(e){if(!q_(e))throw Error(Ge(40));return e._reactRootContainer?(Yf(function(){H_(null,null,e,!1,function(){e._reactRootContainer=null,e[Ic]=null})}),!0):!1};fs.unstable_batchedUpdates=nE;fs.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!q_(n))throw Error(Ge(200));if(e==null||e._reactInternals===void 0)throw Error(Ge(38));return H_(e,t,n,!1,r)};fs.version="18.3.1-next-f1338f8080-20240426";function M7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M7)}catch(e){console.error(e)}}M7(),MM.exports=fs;var $1=MM.exports;const NX=W1($1);var F7,h6=$1;F7=h6.createRoot,h6.hydrateRoot;const AX="modulepreload",EX=function(e){return"/"+e},p6={},cd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=EX(l),l in p6)return;p6[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":AX,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},TX=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cd(async()=>{const{default:r}=await Promise.resolve().then(()=>X0);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class uE extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class PX extends uE{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class m6 extends uE{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class g6 extends uE{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pN||(pN={}));var RX=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class jX{constructor(t,{headers:n={},customFetch:r,region:i=pN.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TX(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return RX(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):typeof s=="string"?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const d=yield this.fetch(c.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(g=>{throw new PX(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new m6(d);if(!d.ok)throw new g6(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return f==="application/json"?m=yield d.json():f==="application/octet-stream"?m=yield d.blob():f==="text/event-stream"?m=d:f==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof g6||i instanceof m6?i.context:void 0}}})}}var Co={},dE={},W_={},Y1={},V_={},K_={},DX=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},A0=DX();const IX=A0.fetch,B7=A0.fetch.bind(A0),z7=A0.Headers,OX=A0.Request,LX=A0.Response,X0=Object.freeze(Object.defineProperty({__proto__:null,Headers:z7,Request:OX,Response:LX,default:B7,fetch:IX},Symbol.toStringTag,{value:"Module"})),MX=eG(X0);var G_={};Object.defineProperty(G_,"__esModule",{value:!0});let FX=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};G_.default=FX;var U7=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(K_,"__esModule",{value:!0});const BX=U7(MX),zX=U7(G_);let UX=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=BX.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l,c;let u=null,d=null,h=null,f=o.status,m=o.statusText;if(o.ok){if(this.method!=="HEAD"){const x=await o.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?d=x:d=JSON.parse(x))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await o.text();try{u=JSON.parse(y),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,m="OK")}catch{o.status===404&&y===""?(f=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u?.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new zX.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o?.name)!==null&&s!==void 0?s:"FetchError"}: ${o?.message}`,details:`${(a=o?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};K_.default=UX;var qX=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(V_,"__esModule",{value:!0});const HX=qX(K_);let WX=class extends HX.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${l};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};V_.default=WX;var VX=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Y1,"__esModule",{value:!0});const KX=VX(V_);let GX=class extends KX.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Y1.default=GX;var ZX=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(W_,"__esModule",{value:!0});const Qm=ZX(Y1);let XX=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var i;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Qm.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){var s;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qm.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:n}={}){var r;const i="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qm.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qm.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};W_.default=XX;var q7=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dE,"__esModule",{value:!0});const $X=q7(W_),YX=q7(Y1);let JX=class H7{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new $X.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new H7(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var s;let a;const l=new URL(`${this.url}/rpc/${t}`);let c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(a="POST",c=n);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new YX.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};dE.default=JX;var $0=Xs&&Xs.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Co,"__esModule",{value:!0});Co.PostgrestError=Co.PostgrestBuilder=Co.PostgrestTransformBuilder=Co.PostgrestFilterBuilder=Co.PostgrestQueryBuilder=Co.PostgrestClient=void 0;const W7=$0(dE);Co.PostgrestClient=W7.default;const V7=$0(W_);Co.PostgrestQueryBuilder=V7.default;const K7=$0(Y1);Co.PostgrestFilterBuilder=K7.default;const G7=$0(V_);Co.PostgrestTransformBuilder=G7.default;const Z7=$0(K_);Co.PostgrestBuilder=Z7.default;const X7=$0(G_);Co.PostgrestError=X7.default;var QX=Co.default={PostgrestClient:W7.default,PostgrestQueryBuilder:V7.default,PostgrestFilterBuilder:K7.default,PostgrestTransformBuilder:G7.default,PostgrestBuilder:Z7.default,PostgrestError:X7.default};const{PostgrestClient:e$,PostgrestQueryBuilder:R_e,PostgrestFilterBuilder:j_e,PostgrestTransformBuilder:D_e,PostgrestBuilder:I_e,PostgrestError:O_e}=QX;class t${static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const n$="2.15.5",r$=`realtime-js/${n$}`,i$="1.0.0",mN=1e4,o$=1e3,s$=100;var Xg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Xg||(Xg={}));var Yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yr||(Yr={}));var _a;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_a||(_a={}));var gN;(function(e){e.websocket="websocket"})(gN||(gN={}));var vf;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vf||(vf={}));class a${constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(t.slice(s,s+i));s=s+i;const l=r.decode(t.slice(s,s+o));s=s+o;const c=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class $7{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Zn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Zn||(Zn={}));const v6=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,s)=>(o[s]=l$(s,e,t,i),o),{})},l$=(e,t,n,r)=>{const i=t.find(a=>a.name===e),o=i?.type,s=n[e];return o&&!r.includes(o)?Y7(o,s):vN(s)},Y7=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return f$(t,n)}switch(e){case Zn.bool:return c$(t);case Zn.float4:case Zn.float8:case Zn.int2:case Zn.int4:case Zn.int8:case Zn.numeric:case Zn.oid:return u$(t);case Zn.json:case Zn.jsonb:return d$(t);case Zn.timestamp:return h$(t);case Zn.abstime:case Zn.date:case Zn.daterange:case Zn.int4range:case Zn.int8range:case Zn.money:case Zn.reltime:case Zn.text:case Zn.time:case Zn.timestamptz:case Zn.timetz:case Zn.tsrange:case Zn.tstzrange:return vN(t);default:return vN(t)}},vN=e=>e,c$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},d$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},f$=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const s=e.slice(1,n);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Y7(t,a))}return e},h$=e=>typeof e=="string"?e.replace(" ","T"):e,J7=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class ck{constructor(t,n,r={},i=mN){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var y6;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(y6||(y6={}));class $g{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$g.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=$g.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$g.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),s=this.transformState(n),a={},l={};return this.map(o,(c,u)=>{s[c]||(l[c]=u)}),this.map(s,(c,u)=>{const d=o[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),m=u.filter(y=>f.indexOf(y.presence_ref)<0),g=d.filter(y=>h.indexOf(y.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}r(a,u,l)}),this.map(s,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var b6;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(b6||(b6={}));var Yg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yg||(Yg={}));var gc;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gc||(gc={}));class fE{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ck(this,_a.join,this.params,this.timeout),this.rejoinTimer=new $7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_a.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new $g(this),this.broadcastEndpointURL=J7(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Yr.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Yg.PRESENCE]&&this.bindings[Yg.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},h={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t?.(gc.CHANNEL_ERROR,f)),this._onClose(()=>t?.(gc.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket.setAuth(),f===void 0){t?.(gc.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,y=(m=g?.length)!==null&&m!==void 0?m:0,v=[];for(let x=0;x<y;x++){const _=g[x],{filter:{event:S,schema:k,table:T,filter:P}}=_,N=f&&f[x];if(N&&N.event===S&&N.schema===k&&N.table===T&&N.filter===P)v.push(Object.assign(Object.assign({},_),{id:N.id}));else{this.unsubscribe(),this.state=Yr.errored,t?.(gc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(gc.SUBSCRIBED);return}}).receive("error",f=>{this.state=Yr.errored,t?.(gc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(gc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Yr.joined&&t===Yg.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_a.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ck(this,_a.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),s}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ck(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>s$){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=_a;if(r&&[a,l,c,u].indexOf(s)>=0&&r!==this._joinRef())return;let h=this._onMessage(s,n,r);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var m,g,y;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(g=f.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(h,r)):(o=this.bindings[s])===null||o===void 0||o.filter(f=>{var m,g,y,v,x,_;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){const S=f.id,k=(m=f.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(k==="*"||k?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(x=(v=f?.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return S==="*"||S===((_=n?.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:g,table:y,commit_timestamp:v,type:x,errors:_}=m;h=Object.assign(Object.assign({},{schema:g,table:y,commit_timestamp:v,eventType:x,new:{},old:{},errors:_}),this._getPayloadRecords(m))}f.callback(h,r)})}_isClosed(){return this.state===Yr.closed}_isJoined(){return this.state===Yr.joined}_isJoining(){return this.state===Yr.joining}_isLeaving(){return this.state===Yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&fE.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_a.close,{},t)}_onError(t){this._on(_a.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=v6(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=v6(t.columns,t.old_record)),n}}const uk=()=>{},jb={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},p$=[1e3,2e3,5e3,1e4],m$=1e4,g$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v${constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mN,this.transport=null,this.heartbeatIntervalMs=jb.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uk,this.ref=0,this.reconnectTimer=null,this.logger=uk,this.conn=null,this.sendBuffer=[],this.serializer=new a$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>cd(async()=>{const{default:a}=await Promise.resolve().then(()=>X0);return{default:a}},void 0).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${gN.websocket}`,this.httpEndpoint=J7(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=t$.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:i$}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xg.connecting:return vf.Connecting;case Xg.open:return vf.Open;case Xg.closing:return vf.Closing;default:return vf.Closed}}isConnected(){return this.connectionState()===vf.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new fE(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(o$,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},jb.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=n,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${i} ${a}`.trim(),o),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,o,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_a.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([g$],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:r$};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(_a.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new $7(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},jb.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,s,a,l,c,u;if(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:mN,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:jb.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t?.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(a=t?.heartbeatCallback)!==null&&a!==void 0?a:uk,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:d=>p$[d-1]||m$,this.encode=(c=t?.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class hE extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Jr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class y$ extends hE{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yN extends hE{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var b$=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const Q7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cd(async()=>{const{default:r}=await Promise.resolve().then(()=>X0);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},x$=()=>b$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cd(()=>Promise.resolve().then(()=>X0),void 0)).Response:Response}),bN=e=>{if(Array.isArray(e))return e.map(n=>bN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=bN(r)}),t},w$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ch=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const dk=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_$=(e,t,n)=>Ch(void 0,void 0,void 0,function*(){const r=yield x$();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{const o=e.status||500,s=i?.statusCode||o+"";t(new y$(dk(i),o,s))}).catch(i=>{t(new yN(dk(i),i))}):t(new yN(dk(e),e))}),S$=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(w$(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function J1(e,t,n,r,i,o){return Ch(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,S$(t,r,i,o)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>_$(l,a,r))})})}function aw(e,t,n,r){return Ch(this,void 0,void 0,function*(){return J1(e,"GET",t,n,r)})}function fl(e,t,n,r,i){return Ch(this,void 0,void 0,function*(){return J1(e,"POST",t,r,i,n)})}function xN(e,t,n,r,i){return Ch(this,void 0,void 0,function*(){return J1(e,"PUT",t,r,i,n)})}function k$(e,t,n,r){return Ch(this,void 0,void 0,function*(){return J1(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function eB(e,t,n,r,i){return Ch(this,void 0,void 0,function*(){return J1(e,"DELETE",t,r,i,n)})}var ro=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const C$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},x6={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class N${constructor(t,n={},r,i){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=Q7(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,i){return ro(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},x6),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(t=="PUT"?xN:fl)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Jr(o))return{data:null,error:o};throw o}})}upload(t,n,r){return ro(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return ro(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:x6.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield xN(this.fetch,a.toString(),l,{headers:u});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Jr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return ro(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");const o=yield fl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new hE("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}update(t,n,r){return ro(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return ro(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return ro(this,void 0,void 0,function*(){try{return{data:{path:(yield fl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return ro(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield fl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return ro(this,void 0,void 0,function*(){try{const i=yield fl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}download(t,n){return ro(this,void 0,void 0,function*(){const i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield aw(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Jr(a))return{data:null,error:a};throw a}})}info(t){return ro(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield aw(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:bN(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}exists(t){return ro(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield k$(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r)&&r instanceof yN){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const a=typeof n?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(n?.transform||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return ro(this,void 0,void 0,function*(){try{return{data:yield eB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}list(t,n,r){return ro(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},C$),n),{prefix:t||""});return{data:yield fl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Jr(i))return{data:null,error:i};throw i}})}listV2(t,n){return ro(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield fl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const A$="2.12.1",E$={"X-Client-Info":`storage-js/${A$}`};var ep=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class T${constructor(t,n={},r,i){this.shouldThrowOnError=!1;const o=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},E$),n),this.fetch=Q7(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ep(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Jr(t))return{data:null,error:t};throw t}})}getBucket(t){return ep(this,void 0,void 0,function*(){try{return{data:yield aw(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ep(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ep(this,void 0,void 0,function*(){try{return{data:yield xN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Jr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ep(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ep(this,void 0,void 0,function*(){try{return{data:yield eB(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Jr(n))return{data:null,error:n};throw n}})}}class P$ extends T${constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new N$(this.url,this.headers,t,this.fetch)}}const R$="2.57.4";let kg="";typeof Deno<"u"?kg="deno":typeof document<"u"?kg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kg="react-native":kg="node";const j$={"X-Client-Info":`supabase-js-${kg}/${R$}`},D$={headers:j$},I$={schema:"public"},O$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L$={};var M$=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const F$=e=>{let t;return e?t=e:typeof fetch>"u"?t=B7:t=fetch,(...n)=>t(...n)},B$=()=>typeof Headers>"u"?z7:Headers,z$=(e,t,n)=>{const r=F$(n),i=B$();return(o,s)=>M$(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(s?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(o,Object.assign(Object.assign({},s),{headers:c}))})};var U$=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function q$(e){return e.endsWith("/")?e:e+"/"}function H$(e,t){var n,r;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d?.headers)!==null&&n!==void 0?n:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>U$(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function W$(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(q$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const tB="2.71.1",_p=30*1e3,wN=3,fk=wN*_p,V$="http://localhost:9999",K$="supabase.auth.token",G$={"X-Client-Info":`gotrue-js/${tB}`},_N="X-Supabase-Api-Version",nB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X$=10*60*1e3;class pE extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Jt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $$ extends pE{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Y$(e){return Jt(e)&&e.name==="AuthApiError"}class rB extends pE{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Id extends pE{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class vu extends Id{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function J$(e){return Jt(e)&&e.name==="AuthSessionMissingError"}class Db extends Id{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ib extends Id{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ob extends Id{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Q$(e){return Jt(e)&&e.name==="AuthImplicitGrantRedirectError"}class w6 extends Id{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class SN extends Id{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hk(e){return Jt(e)&&e.name==="AuthRetryableFetchError"}class _6 extends Id{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class kN extends Id{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const lw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S6=` 	
\r=`.split(""),eY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<S6.length;t+=1)e[S6[t].charCodeAt(0)]=-2;for(let t=0;t<lw.length;t+=1)e[lw[t].charCodeAt(0)]=t;return e})();function k6(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lw[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(lw[r]),t.queuedBits-=6}}function iB(e,t,n){const r=eY[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function C6(e){const t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{rY(s,r,n)};for(let s=0;s<e.length;s+=1)iB(e.charCodeAt(s),i,o);return t.join("")}function tY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nY(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}tY(r,t)}}function rY(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function iY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)iB(e.charCodeAt(i),n,r);return new Uint8Array(t)}function oY(e){const t=[];return nY(e,n=>t.push(n)),new Uint8Array(t)}function sY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>k6(i,n,r)),k6(null,n,r),t.join("")}function aY(e){return Math.round(Date.now()/1e3)+e}function lY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const va=()=>typeof window<"u"&&typeof document<"u",sf={tested:!1,writable:!1},oB=()=>{if(!va())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sf.tested)return sf.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sf.tested=!0,sf.writable=!0}catch{sf.tested=!0,sf.writable=!1}return sf.writable};function cY(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const sB=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>cd(async()=>{const{default:r}=await Promise.resolve().then(()=>X0);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},uY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sp=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},af=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cu=async(e,t)=>{await e.removeItem(t)};class Z_{constructor(){this.promise=new Z_.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Z_.promiseConstructor=Promise;function pk(e){const t=e.split(".");if(t.length!==3)throw new kN("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Z$.test(t[r]))throw new kN("JWT not in base64url format");return{header:JSON.parse(C6(t[0])),payload:JSON.parse(C6(t[1])),signature:iY(t[2]),raw:{header:t[0],payload:t[1]}}}async function dY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function fY(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){r(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function hY(e){return("0"+e.toString(16)).substr(-2)}function pY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,hY).join("")}async function mY(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function gY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await mY(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function tp(e,t,n=!1){const r=pY();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Sp(e,`${t}-code-verifier`,i);const o=await gY(r);return[o,r===o?"plain":"s256"]}const vY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yY(e){const t=e.headers.get(_N);if(!t||!t.match(vY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function np(e){if(!wY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mk(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N6(e){return JSON.parse(JSON.stringify(e))}var _Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const pf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SY=[502,503,504];async function A6(e){var t;if(!uY(e))throw new SN(pf(e),0);if(SY.includes(e.status))throw new SN(pf(e),e.status);let n;try{n=await e.json()}catch(o){throw new rB(pf(o),o)}let r;const i=yY(e);if(i&&i.getTime()>=nB["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _6(pf(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new vu}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new _6(pf(n),e.status,n.weak_password.reasons);throw new $$(pf(n),e.status||500,r)}const kY=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function rn(e,t,n,r){var i;const o=Object.assign({},r?.headers);o[_N]||(o[_N]=nB["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await CY(e,t,n+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function CY(e,t,n,r,i,o){const s=kY(t,r,i,o);let a;try{a=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new SN(pf(l),0)}if(a.ok||await A6(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await A6(l)}}function fc(e){var t;let n=null;TY(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=aY(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function E6(e){const t=fc(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Du(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function NY(e){return{data:e,error:null}}function AY(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,s=_Y(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function EY(e){return e}function TY(e){return e.access_token&&e.refresh_token&&e.expires_in}const gk=["global","local","others"];var PY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class RY{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=sB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gk[0]){if(gk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gk.join(", ")}`);try{return await rn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await rn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Du})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=PY(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await rn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:AY,redirectTo:n?.redirectTo})}catch(n){if(Jt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await rn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Du})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,s,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await rn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:EY});if(u.error)throw u.error;const d=await u.json(),h=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=g}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Jt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){np(t);try{return await rn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Du})}catch(n){if(Jt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){np(t);try{return await rn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Du})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){np(t);try{return await rn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Du})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){np(t.userId);try{const{data:n,error:r}=await rn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){np(t.userId),np(t.id);try{return{data:await rn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}}function T6(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function jY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rp={debug:!!(globalThis&&oB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DY extends aB{}async function IY(e,t,n){rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),rp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw rp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(rp.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}jY();const OY={url:V$,storageKey:K$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:G$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P6(e,t,n){return await n()}const ip={};class Qv{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qv.nextInstanceID,Qv.nextInstanceID+=1,this.instanceID>0&&va()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},OY),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new RY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sB(i.fetch),this.lock=i.lock||P6,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:va()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=IY:this.lock=P6,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:oB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T6(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=T6(this.memoryStorage)),va()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ip[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ip[this.storageKey]=Object.assign(Object.assign({},ip[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ip[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ip[this.storageKey]=Object.assign(Object.assign({},ip[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tB}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=cY(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),va()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Q$(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Jt(n)?{error:n}:{error:new rB("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:fc}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Jt(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:u,password:d,options:h}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await tp(this.storage,this.storageKey)),o=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:d,data:(n=h?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:m},xform:fc})}else if("phone"in t){const{phone:u,password:d,options:h}=t;o=await rn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=h?.data)!==null&&r!==void 0?r:{},channel:(i=h?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:fc})}else throw new Ib("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,c=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(Jt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:s,options:a}=t;n=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:E6})}else if("phone"in t){const{phone:o,password:s,options:a}=t;n=await rn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:E6})}else throw new Ib("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Db}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,o,s,a,l,c,u,d,h,f;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:y,wallet:v,statement:x,options:_}=t;let S;if(va())if(typeof v=="object")S=v;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))S=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=v}const k=new URL((n=_?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const T=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),x?{statement:x}:null));let P;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")P=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)P=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)m=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),g=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${k.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=_?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=_?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((a=_?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const T=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=T}}try{const{data:y,error:v}=await rn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:sY(g)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:fc});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Db}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(Jt(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const n=await af(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:s}=await rn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:fc});if(await cu(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Db}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(Jt(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:s}=t,a=await rn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:fc}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Db}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,s;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await tp(this.storage,this.storageKey));const{error:d}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await rn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Ib("You must provide either an email or phone number.")}catch(a){if(Jt(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:a}=await rn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:fc});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,c=s.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(Jt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await tp(this.storage,this.storageKey)),await rn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:NY})}catch(o){if(Jt(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new vu;const{error:i}=await rn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Jt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:s}=await rn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:s,error:a}=await rn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:a}}throw new Ib("You must provide either an email or phone number and a type")}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await af(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<fk:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const s=await af(this.userStorage,this.storageKey+"-user");s?.user?t.user=s.user:t.user=mk()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!s&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Du}):await this._useSession(async n=>{var r,i,o;const{data:s,error:a}=n;if(a)throw a;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vu}:await rn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Du})})}catch(n){if(Jt(n))return J$(n)&&(await this._removeSession(),await cu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new vu;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await tp(this.storage,this.storageKey));const{data:c,error:u}=await rn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:Du});if(u)throw u;return s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(r){if(Jt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vu;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:s}=pk(t.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Jt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:s,error:a}=n;if(a)throw a;t=(r=s.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new vu;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Jt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!va())throw new Ob("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ob(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new w6("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ob("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new w6("No code detected.");const{data:x,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!s||!c)throw new Ob("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=_p&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const m=h-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:g,error:y}=await this._getUser(o);if(y)throw y;const v={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:h,refresh_token:s,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(r){if(Jt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await af(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(Y$(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await cu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=lY(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await tp(this.storage,this.storageKey,!0));try{return await rn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Jt(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var s,a,l,c,u;const{data:d,error:h}=o;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await rn(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return va()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:t.provider,url:r?.url},error:null}}catch(r){if(Jt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)throw s;return await rn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await fY(async i=>(i>0&&await dY(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await rn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fc})),(i,o)=>{const s=200*Math.pow(2,i);return o&&hk(o)&&Date.now()+s-r<_p})}catch(r){if(this._debug(n,"error",r),Jt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),va()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await af(this.storage,this.storageKey);if(i&&this.userStorage){let s=await af(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await Sp(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s?.user)!==null&&t!==void 0?t:mk()}else if(i&&!i.user&&!i.user){const s=await af(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await cu(this.storage,this.storageKey+"-user"),await Sp(this.storage,this.storageKey,i)):i.user=mk()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fk;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${fk}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),hk(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new vu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Z_;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new vu;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),Jt(o)){const s={session:null,error:o};return hk(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Sp(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=N6(i);await Sp(this.storage,this.storageKey,o)}else{const i=N6(n);await Sp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await cu(this.storage,this.storageKey),await cu(this.storage,this.storageKey+"-code-verifier"),await cu(this.storage,this.storageKey+"-user"),this.userStorage&&await cu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&va()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_p);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/_p);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_p}ms, refresh threshold is ${wN} ticks`),i<=wN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!va()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,s]=await tp(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(r?.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await rn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:s}=n;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await rn(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:s,error:a}=await rn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await rn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=t?.factors||[],i=r.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=r.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=pk(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+X$>i)return r;const{data:o,error:s}=await rn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:m}=await this.getSession();if(m||!f.session)return{data:null,error:m};r=f.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=pk(r);n?.allowExpired||bY(o.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:o,header:i,signature:s},error:null}}const u=xY(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,s,oY(`${a}.${l}`)))throw new kN("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}}}Qv.nextInstanceID=0;const LY=Qv;class MY extends LY{constructor(t){super(t)}}var FY=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class BY{constructor(t,n,r){var i,o,s;this.supabaseUrl=t,this.supabaseKey=n;const a=W$(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:I$,realtime:L$,auth:Object.assign(Object.assign({},O$),{storageKey:l}),global:D$},u=H$(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=z$(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new e$(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new P$(this.storageUrl.href,this.headers,this.fetch,r?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new jX(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return FY(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MY({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new v$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zY=(e,t,n)=>new BY(e,t,n);function UY(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}UY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qY="https://nmnnglmoqoqonkjfecyf.supabase.co",HY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5tbm5nbG1vcW9xb25ramZlY3lmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg1MDY4MDcsImV4cCI6MjA4NDA4MjgwN30.OVNwA2f8VG2c0GSbl_desD4ljdH0Qwc2GTBs-EpTWdA",Ee=zY(qY,HY),lB=I.createContext(null),vk="selectedLoanId";function WY({children:e}){const[t,n]=I.useState(null),[r,i]=I.useState(null),[o,s]=I.useState(!0);I.useEffect(()=>{a()},[]),I.useEffect(()=>{t&&l(t)},[t]);async function a(){const d=localStorage.getItem(vk);if(d){const{data:f}=await Ee.from("loans").select("*").eq("id",d).maybeSingle();if(f){n(d),i(f),s(!1);return}}const{data:h}=await Ee.from("loans").select("*").order("loan_number",{ascending:!0}).limit(1);if(h&&h.length>0){const f=h[0];n(f.id),i(f),localStorage.setItem(vk,f.id)}s(!1)}async function l(d){const{data:h}=await Ee.from("loans").select("*").eq("id",d).maybeSingle();h&&i(h)}function c(d){n(d),localStorage.setItem(vk,d)}async function u(d){if(!t)return!1;const{error:h}=await Ee.from("loans").update({status:d}).eq("id",t);return h?(console.error("Error updating loan status:",h),!1):(i(f=>f&&{...f,status:d}),!0)}return p.jsx(lB.Provider,{value:{selectedLoanId:t,setSelectedLoanId:c,selectedLoan:r,loading:o,updateLoanStatus:u},children:e})}function Q1(){const e=I.useContext(lB);if(!e)throw new Error("useLoanContext must be used within a LoanProvider");return e}const VY={"Processor III":{showNeedToRequestFilter:!0,showRequestedFilter:!0,showSendBrwButton:!0},Underwriter:{showNeedToRequestFilter:!1,showRequestedFilter:!1,showSendBrwButton:!1}},KY={"Processor III":"Sarah Processor",Underwriter:"Urma Underwriter"};function Tl(e){return KY[e]}const GY=["Processor III","Underwriter"];function ZY(e){return VY[e]}const cB=I.createContext(null),R6="selectedRole",XY="Processor III";function $Y({children:e}){const[t,n]=I.useState(()=>{const o=localStorage.getItem(R6);return o==="Processor III"||o==="Underwriter"?o:XY}),r=ZY(t);I.useEffect(()=>{localStorage.setItem(R6,t)},[t]);function i(o){n(o)}return p.jsx(cB.Provider,{value:{selectedRole:t,setSelectedRole:i,permissions:r},children:e})}function Bc(){const e=I.useContext(cB);if(!e)throw new Error("useRoleContext must be used within a RoleProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ct=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...c},u)=>I.createElement("svg",{ref:u,...YY,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${JY(e)}`,a].join(" "),...c},[...t.map(([d,h])=>I.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=ct("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=ct("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=ct("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=ct("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ct("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=ct("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=ct("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=ct("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ct("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cJ=ct("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ct("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJ=ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=ct("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=ct("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=ct("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=ct("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=ct("Indent",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ct("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ct("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ct("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=ct("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ct("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=ct("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=ct("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=ct("MinusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=ct("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=ct("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=ct("Outdent",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _J=ct("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=ct("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=ct("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=ct("Pilcrow",[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=ct("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ct("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJ=ct("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=ct("RemoveFormatting",[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJ=ct("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJ=ct("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=ct("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=ct("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=ct("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=ct("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=ct("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=ct("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=ct("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=ct("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=ct("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mB=["Suspend","Prior to Docs","Prior to Funding","Prior to Purchase","Post Funding","Trailing Docs"],t5=["New","Need Brw Request","Requested","Processor to Review","Ready for UW","Cleared","Not Cleared"],gB=["APP","DISC","CRED","INC","ASSET","PROP","MISC","CLSNG","TITLE","GOV","BOND","SP","CONDO","NEW CONST","RENO/HOLDBACK","CORR REGS","CORR CREDIT","CORR LEGAL","CORR JUMBO","CONST TO PERM","TXA-6","DHHL 184-A","COOP"],Ms=["Appraisal","Asset Statements","Bank Statements","Employment Verification","Flood Insurance Binder","Gift Letter","Hazard Insurance Binder","Homeowners Insurance","Mortgage Insurance","Pay Stubs","Purchase Agreement","Tax Returns","Title Insurance","W-2 Forms","Miscellaneous"],vB={Suspend:"SUSP","Prior to Docs":"PTD","Prior to Funding":"PTF","Prior to Purchase":"PTP","Post Funding":"POST","Trailing Docs":"TRAIL"},yB=["UW","Processor III"],bB=[{value:"red",label:"Red"},{value:"blue",label:"Blue"},{value:"yellow",label:"Yellow"},{value:"green",label:"Green"}],n5={red:{bg:"bg-red-500",text:"text-red-500",ring:"ring-red-500"},blue:{bg:"bg-blue-500",text:"text-blue-500",ring:"ring-blue-500"},yellow:{bg:"bg-yellow-500",text:"text-yellow-500",ring:"ring-yellow-500"},green:{bg:"bg-green-500",text:"text-green-500",ring:"ring-green-500"}},MJ=["Disclosed","File Received","UW Received","Approved","Conditions for Review","Changes to UW","Clear to Close"],xB={Disclosed:{bg:"bg-gray-100",text:"text-gray-700"},"File Received":{bg:"bg-blue-100",text:"text-blue-700"},"UW Received":{bg:"bg-cyan-100",text:"text-cyan-700"},Approved:{bg:"bg-green-100",text:"text-green-700"},"Conditions for Review":{bg:"bg-amber-100",text:"text-amber-700"},"Changes to UW":{bg:"bg-orange-100",text:"text-orange-700"},"Clear to Close":{bg:"bg-emerald-100",text:"text-emerald-700"}},I6={"Processor to Review":1,"Need Brw Request":2,New:3,"Not Cleared":4,Requested:5,"Ready for UW":6,Cleared:7},O6={"Ready for UW":1,Requested:2,"Need Brw Request":3,New:4,"Not Cleared":5,"Processor to Review":6,Cleared:7};function FJ({onOpenSelector:e}){const{selectedLoan:t,loading:n}=Q1(),{selectedRole:r,setSelectedRole:i}=Bc(),[o,s]=I.useState(!1),a=I.useRef(null);I.useEffect(()=>{function u(d){a.current&&!a.current.contains(d.target)&&s(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);function l(u){i(u),s(!1)}if(n)return p.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 flex items-center justify-between",children:[p.jsx("div",{className:"h-5 w-48 bg-gray-600 rounded animate-pulse"}),p.jsx("div",{className:"h-5 w-32 bg-gray-600 rounded animate-pulse"})]});if(!t)return p.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 flex items-center justify-between",children:[p.jsx("span",{className:"text-gray-400",children:"No loan selected"}),p.jsx(L6,{selectedRole:r,isOpen:o,onToggle:()=>s(!o),onSelect:l,dropdownRef:a})]});const c=xB[t.status];return p.jsxs("div",{className:"bg-gray-800 text-white px-4 py-2 flex items-center justify-between",children:[p.jsxs("button",{onClick:e,className:"flex items-center gap-2 hover:bg-gray-700 rounded px-2 py-1 transition-colors",children:[p.jsx("span",{className:"font-medium",children:t.loan_number}),p.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${c.bg} ${c.text}`,children:t.status}),p.jsxs("span",{className:"font-medium",children:["- ",t.description]}),p.jsx(mo,{className:"w-4 h-4 text-gray-400"})]}),p.jsx(L6,{selectedRole:r,isOpen:o,onToggle:()=>s(!o),onSelect:l,dropdownRef:a})]})}function L6({selectedRole:e,isOpen:t,onToggle:n,onSelect:r,dropdownRef:i}){return p.jsxs("div",{className:"relative",ref:i,children:[p.jsxs("button",{onClick:n,className:"flex items-center gap-2 hover:bg-gray-700 rounded px-2 py-1 transition-colors",children:[p.jsx(LJ,{className:"w-4 h-4 text-gray-400"}),p.jsx("span",{className:"font-medium text-sm",children:e}),p.jsx(mo,{className:"w-4 h-4 text-gray-400"})]}),t&&p.jsx("div",{className:"absolute top-full right-0 mt-1 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:GY.map(o=>p.jsx("button",{onClick:()=>r(o),className:`w-full text-left px-3 py-2 text-xs hover:bg-gray-50 ${e===o?"bg-gray-50 text-cmg-teal font-medium":"text-gray-700"}`,children:o},o))})]})}function BJ(){const[e,t]=I.useState([]),[n,r]=I.useState(!0);I.useEffect(()=>{i()},[]);async function i(){r(!0);const{data:s,error:a}=await Ee.from("loans").select("*").order("loan_number",{ascending:!0});if(a){console.error("Error fetching loans:",a),r(!1);return}t(s||[]),r(!1)}async function o(s,a){const{error:l}=await Ee.from("loans").update({description:a}).eq("id",s);return l?(console.error("Error updating loan description:",l),!1):(t(c=>c.map(u=>u.id===s?{...u,description:a}:u)),!0)}return{loans:e,loading:n,updateLoanDescription:o,refetch:i}}const zJ={primary:"bg-cmg-teal text-white hover:bg-cmg-teal-dark",secondary:"bg-[#EAF6F7] text-cmg-teal hover:bg-cmg-teal-light/20",ghost:"text-gray-500 hover:text-gray-700 hover:bg-gray-100",danger:"bg-red-100 text-red-700 hover:bg-red-200"},UJ={xs:"px-1.5 py-0.5 text-[10px]",sm:"px-2 py-1 text-2xs",md:"px-3 py-2.5 text-xs",lg:"px-4 py-2 text-sm"},qJ={default:"text-gray-600",danger:"bg-red-500 text-white text-2xs font-medium px-1.5 py-0.5 rounded-full min-w-[20px] text-center",info:"bg-cmg-teal text-white text-2xs font-medium px-1.5 py-0.5 rounded-full min-w-[20px] text-center"};function Pt({variant:e="secondary",size:t="md",badge:n,badgeVariant:r="default",className:i="",children:o,...s}){return p.jsxs("button",{className:`flex items-center gap-2 font-bold rounded-full transition-colors whitespace-nowrap ${zJ[e]} ${UJ[t]} ${i}`,...s,children:[o,n!==void 0&&p.jsx("span",{className:qJ[r],children:n})]})}const HJ={primary:"bg-cmg-teal text-white hover:bg-cmg-teal-dark",danger:"bg-red-600 text-white hover:bg-red-700"};function t1({title:e,message:t,confirmLabel:n="Confirm",cancelLabel:r="Cancel",confirmVariant:i="primary",onConfirm:o,onCancel:s}){return p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),p.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e}),p.jsx("button",{onClick:s,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:p.jsx(lr,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"px-6 py-4",children:p.jsx("p",{className:"text-sm text-gray-600",children:t})}),p.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-full hover:bg-gray-50 transition-colors",children:r}),p.jsx("button",{onClick:o,className:`px-4 py-2 text-sm font-medium rounded-full transition-colors ${HJ[i]}`,children:n})]})]})]})}function Ct(){return crypto.randomUUID()}function ye(e){const t=new Date;return t.setDate(t.getDate()-e),t.toISOString()}function Lb(e){const t=new Date;return t.setDate(t.getDate()+e),t.toISOString()}function WJ(){const e={loan1:Ct(),loan2:Ct(),loan3:Ct(),loan4:Ct()},t={loan1_borrower:Ct(),loan1_coborrower:Ct(),loan1_app1:Ct(),loan2_borrower:Ct(),loan2_coborrower:Ct(),loan2_app1:Ct(),loan3_borrower:Ct(),loan3_coborrower:Ct(),loan3_app1:Ct(),loan4_borrower:Ct(),loan4_coborrower:Ct(),loan4_app1:Ct()},n={};for(let T=1;T<=60;T++)n[`cond${T}`]=Ct();const r={};for(let T=1;T<=30;T++)r[`dr${T}`]=Ct();const i={doc1:Ct(),doc2:Ct(),doc3:Ct(),doc4:Ct(),doc5:Ct(),doc6:Ct(),doc7:Ct(),doc8:Ct()},o={};for(let T=1;T<=10;T++)o[`note${T}`]=Ct();const s={list1:Ct(),list2:Ct()},a={};for(let T=1;T<=80;T++)a[`ac${T}`]=Ct();const l=[{id:e.loan1,loan_number:"2024-001234",description:"Johnson Residence - Purchase",status:"Conditions for Review"},{id:e.loan2,loan_number:"2024-001567",description:"Martinez Family - Refinance",status:"UW Received"},{id:e.loan3,loan_number:"2024-001890",description:"Thompson Estate - Purchase",status:"Approved"},{id:e.loan4,loan_number:"2024-002123",description:"Williams Investment Property",status:"File Received"}],c=[{id:t.loan1_borrower,loan_id:e.loan1,party_type:"Borrower",party_name:"Michael Johnson",parent:"APP1"},{id:t.loan1_coborrower,loan_id:e.loan1,party_type:"Co-Borrower",party_name:"Sarah Johnson",parent:"APP1"},{id:t.loan1_app1,loan_id:e.loan1,party_type:"APP1",party_name:"Michael & Sarah Johnson",parent:"APP1"},{id:t.loan2_borrower,loan_id:e.loan2,party_type:"Borrower",party_name:"Carlos Martinez",parent:"APP1"},{id:t.loan2_coborrower,loan_id:e.loan2,party_type:"Co-Borrower",party_name:"Maria Martinez",parent:"APP1"},{id:t.loan2_app1,loan_id:e.loan2,party_type:"APP1",party_name:"Carlos & Maria Martinez",parent:"APP1"},{id:t.loan3_borrower,loan_id:e.loan3,party_type:"Borrower",party_name:"David Thompson",parent:"APP1"},{id:t.loan3_coborrower,loan_id:e.loan3,party_type:"Co-Borrower",party_name:"Emily Thompson",parent:"APP1"},{id:t.loan3_app1,loan_id:e.loan3,party_type:"APP1",party_name:"David & Emily Thompson",parent:"APP1"},{id:t.loan4_borrower,loan_id:e.loan4,party_type:"Borrower",party_name:"James Williams",parent:"APP1"},{id:t.loan4_coborrower,loan_id:e.loan4,party_type:"Co-Borrower",party_name:"Patricia Williams",parent:"APP1"},{id:t.loan4_app1,loan_id:e.loan4,party_type:"APP1",party_name:"James & Patricia Williams",parent:"APP1"}],u=[{id:a.ac1,category:"INC",condition_id:"INC-001",title:"Verify Employment",description:"Verbal VOE from current employer verifying employment status, title, and income",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac2,category:"INC",condition_id:"INC-002",title:"Pay Stubs Required",description:"Most recent 30 days of consecutive pay stubs showing YTD earnings",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac3,category:"INC",condition_id:"INC-003",title:"W-2 Forms",description:"W-2 forms for the most recent 2 years",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac4,category:"INC",condition_id:"INC-004",title:"Tax Returns",description:"Complete signed federal tax returns for the most recent 2 years including all schedules",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac5,category:"ASSET",condition_id:"ASSET-001",title:"Bank Statements",description:"Most recent 2 months bank statements for all accounts showing sufficient funds for closing",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac6,category:"ASSET",condition_id:"ASSET-002",title:"Gift Letter",description:"Gift letter from donor confirming funds are a gift with no expectation of repayment",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac7,category:"ASSET",condition_id:"ASSET-003",title:"Retirement Account Statement",description:"Most recent retirement account statement(s) showing vested balance",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac8,category:"CRED",condition_id:"CRED-001",title:"Letter of Explanation",description:"Written explanation for credit inquiries in the last 120 days",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac9,category:"CRED",condition_id:"CRED-002",title:"Collection Account Resolution",description:"Documentation showing collection accounts have been paid or are in payment plan",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac10,category:"PROP",condition_id:"PROP-001",title:"Appraisal Report",description:"Full appraisal report with interior/exterior photos and comparable sales analysis",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac11,category:"PROP",condition_id:"PROP-002",title:"Purchase Agreement",description:"Fully executed purchase agreement with all addendums and amendments",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac12,category:"PROP",condition_id:"PROP-003",title:"HOA Documents",description:"HOA certification, budget, and insurance documentation if applicable",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac13,category:"TITLE",condition_id:"TITLE-001",title:"Title Commitment",description:"Preliminary title report/commitment with all exceptions listed",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac14,category:"TITLE",condition_id:"TITLE-002",title:"Title Insurance",description:"Title insurance policy meeting investor requirements",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac15,category:"INSUR",condition_id:"INSUR-001",title:"Hazard Insurance",description:"Evidence of hazard insurance with proper coverage amounts and mortgagee clause",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac16,category:"INSUR",condition_id:"INSUR-002",title:"Flood Insurance",description:"Flood insurance policy if property is in a flood zone",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac17,category:"CLSNG",condition_id:"CLSNG-001",title:"Final Closing Disclosure",description:"Final Closing Disclosure reviewed and approved by all parties",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac18,category:"CLSNG",condition_id:"CLSNG-002",title:"Wire Instructions",description:"Verified wire instructions for funds disbursement",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac19,category:"APP",condition_id:"APP-001",title:"Updated 1003 Application",description:"Signed and dated final loan application reflecting current loan terms",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac20,category:"APP",condition_id:"APP-002",title:"Government ID",description:"Copy of valid government-issued photo ID for all borrowers",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac21,category:"GOV",condition_id:"GOV-001",title:"VA Certificate of Eligibility",description:"Current Certificate of Eligibility from VA",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac22,category:"GOV",condition_id:"GOV-002",title:"FHA Case Number Assignment",description:"FHA case number assignment confirmation",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac23,category:"DISC",condition_id:"DISC-001",title:"Initial Disclosures",description:"Signed initial disclosure package including LE, GFE as applicable",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac24,category:"MISC",condition_id:"MISC-001",title:"Divorce Decree",description:"Final divorce decree with property settlement agreement if applicable",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac25,category:"MISC",condition_id:"MISC-002",title:"Power of Attorney",description:"Recorded Power of Attorney if borrower will not be present at closing",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac26,category:"INC",condition_id:"INC-005",title:"Self-Employment Documentation",description:"Business license, profit/loss statement, and business bank statements for self-employed borrowers",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac27,category:"INC",condition_id:"INC-006",title:"Rental Income Documentation",description:"Lease agreements and proof of rental income for investment properties",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac28,category:"ASSET",condition_id:"ASSET-004",title:"Source of Down Payment",description:"Documentation of source and seasoning of down payment funds",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac29,category:"PROP",condition_id:"PROP-004",title:"Termite Inspection",description:"Wood destroying insect inspection report if required by jurisdiction or investor",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac30,category:"CONDO",condition_id:"CONDO-001",title:"Condo Questionnaire",description:"Completed condo/PUD questionnaire with required attachments",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac31,category:"INC",condition_id:"INC-007",title:"Social Security Award Letter",description:"Current Social Security award letter showing benefit amount and effective date",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac32,category:"INC",condition_id:"INC-008",title:"Pension Income Verification",description:"Pension award letter or 1099-R showing pension income amount",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac33,category:"INC",condition_id:"INC-009",title:"Child Support Documentation",description:"Court order and proof of receipt for child support income",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac34,category:"INC",condition_id:"INC-010",title:"Alimony Documentation",description:"Divorce decree and proof of receipt for alimony income",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac35,category:"INC",condition_id:"INC-011",title:"Bonus/Commission Letter",description:"Employer letter confirming bonus/commission structure and history",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac36,category:"INC",condition_id:"INC-012",title:"Overtime Verification",description:"Documentation of consistent overtime history for income qualification",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac37,category:"ASSET",condition_id:"ASSET-005",title:"Stock/Bond Statement",description:"Recent brokerage statement showing stock and bond holdings",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac38,category:"ASSET",condition_id:"ASSET-006",title:"Gift Funds Wire Transfer",description:"Wire transfer confirmation showing gift funds deposited to borrower account",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac39,category:"ASSET",condition_id:"ASSET-007",title:"Earnest Money Verification",description:"Proof of earnest money deposit including check copy and deposit receipt",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac40,category:"ASSET",condition_id:"ASSET-008",title:"Sale of Assets Documentation",description:"Bill of sale and proof of deposit for proceeds from asset sale",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac41,category:"CRED",condition_id:"CRED-003",title:"Bankruptcy Discharge",description:"Bankruptcy discharge papers and schedule of debts",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac42,category:"CRED",condition_id:"CRED-004",title:"Foreclosure Documentation",description:"Documentation of prior foreclosure with deed-in-lieu or short sale paperwork",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac43,category:"CRED",condition_id:"CRED-005",title:"Mortgage Rating Verification",description:"VOM or credit supplement verifying mortgage payment history",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac44,category:"CRED",condition_id:"CRED-006",title:"Student Loan Payment Status",description:"Documentation of student loan IBR or deferment status",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac45,category:"PROP",condition_id:"PROP-005",title:"Survey",description:"Property survey showing boundaries and any encroachments",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac46,category:"PROP",condition_id:"PROP-006",title:"Well/Septic Inspection",description:"Well water test and septic inspection report for rural properties",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac47,category:"PROP",condition_id:"PROP-007",title:"Lead Paint Disclosure",description:"Lead-based paint disclosure for properties built before 1978",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac48,category:"PROP",condition_id:"PROP-008",title:"Appraisal Recertification",description:"Appraisal recertification of value if original appraisal is aging",source_type:"INT",condition_class:"UW",default_stage:"Prior to Funding"},{id:a.ac49,category:"TITLE",condition_id:"TITLE-003",title:"Payoff Statement",description:"Payoff statement from existing lienholder for refinance transactions",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac50,category:"TITLE",condition_id:"TITLE-004",title:"Subordination Agreement",description:"Subordination agreement for existing liens remaining in place",source_type:"INT",condition_class:"UW",default_stage:"Prior to Funding"},{id:a.ac51,category:"TITLE",condition_id:"TITLE-005",title:"Deed Copy",description:"Copy of recorded deed showing current vesting",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac52,category:"INSUR",condition_id:"INSUR-003",title:"Wind/Hail Insurance",description:"Separate wind/hail insurance policy if required by location",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac53,category:"INSUR",condition_id:"INSUR-004",title:"Earthquake Insurance",description:"Earthquake insurance policy if required by investor or location",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac54,category:"INSUR",condition_id:"INSUR-005",title:"Condo Master Policy",description:"HOA master insurance policy with adequate coverage",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac55,category:"CLSNG",condition_id:"CLSNG-003",title:"Signed Note and Deed",description:"Executed promissory note and deed of trust/mortgage",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac56,category:"CLSNG",condition_id:"CLSNG-004",title:"Closing Protection Letter",description:"Closing protection letter from title company",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac57,category:"CLSNG",condition_id:"CLSNG-005",title:"Final Inspection",description:"Final inspection confirming completion of required repairs",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"},{id:a.ac58,category:"APP",condition_id:"APP-003",title:"Social Security Card",description:"Copy of Social Security card for all borrowers",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac59,category:"APP",condition_id:"APP-004",title:"Residency Documentation",description:"Green card or visa documentation for non-citizen borrowers",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac60,category:"APP",condition_id:"APP-005",title:"Name Change Documentation",description:"Marriage certificate or court order for name discrepancies",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac61,category:"GOV",condition_id:"GOV-003",title:"VA Appraisal",description:"VA appraisal with Notice of Value and required conditions",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac62,category:"GOV",condition_id:"GOV-004",title:"FHA Appraisal",description:"FHA appraisal meeting HUD minimum property requirements",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac63,category:"GOV",condition_id:"GOV-005",title:"USDA Eligibility",description:"USDA property and income eligibility determination",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac64,category:"GOV",condition_id:"GOV-006",title:"MI Certificate",description:"Mortgage insurance certificate or commitment letter",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac65,category:"DISC",condition_id:"DISC-002",title:"Revised Loan Estimate",description:"Signed revised loan estimate reflecting changed circumstances",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac66,category:"DISC",condition_id:"DISC-003",title:"Intent to Proceed",description:"Signed borrower intent to proceed with loan application",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac67,category:"DISC",condition_id:"DISC-004",title:"TRID Compliance Package",description:"Complete TRID disclosure package with all required forms",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac68,category:"MISC",condition_id:"MISC-003",title:"Trust Documentation",description:"Complete trust agreement and certification for trust-held property",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac69,category:"MISC",condition_id:"MISC-004",title:"LLC Documentation",description:"LLC operating agreement and articles of organization",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac70,category:"MISC",condition_id:"MISC-005",title:"Housing Counseling Certificate",description:"HUD-approved housing counseling completion certificate",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac71,category:"CONDO",condition_id:"CONDO-002",title:"Condo Project Approval",description:"Condo project approval documentation from investor",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac72,category:"CONDO",condition_id:"CONDO-003",title:"HOA Budget Review",description:"Current HOA budget and reserve study analysis",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac73,category:"CONDO",condition_id:"CONDO-004",title:"Litigation Search",description:"HOA litigation search showing no adverse pending litigation",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac74,category:"INC",condition_id:"INC-013",title:"4506-C Tax Transcript",description:"IRS Form 4506-C request for tax return transcripts",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac75,category:"INC",condition_id:"INC-014",title:"CPA Letter",description:"CPA letter confirming self-employment income and business viability",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac76,category:"ASSET",condition_id:"ASSET-009",title:"Large Deposit Explanation",description:"Explanation and documentation for large deposits on bank statements",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac77,category:"ASSET",condition_id:"ASSET-010",title:"Business Asset Statement",description:"Business bank statement for self-employed borrowers using business funds",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac78,category:"PROP",condition_id:"PROP-009",title:"Rent Schedule",description:"Appraisal rent schedule for investment property income calculation",source_type:"INT",condition_class:"UW",default_stage:"Prior to Docs"},{id:a.ac79,category:"PROP",condition_id:"PROP-010",title:"Property Tax Statement",description:"Current property tax statement showing annual taxes due",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:a.ac80,category:"CLSNG",condition_id:"CLSNG-006",title:"Compliance Certificate",description:"Final compliance review certificate confirming loan meets guidelines",source_type:"INT",condition_class:"UW",default_stage:"Prior to Funding"}],d=[{id:s.list1,user_id:null,name:"Frequently Used"},{id:s.list2,user_id:null,name:"FHA Loans"}],h=[{id:Ct(),list_id:s.list1,available_condition_id:a.ac2},{id:Ct(),list_id:s.list1,available_condition_id:a.ac3},{id:Ct(),list_id:s.list1,available_condition_id:a.ac5},{id:Ct(),list_id:s.list1,available_condition_id:a.ac15},{id:Ct(),list_id:s.list1,available_condition_id:a.ac11},{id:Ct(),list_id:s.list2,available_condition_id:a.ac22},{id:Ct(),list_id:s.list2,available_condition_id:a.ac4},{id:Ct(),list_id:s.list2,available_condition_id:a.ac10}],f=[{id:Ct(),user_id:null,category:"MISC",condition_number:1,title:"Social Security Award Letter",description:"Current Social Security award letter showing benefit amount",source_type:"BRW",condition_class:"Processor III",default_stage:"Prior to Docs"},{id:Ct(),user_id:null,category:"INC",condition_number:2,title:"Bonus/Commission History",description:"Documentation of bonus/commission history for the past 2 years",source_type:"BRW",condition_class:"UW",default_stage:"Prior to Docs"},{id:Ct(),user_id:null,category:"PROP",condition_number:3,title:"Well/Septic Inspection",description:"Well water test and septic inspection report for rural properties",source_type:"INT",condition_class:"Processor III",default_stage:"Prior to Funding"}],m=[{id:n.cond1,loan_id:e.loan1,category:"INC",condition_id:"INC-002",title:"Pay Stubs Required",description:"Most recent 30 days of consecutive pay stubs showing YTD earnings",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Requested",status_date:ye(3),status_set_by:"Sarah Processor",new_date:ye(7),need_brw_request_date:ye(5),requested_date:ye(3),follow_up_flag:!1},{id:n.cond2,loan_id:e.loan1,category:"ASSET",condition_id:"ASSET-001",title:"Bank Statements",description:"Most recent 2 months bank statements for all accounts",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Processor to Review",status_date:ye(1),status_set_by:"Sarah Processor",new_date:ye(10),need_brw_request_date:ye(8),requested_date:ye(5),processor_to_review_date:ye(1),follow_up_flag:!0,follow_up_date:Lb(2)},{id:n.cond3,loan_id:e.loan1,category:"PROP",condition_id:"PROP-001",title:"Appraisal Report",description:"Full appraisal report with interior/exterior photos",source_type:"INT",condition_class:"UW",stage:"Prior to Docs",status:"Ready for UW",status_date:ye(2),status_set_by:"Sarah Processor",new_date:ye(14),ready_for_uw_date:ye(2),follow_up_flag:!1},{id:n.cond4,loan_id:e.loan1,category:"CRED",condition_id:"CRED-001",title:"Letter of Explanation",description:"Written explanation for credit inquiries",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(2),status_set_by:"Urma Underwriter",new_date:ye(5),need_brw_request_date:ye(2),follow_up_flag:!1},{id:n.cond5,loan_id:e.loan1,category:"INSUR",condition_id:"INSUR-001",title:"Hazard Insurance",description:"Evidence of hazard insurance with proper coverage",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(1),status_set_by:"Sarah Processor",new_date:ye(12),cleared_date:ye(1),follow_up_flag:!1},{id:n.cond6,loan_id:e.loan1,category:"TITLE",condition_id:"TITLE-001",title:"Title Commitment",description:"Preliminary title report/commitment",source_type:"INT",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond7,loan_id:e.loan1,category:"INC",condition_id:"INC-001",title:"Verify Employment",description:"Verbal VOE from current employer",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond8,loan_id:e.loan1,category:"INC",condition_id:"INC-003",title:"W-2 Forms",description:"W-2 forms for the most recent 2 years",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Not Cleared",status_date:ye(1),status_set_by:"Urma Underwriter",new_date:ye(10),not_cleared_date:ye(1),follow_up_flag:!0,follow_up_date:Lb(1)},{id:n.cond9,loan_id:e.loan1,category:"APP",condition_id:"APP-001",title:"Updated 1003 Application",description:"Signed and dated final loan application",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Requested",status_date:ye(2),status_set_by:"Sarah Processor",new_date:ye(6),requested_date:ye(2),follow_up_flag:!1},{id:n.cond10,loan_id:e.loan1,category:"APP",condition_id:"APP-002",title:"Government ID",description:"Copy of valid government-issued photo ID",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(5),status_set_by:"Sarah Processor",new_date:ye(12),cleared_date:ye(5),follow_up_flag:!1},{id:n.cond11,loan_id:e.loan1,category:"DISC",condition_id:"DISC-001",title:"Initial Disclosures",description:"Signed initial disclosure package",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(10),status_set_by:"Sarah Processor",new_date:ye(14),cleared_date:ye(10),follow_up_flag:!1},{id:n.cond12,loan_id:e.loan1,category:"CLSNG",condition_id:"CLSNG-001",title:"Final Closing Disclosure",description:"Final Closing Disclosure reviewed",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond13,loan_id:e.loan1,category:"ASSET",condition_id:"ASSET-009",title:"Large Deposit Explanation",description:"Explanation for large deposits on bank statements",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(1),status_set_by:"Urma Underwriter",new_date:ye(2),need_brw_request_date:ye(1),follow_up_flag:!1},{id:n.cond14,loan_id:e.loan1,category:"INC",condition_id:"INC-013",title:"4506-C Tax Transcript",description:"IRS Form 4506-C request",source_type:"INT",condition_class:"Processor III",stage:"Prior to Docs",status:"Requested",status_date:ye(4),status_set_by:"Sarah Processor",new_date:ye(7),requested_date:ye(4),follow_up_flag:!1},{id:n.cond15,loan_id:e.loan1,category:"PROP",condition_id:"PROP-002",title:"Purchase Agreement",description:"Fully executed purchase agreement",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(8),status_set_by:"Sarah Processor",new_date:ye(14),cleared_date:ye(8),follow_up_flag:!1},{id:n.cond16,loan_id:e.loan2,category:"INC",condition_id:"INC-004",title:"Tax Returns",description:"Complete signed federal tax returns",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"Requested",status_date:ye(4),status_set_by:"Sarah Processor",new_date:ye(8),requested_date:ye(4),follow_up_flag:!0,follow_up_date:Lb(1),expiration_date:Lb(30)},{id:n.cond17,loan_id:e.loan2,category:"ASSET",condition_id:"ASSET-001",title:"Bank Statements - Checking",description:"Most recent 2 months bank statements for checking",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Processor to Review",status_date:ye(1),status_set_by:"Sarah Processor",new_date:ye(6),processor_to_review_date:ye(1),follow_up_flag:!1},{id:n.cond18,loan_id:e.loan2,category:"TITLE",condition_id:"TITLE-003",title:"Payoff Statement",description:"Payoff statement from existing lienholder",source_type:"INT",condition_class:"Processor III",stage:"Prior to Docs",status:"Ready for UW",status_date:ye(2),status_set_by:"Sarah Processor",new_date:ye(10),ready_for_uw_date:ye(2),follow_up_flag:!1},{id:n.cond19,loan_id:e.loan2,category:"INC",condition_id:"INC-005",title:"Self-Employment Documentation",description:"Business license, P&L, and bank statements",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(1),status_set_by:"Urma Underwriter",new_date:ye(3),need_brw_request_date:ye(1),follow_up_flag:!1},{id:n.cond20,loan_id:e.loan2,category:"ASSET",condition_id:"ASSET-005",title:"Bank Statements - Savings",description:"Most recent 2 months bank statements for savings",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Requested",status_date:ye(2),status_set_by:"Sarah Processor",new_date:ye(5),requested_date:ye(2),follow_up_flag:!1},{id:n.cond21,loan_id:e.loan2,category:"INC",condition_id:"INC-002",title:"Pay Stubs Required",description:"Most recent 30 days of pay stubs",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(3),status_set_by:"Sarah Processor",new_date:ye(10),cleared_date:ye(3),follow_up_flag:!1},{id:n.cond22,loan_id:e.loan2,category:"INSUR",condition_id:"INSUR-001",title:"Hazard Insurance",description:"Evidence of hazard insurance",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(2),status_set_by:"System",new_date:ye(2),follow_up_flag:!1},{id:n.cond23,loan_id:e.loan2,category:"APP",condition_id:"APP-002",title:"Government ID",description:"Copy of valid government-issued photo ID",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(6),status_set_by:"Sarah Processor",new_date:ye(10),cleared_date:ye(6),follow_up_flag:!1},{id:n.cond24,loan_id:e.loan2,category:"INC",condition_id:"INC-014",title:"CPA Letter",description:"CPA letter confirming self-employment income",source_type:"INT",condition_class:"UW",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"Urma Underwriter",new_date:ye(1),follow_up_flag:!1},{id:n.cond25,loan_id:e.loan2,category:"ASSET",condition_id:"ASSET-010",title:"Business Asset Statement",description:"Business bank statement",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(1),status_set_by:"Urma Underwriter",new_date:ye(2),need_brw_request_date:ye(1),follow_up_flag:!1},{id:n.cond26,loan_id:e.loan2,category:"PROP",condition_id:"PROP-001",title:"Appraisal Report",description:"Full appraisal report",source_type:"INT",condition_class:"UW",stage:"Prior to Docs",status:"Cleared",status_date:ye(4),status_set_by:"Urma Underwriter",new_date:ye(12),cleared_date:ye(4),follow_up_flag:!1},{id:n.cond27,loan_id:e.loan2,category:"TITLE",condition_id:"TITLE-001",title:"Title Commitment",description:"Preliminary title report",source_type:"INT",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(5),status_set_by:"Sarah Processor",new_date:ye(10),cleared_date:ye(5),follow_up_flag:!1},{id:n.cond28,loan_id:e.loan2,category:"CLSNG",condition_id:"CLSNG-001",title:"Final Closing Disclosure",description:"Final Closing Disclosure",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond29,loan_id:e.loan2,category:"INC",condition_id:"INC-001",title:"Verify Employment",description:"Verbal VOE from current employer",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond30,loan_id:e.loan3,category:"INC",condition_id:"INC-002",title:"Pay Stubs Required",description:"Most recent 30 days of pay stubs",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(3),status_set_by:"Sarah Processor",new_date:ye(15),cleared_date:ye(3),follow_up_flag:!1},{id:n.cond31,loan_id:e.loan3,category:"ASSET",condition_id:"ASSET-001",title:"Bank Statements",description:"Most recent 2 months bank statements",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(2),status_set_by:"Urma Underwriter",new_date:ye(14),cleared_date:ye(2),follow_up_flag:!1},{id:n.cond32,loan_id:e.loan3,category:"CLSNG",condition_id:"CLSNG-001",title:"Final Closing Disclosure",description:"Final Closing Disclosure",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond33,loan_id:e.loan3,category:"TITLE",condition_id:"TITLE-002",title:"Title Insurance",description:"Title insurance policy",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond34,loan_id:e.loan3,category:"INC",condition_id:"INC-003",title:"W-2 Forms",description:"W-2 forms for most recent 2 years",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(4),status_set_by:"Sarah Processor",new_date:ye(14),cleared_date:ye(4),follow_up_flag:!1},{id:n.cond35,loan_id:e.loan3,category:"PROP",condition_id:"PROP-001",title:"Appraisal Report",description:"Full appraisal report",source_type:"INT",condition_class:"UW",stage:"Prior to Docs",status:"Cleared",status_date:ye(5),status_set_by:"Urma Underwriter",new_date:ye(14),cleared_date:ye(5),follow_up_flag:!1},{id:n.cond36,loan_id:e.loan3,category:"PROP",condition_id:"PROP-002",title:"Purchase Agreement",description:"Fully executed purchase agreement",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(12),status_set_by:"Sarah Processor",new_date:ye(15),cleared_date:ye(12),follow_up_flag:!1},{id:n.cond37,loan_id:e.loan3,category:"INSUR",condition_id:"INSUR-001",title:"Hazard Insurance",description:"Evidence of hazard insurance",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(3),status_set_by:"Sarah Processor",new_date:ye(10),cleared_date:ye(3),follow_up_flag:!1},{id:n.cond38,loan_id:e.loan3,category:"TITLE",condition_id:"TITLE-001",title:"Title Commitment",description:"Preliminary title report",source_type:"INT",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(6),status_set_by:"Sarah Processor",new_date:ye(14),cleared_date:ye(6),follow_up_flag:!1},{id:n.cond39,loan_id:e.loan3,category:"APP",condition_id:"APP-002",title:"Government ID",description:"Copy of valid government-issued ID",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(10),status_set_by:"Sarah Processor",new_date:ye(15),cleared_date:ye(10),follow_up_flag:!1},{id:n.cond40,loan_id:e.loan3,category:"DISC",condition_id:"DISC-001",title:"Initial Disclosures",description:"Signed initial disclosure package",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Cleared",status_date:ye(12),status_set_by:"Sarah Processor",new_date:ye(15),cleared_date:ye(12),follow_up_flag:!1},{id:n.cond41,loan_id:e.loan3,category:"INC",condition_id:"INC-001",title:"Verify Employment",description:"Verbal VOE from current employer",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond42,loan_id:e.loan3,category:"CLSNG",condition_id:"CLSNG-003",title:"Signed Note and Deed",description:"Executed promissory note and deed",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond43,loan_id:e.loan3,category:"CLSNG",condition_id:"CLSNG-004",title:"Closing Protection Letter",description:"Closing protection letter",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond44,loan_id:e.loan3,category:"INC",condition_id:"INC-004",title:"Tax Returns",description:"Complete signed federal tax returns",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"Cleared",status_date:ye(4),status_set_by:"Urma Underwriter",new_date:ye(14),cleared_date:ye(4),follow_up_flag:!1},{id:n.cond45,loan_id:e.loan4,category:"INC",condition_id:"INC-006",title:"Rental Income Documentation",description:"Lease agreements and rental income proof",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond46,loan_id:e.loan4,category:"APP",condition_id:"APP-002",title:"Government ID",description:"Copy of valid government-issued ID",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(1),status_set_by:"Sarah Processor",new_date:ye(2),need_brw_request_date:ye(1),follow_up_flag:!1},{id:n.cond47,loan_id:e.loan4,category:"INC",condition_id:"INC-002",title:"Pay Stubs Required",description:"Most recent 30 days of pay stubs",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond48,loan_id:e.loan4,category:"INC",condition_id:"INC-003",title:"W-2 Forms",description:"W-2 forms for most recent 2 years",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond49,loan_id:e.loan4,category:"INC",condition_id:"INC-004",title:"Tax Returns",description:"Complete signed federal tax returns",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond50,loan_id:e.loan4,category:"ASSET",condition_id:"ASSET-001",title:"Bank Statements",description:"Most recent 2 months bank statements",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond51,loan_id:e.loan4,category:"PROP",condition_id:"PROP-001",title:"Appraisal Report",description:"Full appraisal report",source_type:"INT",condition_class:"UW",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond52,loan_id:e.loan4,category:"PROP",condition_id:"PROP-002",title:"Purchase Agreement",description:"Fully executed purchase agreement",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(1),status_set_by:"Sarah Processor",new_date:ye(2),need_brw_request_date:ye(1),follow_up_flag:!1},{id:n.cond53,loan_id:e.loan4,category:"PROP",condition_id:"PROP-009",title:"Rent Schedule",description:"Appraisal rent schedule",source_type:"INT",condition_class:"UW",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond54,loan_id:e.loan4,category:"TITLE",condition_id:"TITLE-001",title:"Title Commitment",description:"Preliminary title report",source_type:"INT",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond55,loan_id:e.loan4,category:"INSUR",condition_id:"INSUR-001",title:"Hazard Insurance",description:"Evidence of hazard insurance",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond56,loan_id:e.loan4,category:"DISC",condition_id:"DISC-001",title:"Initial Disclosures",description:"Signed initial disclosure package",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"Need Brw Request",status_date:ye(1),status_set_by:"Sarah Processor",new_date:ye(2),need_brw_request_date:ye(1),follow_up_flag:!1},{id:n.cond57,loan_id:e.loan4,category:"CLSNG",condition_id:"CLSNG-001",title:"Final Closing Disclosure",description:"Final Closing Disclosure",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond58,loan_id:e.loan4,category:"INC",condition_id:"INC-001",title:"Verify Employment",description:"Verbal VOE from current employer",source_type:"INT",condition_class:"Processor III",stage:"Prior to Funding",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond59,loan_id:e.loan4,category:"ASSET",condition_id:"ASSET-004",title:"Source of Down Payment",description:"Documentation of down payment source",source_type:"BRW",condition_class:"UW",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1},{id:n.cond60,loan_id:e.loan4,category:"APP",condition_id:"APP-001",title:"Updated 1003 Application",description:"Signed final loan application",source_type:"BRW",condition_class:"Processor III",stage:"Prior to Docs",status:"New",status_date:ye(1),status_set_by:"System",new_date:ye(1),follow_up_flag:!1}],g=[{id:r.dr1,condition_id:n.cond1,fulfillment_party:"APP1",document_type:"Pay Stubs",description_for_borrower:"Please provide your most recent 30 days of pay stubs.",status:"Pending",requested_date:ye(3)},{id:r.dr2,condition_id:n.cond2,fulfillment_party:"APP1",document_type:"Bank Statements",description_for_borrower:"Please provide 2 months of bank statements.",status:"Complete",requested_date:ye(5)},{id:r.dr3,condition_id:n.cond4,fulfillment_party:"APP1",document_type:"Miscellaneous",description_for_borrower:"Please provide a letter explaining credit inquiries.",status:"Need to Request",requested_date:null},{id:r.dr4,condition_id:n.cond8,fulfillment_party:"APP1",document_type:"W-2 Forms",description_for_borrower:"Please provide W-2 forms for 2022 and 2023.",status:"Pending",requested_date:ye(5)},{id:r.dr5,condition_id:n.cond16,fulfillment_party:"APP1",document_type:"Tax Returns",description_for_borrower:"Please provide tax returns for 2022 and 2023.",status:"Pending",requested_date:ye(4)},{id:r.dr6,condition_id:n.cond17,fulfillment_party:"APP1",document_type:"Bank Statements",description_for_borrower:"Please provide checking account statements.",status:"Complete",requested_date:ye(3)},{id:r.dr7,condition_id:n.cond19,fulfillment_party:"APP1",document_type:"Employment Verification",description_for_borrower:"Please provide business documentation.",status:"Need to Request",requested_date:null},{id:r.dr8,condition_id:n.cond45,fulfillment_party:"APP1",document_type:"Miscellaneous",description_for_borrower:"Please provide lease agreements.",status:"New",requested_date:null},{id:r.dr9,condition_id:n.cond46,fulfillment_party:"APP1",document_type:"Miscellaneous",description_for_borrower:"Please provide government ID.",status:"Need to Request",requested_date:null},{id:r.dr10,condition_id:n.cond52,fulfillment_party:"APP1",document_type:"Miscellaneous",description_for_borrower:"Please provide purchase agreement.",status:"Need to Request",requested_date:null}],y=[{id:i.doc1,loan_id:e.loan1,doc_request_id:r.dr2,document_name:"Chase_Checking_Dec2024.pdf",document_type:"Bank Statements",description:"Chase checking statement December 2024",status:"Need to Review",file_url:null,thumbnail_url:null,file_size:245e3,mime_type:"application/pdf",original_filename:"Chase_Checking_Dec2024.pdf",page_count:4},{id:i.doc2,loan_id:e.loan1,doc_request_id:r.dr2,document_name:"Chase_Checking_Nov2024.pdf",document_type:"Bank Statements",description:"Chase checking statement November 2024",status:"Reviewed",file_url:null,thumbnail_url:null,file_size:238e3,mime_type:"application/pdf",original_filename:"Chase_Checking_Nov2024.pdf",page_count:3},{id:i.doc3,loan_id:e.loan1,doc_request_id:null,document_name:"Appraisal_Report.pdf",document_type:"Appraisal",description:"Full appraisal report",status:"Approved",file_url:null,thumbnail_url:null,file_size:125e4,mime_type:"application/pdf",original_filename:"Appraisal_Report.pdf",page_count:28},{id:i.doc4,loan_id:e.loan1,doc_request_id:null,document_name:"Insurance_Binder.pdf",document_type:"Hazard Insurance Binder",description:"Hazard insurance binder",status:"Approved",file_url:null,thumbnail_url:null,file_size:125e3,mime_type:"application/pdf",original_filename:"Insurance_Binder.pdf",page_count:2},{id:i.doc5,loan_id:e.loan2,doc_request_id:r.dr6,document_name:"BofA_Checking_Dec2024.pdf",document_type:"Bank Statements",description:"BofA checking December 2024",status:"Need to Review",file_url:null,thumbnail_url:null,file_size:198e3,mime_type:"application/pdf",original_filename:"BofA_Checking_Dec2024.pdf",page_count:5},{id:i.doc6,loan_id:e.loan2,doc_request_id:r.dr6,document_name:"BofA_Checking_Nov2024.pdf",document_type:"Bank Statements",description:"BofA checking November 2024",status:"Reviewed",file_url:null,thumbnail_url:null,file_size:185e3,mime_type:"application/pdf",original_filename:"BofA_Checking_Nov2024.pdf",page_count:4},{id:i.doc7,loan_id:e.loan1,doc_request_id:r.dr4,document_name:"W2_2023.pdf",document_type:"W-2 Forms",description:"W-2 for 2023",status:"Approved",file_url:null,thumbnail_url:null,file_size:85e3,mime_type:"application/pdf",original_filename:"W2_2023.pdf",page_count:1},{id:i.doc8,loan_id:e.loan3,doc_request_id:null,document_name:"PayStubs_Thompson.pdf",document_type:"Pay Stubs",description:"Pay stubs December 2024",status:"Approved",file_url:null,thumbnail_url:null,file_size:156e3,mime_type:"application/pdf",original_filename:"PayStubs_Thompson.pdf",page_count:3}],v=[{id:Ct(),document_id:i.doc1,condition_id:n.cond2},{id:Ct(),document_id:i.doc2,condition_id:n.cond2},{id:Ct(),document_id:i.doc3,condition_id:n.cond3},{id:Ct(),document_id:i.doc4,condition_id:n.cond5},{id:Ct(),document_id:i.doc5,condition_id:n.cond17},{id:Ct(),document_id:i.doc6,condition_id:n.cond17},{id:Ct(),document_id:i.doc7,condition_id:n.cond8},{id:Ct(),document_id:i.doc8,condition_id:n.cond30}],x=[{id:Ct(),document_id:i.doc1,author_name:"Sarah Processor",author_role:"Processor III",content:"Statement complete. Checking for large deposits."},{id:Ct(),document_id:i.doc3,author_name:"Urma Underwriter",author_role:"Underwriter",content:"Appraisal value supports loan amount."}],_=[{id:o.note1,loan_id:e.loan1,condition_id:n.cond1,author_name:"Sarah Processor",author_role:"Processor III",content:"Borrower confirmed pay stubs coming by end of week.",note_type:"condition",is_pinned:!1,read_by_roles:["Processor III"]},{id:o.note2,loan_id:e.loan1,condition_id:n.cond2,author_name:"Urma Underwriter",author_role:"Underwriter",content:"Please verify the $5,000 deposit on page 2.",note_type:"condition",is_pinned:!0,read_by_roles:[]},{id:o.note3,loan_id:e.loan2,condition_id:n.cond16,author_name:"Sarah Processor",author_role:"Processor III",content:"Borrower is self-employed, needs extra time.",note_type:"condition",is_pinned:!1,read_by_roles:["Underwriter"]},{id:o.note4,loan_id:e.loan1,condition_id:null,author_name:"Sarah Processor",author_role:"Processor III",content:"Employment verification in progress. HR will send letter by Friday.",note_type:"update",is_pinned:!0,read_by_roles:[]},{id:o.note5,loan_id:e.loan2,condition_id:null,author_name:"Sarah Processor",author_role:"Processor III",content:"Title company confirmed clear title.",note_type:"update",is_pinned:!1,read_by_roles:[]}],S=[{id:Ct(),note_id:o.note1,role:"Processor III",read_at:ye(2)},{id:Ct(),note_id:o.note3,role:"Underwriter",read_at:ye(2)}],k=[{id:Ct(),user_id:null,role:"Processor III",condition_id:n.cond2,flag_color:"red"},{id:Ct(),user_id:null,role:"Underwriter",condition_id:n.cond3,flag_color:"blue"},{id:Ct(),user_id:null,role:"Processor III",condition_id:n.cond16,flag_color:"yellow"},{id:Ct(),user_id:null,role:"Processor III",condition_id:n.cond8,flag_color:"red"}];return{loansData:l,loanPartiesData:c,availableConditionsData:u,customListsData:d,customListConditionsData:h,customConditionTemplatesData:f,conditionsData:m,docRequestsData:g,conditionDocumentsData:y,documentConditionAssociationsData:v,documentNotesData:x,conditionNotesData:_,noteReadStatusData:S,userConditionFlagsData:k}}const VJ=["email_history","user_condition_flags","note_read_status","document_notes","condition_notes","document_condition_associations","condition_documents","doc_requests","conditions","custom_condition_templates","custom_list_conditions","custom_lists","available_conditions","loan_parties","loans"];async function KJ(){for(const e of VJ){const{error:t}=await Ee.from(e).delete().neq("id","00000000-0000-0000-0000-000000000000");t&&console.warn(`Warning clearing ${e}:`,t.message)}return{success:!0}}async function GJ(){const e=WJ(),t=[{table:"loans",data:e.loansData},{table:"loan_parties",data:e.loanPartiesData},{table:"available_conditions",data:e.availableConditionsData},{table:"custom_lists",data:e.customListsData},{table:"custom_list_conditions",data:e.customListConditionsData},{table:"custom_condition_templates",data:e.customConditionTemplatesData},{table:"conditions",data:e.conditionsData},{table:"doc_requests",data:e.docRequestsData},{table:"condition_documents",data:e.conditionDocumentsData},{table:"document_condition_associations",data:e.documentConditionAssociationsData},{table:"document_notes",data:e.documentNotesData},{table:"condition_notes",data:e.conditionNotesData},{table:"note_read_status",data:e.noteReadStatusData},{table:"user_condition_flags",data:e.userConditionFlagsData}];for(const n of t){const{error:r}=await Ee.from(n.table).insert(n.data);if(r)return{success:!1,error:`Error inserting ${n.table}: ${r.message}`}}return{success:!0}}async function ZJ(){const e=await KJ();return e.success?GJ():e}function XJ({onClose:e}){const{selectedLoanId:t,setSelectedLoanId:n}=Q1(),{loans:r,loading:i,updateLoanDescription:o,refetch:s}=BJ(),[a,l]=I.useState(null),[c,u]=I.useState(""),[d,h]=I.useState(!1),[f,m]=I.useState(!1),[g,y]=I.useState(null),[v,x]=I.useState(!1);function _(N){a||(n(N.id),e())}function S(N,A){A.stopPropagation(),l(N.id),u(N.description)}async function k(N){N.stopPropagation(),a&&(h(!0),await o(a,c),h(!1),l(null))}function T(N){N.stopPropagation(),l(null),u("")}async function P(){m(!0),y(null);const N=await ZJ();N.success?await s():y(N.error||"Failed to seed data"),m(!1),x(!1)}return p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:e}),p.jsxs("div",{className:"relative w-full max-w-2xl m-4 bg-white rounded-lg shadow-xl flex flex-col max-h-[80vh]",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Select Loan"}),p.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:p.jsx(lr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[i?p.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>p.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},N))}):r.length===0?p.jsx("div",{className:"text-center py-8 text-gray-500",children:"No loans found"}):p.jsx("div",{className:"space-y-2",children:r.map(N=>{const A=N.id===t,D=N.id===a,C=xB[N.status];return p.jsxs("div",{onClick:()=>_(N),className:`
                      relative flex items-center gap-4 p-4 rounded-lg border-2 cursor-pointer transition-all
                      ${A?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
                    `,children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{className:"font-semibold text-gray-900",children:N.loan_number}),p.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${C.bg} ${C.text}`,children:N.status})]}),D?p.jsxs("div",{className:"mt-2 flex items-center gap-2",onClick:j=>j.stopPropagation(),children:[p.jsx("input",{type:"text",value:c,onChange:j=>u(j.target.value),className:"flex-1 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0,onKeyDown:j=>{j.key==="Enter"&&k(j),j.key==="Escape"&&T(j)}}),p.jsx("button",{onClick:k,disabled:d,className:"p-1 text-green-600 hover:text-green-700 disabled:opacity-50",children:p.jsx(e1,{className:"w-4 h-4"})}),p.jsx("button",{onClick:T,className:"p-1 text-gray-400 hover:text-gray-600",children:p.jsx(lr,{className:"w-4 h-4"})})]}):p.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[p.jsx("span",{className:"text-sm text-gray-600 truncate",children:N.description||"No description"}),p.jsx("button",{onClick:j=>S(N,j),className:"p-1 text-gray-400 hover:text-gray-600 flex-shrink-0",title:"Edit Description",children:p.jsx(SJ,{className:"w-3.5 h-3.5"})})]})]}),A&&!D&&p.jsx("div",{className:"flex-shrink-0",children:p.jsx(e1,{className:"w-5 h-5 text-blue-500"})})]},N.id)})}),g&&p.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:g})]}),p.jsxs("div",{className:"flex items-center justify-between gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsxs(Pt,{variant:"secondary",onClick:()=>x(!0),disabled:f,className:"flex items-center gap-2",children:[f?p.jsx(dB,{className:"w-4 h-4 animate-spin"}):p.jsx(uJ,{className:"w-4 h-4"}),f?"Seeding...":"Seed Demo Data"]}),p.jsx(Pt,{variant:"secondary",onClick:e,children:"Close"})]})]}),v&&p.jsx(t1,{title:"Reset & Seed Demo Data",message:"This will replace all existing data with fresh demo data. This action cannot be undone. Are you sure you want to continue?",confirmLabel:"Reset & Seed",cancelLabel:"Cancel",onConfirm:P,onCancel:()=>x(!1),confirmVariant:"danger"})]})}function $J(e,t){const n=(e.condition_id||"").toLowerCase(),r=(t.condition_id||"").toLowerCase();return n.localeCompare(r)}function YJ(e,t){const n={BRW:1,INT:2},r=n[e.source_type]||99,i=n[t.source_type]||99;return r-i}function JJ(e,t){const n=I6[e.status]||99,r=I6[t.status]||99;return n-r}function QJ(e,t){const n=O6[e.status]||99,r=O6[t.status]||99;return n-r}function M6(e){switch(e){case"conditionId":return $J;case"sourceType":return YJ;case"processorWorkflow":return JJ;case"underwriterWorkflow":return QJ;case"none":default:return null}}function eQ(e,t,n){if(t==="All")return{primary:"conditionId",secondary:"none"};if(e==="Processor III"){if(t==="Active")return n==="requested"?{primary:"conditionId",secondary:"sourceType"}:n==="need_to_request"?{primary:"sourceType",secondary:"processorWorkflow"}:{primary:"sourceType",secondary:"processorWorkflow"};if(t==="Cleared")return{primary:"conditionId",secondary:"sourceType"};if(t==="Ready for UW")return{primary:"conditionId",secondary:"none"}}if(e==="Underwriter"){if(t==="Active")return{primary:"underwriterWorkflow",secondary:"conditionId"};if(t==="Cleared")return{primary:"conditionId",secondary:"none"}}return{primary:"conditionId",secondary:"none"}}function tQ(e,t,n,r){const i=eQ(t,n,r),o=M6(i.primary),s=M6(i.secondary);return o?[...e].sort((a,l)=>{const c=o(a,l);return c!==0||!s?c:s(a,l)}):e}function nQ(e,t="Processor III"){const[n,r]=I.useState([]),[i,o]=I.useState([]),[s,a]=I.useState(!0),[l,c]=I.useState("Active"),[u,d]=I.useState("none"),[h,f]=I.useState(""),[m,g]=I.useState(new Set);I.useEffect(()=>{e&&y()},[e]);async function y(){a(!0);try{const{data:K,error:H}=await Ee.from("conditions").select("*").eq("loan_id",e).order("category",{ascending:!0});if(H){console.error("Error fetching conditions:",H),r([]),a(!1);return}const{data:Z}=await Ee.from("doc_requests").select("*"),{data:W}=await Ee.from("condition_notes").select("*").eq("loan_id",e).order("created_at",{ascending:!1}),Y=W||[],le=Y.map(ue=>ue.id);let fe=new Set;if(le.length>0){const{data:ue}=await Ee.from("note_read_status").select("note_id").eq("role",t).in("note_id",le);ue&&(fe=new Set(ue.map(_e=>_e.note_id)))}const{data:M}=await Ee.from("condition_documents").select("*").eq("loan_id",e).neq("status","Inactive"),{data:$}=await Ee.from("document_condition_associations").select("*"),Q=M||[],ie=Z||[],oe=$||[],de=K||[];o(Q.map(ue=>({id:ue.id,status:ue.status})));const pe=Y.map(ue=>({...ue,is_read:fe.has(ue.id)})),ae=de.map(ue=>{const _e=oe.filter(Se=>Se.condition_id===ue.id).map(Se=>Se.document_id);return{...ue,doc_requests:ie.filter(Se=>Se.condition_id===ue.id),notes:pe.filter(Se=>Se.condition_id===ue.id),documents:Q.filter(Se=>_e.includes(Se.id))}});r(ae)}catch(K){console.error("Unexpected error fetching conditions:",K),r([])}finally{a(!1)}}const v=I.useMemo(()=>{let K=[...n];if(l==="Active"?t==="Underwriter"?K=K.filter(H=>H.status!=="Cleared"):K=K.filter(H=>H.status!=="Cleared"&&H.status!=="Ready for UW"):l==="Cleared"?K=K.filter(H=>H.status==="Cleared"):l==="Ready for UW"&&(K=K.filter(H=>H.status==="Ready for UW")),u==="need_to_request"?K=K.filter(H=>H.status==="New"||H.status==="Need Brw Request"||H.status==="Not Cleared"):u==="requested"?K=K.filter(H=>H.status==="Requested"):u==="send_brw_reminder"?K=K.filter(H=>H.doc_requests.some(Z=>Z.status==="Pending")):u==="review_docs"&&(K=K.filter(H=>H.documents.some(Z=>t==="Underwriter"?Z.status==="Reviewed":Z.status==="Need to Review"))),h.trim()){const H=h.toLowerCase();K=K.filter(Z=>Z.condition_id.toLowerCase().includes(H)||Z.title.toLowerCase().includes(H)||Z.description.toLowerCase().includes(H))}return tQ(K,t,l,u)},[n,l,u,h,t]),x=I.useMemo(()=>{let K;t==="Underwriter"?K=n.filter(Y=>Y.status!=="Cleared"):K=n.filter(Y=>Y.status!=="Cleared"&&Y.status!=="Ready for UW");const H=n.flatMap(Y=>Y.doc_requests).filter(Y=>Y.status!=="Complete"),Z=t==="Underwriter"?"Reviewed":"Need to Review",W=i.filter(Y=>Y.status===Z).length;return{active:K.length,needToRequest:n.filter(Y=>Y.status==="New"||Y.status==="Need Brw Request"||Y.status==="Not Cleared").length,requested:n.filter(Y=>Y.status==="Requested").length,newDocRequests:H.filter(Y=>Y.status==="New").length,sendBrwReminder:H.filter(Y=>Y.status==="Pending").length,reviewDocs:W}},[n,i,t]),_=I.useMemo(()=>{const K=["Suspend","Prior to Docs","Prior to Funding","Prior to Purchase","Post Funding","Trailing Docs"],H={Suspend:[],"Prior to Docs":[],"Prior to Funding":[],"Prior to Purchase":[],"Post Funding":[],"Trailing Docs":[]};return v.forEach(Z=>{H[Z.stage]&&H[Z.stage].push(Z)}),K.filter(Z=>H[Z].length>0).map(Z=>({stage:Z,conditions:H[Z]}))},[v]);function S(K){g(H=>{const Z=new Set(H);return Z.has(K)?Z.delete(K):Z.add(K),Z})}function k(){const K=["Suspend","Prior to Docs","Prior to Funding","Prior to Purchase","Post Funding","Trailing Docs"];g(new Set(K))}function T(){g(new Set)}async function P(K,H){const{error:Z}=await Ee.from("conditions").update({status:H,status_date:new Date().toISOString(),status_set_by:"User"}).eq("id",K);Z||y()}async function N(K,H){const{data:Z,error:W}=await Ee.from("condition_notes").insert({condition_id:K,loan_id:e,author_name:Tl(t),author_role:t,content:H,note_type:"condition",is_pinned:!1}).select("id").maybeSingle();!W&&Z&&(await Ee.from("note_read_status").insert({note_id:Z.id,role:t}),y())}async function A(K){const{error:H}=await Ee.from("note_read_status").upsert({note_id:K,role:t},{onConflict:"note_id,role"});H||y()}async function D(K,H){const{error:Z}=await Ee.from("conditions").update({stage:H}).in("id",K);return Z||y(),!Z}async function C(K,H){const{error:Z}=await Ee.from("conditions").update({status:H,status_date:new Date().toISOString(),status_set_by:"User"}).in("id",K);return Z||y(),!Z}async function j(K,H){const{error:Z}=await Ee.from("conditions").update({follow_up_flag:H}).in("id",K);return Z||y(),!Z}async function L(K){const{error:H}=await Ee.from("conditions").delete().in("id",K);return H||y(),!H}async function z(K,H,Z){const{error:W}=await Ee.from("conditions").update({title:H,description:Z}).eq("id",K);return W?{success:!1,error:W.message}:(y(),{success:!0})}return{conditions:v,groupedByStage:_,loading:s,counts:x,viewFilter:l,setViewFilter:c,pageFilter:u,setPageFilter:d,searchQuery:h,setSearchQuery:f,collapsedSections:m,toggleSection:S,collapseAll:k,expandAll:T,updateConditionStatus:P,addNote:N,markNoteAsRead:A,bulkUpdateStage:D,bulkUpdateStatus:C,bulkToggleFlag:j,bulkDeleteConditions:L,updateConditionDetails:z,refetch:y}}function rQ(e,t){const[n,r]=I.useState(new Map),[i,o]=I.useState(!0),s=I.useCallback(async()=>{const{data:u}=await Ee.from("conditions").select("id").eq("loan_id",e);if(!u||u.length===0){r(new Map),o(!1);return}const d=u.map(g=>g.id),{data:h,error:f}=await Ee.from("user_condition_flags").select("condition_id, flag_color").eq("role",t).in("condition_id",d);if(f){console.error("Error fetching flags:",f),o(!1);return}const m=new Map;(h||[]).forEach(g=>{m.set(g.condition_id,g.flag_color)}),r(m),o(!1)},[e,t]);I.useEffect(()=>{e&&s()},[e,s]);async function a(u,d){if(d===null){const{error:f}=await Ee.from("user_condition_flags").delete().eq("role",t).eq("condition_id",u);return f?(console.error("Error removing flag:",f),!1):(r(m=>{const g=new Map(m);return g.delete(u),g}),!0)}const{error:h}=await Ee.from("user_condition_flags").upsert({role:t,condition_id:u,flag_color:d},{onConflict:"role,condition_id"});return h?(console.error("Error setting flag:",h),!1):(r(f=>{const m=new Map(f);return m.set(u,d),m}),!0)}async function l(u,d){if(d===null){const{error:m}=await Ee.from("user_condition_flags").delete().eq("role",t).in("condition_id",u);return m?(console.error("Error bulk removing flags:",m),!1):(r(g=>{const y=new Map(g);return u.forEach(v=>y.delete(v)),y}),!0)}const h=u.map(m=>({role:t,condition_id:m,flag_color:d})),{error:f}=await Ee.from("user_condition_flags").upsert(h,{onConflict:"role,condition_id"});return f?(console.error("Error bulk setting flags:",f),!1):(r(m=>{const g=new Map(m);return u.forEach(y=>g.set(y,d)),g}),!0)}function c(u){return n.get(u)||null}return{flagMap:n,loading:i,setFlag:a,bulkSetFlags:l,getFlag:c,refetch:s}}function iQ(e){return new DOMParser().parseFromString(e,"text/html").body.textContent||""}function wB({loanId:e,filter:t="all",searchQuery:n="",filterConditionId:r}){const[i,o]=I.useState([]),[s,a]=I.useState(!1),[l,c]=I.useState(!1),{selectedRole:u}=Bc(),d=I.useCallback(async()=>{if(!e){o([]);return}a(!0);try{const{data:k,error:T}=await Ee.from("condition_notes").select("*").eq("loan_id",e).order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});if(T){console.error("Error fetching notes:",T),o([]),a(!1);return}const P=k||[],N=P.map(L=>L.id);let A=new Set;if(N.length>0){const{data:L}=await Ee.from("note_read_status").select("note_id").eq("role",u).in("note_id",N);L&&(A=new Set(L.map(z=>z.note_id)))}const D=P.filter(L=>L.condition_id).map(L=>L.condition_id);let C={};if(D.length>0){const{data:L}=await Ee.from("conditions").select("id, condition_id, title").in("id",D);L&&(C=L.reduce((z,K)=>(z[K.id]={condition_id:K.condition_id,title:K.title},z),{}))}const j=P.map(L=>({...L,is_read:A.has(L.id),condition:L.condition_id&&C[L.condition_id]||null}));o(j)}catch(k){console.error("Unexpected error fetching notes:",k),o([])}finally{a(!1)}},[e,u]);I.useEffect(()=>{d()},[d]);const h=I.useMemo(()=>{let k=i;if(r&&(k=k.filter(T=>T.condition_id===r)),t==="conditions"?k=k.filter(T=>T.note_type==="condition"):t==="updates"&&(k=k.filter(T=>T.note_type==="update")),n.trim()){const T=n.toLowerCase();k=k.filter(P=>{const N=iQ(P.content).toLowerCase(),A=P.author_name.toLowerCase().includes(T),D=N.includes(T),C=P.condition?.condition_id?.toLowerCase().includes(T);return A||D||C})}return k},[i,t,n,r]),f=I.useMemo(()=>i.filter(k=>!k.is_read).length,[i]),m=I.useMemo(()=>i.filter(k=>!k.is_read&&k.note_type==="condition").length,[i]),g=I.useMemo(()=>i.filter(k=>!k.is_read&&k.note_type==="update").length,[i]);async function y(k,T,P){if(!e)return!1;c(!0);const N=Tl(u),{data:A,error:D}=await Ee.from("condition_notes").insert({loan_id:e,condition_id:P||null,author_name:N,author_role:u,content:k,note_type:T,is_pinned:!1}).select("id").maybeSingle();return D||!A?(console.error("Error adding note:",D),c(!1),!1):(await Ee.from("note_read_status").insert({note_id:A.id,role:u}),c(!1),await d(),!0)}async function v(k){const T=i.find(N=>N.id===k);if(!T)return!1;c(!0);const{error:P}=await Ee.from("condition_notes").update({is_pinned:!T.is_pinned}).eq("id",k);return c(!1),P?(console.error("Error toggling pin:",P),!1):(await d(),!0)}async function x(k){c(!0);const{error:T}=await Ee.from("note_read_status").upsert({note_id:k,role:u},{onConflict:"note_id,role"});return c(!1),T?(console.error("Error marking note as read:",T),!1):(await d(),!0)}async function _(){if(!e)return!1;c(!0);const k=i.filter(T=>!T.is_read).map(T=>T.id);if(k.length>0){const T=k.map(N=>({note_id:N,role:u})),{error:P}=await Ee.from("note_read_status").upsert(T,{onConflict:"note_id,role"});if(P)return console.error("Error marking all notes as read:",P),c(!1),!1}return c(!1),await d(),!0}async function S(k){c(!0);const{error:T}=await Ee.from("condition_notes").delete().eq("id",k);return c(!1),T?(console.error("Error deleting note:",T),!1):(await d(),!0)}return{notes:h,allNotes:i,loading:s,saving:l,unreadCount:f,unreadConditionCount:m,unreadUpdateCount:g,addNote:y,togglePin:v,markRead:x,markAllRead:_,deleteNote:S,refetch:d}}function xE(e){const[t,n]=I.useState([]),[r,i]=I.useState(!0);I.useEffect(()=>{e&&o()},[e]);async function o(){i(!0);const{data:l,error:c}=await Ee.from("loan_parties").select("*").eq("loan_id",e).order("parent",{ascending:!0}).order("party_type",{ascending:!0});if(c){console.error("Error fetching loan parties:",c),i(!1);return}n(l||[]),i(!1)}function s(l){const c=t.find(u=>u.id===l);return c?`${c.party_type}: ${c.party_name}`:""}function a(l){return t.filter(c=>c.parent===l)}return{parties:t,loading:r,getPartyDisplay:s,getPartiesByParent:a,refetch:o}}const oQ={default:"text-gray-600",danger:"bg-red-500 text-white text-2xs font-medium px-1.5 py-0.5 rounded-full min-w-[20px] text-center",info:"bg-cmg-teal text-white text-2xs font-medium px-1.5 py-0.5 rounded-full min-w-[20px] text-center"};function xk({isSelected:e=!1,badge:t,badgeVariant:n="default",showChevron:r=!1,className:i="",children:o,...s}){return p.jsxs("button",{className:`flex items-center gap-2 px-3 py-2.5 rounded-md text-xs font-medium transition-colors whitespace-nowrap ${e?"border-2 border-cmg-teal text-gray-900":"border border-gray-300 text-gray-700 hover:border-gray-400"} ${i}`,...s,children:[o,t!==void 0&&p.jsx("span",{className:oQ[n],children:t}),r&&p.jsx(mo,{className:"w-4 h-4 text-gray-500"})]})}const sQ={sm:"p-1",md:"p-1.5",lg:"p-2"};function CN({icon:e,size:t="md",className:n="",...r}){return p.jsx("button",{className:`text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors ${sQ[t]} ${n}`,...r,children:e})}const Da=I.forwardRef(({label:e,error:t=!1,helperText:n,className:r="",wrapperClassName:i="",...o},s)=>p.jsxs("div",{className:`flex flex-col gap-2 ${i}`,children:[e&&p.jsx("label",{className:"text-xs font-medium text-gray-900",children:e}),p.jsx("input",{ref:s,type:"text",className:`
            w-full h-9 px-4 text-xs
            bg-white border rounded-lg
            transition-all duration-200
            focus:outline-none focus:ring-2 focus:ring-offset-1
            disabled:bg-gray-100 disabled:cursor-not-allowed
            ${t?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-cmg-teal hover:border-cmg-teal"}
            ${r}
          `,...o}),n&&p.jsx("span",{className:`text-2xs ${t?"text-red-500":"text-gray-500"}`,children:n})]}));Da.displayName="InputText";function wE({items:e,isOpen:t,onClose:n,horizontalAlign:r="left",verticalAlign:i="bottom"}){const o=I.useRef(null);if(I.useEffect(()=>{if(!t)return;function l(c){o.current&&!o.current.contains(c.target)&&n()}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[t,n]),!t)return null;const s=r==="right"?"right-0":"left-0",a=i==="top"?"bottom-full mb-1":"top-full mt-1";return p.jsx("div",{ref:o,className:`absolute ${s} ${a} z-50 bg-white border border-gray-200 rounded-lg shadow-lg py-2 min-w-[280px]`,children:e.map(l=>p.jsx("button",{onClick:()=>{l.disabled||(l.onClick(),n())},disabled:l.disabled,className:`w-full text-left px-4 py-2.5 text-xs transition-colors ${l.disabled?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-gray-50"}`,children:l.label},l.id))})}const aQ="3.11.174",F6=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${aQ}`;let wk=null,Mb=null;function lQ(e){return new Promise((t,n)=>{if(document.querySelector(`script[src="${e}"]`)){t();return}const i=document.createElement("script");i.src=e,i.async=!0,i.onload=()=>t(),i.onerror=()=>n(new Error(`Failed to load script: ${e}`)),document.head.appendChild(i)})}async function _E(){return wk||Mb||(Mb=(async()=>{await lQ(`${F6}/pdf.min.js`);const e=window.pdfjsLib;if(!e)throw new Error("PDF.js failed to initialize");return e.GlobalWorkerOptions.workerSrc=`${F6}/pdf.worker.min.js`,wk=e,e})(),Mb)}const B6=new Map,_k=new Map;async function r5(e){const t=B6.get(e);if(t)return t;const n=_k.get(e);if(n)return n;const r=(async()=>{const o=await(await _E()).getDocument({url:e}).promise;return B6.set(e,o),_k.delete(e),o})();return _k.set(e,r),r}const NN=10*1024*1024,Na=100,Aa=130,i5=["image/jpeg","image/png","image/gif","image/webp","application/pdf"],_B=["image/jpeg","image/png","image/gif","image/webp"],AN="application/pdf";function cQ(e){return _B.includes(e.type)}function uQ(e){return e.size>NN?{valid:!1,error:`File size exceeds ${SE(NN)} limit`}:i5.includes(e.type)?{valid:!0}:{valid:!1,error:"File type not supported. Please upload PDF or image files (JPEG, PNG, GIF, WebP)."}}function SE(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,r)).toFixed(1))} ${n[r]}`}async function SB(e,t){const{data:n,error:r}=await Ee.storage.from("condition-documents").upload(t,e,{cacheControl:"3600",upsert:!1});if(r)return{url:null,error:r.message};const{data:i}=Ee.storage.from("condition-documents").getPublicUrl(n.path);return{url:i.publicUrl}}async function kB(e,t){const{data:n,error:r}=await Ee.storage.from("document-thumbnails").upload(t,e,{cacheControl:"3600",upsert:!1,contentType:"image/jpeg"});if(r)return{url:null,error:r.message};const{data:i}=Ee.storage.from("document-thumbnails").getPublicUrl(n.path);return{url:i.publicUrl}}async function dQ(e){return new Promise(t=>{const n=new Image,r=URL.createObjectURL(e);n.onload=()=>{URL.revokeObjectURL(r);const i=document.createElement("canvas");i.width=Na,i.height=Aa;const o=i.getContext("2d");if(!o){t(null);return}const s=n.width/n.height,a=Na/Aa;let l=0,c=0,u=n.width,d=n.height;s>a?(u=n.height*a,l=(n.width-u)/2):(d=n.width/a,c=(n.height-d)/2),o.drawImage(n,l,c,u,d,0,0,Na,Aa),i.toBlob(h=>t(h),"image/jpeg",.8)},n.onerror=()=>{URL.revokeObjectURL(r),t(null)},n.src=r})}async function fQ(e){try{const t=await _E(),n=await e.arrayBuffer(),r=await t.getDocument({data:n}).promise,i=r.numPages,o=await r.getPage(1),s=o.getViewport({scale:1}),a=Math.min(Na/s.width,Aa/s.height),l=o.getViewport({scale:a}),c=document.createElement("canvas");c.width=Na,c.height=Aa;const u=c.getContext("2d");if(!u)return{thumbnail:null,pageCount:i};u.fillStyle="#ffffff",u.fillRect(0,0,Na,Aa);const d=(Na-l.width)/2,h=(Aa-l.height)/2;return u.translate(d,h),await o.render({canvasContext:u,viewport:l}).promise,new Promise(f=>{c.toBlob(m=>f({thumbnail:m,pageCount:i}),"image/jpeg",.8)})}catch{return{thumbnail:null,pageCount:1}}}async function hQ(e){return _B.includes(e.type)?{thumbnail:await dQ(e),pageCount:1}:e.type===AN?fQ(e):{thumbnail:null,pageCount:1}}async function pQ(e){const t=new Date().toISOString(),{data:n,error:r}=await Ee.from("condition_documents").insert({loan_id:e.loanId,document_name:e.fileName,document_type:null,description:null,expiration_date:null,status:"Need to Review",file_url:e.fileUrl,thumbnail_url:e.thumbnailUrl,file_size:e.fileSize,mime_type:e.mimeType,original_filename:e.originalFilename,page_count:e.pageCount,created_by:e.createdBy||null,created_on:t}).select().single();return r?{document:null,error:r.message}:(e.conditionId&&n&&await Ee.from("document_condition_associations").insert({document_id:n.id,condition_id:e.conditionId}),{document:n})}async function CB(e){const{data:t,error:n}=await Ee.from("condition_documents").select("file_url, thumbnail_url").eq("id",e).maybeSingle();if(n)return{success:!1,error:n.message};if(t?.file_url){const i=z6(t.file_url,"condition-documents");i&&await Ee.storage.from("condition-documents").remove([i])}if(t?.thumbnail_url){const i=z6(t.thumbnail_url,"document-thumbnails");i&&await Ee.storage.from("document-thumbnails").remove([i])}await Ee.from("document_condition_associations").delete().eq("document_id",e);const{error:r}=await Ee.from("condition_documents").delete().eq("id",e);return r?{success:!1,error:r.message}:{success:!0}}function z6(e,t){try{const r=new URL(e).pathname.split(`/storage/v1/object/public/${t}/`);return r.length>1?decodeURIComponent(r[1]):null}catch{return null}}function NB(e){const t=Date.now(),n=Math.random().toString(36).substring(2,8),r=e.split(".").pop()||"";return`${e.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9-_]/g,"_")}_${t}_${n}.${r}`}const mQ=[{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Cleared",label:"Cleared"},{value:"Ready for UW",label:"Ready for UW"}];function gQ({viewFilter:e,setViewFilter:t,pageFilter:n,setPageFilter:r,searchQuery:i,setSearchQuery:o,counts:s,onAddConditions:a,onSendBrwRequests:l,onSendBrwReminder:c,onReviewDocs:u,onBulkUpload:d,onOpenNotesModal:h,unreadNotesCount:f,onSubmitToUW:m}){const{permissions:g}=Bc(),[y,v]=I.useState(!1),[x,_]=I.useState(!1),S=I.useRef(null),k=I.useRef(null);I.useEffect(()=>{function j(L){S.current&&!S.current.contains(L.target)&&v(!1)}return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);function T(){_(!1),k.current?.click()}function P(j){const L=j.target.files;L&&L.length>0&&d(Array.from(L)),k.current&&(k.current.value="")}const N=[{id:"clear-docs",label:"Browse and add docs from CLEAR Docs",onClick:()=>_(!1)},{id:"upload",label:"Upload from your computer",onClick:T}];function A(j){t(j),r("none"),v(!1)}function D(j){r(n===j?"none":j)}const C=n==="none";return p.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:p.jsxs("div",{className:"flex items-center justify-between gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("div",{className:"relative",ref:S,children:[p.jsx(xk,{onClick:()=>v(!y),isSelected:C,badge:s.active,showChevron:!0,children:e}),y&&p.jsx("div",{className:"absolute top-full left-0 mt-1 w-40 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:mQ.map(j=>p.jsx("button",{onClick:()=>A(j.value),className:`w-full text-left px-3 py-2 text-xs hover:bg-gray-50 ${e===j.value?"bg-gray-50 text-cmg-teal font-medium":"text-gray-700"}`,children:j.label},j.value))})]}),g.showNeedToRequestFilter&&p.jsx(xk,{onClick:()=>D("need_to_request"),isSelected:n==="need_to_request",badge:s.needToRequest,badgeVariant:"danger",children:"Need to Request"}),g.showRequestedFilter&&p.jsx(xk,{onClick:()=>D("requested"),isSelected:n==="requested",badge:s.requested,children:"Requested"}),g.showSendBrwButton&&(s.newDocRequests>0?p.jsx(Pt,{variant:"secondary",badge:s.newDocRequests,badgeVariant:"danger",onClick:l,children:"Send Brw Requests"}):s.sendBrwReminder>0?p.jsx(Pt,{variant:"secondary",badge:s.sendBrwReminder,badgeVariant:"info",onClick:c,children:"Send Brw Reminder"}):null),p.jsx(Pt,{variant:"secondary",badge:s.reviewDocs,badgeVariant:"danger",onClick:u,children:"Review Docs"}),p.jsxs("div",{className:"relative",children:[p.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 z-10"}),p.jsx(Da,{placeholder:"Search Conditions",value:i,onChange:j=>o(j.target.value),className:"pl-9 w-64"})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("input",{ref:k,type:"file",multiple:!0,accept:i5.join(","),onChange:P,className:"hidden"}),p.jsxs("div",{className:"relative",children:[p.jsx(CN,{icon:p.jsx(bE,{className:"w-5 h-5"}),onClick:()=>_(!x)}),p.jsx(wE,{items:N,isOpen:x,onClose:()=>_(!1),horizontalAlign:"right"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(CN,{icon:p.jsx(aJ,{className:"w-5 h-5"}),onClick:h}),f>0&&p.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center px-1 text-[10px] font-semibold bg-red-500 text-white rounded-full",children:f>99?"99+":f})]}),p.jsxs(Pt,{variant:"secondary",onClick:a,children:[p.jsx(Cl,{className:"w-4 h-4"}),"Add Conditions"]}),p.jsxs(Pt,{variant:"primary",onClick:m,children:[p.jsx("span",{children:"Submit to UW"}),p.jsx(mo,{className:"w-4 h-4 inline-block ml-1"})]})]})]})})}const vQ={default:"text-cmg-teal hover:text-cmg-teal-dark",danger:"text-red-700 hover:text-red-800"},yQ={xs:"text-[10px]",sm:"text-2xs",md:"text-xs",lg:"text-sm"},bQ={xs:"w-2.5 h-2.5",sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"},jr=I.forwardRef(({icon:e,iconPosition:t="left",children:n,size:r="md",variant:i="default",className:o="",...s},a)=>{const l=e?p.jsx("span",{className:`inline-flex items-center justify-center shrink-0 ${bQ[r]}`,children:e}):null;return p.jsxs("button",{ref:a,className:`flex items-center gap-1 font-bold transition-colors ${vQ[i]} ${yQ[r]} ${o}`,...s,children:[t==="left"&&l,p.jsx("span",{children:n}),t==="right"&&l]})});jr.displayName="TextButton";function xQ({onCollapseAll:e,allCollapsed:t,onExpandAll:n}){return p.jsx("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-2",children:p.jsxs("div",{className:"grid grid-cols-[40px_140px_1fr_160px_400px_180px_120px_100px] gap-2 items-center",children:[p.jsx("div",{className:"flex items-center justify-center",children:p.jsx(hJ,{className:"w-4 h-4 text-gray-400"})}),p.jsx("div",{className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:p.jsx("span",{children:"Category"})}),p.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[p.jsx("span",{children:"Condition Description"}),p.jsx(j6,{className:"w-3 h-3 text-gray-400"})]}),p.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-gray-600 uppercase tracking-wide",children:[p.jsx("span",{children:"Status"}),p.jsx(J_,{className:"w-3 h-3 text-gray-400"}),p.jsx(j6,{className:"w-3 h-3 text-gray-400"})]}),p.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Condition Notes"}),p.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Doc Requests"}),p.jsx("div",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Docs"}),p.jsx("div",{className:"text-right",children:p.jsx(jr,{onClick:t?n:e,size:"md",children:t?"Expand All":"Collapse All"})})]})})}function fo({checked:e=!1,onChange:t,className:n="",disabled:r,label:i,...o}){return p.jsxs("label",{className:`relative inline-flex items-center gap-2 ${r?"cursor-not-allowed":"cursor-pointer"}`,children:[p.jsx("input",{type:"checkbox",checked:e,onChange:t,disabled:r,className:"sr-only peer",...o}),p.jsx("div",{className:`
          w-5 h-5 border rounded flex-shrink-0
          transition-all duration-200
          peer-focus:ring-2 peer-focus:ring-cmg-teal peer-focus:ring-offset-1
          ${r?"bg-gray-100 border-gray-300":""}
          ${!r&&e?"bg-cmg-teal border-cmg-teal":!r&&!e?"bg-white border-gray-300 peer-hover:border-cmg-teal":""}
          ${n}
        `,children:e&&p.jsx(e1,{className:`w-4 h-4 ${r?"text-gray-400":"text-white"}`,strokeWidth:3})}),i&&p.jsx("span",{className:`text-sm ${r?"text-gray-400":"text-gray-700"}`,children:i})]})}function wQ({stage:e,count:t,isCollapsed:n,onToggle:r,isSelected:i,onSelectAll:o}){return p.jsx("div",{className:"bg-gray-100 border-b border-gray-200 px-4 py-2",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(fo,{checked:i,onChange:o}),p.jsx("button",{onClick:r,className:"flex items-center gap-1 text-gray-600 hover:text-gray-900",children:n?p.jsx($_,{className:"w-4 h-4"}):p.jsx(mo,{className:"w-4 h-4"})}),p.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:[e," (",t,")"]})]})})}function _Q({status:e,onStatusChange:t}){const[n,r]=I.useState(!1),i=I.useRef(null);return I.useEffect(()=>{function o(s){i.current&&!i.current.contains(s.target)&&r(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),p.jsxs("div",{className:"relative",ref:i,children:[p.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-1 text-xs text-gray-900 hover:text-cmg-teal",children:[p.jsx("span",{children:e}),p.jsx(mo,{className:"w-3 h-3 text-gray-500"})]}),n&&p.jsx("div",{className:"absolute top-full left-0 mt-1 w-44 bg-white border border-gray-200 rounded-md shadow-lg z-50",children:t5.map(o=>p.jsx("button",{onClick:()=>{t(o),r(!1)},className:`w-full text-left px-3 py-2 text-xs hover:bg-gray-50 ${e===o?"bg-gray-50 text-cmg-teal font-medium":"text-gray-700"}`,children:o},o))})]})}const SQ={green:"bg-green-50 text-green-700",grey:"bg-gray-200 text-gray-700",amber:"bg-amber-50 text-amber-700"},kQ={green:"hover:bg-green-100 text-green-600",grey:"hover:bg-gray-300 text-gray-600",amber:"hover:bg-amber-100 text-amber-600"},CQ={default:"text-xs px-2 py-0.5",sm:"text-2xs px-1.5 py-0.5"},NQ={default:"w-3 h-3",sm:"w-2.5 h-2.5"};function o5({variant:e,size:t="default",children:n,className:r="",onDismiss:i}){return p.jsxs("span",{className:`inline-flex items-center gap-1 font-medium rounded ${CQ[t]} ${SQ[e]} ${r}`,children:[n,i&&p.jsx("button",{onClick:i,className:`p-0.5 rounded-full transition-colors ${kQ[e]}`,"aria-label":"Remove",children:p.jsx(lr,{className:NQ[t]})})]})}function T0({checked:e=!1,onChange:t,label:n,labelClassName:r="",className:i="",disabled:o,...s}){return p.jsxs("label",{className:`relative inline-flex items-center ${o?"cursor-not-allowed":"cursor-pointer"} gap-2`,children:[p.jsx("input",{type:"radio",checked:e,onChange:t,disabled:o,className:"sr-only peer",...s}),p.jsx("div",{className:`
          w-5 h-5 border rounded-full
          flex items-center justify-center
          transition-all duration-200
          peer-focus:ring-2 peer-focus:ring-cmg-teal peer-focus:ring-offset-1
          ${o?"bg-gray-100 border-gray-300":""}
          ${!o&&e?"bg-white border-cmg-teal":!o&&!e?"bg-white border-gray-300 peer-hover:border-cmg-teal":""}
          ${i}
        `,children:e&&p.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${o?"bg-gray-400":"bg-cmg-teal"}`})}),n&&p.jsx("span",{className:r,children:n})]})}function s5({currentColor:e,onApply:t,onClose:n,horizontalAlign:r="left",verticalAlign:i="bottom"}){const[o,s]=I.useState(e),a=I.useRef(null);I.useEffect(()=>{function d(h){a.current&&!a.current.contains(h.target)&&n()}return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[n]);function l(){t(o),n()}const c=r==="right"?"right-0":"left-0",u=i==="top"?"bottom-full mb-2":"top-full mt-2";return p.jsxs("div",{ref:a,className:`absolute z-50 bg-white border border-gray-200 rounded-lg shadow-lg p-4 w-64 ${c} ${u}`,children:[p.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"Select Flag"}),p.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"These flags are your personal flags and will not be visible to others accessing the file."}),p.jsxs("div",{className:"space-y-2",children:[bB.map(d=>p.jsxs("label",{className:"flex items-center gap-3 cursor-pointer py-1",children:[p.jsx(T0,{name:"flag-color",checked:o===d.value,onChange:()=>s(d.value)}),p.jsx("span",{className:`w-3 h-3 rounded-full ${n5[d.value].bg}`}),p.jsx("span",{className:"text-sm text-gray-700",children:d.label})]},d.value)),p.jsxs("label",{className:"flex items-center gap-3 cursor-pointer py-1",children:[p.jsx(T0,{name:"flag-color",checked:o===null,onChange:()=>s(null)}),p.jsx("span",{className:"w-3 h-3 rounded-full border-2 border-cmg-teal bg-white"}),p.jsx("span",{className:"text-sm text-gray-700",children:"No Flag"})]})]}),p.jsx("div",{className:"mt-4",children:p.jsx(Pt,{variant:"primary",size:"md",onClick:l,className:"w-full justify-center",children:"Apply"})})]})}const yi=I.forwardRef(({label:e,options:t,placeholder:n,error:r=!1,helperText:i,icon:o,className:s="",...a},l)=>p.jsxs("div",{className:"flex flex-col gap-2",children:[e&&p.jsxs("label",{className:"text-xs font-medium text-gray-900 flex items-center gap-2",children:[e,o&&p.jsx("span",{className:"inline-flex",children:o})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("select",{ref:l,className:`
              w-full h-9 px-4 text-xs
              bg-white border rounded-lg
              appearance-none cursor-pointer
              transition-all duration-200
              focus:outline-none focus:ring-2 focus:ring-offset-1
              disabled:bg-gray-100 disabled:cursor-not-allowed
              ${r?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-cmg-teal hover:border-cmg-teal"}
              ${!a.value||a.value===""?"text-gray-400":"text-gray-900"}
              ${s}
            `,...a,children:[n&&p.jsx("option",{value:"",disabled:!0,children:n}),t.map(c=>p.jsx("option",{value:c.value,children:c.label},c.value))]}),p.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:p.jsx(mo,{size:20})})]}),i&&p.jsx("span",{className:`text-2xs ${r?"text-red-500":"text-gray-500"}`,children:i})]}));yi.displayName="Dropdown";const U6=220,q6=4;function Fa({value:e,onChange:t,options:n,placeholder:r="Select...",error:i=!1,disabled:o=!1,className:s=""}){const[a,l]=I.useState(!1),[c,u]=I.useState(""),[d,h]=I.useState({top:0,left:0,width:0,openDirection:"down"}),f=I.useRef(null),m=I.useRef(null),g=I.useRef(null),y=n.find(k=>k.value===e),v=n.filter(k=>{const T=c.toLowerCase();return k.label.toLowerCase().includes(T)||k.description&&k.description.toLowerCase().includes(T)}),x=I.useCallback(()=>{if(!f.current)return;const k=f.current.getBoundingClientRect(),T=window.innerHeight-k.bottom,P=k.top,N=T<U6&&P>T?"up":"down";let A;N==="down"?A=k.bottom+q6:A=k.top-U6-q6,h({top:A,left:k.left,width:Math.max(k.width,280),openDirection:N})},[]);I.useEffect(()=>{const k=T=>{const P=T.target;f.current&&!f.current.contains(P)&&m.current&&!m.current.contains(P)&&(l(!1),u(""))};return a&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[a]),I.useEffect(()=>{a&&x()},[a,x]),I.useEffect(()=>{if(!a)return;const k=P=>{m.current?.contains(P.target)||(l(!1),u(""))},T=()=>{x()};return window.addEventListener("scroll",k,!0),window.addEventListener("resize",T),()=>{window.removeEventListener("scroll",k,!0),window.removeEventListener("resize",T)}},[a,x]),I.useEffect(()=>{a&&g.current&&g.current.focus()},[a]);function _(k){t(k),l(!1),u("")}function S(){o||(l(!a),a||u(""))}return p.jsxs("div",{ref:f,className:"relative",children:[p.jsxs("button",{type:"button",onClick:S,disabled:o,className:`
          w-full h-9 px-3 text-xs text-left
          bg-white border rounded-lg
          flex items-center justify-between
          transition-all duration-200
          focus:outline-none focus:ring-2 focus:ring-offset-1
          disabled:bg-gray-100 disabled:cursor-not-allowed
          ${i?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-cmg-teal hover:border-cmg-teal"}
          ${e?"text-gray-900":"text-gray-400"}
          ${s}
        `,children:[p.jsx("span",{className:"truncate",children:y?y.label:r}),p.jsx(mo,{className:"w-4 h-4 text-gray-400 flex-shrink-0 ml-2"})]}),a&&$1.createPortal(p.jsxs("div",{ref:m,"data-dropdown-portal":"true",style:{position:"fixed",top:d.top,left:d.left,width:d.width},className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:[p.jsx("div",{className:"p-2 border-b border-gray-100",children:p.jsxs("div",{className:"relative",children:[p.jsx(ey,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),p.jsx("input",{ref:g,type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"Search...",className:"w-full h-8 pl-8 pr-3 text-xs border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-cmg-teal focus:border-cmg-teal"})]})}),p.jsx("div",{className:"max-h-48 overflow-y-auto",children:v.length===0?p.jsx("div",{className:"px-3 py-4 text-xs text-gray-400 text-center",children:"No options found"}):v.map(k=>p.jsxs("button",{type:"button",onClick:()=>_(k.value),className:`
                      w-full px-3 py-2 text-left text-xs
                      hover:bg-gray-50 transition-colors
                      ${k.value===e?"bg-cmg-teal-lightest text-cmg-teal font-medium":"text-gray-900"}
                    `,children:[p.jsx("div",{className:"truncate",children:k.label}),k.description&&p.jsx("div",{className:"text-[10px] text-gray-400 truncate mt-0.5",children:k.description})]},k.value))})]}),document.body)]})}var AB={exports:{}},EB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0=I;function AQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EQ=typeof Object.is=="function"?Object.is:AQ,TQ=P0.useState,PQ=P0.useEffect,RQ=P0.useLayoutEffect,jQ=P0.useDebugValue;function DQ(e,t){var n=t(),r=TQ({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return RQ(function(){i.value=n,i.getSnapshot=t,Sk(i)&&o({inst:i})},[e,n,t]),PQ(function(){return Sk(i)&&o({inst:i}),e(function(){Sk(i)&&o({inst:i})})},[e]),jQ(n),n}function Sk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!EQ(e,n)}catch{return!0}}function IQ(e,t){return t()}var OQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IQ:DQ;EB.useSyncExternalStore=P0.useSyncExternalStore!==void 0?P0.useSyncExternalStore:OQ;AB.exports=EB;var kE=AB.exports;function Ei(e){this.content=e}Ei.prototype={constructor:Ei,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new Ei(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Ei(n)},addToStart:function(e,t){return new Ei([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Ei(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new Ei(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Ei.from(e),e.size?new Ei(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Ei.from(e),e.size?new Ei(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Ei.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Ei.from=function(e){if(e instanceof Ei)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Ei(t)};function TB(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=TB(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function PB(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let c=0,u=Math.min(s.text.length,a.text.length);for(;c<u&&s.text[s.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let c=PB(s.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Fe{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],c=a+l.nodeSize;if(c>t&&r(l,i+a,o||null,s)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,t-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=c},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Fe(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new Fe(r,i)}cutByIndex(t,n){return t==n?Fe.empty:t==0&&n==this.content.length?this:new Fe(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Fe(i,o)}addToStart(t){return new Fe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Fe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return TB(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return PB(this,t,n,r)}findIndex(t){if(t==0)return Fb(0,t);if(t==this.size)return Fb(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?Fb(n+1,o):Fb(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Fe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fe(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Fe.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Fe(n||t,r)}static from(t){if(!t)return Fe.empty;if(t instanceof Fe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Fe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fe.empty=new Fe([],0);const kk={index:0,offset:0};function Fb(e,t){return kk.index=e,kk.offset=t,kk}function cw(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!cw(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!cw(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Vn=class EN{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&cw(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return EN.none;if(t instanceof EN)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Vn.none=[];class uw extends Error{}class rt{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=jB(this.content,t+this.openStart,n);return r&&new rt(r,this.openStart,this.openEnd)}removeBetween(t,n){return new rt(RB(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return rt.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new rt(Fe.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new rt(t,r,i)}}rt.empty=new rt(Fe.empty,0,0);function RB(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(RB(o.content,t-i-1,n-i-1)))}function jB(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=jB(s.content,t-o-1,n,s);return a&&e.replaceChild(i,s.copy(a))}function LQ(e,t,n){if(n.openStart>e.depth)throw new uw("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new uw("Inconsistent open depths");return DB(e,t,n,0)}function DB(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=DB(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return zf(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=MQ(n,e);return zf(o,OB(e,s,a,t,r))}else return zf(o,dw(e,t,r))}function IB(e,t){if(!t.type.compatibleContent(e.type))throw new uw("Cannot join "+t.type.name+" onto "+e.type.name)}function TN(e,t,n){let r=e.node(n);return IB(r,t.node(n)),r}function Bf(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Jg(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Bf(e.nodeAfter,r),o++));for(let a=o;a<s;a++)Bf(i.child(a),r);t&&t.depth==n&&t.textOffset&&Bf(t.nodeBefore,r)}function zf(e,t){return e.type.checkContent(t),e.copy(t)}function OB(e,t,n,r,i){let o=e.depth>i&&TN(e,t,i+1),s=r.depth>i&&TN(n,r,i+1),a=[];return Jg(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(IB(o,s),Bf(zf(o,OB(e,t,n,r,i+1)),a)):(o&&Bf(zf(o,dw(e,t,i+1)),a),Jg(t,n,i,a),s&&Bf(zf(s,dw(n,r,i+1)),a)),Jg(r,null,i,a),new Fe(a)}function dw(e,t,n){let r=[];if(Jg(null,e,n,r),e.depth>n){let i=TN(e,t,n+1);Bf(zf(i,dw(e,t,n+1)),r)}return Jg(t,null,n,r),new Fe(r)}function MQ(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Fe.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class n1{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Vn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new fw(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),c=o-l;if(r.push(s,a,i+l),!c||(s=s.child(a),s.isText))break;o=c-1,i+=l+1}return new n1(n,r,o)}static resolveCached(t,n){let r=H6.get(t);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else H6.set(t,r=new FQ);let i=r.elts[r.i]=n1.resolve(t,n);return r.i=(r.i+1)%BQ,i}}class FQ{constructor(){this.elts=[],this.i=0}}const BQ=12,H6=new WeakMap;class fw{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const zQ=Object.create(null);class Fs{constructor(t,n,r,i=Vn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Fe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&cw(this.attrs,n||t.defaultAttrs||zQ)&&Vn.sameSet(this.marks,r||Vn.none)}copy(t=null){return t==this.content?this:new Fs(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new Fs(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return rt.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),c=i.node(s).content.cut(i.pos-a,o.pos-a);return new rt(c,i.depth-s,o.depth-s)}replace(t,n,r){return LQ(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return n1.resolveCached(this,t)}resolveNoCache(t){return n1.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),LB(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Fe.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Vn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Vn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Fe.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}}Fs.prototype.text=void 0;class hw extends Fs{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):LB(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new hw(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new hw(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function LB(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Jf{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new UQ(t,n);if(r.next==null)return Jf.empty;let i=MB(r);r.next&&r.err("Unexpected trailing text");let o=ZQ(GQ(i));return XQ(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return Fe.from(a.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:u,next:d}=s.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=o(d,a.concat(u));if(h)return h}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}Jf.empty=new Jf(!0);class UQ{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function MB(e){let t=[];do t.push(qQ(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function qQ(e){let t=[];do t.push(HQ(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function HQ(e){let t=KQ(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=WQ(e,t);else break;return t}function W6(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function WQ(e,t){let n=W6(e),r=n;return e.eat(",")&&(e.next!="}"?r=W6(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function VQ(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(t)&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function KQ(e){if(e.eat("(")){let t=MB(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=VQ(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function GQ(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let c={term:l,to:a};return t[s].push(c),c}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(o(c,a)),[]);if(s.type=="seq")for(let l=0;;l++){let c=o(s.exprs[l],a);if(l==s.exprs.length-1)return c;i(c,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let c=0;c<s.min;c++){let u=n();i(o(s.expr,l),u),l=u}if(s.max==-1)i(o(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let u=n();r(l,u),i(o(s.expr,l),u),l=u}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function FB(e,t){return t-e}function V6(e,t){let n=[];return r(t),n.sort(FB);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function ZQ(e){let t=Object.create(null);return n(V6(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);V6(e,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let o=t[r.join(",")]=new Jf(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(FB);o.next.push({type:i[s][0],next:t[a.join(",")]||n(a)})}return o}}function XQ(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(c)==-1&&r.push(c)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function BB(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function zB(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function UB(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function qB(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new YQ(e,r,t[r]);return n}let K6=class HB{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=qB(t,r.attrs),this.defaultAttrs=BB(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Jf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:zB(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fs(this,this.computeAttrs(t),Fe.from(n),Vn.setFrom(r))}createChecked(t=null,n,r){return n=Fe.from(n),this.checkContent(n),new Fs(this,this.computeAttrs(t),n,Vn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Fe.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Fe.empty,!0);return o?new Fs(this,t,n.append(o),Vn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){UB(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Vn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new HB(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function $Q(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class YQ{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?$Q(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class a5{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=qB(t,i.attrs),this.excluded=null;let o=BB(this.attrs);this.instance=o?new Vn(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Vn(this,zB(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new a5(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){UB(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class WB{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=Ei.from(t.nodes),n.marks=Ei.from(t.marks||{}),this.nodes=K6.compile(this.spec.nodes,this),this.marks=a5.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Jf.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?G6(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:G6(this,s.split(" "))}this.nodeFromJSON=i=>Fs.fromJSON(this,i),this.markFromJSON=i=>Vn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof K6){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new hw(r,r.defaultAttrs,t,Vn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function G6(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function JQ(e){return e.tag!=null}function QQ(e){return e.style!=null}let Qg=class PN{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(JQ(i))this.tags.push(i);else if(QQ(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new X6(this,n,!1);return r.addAll(t,Vn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new X6(this,n,!0);return r.addAll(t,Vn.none,n.from,n.to),rt.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(nee(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=$6(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=$6(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new PN(t,PN.schemaRules(t)))}};const VB={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},eee={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},KB={ol:!0,ul:!0},r1=1,RN=2,ev=4;function Z6(e,t,n){return t!=null?(t?r1:0)|(t==="full"?RN:0):e&&e.whitespace=="pre"?r1|RN:n&~ev}class Bb{constructor(t,n,r,i,o,s){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Vn.none,this.match=o||(s&ev?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Fe.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&r1)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Fe.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Fe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!VB.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class X6{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=Z6(null,n.preserveWhitespace,0)|(r?ev:0);i?o=new Bb(i.type,i.attrs,Vn.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Bb(null,null,Vn.none,!0,null,s):o=new Bb(t.schema.topNodeType,null,Vn.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&RN?"full":this.localPreserveWS||(i.options&r1)>0,{schema:s}=this.parser;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)if(o==="full")r=r.replace(/\r\n?/g,`
`);else if(s.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(s.linebreakReplacement.create())){let a=r.split(/\r?\n|\r/);for(let l=0;l<a.length;l++)l&&this.insertNode(s.linebreakReplacement.create(),n,!0),a[l]&&this.insertNode(s.text(a[l]),n,!/\S/.test(a[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=i.content[i.content.length-1],l=t.previousSibling;(!a||l&&l.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(s.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;KB.hasOwnProperty(s)&&this.parser.normalizeLists&&tee(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:eee.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let c,u=this.needsBlock;if(VB.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),c=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),c&&this.sync(o),this.needsBlock=u}else{let c=this.readStyles(t,n);c&&this.addElementByRule(t,l,c,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let s=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(t);if(c&&(!i||i.length>c.length+a)&&(i=c,o=l,!c.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=Vn.none;for(let a of i.concat(t.marks))(o.type?o.type.allowsMarkType(a.type):Y6(a.type,t.type))&&(s=a.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=Z6(t,o,s.options);s.options&ev&&s.content.length==0&&(a|=ev);let l=Vn.none;return r=r.filter(c=>(s.type?s.type.allowsMarkType(c.type):Y6(c.type,t))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Bb(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=r1)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function tee(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&KB.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function nee(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function $6(e){let t={};for(let n in e)t[n]=e[n];return t}function Y6(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==t||o.indexOf(u)<0&&s(u))return!0}};if(s(i.contentMatch))return!0}}class Nh{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Ck(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(o[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],u=this.serializeMark(c,s.isInline,n);u&&(o.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=ex(Ck(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&ex(Ck(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return ex(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Nh(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=J6(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return J6(t.marks)}}function J6(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function Ck(e){return e.document||window.document}const Q6=new WeakMap;function ree(e){let t=Q6.get(e);return t===void 0&&Q6.set(e,t=iee(e)),t}function iee(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function ex(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=ree(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),c=t[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=u;d<t.length;d++){let h=t[d];if(h===0){if(d<t.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:m}=ex(e,h,n,r);if(l.appendChild(f),m){if(a)throw new RangeError("Multiple content holes");a=m}}}return{dom:l,contentDOM:a}}const GB=65535,ZB=Math.pow(2,16);function oee(e,t){return e+t*ZB}function eR(e){return e&GB}function see(e){return(e-(e&GB))/ZB}const XB=1,$B=2,tx=4,YB=8;class jN{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&YB)>0}get deletedBefore(){return(this.delInfo&(XB|tx))>0}get deletedAfter(){return(this.delInfo&($B|tx))>0}get deletedAcross(){return(this.delInfo&tx)>0}}class $o{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&$o.empty)return $o.empty}recover(t){let n=0,r=eR(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+see(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let c=this.ranges[a+o],u=this.ranges[a+s],d=l+c;if(t<=d){let h=c?t==l?-1:t==d?1:n:n,f=l+i+(h<0?0:u);if(r)return f;let m=t==(n<0?l:d)?null:oee(a/3,t-l),g=t==l?$B:t==d?XB:tx;return(n<0?t!=l:t!=d)&&(g|=YB),new jN(f,g,m)}i+=u-c}return r?t+i:new jN(t+i,0,null)}touches(t,n){let r=0,i=eR(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let c=this.ranges[a+o],u=l+c;if(t<=u&&a==i*3)return!0;r+=this.ranges[a+s]-c}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),c=this.ranges[i+n],u=this.ranges[i+r];t(a,a+c,l,l+u),o+=u-c}}invert(){return new $o(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?$o.empty:new $o(t<0?[0,-t,0]:[0,0,t])}}$o.empty=new $o([]);class i1{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new i1(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new i1;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new jN(t,i,null)}}const Nk=Object.create(null);class Ji{getMap(){return $o.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Nk[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Nk)throw new RangeError("Duplicate use of step JSON ID "+t);return Nk[t]=n,n.prototype.jsonID=t,n}}class qr{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new qr(t,null)}static fail(t){return new qr(null,t)}static fromReplace(t,n,r,i){try{return qr.ok(t.replace(n,r,i))}catch(o){if(o instanceof uw)return qr.fail(o.message);throw o}}}function CE(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(CE(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Fe.fromArray(r)}class Hu extends Ji{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new rt(CE(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return qr.fromReplace(t,this.from,this.to,o)}invert(){return new Ea(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Hu(n.pos,r.pos,this.mark)}merge(t){return t instanceof Hu&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Hu(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Hu(n.from,n.to,t.markFromJSON(n.mark))}}Ji.jsonID("addMark",Hu);class Ea extends Ji{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new rt(CE(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return qr.fromReplace(t,this.from,this.to,r)}invert(){return new Hu(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Ea(n.pos,r.pos,this.mark)}merge(t){return t instanceof Ea&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ea(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ea(n.from,n.to,t.markFromJSON(n.mark))}}Ji.jsonID("removeMark",Ea);class Wu extends Ji{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return qr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qr.fromReplace(t,this.pos,this.pos+1,new rt(Fe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Wu(this.pos,n.marks[i]);return new Wu(this.pos,this.mark)}}return new Qf(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Wu(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Wu(n.pos,t.markFromJSON(n.mark))}}Ji.jsonID("addNodeMark",Wu);class Qf extends Ji{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return qr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qr.fromReplace(t,this.pos,this.pos+1,new rt(Fe.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Wu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Qf(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Qf(n.pos,t.markFromJSON(n.mark))}}Ji.jsonID("removeNodeMark",Qf);class pi extends Ji{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&DN(t,this.from,this.to)?qr.fail("Structure replace would overwrite content"):qr.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new $o([this.from,this.to-this.from,this.slice.size])}invert(t){return new pi(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new pi(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof pi)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?rt.empty:new rt(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new pi(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?rt.empty:new rt(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new pi(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new pi(n.from,n.to,rt.fromJSON(t,n.slice),!!n.structure)}}Ji.jsonID("replace",pi);class bi extends Ji{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(DN(t,this.from,this.gapFrom)||DN(t,this.gapTo,this.to)))return qr.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?qr.fromReplace(t,this.from,this.to,r):qr.fail("Content does not fit in gap")}getMap(){return new $o([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new bi(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new bi(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bi(n.from,n.to,n.gapFrom,n.gapTo,rt.fromJSON(t,n.slice),n.insert,!!n.structure)}}Ji.jsonID("replaceAround",bi);function DN(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function aee(e,t,n,r){let i=[],o=[],s,a;e.doc.nodesBetween(t,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,t),f=Math.min(c+l.nodeSize,n),m=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(m)||(s&&s.to==h&&s.mark.eq(d[g])?s.to=f:i.push(s=new Ea(h,f,d[g])));a&&a.to==h?a.to=f:o.push(a=new Hu(h,f,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function lee(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof a5){let c=s.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let c=Math.min(a+s.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let f=0;f<i.length;f++){let m=i[f];m.step==o-1&&d.eq(i[f].style)&&(h=m)}h?(h.to=c,h.step=o):i.push({style:d,from:Math.max(a,t),to:c,step:o})}}}),i.forEach(s=>e.step(new Ea(s.from,s.to,s.style)))}function NE(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let c=o.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)s.push(new pi(a,u,rt.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||e.step(new Ea(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,m;for(;h=f.exec(c.text);)m||(m=new rt(Fe.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),s.push(new pi(a+h.index,a+h.index+h[0].length,m))}}a=u}if(!r.validEnd){let l=r.fillBefore(Fe.empty,!0);e.replace(a,a,new rt(l,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function cee(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Q0(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth,i=0,o=0;;--r){let s=e.$from.node(r),a=e.$from.index(r)+i,l=e.$to.indexAfter(r)-o;if(r<e.depth&&s.canReplace(a,l,n))return r;if(r==0||s.type.spec.isolating||!cee(s,a,l))break;a&&(i=1),l<s.childCount&&(o=1)}return null}function uee(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,c=a,u=Fe.empty,d=0;for(let m=o,g=!1;m>n;m--)g||r.index(m)>0?(g=!0,u=Fe.from(r.node(m).copy(u)),d++):l--;let h=Fe.empty,f=0;for(let m=o,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=Fe.from(i.node(m).copy(h)),f++):c++;e.step(new bi(l,c,s,a,new rt(u.append(h),d,f),u.size-d,!0))}function AE(e,t,n=null,r=e){let i=dee(e,t),o=i&&fee(r,t);return o?i.map(tR).concat({type:t,attrs:n}).concat(o.map(tR)):null}function tR(e){return{type:e,attrs:null}}function dee(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function fee(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:s}function hee(e,t,n){let r=Fe.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fe.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new bi(i,o,i,o,new rt(r,0,0),n.length,!0))}function pee(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&mee(e.doc,e.mapping.slice(o).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",m=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!m?c=!1:!f&&m&&(c=!0)}c===!1&&QB(e,s,a,o),NE(e,e.mapping.slice(o).map(a,1),r,void 0,c===null);let u=e.mapping.slice(o),d=u.map(a,1),h=u.map(a+s.nodeSize,1);return e.step(new bi(d,h,d+1,h-1,new rt(Fe.from(r.create(l,null,s.marks)),0,0),1,!0)),c===!0&&JB(e,s,a,o),!1}})}function JB(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+s.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function QB(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+o);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function mee(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function gee(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new bi(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new rt(Fe.from(s),0,0),1,!0))}function n0(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>o;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),m=r&&r[u+1];m&&(f=f.replaceChild(0,m.type.create(m.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function vee(e,t,n=1,r){let i=e.doc.resolve(t),o=Fe.empty,s=Fe.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){o=Fe.from(i.node(a).copy(o));let u=r&&r[c];s=Fe.from(u?u.type.create(u.attrs,s):i.node(a).copy(s))}e.step(new pi(t,t,new rt(o.append(s),n,n),!0))}function Od(e,t){let n=e.resolve(t),r=n.index();return ez(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function yee(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),s=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function ez(e,t){return!!(e&&t&&!e.isLeaf&&yee(e,t))}function l5(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&ez(o,s)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function bee(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),s=o.node().type;if(i&&s.inlineContent){let u=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=e.steps.length;if(r===!1){let u=e.doc.resolve(t+n);QB(e,u.node(),u.before(),a)}s.inlineContent&&NE(e,t+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(a),c=l.map(t-n);if(e.step(new pi(c,l.map(t+n,-1),rt.empty,!0)),r===!0){let u=e.doc.resolve(c);JB(e,u.node(),u.before(),e.steps.length)}return e}function xee(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function tz(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),c=r.node(s),u=!1;if(o==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function c5(e,t,n=t,r=rt.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return nz(i,o,r)?new pi(t,n,r):new wee(i,o,r).fit()}function nz(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class wee{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Fe.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Fe.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new rt(o,s,a);return t>-1?new bi(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new pi(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Ak(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(s?c.matchType(s.type)||(d=c.fillBefore(Fe.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(u=c.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:u};if(o&&c.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Ak(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new rt(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=Ak(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new rt(Cg(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new rt(Cg(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let f=a.size+t-(s.content.size-s.openEnd);for(;c<a.childCount;){let g=a.child(c),y=d.matchType(g.type);if(!y)break;c++,(c>1||l==0||g.content.size)&&(d=y,u.push(rz(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let m=c==a.childCount;m||(f=-1),this.placed=Ng(this.placed,n,Fe.from(u)),this.frontier[n].match=d,m&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,y=a;g<f;g++){let v=y.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),y=v.content}this.unplaced=m?t==0?rt.empty:new rt(Cg(s.content,t-1,1),t-1,f<0?s.openEnd:t-1):new rt(Cg(s.content,t,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!Ek(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=Ek(t,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=Ek(t,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ng(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Ng(this.placed,this.depth,Fe.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Fe.empty,!0);n.childCount&&(this.placed=Ng(this.placed,this.frontier.length,n))}}function Cg(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Cg(e.firstChild.content,t-1,n)))}function Ng(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Ng(e.lastChild.content,t-1,n)))}function Ak(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function rz(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,rz(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Fe.empty,!0)))),e.copy(r)}function Ek(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!_ee(n,o.content,s)?a:null}function _ee(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function See(e){return e.spec.defining||e.spec.definingForContent}function kee(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(nz(i,o,r))return e.step(new pi(t,n,r));let s=oz(i,o);s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let m=i.node(h).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;s.indexOf(h)>-1?a=h:i.before(h)==f&&s.splice(1,0,-h)}let l=s.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let m=h.firstChild;if(c.push(m),f==r.openStart)break;h=m.content}for(let h=u-1;h>=0;h--){let f=c[h],m=See(f.type);if(m&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(m||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),m=c[f];if(m)for(let g=0;g<s.length;g++){let y=s[(g+l)%s.length],v=!0;y<0&&(v=!1,y=-y);let x=i.node(y-1),_=i.index(y-1);if(x.canReplaceWith(_,_,m.type,m.marks))return e.replace(i.before(y),v?o.after(y):n,new rt(iz(r.content,0,r.openStart,f),f,r.openEnd))}}let d=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,r),!(e.steps.length>d));h--){let f=s[h];f<0||(t=i.before(f),n=o.after(f))}}function iz(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(iz(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(Fe.empty,!0))}return e}function Cee(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=xee(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new rt(Fe.from(r),0,0))}function Nee(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=oz(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function oz(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}class r0 extends Ji{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return qr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return qr.fromReplace(t,this.pos,this.pos+1,new rt(Fe.from(i),0,n.isLeaf?0:1))}getMap(){return $o.empty}invert(t){return new r0(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new r0(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new r0(n.pos,n.attr,n.value)}}Ji.jsonID("attr",r0);class o1 extends Ji{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return qr.ok(r)}getMap(){return $o.empty}invert(t){return new o1(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new o1(n.attr,n.value)}}Ji.jsonID("docAttr",o1);let R0=class extends Error{};R0=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};R0.prototype=Object.create(Error.prototype);R0.prototype.constructor=R0;R0.prototype.name="TransformError";class EE{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new i1}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new R0(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=rt.empty){let i=c5(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new rt(Fe.from(r),0,0))}delete(t,n){return this.replace(t,n,rt.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return kee(this,t,n,r),this}replaceRangeWith(t,n,r){return Cee(this,t,n,r),this}deleteRange(t,n){return Nee(this,t,n),this}lift(t,n){return uee(this,t,n),this}join(t,n=1){return bee(this,t,n),this}wrap(t,n){return hee(this,t,n),this}setBlockType(t,n=t,r,i=null){return pee(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return gee(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new r0(t,n,r)),this}setDocAttribute(t,n){return this.step(new o1(t,n)),this}addNodeMark(t,n){return this.step(new Wu(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Vn)n.isInSet(r.marks)&&this.step(new Qf(t,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new Qf(t,o)),i=o.removeFromSet(i);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,n=1,r){return vee(this,t,n,r),this}addMark(t,n,r){return aee(this,t,n,r),this}removeMark(t,n,r){return lee(this,t,n,r),this}clearIncompatible(t,n,r){return NE(this,t,n,r),this}}const Tk=Object.create(null);class Dt{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new sz(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=rt.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:c}=s[a],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),a?rt.empty:n),a==0&&iR(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=t.mapping.slice(r),c=l.map(s.pos),u=l.map(a.pos);o?t.deleteRange(c,u):(t.replaceRangeWith(c,u,n),iR(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Tt(t):kp(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?kp(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):kp(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Bs(t.node(0))}static atStart(t){return kp(t,t,0,0,1)||new Bs(t)}static atEnd(t){return kp(t,t,t.content.size,t.childCount,-1)||new Bs(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Tk[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in Tk)throw new RangeError("Duplicate use of selection JSON ID "+t);return Tk[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Tt.between(this.$anchor,this.$head).getBookmark()}}Dt.prototype.visible=!0;class sz{constructor(t,n){this.$from=t,this.$to=n}}let nR=!1;function rR(e){!nR&&!e.parent.inlineContent&&(nR=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Tt extends Dt{constructor(t,n=t){rR(t),rR(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return Dt.near(r);let i=t.resolve(n.map(this.anchor));return new Tt(i.parent.inlineContent?i:r,r)}replace(t,n=rt.empty){if(super.replace(t,n),n==rt.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Tt&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new u5(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Tt(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Dt.findFrom(n,r,!0)||Dt.findFrom(n,-r,!0);if(o)n=o.$head;else return Dt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(Dt.findFrom(t,-r,!0)||Dt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Tt(t,n)}}Dt.jsonID("text",Tt);class u5{constructor(t,n){this.anchor=t,this.head=n}map(t){return new u5(t.map(this.anchor),t.map(this.head))}resolve(t){return Tt.between(t.resolve(this.anchor),t.resolve(this.head))}}class Et extends Dt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?Dt.near(o):new Et(o)}content(){return new rt(Fe.from(this.node),0,0)}eq(t){return t instanceof Et&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new TE(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Et(t.resolve(n.anchor))}static create(t,n){return new Et(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Et.prototype.visible=!1;Dt.jsonID("node",Et);class TE{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new u5(r,r):new TE(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&Et.isSelectable(r)?new Et(n):Dt.near(n)}}class Bs extends Dt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=rt.empty){if(n==rt.empty){t.delete(0,t.doc.content.size);let r=Dt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new Bs(t)}map(t){return new Bs(t)}eq(t){return t instanceof Bs}getBookmark(){return Aee}}Dt.jsonID("all",Bs);const Aee={map(){return this},resolve(e){return new Bs(e)}};function kp(e,t,n,r,i,o=!1){if(t.inlineContent)return Tt.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let a=t.child(s);if(a.isAtom){if(!o&&Et.isSelectable(a))return Et.create(e,n-(i<0?a.nodeSize:0))}else{let l=kp(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function iR(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof pi||i instanceof bi))return;let o=e.mapping.maps[r],s;o.forEach((a,l,c,u)=>{s==null&&(s=u)}),e.setSelection(Dt.near(e.doc.resolve(s),n))}const oR=1,zb=2,sR=4;class Eee extends EE{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|oR)&~zb,this.storedMarks=null,this}get selectionSet(){return(this.updated&oR)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=zb,this}ensureMarks(t){return Vn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&zb)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~zb,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Vn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Dt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=sR,this}get scrolledIntoView(){return(this.updated&sR)>0}}function aR(e,t){return!t||!e?e:e.bind(t)}class Ag{constructor(t,n,r){this.name=t,this.init=aR(n.init,r),this.apply=aR(n.apply,r)}}const Tee=[new Ag("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Ag("selection",{init(e,t){return e.selection||Dt.atStart(t.doc)},apply(e){return e.selection}}),new Ag("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Ag("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class Pk{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Tee.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ag(r.key,r.spec.state,r))})}}class Hp{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,s)){if(u.setMeta("appendedTransaction",t),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Hp(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new Eee(this)}static create(t){let n=new Pk(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Hp(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new Pk(this.schema,t.plugins),r=n.fields,i=new Hp(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new Pk(t.schema,t.plugins),o=new Hp(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Fs.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=Dt.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=c.fromJSON.call(l,t,n[a],o);return}}o[s.name]=s.init(t,o)}}),o}}function az(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=az(i,t,{})),n[r]=i}return n}class Yn{constructor(t){this.spec=t,this.props={},t.props&&az(t.props,this,this.props),this.key=t.key?t.key.key:lz("plugin")}getState(t){return t[this.key]}}const Rk=Object.create(null);function lz(e){return e in Rk?e+"$"+ ++Rk[e]:(Rk[e]=0,e+"$")}class cr{constructor(t="key"){this.key=lz(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Pee=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function cz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Ree=(e,t,n)=>{let r=cz(e,n);if(!r)return!1;let i=PE(r);if(!i){let s=r.blockRange(),a=s&&Q0(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(hz(e,i,t,-1))return!0;if(r.parent.content.size==0&&(j0(o,"end")||Et.isSelectable(o)))for(let s=r.depth;;s--){let a=c5(e.doc,r.before(s),r.after(s),rt.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(j0(o,"end")?Dt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Et.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},jee=(e,t,n)=>{let r=cz(e,n);if(!r)return!1;let i=PE(r);return i?uz(e,i,t):!1},Dee=(e,t,n)=>{let r=dz(e,n);if(!r)return!1;let i=RE(r);return i?uz(e,i,t):!1};function uz(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=c5(e.doc,o,l,rt.empty);if(!c||c.from!=o||c instanceof pi&&c.slice.size>=l-o)return!1;if(n){let u=e.tr.step(c);u.setSelection(Tt.create(u.doc,o)),n(u.scrollIntoView())}return!0}function j0(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Iee=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=PE(r)}let s=o&&o.nodeBefore;return!s||!Et.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Et.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function PE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function dz(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const Oee=(e,t,n)=>{let r=dz(e,n);if(!r)return!1;let i=RE(r);if(!i)return!1;let o=i.nodeAfter;if(hz(e,i,t,1))return!0;if(r.parent.content.size==0&&(j0(o,"start")||Et.isSelectable(o))){let s=c5(e.doc,r.before(),r.after(),rt.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(j0(o,"start")?Dt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Et.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Lee=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=RE(r)}let s=o&&o.nodeAfter;return!s||!Et.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Et.create(e.doc,o.pos)).scrollIntoView()),!0)};function RE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const Mee=(e,t)=>{let n=e.selection,r=n instanceof Et,i;if(r){if(n.node.isTextblock||!Od(e.doc,n.from))return!1;i=n.from}else if(i=l5(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(Et.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},Fee=(e,t)=>{let n=e.selection,r;if(n instanceof Et){if(n.node.isTextblock||!Od(e.doc,n.to))return!1;r=n.to}else if(r=l5(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Bee=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Q0(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},zee=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function fz(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Uee=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=fz(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Dt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},qee=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Bs||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=fz(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(Tt.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},Hee=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(n0(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Q0(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)},Wee=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(Et.create(e.doc,i))),!0)};function Vee(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||Od(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function hz(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&Vee(e,t,n))return!0;let c=!l&&t.parent.canReplace(t.index(),t.index()+1);if(c&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let f=t.pos+o.nodeSize,m=Fe.empty;for(let v=s.length-1;v>=0;v--)m=Fe.from(s[v].create(null,m));m=Fe.from(i.copy(m));let g=e.tr.step(new bi(t.pos-1,f,t.pos,f,new rt(m,1,0),s.length,!0)),y=g.doc.resolve(f+2*s.length);y.nodeAfter&&y.nodeAfter.type==i.type&&Od(g.doc,y.pos)&&g.join(y.pos),n(g.scrollIntoView())}return!0}let u=o.type.spec.isolating||r>0&&l?null:Dt.findFrom(t,1),d=u&&u.$from.blockRange(u.$to),h=d&&Q0(d);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(c&&j0(o,"start",!0)&&j0(i,"end")){let f=i,m=[];for(;m.push(f),!f.isTextblock;)f=f.lastChild;let g=o,y=1;for(;!g.isTextblock;g=g.firstChild)y++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let v=Fe.empty;for(let _=m.length-1;_>=0;_--)v=Fe.from(m[_].copy(v));let x=e.tr.step(new bi(t.pos-m.length,t.pos+o.nodeSize,t.pos+y,t.pos+o.nodeSize-y,new rt(v,m.length,0),0,!0));n(x.scrollIntoView())}return!0}}return!1}function pz(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Tt.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const Kee=pz(-1),Gee=pz(1);function Zee(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&AE(s,e,t);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function lR(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,e,t)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Xee(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return $ee(a,s,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function $ee(e,t,n,r=null){let i=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new fw(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new fw(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let a=AE(o,n,r,t);return a?(e&&Yee(e,t,a,i,n),!0):!1}function Yee(e,t,n,r,i){let o=Fe.empty;for(let u=n.length-1;u>=0;u--)o=Fe.from(n[u].type.create(n[u].attrs,o));e.step(new bi(t.start-(r?2:0),t.end,t.start,t.end,new rt(o,0,0),n.length,!0));let s=0;for(let u=0;u<n.length;u++)n[u].type==i&&(s=u+1);let a=n.length-s,l=t.start+n.length-(r?2:0),c=t.parent;for(let u=t.startIndex,d=t.endIndex,h=!0;u<d;u++,h=!1)!h&&n0(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return e}function Jee(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?Qee(t,n,e,o):ete(t,n,o):!0:!1}}function Qee(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new bi(o-1,s,o,s,new rt(Fe.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new fw(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Q0(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return Od(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function ete(e,t,n){let r=e.tr,i=n.parent;for(let f=n.end,m=n.endIndex-1,g=n.startIndex;m>g;m--)f-=i.child(m).nodeSize,r.delete(f-1,f+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(a?0:1),u+1,s.content.append(l?Fe.empty:Fe.from(i))))return!1;let d=o.pos,h=d+s.nodeSize;return r.step(new bi(d-(a?1:0),h+(l?1:0),d+1,h-1,new rt((a?Fe.empty:Fe.from(i.copy(Fe.empty))).append(l?Fe.empty:Fe.from(i.copy(Fe.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function tte(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=Fe.from(c?e.create():null),d=new rt(Fe.from(e.create(null,Fe.from(a.type.create(null,u)))),c?3:1,0),h=o.start,f=o.end;n(t.tr.step(new bi(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}const Pi=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},D0=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let IN=null;const vc=function(e,t,n){let r=IN||(IN=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},nte=function(){IN=null},eh=function(e,t,n,r){return n&&(cR(e,t,n,r,-1)||cR(e,t,n,r,1))},rte=/^(img|br|input|textarea|hr)$/i;function cR(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Rs(e))){let s=e.parentNode;if(!s||s.nodeType!=1||ty(e)||rte.test(e.nodeName)||e.contentEditable=="false")return!1;t=Pi(e)+(i<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=s,t=i<0?Rs(e):0}else return!1}}function Rs(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function ite(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Rs(e)}else if(e.parentNode&&!ty(e))t=Pi(e),e=e.parentNode;else return null}}function ote(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!ty(e))t=Pi(e)+1,e=e.parentNode;else return null}}function ste(e,t,n){for(let r=t==0,i=t==Rs(e);r||i;){if(e==n)return!0;let o=Pi(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==Rs(e)}}function ty(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const d5=function(e){return e.focusNode&&eh(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function yf(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function ate(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function lte(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Rs(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Rs(r.startContainer),r.startOffset)}}}const Dl=typeof navigator<"u"?navigator:null,uR=typeof document<"u"?document:null,Ld=Dl&&Dl.userAgent||"",ON=/Edge\/(\d+)/.exec(Ld),mz=/MSIE \d/.exec(Ld),LN=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ld),Oo=!!(mz||LN||ON),ud=mz?document.documentMode:LN?+LN[1]:ON?+ON[1]:0,zs=!Oo&&/gecko\/(\d+)/i.test(Ld);zs&&+(/Firefox\/(\d+)/.exec(Ld)||[0,0])[1];const MN=!Oo&&/Chrome\/(\d+)/.exec(Ld),gi=!!MN,gz=MN?+MN[1]:0,Xi=!Oo&&!!Dl&&/Apple Computer/.test(Dl.vendor),I0=Xi&&(/Mobile\/\w+/.test(Ld)||!!Dl&&Dl.maxTouchPoints>2),Ns=I0||(Dl?/Mac/.test(Dl.platform):!1),vz=Dl?/Win/.test(Dl.platform):!1,Ac=/Android \d/.test(Ld),ny=!!uR&&"webkitFontSmoothing"in uR.documentElement.style,cte=ny?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ute(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ic(e,t){return typeof e=="number"?e:e[t]}function dte(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function dR(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=D0(s);continue}let a=s,l=a==o.body,c=l?ute(o):dte(a),u=0,d=0;if(t.top<c.top+ic(r,"top")?d=-(c.top-t.top+ic(i,"top")):t.bottom>c.bottom-ic(r,"bottom")&&(d=t.bottom-t.top>c.bottom-c.top?t.top+ic(i,"top")-c.top:t.bottom-c.bottom+ic(i,"bottom")),t.left<c.left+ic(r,"left")?u=-(c.left-t.left+ic(i,"left")):t.right>c.right-ic(r,"right")&&(u=t.right-c.right+ic(i,"right")),u||d)if(l)o.defaultView.scrollBy(u,d);else{let f=a.scrollLeft,m=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let g=a.scrollLeft-f,y=a.scrollTop-m;t={left:t.left-g,top:t.top-y,right:t.right-g,bottom:t.bottom-y}}let h=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(h))break;s=h=="absolute"?s.offsetParent:D0(s)}}function fte(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(o,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:yz(e.dom)}}function yz(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=D0(r));return t}function hte({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;bz(n,r==0?0:r-t)}function bz(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let op=null;function pte(e){if(e.setActive)return e.setActive();if(op)return e.focus(op);let t=yz(e);e.focus(op==null?{get preventScroll(){return op={preventScroll:!0},!0}}:void 0),op||(op=!1,bz(t,0))}function xz(e,t){let n,r=2e8,i,o=0,s=t.top,a=t.top,l,c;for(let u=e.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=vc(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let m=h[f];if(m.top<=s&&m.bottom>=a){s=Math.max(m.bottom,s),a=Math.min(m.top,a);let g=m.left>t.left?m.left-t.left:m.right<t.left?t.left-m.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:m.right<t.left?m.right:m.left,top:t.top}:t,u.nodeType==1&&g&&(o=d+(t.left>=(m.left+m.right)/2?1:0));continue}}else m.top>t.top&&!l&&m.left<=t.left&&m.right>=t.left&&(l=u,c={left:Math.max(m.left,Math.min(m.right,t.left)),top:m.top});!n&&(t.left>=m.right&&t.top>=m.top||t.left>=m.left&&t.top>=m.bottom)&&(o=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?mte(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:xz(n,i)}function mte(e,t){let n=e.nodeValue.length,r=document.createRange(),i;for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let s=yu(r,1);if(s.top!=s.bottom&&jE(t,s)){i={node:e,offset:o+(t.left>=(s.left+s.right)/2?1:0)};break}}return r.detach(),i||{node:e,offset:0}}function jE(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function gte(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function vte(e,t,n){let{node:r,offset:i}=xz(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function yte(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function wz(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(jE(t,c))return wz(s,t,c)}}if((o=(o+1)%r)==i)break}return e}function bte(e,t){let n=e.dom.ownerDocument,r,i=0,o=lte(n,t.left,t.top);o&&({node:r,offset:i}=o);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=e.dom.getBoundingClientRect();if(!jE(t,c)||(s=wz(e.dom,t,c),!s))return null}if(Xi)for(let c=s;r&&c;c=D0(c))c.draggable&&(r=void 0);if(s=gte(s,t),r){if(zs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&i++}let c;ny&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=yte(e,r,i,t))}a==null&&(a=vte(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function fR(e){return e.top<e.bottom||e.left<e.right}function yu(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(fR(r))return r}return Array.prototype.find.call(n,fR)||e.getBoundingClientRect()}const xte=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _z(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=ny||zs;if(r.nodeType==3)if(s&&(xte.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=yu(vc(r,i,i),n);if(zs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=yu(vc(r,i-1,i-1),-1);if(c.top==l.top){let u=yu(vc(r,i,i+1),-1);if(u.top!=l.top)return eg(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,eg(yu(vc(r,l,c),u),u<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Rs(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return jk(l.getBoundingClientRect(),!1)}if(o==null&&i<Rs(r)){let l=r.childNodes[i];if(l.nodeType==1)return jk(l.getBoundingClientRect(),!0)}return jk(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Rs(r))){let l=r.childNodes[i-1],c=l.nodeType==3?vc(l,Rs(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return eg(yu(c,1),!1)}if(o==null&&i<Rs(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?vc(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return eg(yu(c,-1),!0)}return eg(yu(r.nodeType==3?vc(r):r,-n),n>=0)}function eg(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function jk(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function Sz(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function wte(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return Sz(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=_z(e,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=vc(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?s.top-u.top>(u.bottom-s.top)*2:u.bottom-s.bottom>(s.bottom-u.top)*2))return!1}}return!0})}const _te=/[\u0590-\u08ac]/;function Ste(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return a?!_te.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:Sz(e,t,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=e.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:m,focusOffset:g}=e.domSelectionRange(),y=m&&!f.contains(m.nodeType==1?m:m.parentNode)||l==m&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),y}):r.pos==r.start()||r.pos==r.end()}let hR=null,pR=null,mR=!1;function kte(e,t,n){return hR==t&&pR==n?mR:(hR=t,pR=n,mR=n=="up"||n=="down"?wte(e,t,n):Ste(e,t,n))}const Us=0,gR=1,kf=2,Il=3;class ry{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Us,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>Pi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>t||s instanceof Cz){i=t-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof kz&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Pi(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Pi(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],c=s+l.size;if(i==-1&&t<=c){let u=s+l.border;if(t>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,u);t=s;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=Pi(h.dom)+1;break}t-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Pi(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let f=0,m=0;f<this.children.length;f++){let g=this.children[f],y=m+g.size;if(o>m&&s<y)return g.setSelection(t-m-g.border,n-m-g.border,r,i);m=y}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),c=r.root.getSelection(),u=r.domSelectionRange(),d=!1;if((zs||Xi)&&t==n){let{node:f,offset:m}=a;if(f.nodeType==3){if(d=!!(m&&f.nodeValue[m-1]==`
`),d&&m==f.nodeValue.length)for(let g=f,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Pi(y)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=f.childNodes[m-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(zs&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||d&&Xi)&&eh(a.node,a.offset,u.anchorNode,u.anchorOffset)&&eh(l.node,l.offset,u.focusNode,u.focusOffset))return;let h=!1;if((c.extend||t==n)&&!(d&&zs)){c.collapse(a.node,a.offset);try{t!=n&&c.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(t>n){let m=a;a=l,l=m}let f=document.createRange();f.setEnd(l.node,l.offset),f.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(f)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+o.border,l=s-o.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?kf:gR,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Il:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?kf:Il}r=s}this.dirty=kf}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?kf:gR;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class kz extends ry{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==Us&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Cte extends ry{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class th extends ry{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Nh.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new th(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Il||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Il&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Us){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Us}}slice(t,n,r){let i=th.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=BN(o,n,s,r)),t>0&&(o=BN(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class dd extends ry{constructor(t,n,r,i,o,s,a,l,c){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,c=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=Nh.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=Ez(u,r,n),c?l=new Nte(t,n,r,i,u,d||null,h,c,o,s+1):n.isText?new f5(t,n,r,i,u,h,o):new dd(t,n,r,i,u,d||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Fe.empty)}return t}matchesNode(t,n,r){return this.dirty==Us&&t.eq(this.node)&&pw(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Ete(this,s&&s.node,t);Rte(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,t):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?Vn.none:this.node.child(u).marks,r,t),l.placeWidget(c,t,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,t);let f;l.findNodeMatch(c,u,d,h)||a&&t.state.selection.from>i&&t.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(c,u,d,f,t)||l.updateNextNode(c,u,d,t,h,i)||l.addNode(c,u,d,t,i),i+=c.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==kf)&&(s&&this.protectLocalComposition(t,s),Nz(this.contentDOM,this.children,t),I0&&jte(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Tt)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=Dte(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Cte(this,o,n,i);t.input.compositionNodes.push(s),this.children=BN(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==Il||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Us}updateOuterDeco(t){if(pw(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=Az(this.dom,this.nodeDOM,FN(this.outerDeco,this.node,n),FN(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function vR(e,t,n,r,i){Ez(r,t,e);let o=new dd(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class f5 extends dd{constructor(t,n,r,i,o,s,a){super(t,n,r,i,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Il||this.dirty!=Us&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Us||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=Us,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new f5(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Il)}get domAtom(){return!1}isText(t){return this.node.text==t}}class Cz extends ry{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Us&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Nte extends dd{constructor(t,n,r,i,o,s,a,l,c,u){super(t,n,r,i,o,s,a,c,u),this.spec=l}update(t,n,r,i){if(this.dirty==Il)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function Nz(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=yR(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof th){let l=r?r.previousSibling:e.lastChild;Nz(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=yR(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const tv=function(e){e&&(this.nodeName=e)};tv.prototype=Object.create(null);const Cf=[new tv];function FN(e,t,n){if(e.length==0)return Cf;let r=n?Cf[0]:new tv,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new tv(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new tv(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function Az(e,t,n,r){if(n==Cf&&r==Cf)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Cf[0]),i=l}Ate(i,a||Cf[0],s)}return i}function Ate(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function Ez(e,t,n){return Az(e,e,Cf,FN(t,n,e.nodeType!=1))}function pw(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function yR(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class Ete{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Tte(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Us,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(t[o])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=th.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(t,n,r)&&!this.preMatch.matched.has(c)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==Il&&s.dom==s.contentDOM&&(s.dirty=kf),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof dd){let c=this.preMatch.matched.get(l);if(c!=null&&c!=o)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Il&&pw(n,l.outerDeco));if(!h&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,t,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=kf,d.updateChildren(i,s+1),d.dirty=Us),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!pw(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=dd.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,o){let s=dd.create(this.top,t,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new kz(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof th;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof f5)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((Xi||gi)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Cz(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Tte(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof th)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function Pte(e,t){return e.type.side-t.type.side}function Rte(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let c=0;c<e.childCount;c++){let u=e.child(c);r(u,i,t.forChild(o,u),c),o+=u.nodeSize}return}let s=0,a=[],l=null;for(let c=0;;){let u,d;for(;s<i.length&&i[s].to==o;){let y=i[s++];y.widget&&(u?(d||(d=[u])).push(y):u=y)}if(u)if(d){d.sort(Pte);for(let y=0;y<d.length;y++)n(d[y],c,!!l)}else n(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<e.childCount)f=c,h=e.child(c++);else break;for(let y=0;y<a.length;y++)a[y].to<=o&&a.splice(y--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let m=o+h.nodeSize;if(h.isText){let y=m;s<i.length&&i[s].from<y&&(y=i[s].from);for(let v=0;v<a.length;v++)a[v].to<y&&(y=a[v].to);y<m&&(l=h.cut(y-o),h=h.cut(0,y-o),m=y,f=-1)}else for(;s<i.length&&i[s].to<m;)s++;let g=h.isInline&&!h.isLeaf?a.filter(y=>!y.inline):a.slice();r(h,g,t.forChild(o,h),f),o=m}}function jte(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Dte(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let c=e.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let c=a<r?l.lastIndexOf(t,r-a-1):-1;if(c>=0&&c+t.length+a>=n)return a+c;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function BN(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],c=a,u=a+=l.size;c>=n||u<=t?o.push(l):(c<t&&o.push(l.slice(0,t-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function DE(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,c;if(d5(n)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&Et.isSelectable(d)&&i.parent&&!(d.isInline&&ste(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new Et(s==h?a:r.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,h=s;for(let f=0;f<n.rangeCount;f++){let m=n.getRangeAt(f);d=Math.min(d,e.docView.posFromDOM(m.startContainer,m.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(m.endContainer,m.endOffset,-1))}if(d<0)return null;[l,s]=h==e.state.selection.anchor?[h,d]:[d,h],a=r.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;c=IE(e,u,a,d)}return c}function Tz(e){return e.editable?e.hasFocus():Rz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Tc(e,t=!1){let n=e.state.selection;if(Pz(e,n),!!Tz(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&gi){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&eh(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Ote(e);else{let{anchor:r,head:i}=n,o,s;bR&&!(n instanceof Tt)&&(n.$from.parent.inlineContent||(o=xR(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=xR(e,n.to))),e.docView.setSelection(r,i,e,t),bR&&(o&&wR(o),s&&wR(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ite(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const bR=Xi||gi&&gz<63;function xR(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Xi&&i&&i.contentEditable=="false")return Dk(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Dk(i);if(o)return Dk(o)}}function Dk(e){return e.contentEditable="true",Xi&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function wR(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ite(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!Tz(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ote(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,Pi(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&Oo&&ud<=11&&(n.disabled=!0,n.disabled=!1)}function Pz(e,t){if(t instanceof Et){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(_R(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else _R(e)}function _R(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function IE(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Tt.between(t,n,r)}function SR(e){return e.editable&&!e.hasFocus()?!1:Rz(e)}function Rz(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Lte(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return eh(t.node,t.offset,n.anchorNode,n.anchorOffset)}function zN(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&Dt.findFrom(o,t)}function Au(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function kR(e,t,n){let r=e.state.selection;if(r instanceof Tt)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Au(e,new Tt(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=zN(e.state,t);return i&&i instanceof Et?Au(e,i):!1}else if(!(Ns&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?Et.isSelectable(o)?Au(e,new Et(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):ny?Au(e,new Tt(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Et&&r.node.isInline)return Au(e,new Tt(t>0?r.$to:r.$from));{let i=zN(e.state,t);return i?Au(e,i):!1}}}function mw(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function nv(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function sp(e,t){return t<0?Mte(e):Fte(e)}function Mte(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(zs&&n.nodeType==1&&r<mw(n)&&nv(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(nv(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(jz(n))break;{let a=n.previousSibling;for(;a&&nv(a,-1);)i=n.parentNode,o=Pi(a),a=a.previousSibling;if(a)n=a,r=mw(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?UN(e,n,r):i&&UN(e,i,o)}function Fte(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=mw(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(nv(a,1))o=n,s=++r;else break}else{if(jz(n))break;{let a=n.nextSibling;for(;a&&nv(a,1);)o=a.parentNode,s=Pi(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=mw(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&UN(e,o,s)}function jz(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Bte(e,t){for(;e&&t==e.childNodes.length&&!ty(e);)t=Pi(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function zte(e,t){for(;e&&!t&&!ty(e);)t=Pi(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function UN(e,t,n){if(t.nodeType!=3){let o,s;(s=Bte(t,n))?(t=s,n=0):(o=zte(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(d5(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Tc(e)},50)}function CR(e,t){let n=e.state.doc.resolve(t);if(!(gi||vz)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function NR(e,t,n){let r=e.state.selection;if(r instanceof Tt&&!r.empty||n.indexOf("s")>-1||Ns&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=zN(e.state,t);if(s&&s instanceof Et)return Au(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,a=r instanceof Bs?Dt.near(s,t):Dt.findFrom(s,t);return a?Au(e,a):!1}return!1}function AR(e,t){if(!(e.state.selection instanceof Tt))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function ER(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ute(e){if(!Xi||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;ER(e,r,"true"),setTimeout(()=>ER(e,r,"false"),20)}return!1}function qte(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Hte(e,t){let n=t.keyCode,r=qte(t);if(n==8||Ns&&n==72&&r=="c")return AR(e,-1)||sp(e,-1);if(n==46&&!t.shiftKey||Ns&&n==68&&r=="c")return AR(e,1)||sp(e,1);if(n==13||n==27)return!0;if(n==37||Ns&&n==66&&r=="c"){let i=n==37?CR(e,e.state.selection.from)=="ltr"?-1:1:-1;return kR(e,i,r)||sp(e,i)}else if(n==39||Ns&&n==70&&r=="c"){let i=n==39?CR(e,e.state.selection.from)=="ltr"?1:-1:1;return kR(e,i,r)||sp(e,i)}else{if(n==38||Ns&&n==80&&r=="c")return NR(e,-1,r)||sp(e,-1);if(n==40||Ns&&n==78&&r=="c")return Ute(e)||NR(e,1,r)||sp(e,1);if(r==(Ns?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function OE(e,t){e.someProp("transformCopied",f=>{t=f(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let s=e.someProp("clipboardSerializer")||Nh.fromSchema(e.state.schema),a=Fz(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=Mz[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let m=a.createElement(u[f]);for(;l.firstChild;)m.appendChild(l.firstChild);l.appendChild(m),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",f=>f(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:h,slice:t}}function Dz(e,t,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",h=>{t=h(t,o||r,e)}),o)return a=new rt(Fe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",h=>{a=h(a,e,!0)}),a;let d=e.someProp("clipboardTextParser",h=>h(t,i,r,e));if(d)a=d;else{let h=i.marks(),{schema:f}=e.state,m=Nh.fromSchema(f);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let y=s.appendChild(document.createElement("p"));g&&y.appendChild(m.serializeNode(f.text(g,h)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),s=Gte(n),ny&&Zte(s);let c=s&&s.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Qg.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!Wte.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=Xte(TR(a,+u[1],+u[2]),u[4]);else if(a=rt.maxOpen(Vte(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=TR(a,d,h)}return e.someProp("transformPasted",d=>{a=d(a,e,l)}),a}const Wte=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Vte(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),c;if(!l)return s=null;if(c=s.length&&o.length&&Oz(l,o,a,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=Lz(s[s.length-1],o.length));let u=Iz(a,l);s.push(u),i=i.matchType(u.type),o=l}}),s)return Fe.from(s)}return e}function Iz(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Fe.from(e));return e}function Oz(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=Oz(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Fe.from(Iz(n,e,i+1))))}}function Lz(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,Lz(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Fe.empty,!0);return e.copy(n.append(r))}function qN(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),i<r-1&&(a=qN(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Fe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function TR(e,t,n){return t<e.openStart&&(e=new rt(qN(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new rt(qN(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Mz={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let PR=null;function Fz(){return PR||(PR=document.implementation.createHTMLDocument("title"))}let Ik=null;function Kte(e){let t=window.trustedTypes;return t?(Ik||(Ik=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Ik.createHTML(e)):e}function Gte(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=Fz().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&Mz[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=Kte(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Zte(e){let t=e.querySelectorAll(gi?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Xte(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Fe.from(l.create(r[a+1],i)),o++,s++}return new rt(i,o,s)}const go={},vo={},$te={touchstart:!0,touchmove:!0};class Yte{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Jte(e){for(let t in go){let n=go[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{ene(e,r)&&!LE(e,r)&&(e.editable||!(r.type in vo))&&n(e,r)},$te[t]?{passive:!0}:void 0)}Xi&&e.dom.addEventListener("input",()=>null),HN(e)}function Vu(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Qte(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function HN(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>LE(e,r))})}function LE(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function ene(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function tne(e,t){!LE(e,t)&&go[t.type]&&(e.editable||!(t.type in vo))&&go[t.type](e,t)}vo.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!zz(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Ac&&gi&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),I0&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,yf(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Hte(e,n)?n.preventDefault():Vu(e,"key")};vo.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};vo.keypress=(e,t)=>{let n=t;if(zz(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ns&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Tt)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function h5(e){return{left:e.clientX,top:e.clientY}}function nne(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function ME(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,a=>s>o.depth?a(e,n,o.nodeAfter,o.before(s),i,!0):a(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function i0(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function rne(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&Et.isSelectable(r)?(i0(e,new Et(n)),!0):!1}function ine(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof Et&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Et.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(i0(e,Et.create(e.state.doc,i)),!0):!1}function one(e,t,n,r,i){return ME(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?ine(e,n):rne(e,n))}function sne(e,t,n,r){return ME(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function ane(e,t,n,r){return ME(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||lne(e,n,r)}function lne(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(i0(e,Tt.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)i0(e,Tt.create(r,a+1,a+1+s.content.size));else if(Et.isSelectable(s))i0(e,Et.create(r,a));else continue;return!0}}function FE(e){return gw(e)}const Bz=Ns?"metaKey":"ctrlKey";go.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=FE(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&nne(n,e.input.lastClick)&&!n[Bz]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=e.posAtCoords(h5(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new cne(e,s,n,!!r)):(o=="doubleClick"?sne:ane)(e,s.pos,s.inside,n)?n.preventDefault():Vu(e,"pointer"))};class cne{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[Bz],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let u=t.state.doc.resolve(n.pos);o=u.parent,s=u.depth?u.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:c}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||c instanceof Et&&c.from<=s&&c.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vu(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Tc(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(h5(t))),this.updateAllowDefault(t),this.allowDefault||!n?Vu(this.view,"pointer"):one(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||Xi&&this.mightDrag&&!this.mightDrag.node.isAtom||gi&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(i0(this.view,Dt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Vu(this.view,"pointer")}move(t){this.updateAllowDefault(t),Vu(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}go.touchstart=e=>{e.input.lastTouch=Date.now(),FE(e),Vu(e,"pointer")};go.touchmove=e=>{e.input.lastTouch=Date.now(),Vu(e,"pointer")};go.contextmenu=e=>FE(e);function zz(e,t){return e.composing?!0:Xi&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const une=Ac?5e3:-1;vo.compositionstart=vo.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Tt&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||gi&&vz&&dne(e)))e.markCursor=e.state.storedMarks||n.marks(),gw(e,!0),e.markCursor=null;else if(gw(e,!t.selection.empty),zs&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=e.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}Uz(e,une)};function dne(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let r=t.childNodes[n];return r.nodeType==1&&r.contentEditable=="false"}vo.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Uz(e,20))};function Uz(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>gw(e),t))}function qz(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=hne());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function fne(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=ite(t.focusNode,t.focusOffset),r=ote(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function hne(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function gw(e,t=!1){if(!(Ac&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),qz(e),t||e.docView&&e.docView.dirty){let n=DE(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function pne(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const s1=Oo&&ud<15||I0&&cte<604;go.copy=vo.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=s1?null:n.clipboardData,s=r.content(),{dom:a,text:l}=OE(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):pne(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function mne(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function gne(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?a1(e,r.value,null,i,t):a1(e,r.textContent,r.innerHTML,i,t)},50)}function a1(e,t,n,r,i){let o=Dz(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||rt.empty)))return!0;if(!o)return!1;let s=mne(o),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Hz(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}vo.paste=(e,t)=>{let n=t;if(e.composing&&!Ac)return;let r=s1?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&a1(e,Hz(r),r.getData("text/html"),i,n)?n.preventDefault():gne(e,n)};class Wz{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const vne=Ns?"altKey":"ctrlKey";function Vz(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[vne]}go.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(h5(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Et?i.to-1:i.to))){if(r&&r.mightDrag)s=Et.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(s=Et.create(e.state.doc,d.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:c,slice:u}=OE(e,a);(!n.dataTransfer.files.length||!gi||gz>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(s1?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",s1||n.dataTransfer.setData("text/plain",c),e.dragging=new Wz(u,Vz(e,n),s)};go.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};vo.dragover=vo.dragenter=(e,t)=>t.preventDefault();vo.drop=(e,t)=>{try{yne(e,t,e.dragging)}finally{e.dragging=null}};function yne(e,t,n){if(!t.dataTransfer)return;let r=e.posAtCoords(h5(t));if(!r)return;let i=e.state.doc.resolve(r.pos),o=n&&n.slice;o?e.someProp("transformPasted",f=>{o=f(o,e,!1)}):o=Dz(e,Hz(t.dataTransfer),s1?null:t.dataTransfer.getData("text/html"),!1,i);let s=!!(n&&Vz(e,t));if(e.someProp("handleDrop",f=>f(e,t,o||rt.empty,s))){t.preventDefault();return}if(!o)return;t.preventDefault();let a=o?tz(e.state.doc,i.pos,o):i.pos;a==null&&(a=i.pos);let l=e.state.tr;if(s){let{node:f}=n;f?f.replace(l):l.deleteSelection()}let c=l.mapping.map(a),u=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,d=l.doc;if(u?l.replaceRangeWith(c,c,o.content.firstChild):l.replaceRange(c,c,o),l.doc.eq(d))return;let h=l.doc.resolve(c);if(u&&Et.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))l.setSelection(new Et(h));else{let f=l.mapping.map(a);l.mapping.maps[l.mapping.maps.length-1].forEach((m,g,y,v)=>f=v),l.setSelection(IE(e,h,l.doc.resolve(f)))}e.focus(),e.dispatch(l.setMeta("uiEvent","drop"))}go.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Tc(e)},20))};go.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};go.beforeinput=(e,t)=>{if(gi&&Ac&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,yf(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in vo)go[e]=vo[e];function l1(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class vw{constructor(t,n){this.toDOM=t,this.spec=n||Uf,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new si(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof vw&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&l1(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class fd{constructor(t,n){this.attrs=t,this.spec=n||Uf}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new si(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof fd&&l1(this.attrs,t.attrs)&&l1(this.spec,t.spec)}static is(t){return t.type instanceof fd}destroy(){}}class BE{constructor(t,n){this.attrs=t,this.spec=n||Uf}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new si(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof BE&&l1(this.attrs,t.attrs)&&l1(this.spec,t.spec)}destroy(){}}class si{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new si(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new si(t,t,new vw(n,r))}static inline(t,n,r,i){return new si(t,n,new fd(r,i))}static node(t,n,r,i){return new si(t,n,new BE(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof fd}get widget(){return this.type instanceof vw}}const Cp=[],Uf={};class Wn{constructor(t,n){this.local=t.length?t:Cp,this.children=n.length?n:Cp}static create(t,n){return n.length?yw(n,t,0,Uf):Ki}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,i+a,o)}}map(t,n,r){return this==Ki||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Uf)}mapInner(t,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?bne(this.children,s||[],t,n,r,i,o):s?new Wn(s.sort(qf),Cp):Ki}add(t,n){return n.length?this==Ki?Wn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((a,l)=>{let c=l+r,u;if(u=Gz(n,a,c)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,u,c+1):i.splice(o,0,l,l+a.nodeSize,yw(u,a,c+1,Uf)),o+=3}});let s=Kz(o?Zz(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new Wn(s.length?this.local.concat(s).sort(qf):this.local,i||this.children)}remove(t){return t.length==0||this==Ki?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let u=0,d;u<t.length;u++)(d=t[u])&&d.from>a&&d.to<l&&(t[u]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let c=r[o+2].removeInner(s,a+1);c!=Ki?r[o+2]=c:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Wn(i,r):Ki}forChild(t,n){if(this==Ki)return this;if(n.isLeaf)return Wn.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof fd){let c=Math.max(o,l.from)-o,u=Math.min(s,l.to)-o;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new Wn(i.sort(qf),Cp);return r?new Iu([a,r]):a}return r||Ki}eq(t){if(this==t)return!0;if(!(t instanceof Wn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return zE(this.localsInner(t))}localsInner(t){if(this==Ki)return Cp;if(t.inlineContent||!this.local.some(fd.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof fd||n.push(this.local[r]);return n}forEachSet(t){t(this)}}Wn.empty=new Wn([],[]);Wn.removeOverlap=zE;const Ki=Wn.empty;class Iu{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Uf));return Iu.from(r)}forChild(t,n){if(n.isLeaf)return Wn.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=Ki&&(o instanceof Iu?r=r.concat(o.members):r.push(o))}return Iu.from(r)}eq(t){if(!(t instanceof Iu)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?zE(r?n:n.sort(qf)):Cp}static from(t){switch(t.length){case 0:return Ki;case 1:return t[0];default:return new Iu(t.every(n=>n instanceof Wn)?t:t.reduce((n,r)=>n.concat(r instanceof Wn?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function bne(e,t,n,r,i,o,s){let a=e.slice();for(let c=0,u=o;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,f,m,g)=>{let y=g-m-(f-h);for(let v=0;v<a.length;v+=3){let x=a[v+1];if(x<0||h>x+u-d)continue;let _=a[v]+u-d;f>=_?a[v+1]=h<=_?-2:-1:h>=u&&y&&(a[v]+=y,a[v+1]+=y)}d+=y}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(e[c]+o),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(e[c+1]+o,-1),f=h-i,{index:m,offset:g}=r.content.findIndex(d),y=r.maybeChild(m);if(y&&g==d&&g+y.nodeSize==f){let v=a[c+2].mapInner(n,y,u+1,e[c]+o+1,s);v!=Ki?(a[c]=d,a[c+1]=f,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=xne(a,e,t,n,i,o,s),u=yw(c,r,0,s);t=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let f=u.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new Wn(t.sort(qf),a)}function Kz(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new si(i.from+t,i.to+t,i.type))}return n}function xne(e,t,n,r,i,o,s){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):s.onRemove&&s.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function Gz(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function Zz(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function yw(e,t,n,r){let i=[],o=!1;t.forEach((a,l)=>{let c=Gz(e,a,l+n);if(c){o=!0;let u=yw(c,a,n+l+1,r);u!=Ki&&i.push(l,l+a.nodeSize,u)}});let s=Kz(o?Zz(e):e,-n).sort(qf);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new Wn(s,i):Ki}function qf(e,t){return e.from-t.from||e.to-t.to}function zE(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),RR(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),RR(t,i,r.copy(o.from,r.to)));break}}}return t}function RR(e,t,n){for(;t<e.length&&qf(n,e[t])>0;)t++;e.splice(t,0,n)}function Ok(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Ki&&t.push(r)}),e.cursorWrapper&&t.push(Wn.create(e.state.doc,[e.cursorWrapper.deco])),Iu.from(t)}const wne={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},_ne=Oo&&ud<=11;class Sne{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class kne{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Sne,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Oo&&ud<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),_ne&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,wne)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(SR(this.view)){if(this.suppressingSelectionUpdates)return Tc(this.view);if(Oo&&ud<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&eh(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=D0(o))n.add(o);for(let o=t.anchorNode;o;o=D0(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&SR(t)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(zs&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||Ane(t,d)!=f)&&h.remove()}}}else if((gi||Xi)&&l.some(u=>u.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let u of l)if(u.nodeName=="BR"&&u.parentNode){let d=u.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&u.parentNode.removeChild(u)}}let c=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&d5(r)&&(c=DE(t))&&c.eq(Dt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Tc(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),Cne(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Tc(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let u=0;u<t.addedNodes.length;u++){let d=t.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(Oo&&ud<=11&&t.addedNodes.length)for(let u=0;u<t.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=t.addedNodes[u];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(o=h)}let s=i&&i.parentNode==t.target?Pi(i)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?Pi(o):t.target.childNodes.length,c=r.localPosFromDOM(t.target,l,1);return{from:a,to:c}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let jR=new WeakMap,DR=!1;function Cne(e){if(!jR.has(e)&&(jR.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=zs,DR)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),DR=!0}}function IR(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return eh(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function Nne(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return IR(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?IR(e,n):null}function Ane(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function Ene(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),c,u=l.anchorNode;if(u&&e.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],d5(l)||c.push({node:l.focusNode,offset:l.focusOffset})),gi&&e.input.lastKeyCode===8)for(let y=o;y>i;y--){let v=r.childNodes[y-1],x=v.pmViewDesc;if(v.nodeName=="BR"&&!x){o=y;break}if(!x||x.size)break}let d=e.state.doc,h=e.someProp("domParser")||Qg.fromSchema(e.state.schema),f=d.resolve(s),m=null,g=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:o,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Tne,context:f});if(c&&c[0].pos!=null){let y=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=y),m={anchor:y+s,head:v+s}}return{doc:g,sel:m,from:s,to:a}}function Tne(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(Xi&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||Xi&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Pne=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Rne(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let P=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,N=DE(e,P);if(N&&!e.state.selection.eq(N)){if(gi&&Ac&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",D=>D(e,yf(13,"Enter"))))return;let A=e.state.tr.setSelection(N);P=="pointer"?A.setMeta("pointer",!0):P=="key"&&A.scrollIntoView(),o&&A.setMeta("composition",o),e.dispatch(A)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,c=Ene(e,t,n),u=e.state.doc,d=u.slice(c.from,c.to),h,f;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,f="end"):(h=e.state.selection.from,f="start"),e.input.lastKeyCode=null;let m=Ine(d.content,c.doc.content,c.from,h,f);if(m&&e.input.domChangeCount++,(I0&&e.input.lastIOSEnter>Date.now()-225||Ac)&&i.some(P=>P.nodeType==1&&!Pne.test(P.nodeName))&&(!m||m.endA>=m.endB)&&e.someProp("handleKeyDown",P=>P(e,yf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!m)if(r&&l instanceof Tt&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))m={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=OR(e,e.state.doc,c.sel);if(P&&!P.eq(e.state.selection)){let N=e.state.tr.setSelection(P);o&&N.setMeta("composition",o),e.dispatch(N)}}return}e.state.selection.from<e.state.selection.to&&m.start==m.endB&&e.state.selection instanceof Tt&&(m.start>e.state.selection.from&&m.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?m.start=e.state.selection.from:m.endA<e.state.selection.to&&m.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(m.endB+=e.state.selection.to-m.endA,m.endA=e.state.selection.to)),Oo&&ud<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>c.from&&c.doc.textBetween(m.start-c.from-1,m.start-c.from+1)==" "&&(m.start--,m.endA--,m.endB--);let g=c.doc.resolveNoCache(m.start-c.from),y=c.doc.resolveNoCache(m.endB-c.from),v=u.resolve(m.start),x=g.sameParent(y)&&g.parent.inlineContent&&v.end()>=m.endA;if((I0&&e.input.lastIOSEnter>Date.now()-225&&(!x||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!x&&g.pos<c.doc.content.size&&(!g.sameParent(y)||!g.parent.inlineContent)&&g.pos<y.pos&&!/\S/.test(c.doc.textBetween(g.pos,y.pos,"","")))&&e.someProp("handleKeyDown",P=>P(e,yf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>m.start&&Dne(u,m.start,m.endA,g,y)&&e.someProp("handleKeyDown",P=>P(e,yf(8,"Backspace")))){Ac&&gi&&e.domObserver.suppressSelectionUpdates();return}gi&&m.endB==m.start&&(e.input.lastChromeDelete=Date.now()),Ac&&!x&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==m.endA&&(m.endB-=2,y=c.doc.resolveNoCache(m.endB-c.from),setTimeout(()=>{e.someProp("handleKeyDown",function(P){return P(e,yf(13,"Enter"))})},20));let _=m.start,S=m.endA,k=P=>{let N=P||e.state.tr.replace(_,S,c.doc.slice(m.start-c.from,m.endB-c.from));if(c.sel){let A=OR(e,N.doc,c.sel);A&&!(gi&&e.composing&&A.empty&&(m.start!=m.endB||e.input.lastChromeDelete<Date.now()-100)&&(A.head==_||A.head==N.mapping.map(S)-1)||Oo&&A.empty&&A.head==_)&&N.setSelection(A)}return o&&N.setMeta("composition",o),N.scrollIntoView()},T;if(x)if(g.pos==y.pos){Oo&&ud<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Tc(e),20));let P=k(e.state.tr.delete(_,S)),N=u.resolve(m.start).marksAcross(u.resolve(m.endA));N&&P.ensureMarks(N),e.dispatch(P)}else if(m.endA==m.endB&&(T=jne(g.parent.content.cut(g.parentOffset,y.parentOffset),v.parent.content.cut(v.parentOffset,m.endA-v.start())))){let P=k(e.state.tr);T.type=="add"?P.addMark(_,S,T.mark):P.removeMark(_,S,T.mark),e.dispatch(P)}else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let P=g.parent.textBetween(g.parentOffset,y.parentOffset),N=()=>k(e.state.tr.insertText(P,_,S));e.someProp("handleTextInput",A=>A(e,_,S,P,N))||e.dispatch(N())}else e.dispatch(k());else e.dispatch(k())}function OR(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:IE(e,t.resolve(n.anchor),t.resolve(n.head))}function jne(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)o=n[u].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<t.childCount;u++)c.push(l(t.child(u)));if(Fe.from(c).eq(e))return{mark:a,type:s}}function Dne(e,t,n,r,i){if(n-t<=i.pos-r.pos||Lk(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(Lk(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Lk(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Lk(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Ine(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&e.size<t.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&LR(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&LR(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function LR(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Xz{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Yte,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(UR),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=BR(this),FR(this),this.nodeViews=zR(this),this.docView=vR(this.state.doc,MR(this),Ok(this),this.dom,this),this.domObserver=new kne(this,(r,i,o,s)=>Rne(this,r,i,o,s)),this.domObserver.start(),Jte(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&HN(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(UR),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(qz(this),s=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=zR(this);Lne(f,this.nodeViews)&&(this.nodeViews=f,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&HN(this),this.editable=BR(this),FR(this);let l=Ok(this),c=MR(this),u=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,c,l);(d||!t.selection.eq(i.selection))&&(s=!0);let h=u=="preserve"&&s&&this.dom.style.overflowAnchor==null&&fte(this);if(s){this.domObserver.stop();let f=d&&(Oo||gi)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&One(i.selection,t.selection);if(d){let m=gi?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=fne(this)),(o||!this.docView.update(t.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=vR(t.doc,c,l,this.dom,this)),m&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Lte(this))?Tc(this,f):(Pz(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&hte(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Et){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&dR(this,n.getBoundingClientRect(),t)}else dR(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Wz(t.slice,t.move,i<0?void 0:Et.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Oo){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&pte(this.dom),Tc(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return bte(this,t)}coordsAtPos(t,n=1){return _z(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return kte(this,n||this.state,t)}pasteHTML(t,n){return a1(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return a1(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return OE(this,t)}destroy(){this.docView&&(Qte(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ok(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,nte())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return tne(this,t)}domSelectionRange(){let t=this.domSelection();return t?Xi&&this.root.nodeType===11&&ate(this.dom.ownerDocument)==this.dom&&Nne(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Xz.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function MR(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[si.node(0,e.state.doc.content.size,t)]}function FR(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:si.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function BR(e){return!e.someProp("editable",t=>t(e.state)===!1)}function One(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function zR(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function Lne(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function UR(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var kd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bw={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Mne=typeof navigator<"u"&&/Mac/.test(navigator.platform),Fne=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ri=0;Ri<10;Ri++)kd[48+Ri]=kd[96+Ri]=String(Ri);for(var Ri=1;Ri<=24;Ri++)kd[Ri+111]="F"+Ri;for(var Ri=65;Ri<=90;Ri++)kd[Ri]=String.fromCharCode(Ri+32),bw[Ri]=String.fromCharCode(Ri);for(var Mk in kd)bw.hasOwnProperty(Mk)||(bw[Mk]=kd[Mk]);function Bne(e){var t=Mne&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||Fne&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?bw:kd)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const zne=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Une=typeof navigator<"u"&&/Win/.test(navigator.platform);function qne(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))zne?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Hne(e){let t=Object.create(null);for(let n in e)t[qne(n)]=e[n];return t}function Fk(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Wne(e){return new Yn({props:{handleKeyDown:UE(e)}})}function UE(e){let t=Hne(e);return function(n,r){let i=Bne(r),o,s=t[Fk(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[Fk(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Une&&r.ctrlKey&&r.altKey)&&(o=kd[r.keyCode])&&o!=i){let a=t[Fk(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var Vne=Object.defineProperty,qE=(e,t)=>{for(var n in t)Vne(e,n,{get:t[n],enumerable:!0})};function p5(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}var m5=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([s,a])=>[s,(...c)=>{const u=a(...c)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),u}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s=[],a=!!e,l=e||i.tr,c=()=>(!a&&t&&!l.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(l),s.every(d=>d===!0)),u={...Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...m)=>{const g=this.buildProps(l,t),y=h(...m)(g);return s.push(y),u}])),run:c};return u}createCan(e){const{rawCommands:t,state:n}=this,r=!1,i=e||n.tr,o=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>l(...c)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:i}=this,{view:o}=r,s={tr:e,editor:r,view:o,state:p5({state:i,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([a,l])=>[a,(...c)=>l(...c)(s)]))}};return s}},$z={};qE($z,{blur:()=>Kne,clearContent:()=>Gne,clearNodes:()=>Zne,command:()=>Xne,createParagraphNear:()=>$ne,cut:()=>Yne,deleteCurrentNode:()=>Jne,deleteNode:()=>Qne,deleteRange:()=>ere,deleteSelection:()=>tre,enter:()=>nre,exitCode:()=>rre,extendMarkRange:()=>ire,first:()=>ore,focus:()=>are,forEach:()=>lre,insertContent:()=>cre,insertContentAt:()=>fre,joinBackward:()=>mre,joinDown:()=>pre,joinForward:()=>gre,joinItemBackward:()=>vre,joinItemForward:()=>yre,joinTextblockBackward:()=>bre,joinTextblockForward:()=>xre,joinUp:()=>hre,keyboardShortcut:()=>_re,lift:()=>Sre,liftEmptyBlock:()=>kre,liftListItem:()=>Cre,newlineInCode:()=>Nre,resetAttributes:()=>Are,scrollIntoView:()=>Ere,selectAll:()=>Tre,selectNodeBackward:()=>Pre,selectNodeForward:()=>Rre,selectParentNode:()=>jre,selectTextblockEnd:()=>Dre,selectTextblockStart:()=>Ire,setContent:()=>Ore,setMark:()=>eie,setMeta:()=>tie,setNode:()=>nie,setNodeSelection:()=>rie,setTextDirection:()=>iie,setTextSelection:()=>oie,sinkListItem:()=>sie,splitBlock:()=>aie,splitListItem:()=>lie,toggleList:()=>cie,toggleMark:()=>uie,toggleNode:()=>die,toggleWrap:()=>fie,undoInputRule:()=>hie,unsetAllMarks:()=>pie,unsetMark:()=>mie,unsetTextDirection:()=>gie,updateAttributes:()=>vie,wrapIn:()=>yie,wrapInList:()=>bie});var Kne=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),Gne=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Zne=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=t,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const m=Q0(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(f.start,g)}(m||m===0)&&t.lift(f,m)})}),!0},Xne=e=>t=>e(t),$ne=()=>({state:e,dispatch:t})=>qee(e,t),Yne=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,o.content),r.setSelection(new Tt(r.doc.resolve(Math.max(s-1,0)))),!0},Jne=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const a=i.before(o),l=i.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1};function Hr(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Qne=e=>({tr:t,state:n,dispatch:r})=>{const i=Hr(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),c=o.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},ere=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},tre=()=>({state:e,dispatch:t})=>Pee(e,t),nre=()=>({commands:e})=>e.keyboardShortcut("Enter"),rre=()=>({state:e,dispatch:t})=>Uee(e,t);function HE(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function xw(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:HE(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function Yz(e,t,n={}){return e.find(r=>r.type===t&&xw(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function qR(e,t,n={}){return!!Yz(e,t,n)}function WE(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(u=>u.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(u=>u.type===t)||(n=n||((r=i.node.marks[0])==null?void 0:r.attrs),!Yz([...i.node.marks],t,n)))return;let s=i.index,a=e.start()+i.offset,l=s+1,c=a+i.node.nodeSize;for(;s>0&&qR([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&qR([...e.parent.child(l).marks],t,n);)c+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:c}}function zc(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var ire=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=zc(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=WE(l,o,t);if(d&&d.from<=c&&d.to>=u){const h=Tt.create(s,d.from,d.to);n.setSelection(h)}}return!0},ore=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function Jz(e){return e instanceof Tt}function Nf(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Qz(e,t=null){if(!t)return null;const n=Dt.atStart(e),r=Dt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?Tt.create(e,Nf(0,i,o),Nf(e.content.size,i,o)):Tt.create(e,Nf(t,i,o),Nf(t,i,o))}function HR(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function ww(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function sre(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var are=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{(ww()||HR())&&r.dom.focus(),sre()&&!ww()&&!HR()&&r.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!Jz(n.state.selection))return s(),!0;const a=Qz(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},lre=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),cre=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),e9=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&e9(r)}return e};function Ub(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return e9(n)}function c1(e,t,n){if(e instanceof Fs||e instanceof Fe)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Fe.fromArray(e.map(a=>t.nodeFromJSON(a)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),c1("",t,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new WB({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(s=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Qg.fromSchema(l).parseSlice(Ub(e),n.parseOptions):Qg.fromSchema(l).parse(Ub(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Qg.fromSchema(t);return n.slice?o.parseSlice(Ub(e),n.parseOptions).content:o.parse(Ub(e),n.parseOptions)}return c1("",t,n)}function ure(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof pi||i instanceof bi))return;const o=e.mapping.maps[r];let s=0;o.forEach((a,l,c,u)=>{s===0&&(s=u)}),e.setSelection(Dt.near(e.doc.resolve(s),n))}var dre=e=>!("type"in e),fre=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=y=>{o.emit("contentError",{editor:o,error:y,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},c={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{c1(t,o.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(y){l(y)}try{a=c1(t,o.schema,{parseOptions:c,errorOnInvalidContent:(s=n.errorOnInvalidContent)!=null?s:o.options.enableContentCheck})}catch(y){return l(y),!1}let{from:u,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,f=!0;if((dre(a)?a:[a]).forEach(y=>{y.check(),h=h?y.isText&&y.marks.length===0:!1,f=f?y.isBlock:!1}),u===d&&f){const{parent:y}=r.doc.resolve(u);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(u-=1,d+=1)}let g;if(h){if(Array.isArray(t))g=t.map(y=>y.text||"").join("");else if(t instanceof Fe){let y="";t.forEach(v=>{v.text&&(y+=v.text)}),g=y}else typeof t=="object"&&t&&t.text?g=t.text:g=t;r.insertText(g,u,d)}else{g=a;const y=r.doc.resolve(u),v=y.node(),x=y.parentOffset===0,_=v.isText||v.isTextblock,S=v.content.size>0;x&&_&&S&&(u=Math.max(0,u-1)),r.replaceWith(u,d,g)}n.updateSelection&&ure(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:g}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:g})}return!0},hre=()=>({state:e,dispatch:t})=>Mee(e,t),pre=()=>({state:e,dispatch:t})=>Fee(e,t),mre=()=>({state:e,dispatch:t})=>Ree(e,t),gre=()=>({state:e,dispatch:t})=>Oee(e,t),vre=()=>({state:e,dispatch:t,tr:n})=>{try{const r=l5(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},yre=()=>({state:e,dispatch:t,tr:n})=>{try{const r=l5(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},bre=()=>({state:e,dispatch:t})=>jee(e,t),xre=()=>({state:e,dispatch:t})=>Dee(e,t);function t9(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function wre(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))ww()||t9()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var _re=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=wre(e).split(/-(?!$)/),s=o.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l?.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Cd(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?Hr(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),m=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:m})});const l=i-r,c=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>xw(d.node.attrs,n,{strict:!1}));return o?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}var Sre=(e,t={})=>({state:n,dispatch:r})=>{const i=Hr(e,n.schema);return Cd(n,i,t)?Bee(n,r):!1},kre=()=>({state:e,dispatch:t})=>Hee(e,t),Cre=e=>({state:t,dispatch:n})=>{const r=Hr(e,t.schema);return Jee(r)(t,n)},Nre=()=>({state:e,dispatch:t})=>zee(e,t);function g5(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function WR(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}var Are=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=g5(typeof e=="string"?e:e.name,r.schema);if(!a)return!1;a==="node"&&(o=Hr(e,r.schema)),a==="mark"&&(s=zc(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{r.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,d)=>{o&&o===u.type&&(l=!0,i&&n.setNodeMarkup(d,void 0,WR(u.attrs,t))),s&&u.marks.length&&u.marks.forEach(h=>{s===h.type&&(l=!0,i&&n.addMark(d,d+u.nodeSize,s.create(WR(h.attrs,t))))})})}),l},Ere=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Tre=()=>({tr:e,dispatch:t})=>{if(t){const n=new Bs(e.doc);e.setSelection(n)}return!0},Pre=()=>({state:e,dispatch:t})=>Iee(e,t),Rre=()=>({state:e,dispatch:t})=>Lee(e,t),jre=()=>({state:e,dispatch:t})=>Wee(e,t),Dre=()=>({state:e,dispatch:t})=>Gee(e,t),Ire=()=>({state:e,dispatch:t})=>Kee(e,t);function WN(e,t,n={},r={}){return c1(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}var Ore=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:r={}}={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{const{doc:l}=o;if(r.preserveWhitespace!=="full"){const c=WN(e,i.schema,r,{errorOnInvalidContent:t??i.options.enableContentCheck});return s&&o.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!n),!0}return s&&o.setMeta("preventUpdate",!n),a.insertContentAt({from:0,to:l.content.size},e,{parseOptions:r,errorOnInvalidContent:t??i.options.enableContentCheck})};function n9(e,t){const n=zc(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function r9(e,t){const n=new EE(e);return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function Lre(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Mre(e,t,n){const r=[];return e.nodesBetween(t.from,t.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function i9(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function v5(e){return t=>i9(t.$from,e)}function At(e,t,n){return e.config[t]===void 0&&e.parent?At(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?At(e.parent,t,n):null}):e.config[t]}function VE(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},r=At(t,"addExtensions",n);return r?[t,...VE(r())]:t}).flat(10)}function KE(e,t){const n=Nh.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function o9(e){return typeof e=="function"}function In(e,t=void 0,...n){return o9(e)?t?e.bind(t)(...n):e(...n):e}function Fre(e={}){return Object.keys(e).length===0&&e.constructor===Object}function O0(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function s9(e){const t=[],{nodeExtensions:n,markExtensions:r}=O0(e),i=[...n,...r],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=At(s,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{t.push({type:d,name:h,attribute:{...o,...f}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=At(s,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...o,...d};typeof h?.default=="function"&&(h.default=h.default()),h?.isRequired&&h?.default===void 0&&delete h.default,t.push({type:s.name,name:u,attribute:h})})}),t}function Sn(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=o?o.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=o}),r},{})}function _w(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Sn(n,r),{})}function Bre(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function VR(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):Bre(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function KR(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Fre(n)?!1:n!=null))}function GR(e){var t,n;const r={};return!((t=e?.attribute)!=null&&t.isRequired)&&"default"in(e?.attribute||{})&&(r.default=e.attribute.default),((n=e?.attribute)==null?void 0:n.validate)!==void 0&&(r.validate=e.attribute.validate),[e.name,r]}function zre(e,t){var n;const r=s9(e),{nodeExtensions:i,markExtensions:o}=O0(e),s=(n=i.find(c=>At(c,"topNode")))==null?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((v,x)=>{const _=At(x,"extendNodeSchema",d);return{...v,..._?_(c):{}}},{}),f=KR({...h,content:In(At(c,"content",d)),marks:In(At(c,"marks",d)),group:In(At(c,"group",d)),inline:In(At(c,"inline",d)),atom:In(At(c,"atom",d)),selectable:In(At(c,"selectable",d)),draggable:In(At(c,"draggable",d)),code:In(At(c,"code",d)),whitespace:In(At(c,"whitespace",d)),linebreakReplacement:In(At(c,"linebreakReplacement",d)),defining:In(At(c,"defining",d)),isolating:In(At(c,"isolating",d)),attrs:Object.fromEntries(u.map(GR))}),m=In(At(c,"parseHTML",d));m&&(f.parseDOM=m.map(v=>VR(v,u)));const g=At(c,"renderHTML",d);g&&(f.toDOM=v=>g({node:v,HTMLAttributes:_w(v,u)}));const y=At(c,"renderText",d);return y&&(f.toText=y),[c.name,f]})),l=Object.fromEntries(o.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:t},h=e.reduce((y,v)=>{const x=At(v,"extendMarkSchema",d);return{...y,...x?x(c):{}}},{}),f=KR({...h,inclusive:In(At(c,"inclusive",d)),excludes:In(At(c,"excludes",d)),group:In(At(c,"group",d)),spanning:In(At(c,"spanning",d)),code:In(At(c,"code",d)),attrs:Object.fromEntries(u.map(GR))}),m=In(At(c,"parseHTML",d));m&&(f.parseDOM=m.map(y=>VR(y,u)));const g=At(c,"renderHTML",d);return g&&(f.toDOM=y=>g({mark:y,HTMLAttributes:_w(y,u)})),[c.name,f]}));return new WB({topNode:s,nodes:a,marks:l})}function Ure(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}function Sw(e){return e.sort((n,r)=>{const i=At(n,"priority")||100,o=At(r,"priority")||100;return i>o?-1:i<o?1:0})}function a9(e){const t=Sw(VE(e)),n=Ure(t.map(r=>r.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),t}function l9(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=o);const f=s?.[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:t})),!1;l.isText&&(a+=(h=l?.text)==null?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function qre(e,t){const n={from:0,to:e.content.size};return l9(e,n,t)}function c9(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Hre(e,t){const n=Hr(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function u9(e,t){const n=g5(typeof t=="string"?t:t.name,e.schema);return n==="node"?Hre(e,t):n==="mark"?n9(e,t):{}}function Wre(e,t=JSON.stringify){const n={};return e.filter(r=>{const i=t(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function Vre(e){const t=Wre(e);return t.length===1?t:t.filter((n,r)=>!t.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function d9(e){const{mapping:t,steps:n}=e,r=[];return t.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const c=t.slice(o).map(a,-1),u=t.slice(o).map(l),d=t.invert().map(c,-1),h=t.invert().map(u);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),Vre(r)}function GE(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),s=WE(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}var Kre=(e,t,n,r=20)=>{const i=e.doc.resolve(n);let o=r,s=null;for(;o>0&&s===null;){const a=i.node(o);a?.type.name===t?s=a:o-=1}return[s,o]};function qb(e,t){return t.nodes[e]||t.marks[e]||null}function nx(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}var Gre=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,s,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-o))}),n};function VN(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?zc(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>xw(d.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,m=h.pos;e.doc.nodesBetween(f,m,(g,y)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(f,y),x=Math.min(m,y+g.nodeSize),_=x-v;s+=_,a.push(...g.marks.map(S=>({mark:S,from:v,to:x})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>xw(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=s}function Zre(e,t,n={}){if(!t)return Cd(e,null,n)||VN(e,null,n);const r=g5(t,e.schema);return r==="node"?Cd(e,t,n):r==="mark"?VN(e,t,n):!1}var Xre=(e,t)=>{const{$from:n,$to:r,$anchor:i}=e.selection;if(t){const o=v5(a=>a.type.name===t)(e.selection);if(!o)return!1;const s=e.doc.resolve(o.pos+1);return i.pos+1===s.end()}return!(r.parentOffset<r.parent.nodeSize-2||n.pos!==r.pos)},$re=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function ZR(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function XR(e,t){const{nodeExtensions:n}=O0(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=In(At(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function y5(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!=null?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(y5(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function f9(e){return e instanceof Et}var h9=class p9{constructor(t){this.position=t}static fromJSON(t){return new p9(t.position)}toJSON(){return{position:this.position}}};function Yre(e,t){const n=t.mapping.mapResult(e.position);return{position:new h9(n.pos),mapResult:n}}function Jre(e){return new h9(e)}function Qre(e,t,n){var r;const{selection:i}=t;let o=null;if(Jz(i)&&(o=i.$cursor),o){const a=(r=e.storedMarks)!=null?r:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(a)||!a.some(c=>c.type.excludes(n)))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let c=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),m=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=f&&m}return!c}),c})}var eie=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=zc(e,r.schema);if(i)if(s){const c=n9(r,l);n.addStoredMark(l.create({...c,...t}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,f)=>{const m=Math.max(f,u),g=Math.min(f+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&n.addMark(m,g,l.create({...v.attrs,...t}))}):n.addMark(m,g,l.create(t))})});return Qre(r,n,l)},tie=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),nie=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=Hr(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>lR(o,{...s,...t})(n)?!0:a.clearNodes()).command(({state:a})=>lR(o,{...s,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},rie=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Nf(e,0,r.content.size),o=Et.create(r,i);t.setSelection(o)}return!0},iie=(e,t)=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=r;let s,a;return typeof t=="number"?(s=t,a=t):t&&"from"in t&&"to"in t?(s=t.from,a=t.to):(s=o.from,a=o.to),i&&n.doc.nodesBetween(s,a,(l,c)=>{l.isText||n.setNodeMarkup(c,void 0,{...l.attrs,dir:e})}),!0},oie=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,s=Tt.atStart(r).from,a=Tt.atEnd(r).to,l=Nf(i,s,a),c=Nf(o,s,a),u=Tt.create(r,l,c);t.setSelection(u)}return!0},sie=e=>({state:t,dispatch:n})=>{const r=Hr(e,t.schema);return tte(r)(t,n)};function $R(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}var aie=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:a,$to:l}=o,c=i.extensionManager.attributes,u=nx(c,a.node().type.name,a.node().attrs);if(o instanceof Et&&o.node.isBlock)return!a.parentOffset||!n0(s,a.pos)?!1:(r&&(e&&$R(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:Lre(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,m=n0(t.doc,t.mapping.map(a.pos),1,f);if(!f&&!m&&n0(t.doc,t.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(m=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(m&&(o instanceof Tt&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=t.mapping.map(a.before()),y=t.doc.resolve(g);a.node(-1).canReplaceWith(y.index(),y.index()+1,h)&&t.setNodeMarkup(t.mapping.map(a.before()),h)}e&&$R(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return m},lie=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=Hr(e,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=Fe.empty;const x=l.index(-1)?1:l.index(-2)?2:3;for(let N=l.depth-x;N>=l.depth-3;N-=1)v=Fe.from(l.node(N).copy(v));const _=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...nx(h,l.node().type.name,l.node().attrs),...t},k=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill(S))||void 0;v=v.append(Fe.from(a.createAndFill(null,k)||void 0));const T=l.before(l.depth-(x-1));n.replace(T,l.after(-_),new rt(v,4-x,0));let P=-1;n.doc.nodesBetween(T,n.doc.content.size,(N,A)=>{if(P>-1)return!1;N.isTextblock&&N.content.size===0&&(P=A+1)}),P>-1&&n.setSelection(Tt.near(n.doc.resolve(P))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,m={...nx(h,d.type.name,d.attrs),...t},g={...nx(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,c.pos);const y=f?[{type:a,attrs:m},{type:f,attrs:g}]:[{type:a,attrs:m}];if(!n0(n.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:x}=r,{splittableMarks:_}=o.extensionManager,S=x||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,y).scrollIntoView(),!S||!i)return!0;const k=S.filter(T=>_.includes(T.type.name));n.ensureMarks(k)}return!0},Bk=(e,t)=>{const n=v5(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&Od(e.doc,n.pos)&&e.join(n.pos),!0},zk=(e,t)=>{const n=v5(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&Od(e.doc,r)&&e.join(r),!0},cie=(e,t,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=Hr(e,s.schema),m=Hr(t,s.schema),{selection:g,storedMarks:y}=s,{$from:v,$to:x}=g,_=v.blockRange(x),S=y||g.$to.parentOffset&&g.$from.marks();if(!_)return!1;const k=v5(T=>XR(T.type.name,d))(g);if(_.depth>=1&&k&&_.depth-k.depth<=1){if(k.node.type===f)return c.liftListItem(m);if(XR(k.node.type.name,d)&&f.validContent(k.node.content)&&a)return l().command(()=>(o.setNodeMarkup(k.pos,f),!0)).command(()=>Bk(o,f)).command(()=>zk(o,f)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>Bk(o,f)).command(()=>zk(o,f)).run():l().command(()=>{const T=u().wrapInList(f,r),P=S.filter(N=>h.includes(N.type.name));return o.ensureMarks(P),T?!0:c.clearNodes()}).wrapInList(f,r).command(()=>Bk(o,f)).command(()=>zk(o,f)).run()},uie=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=zc(e,r.schema);return VN(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},die=(e,t,n={})=>({state:r,commands:i})=>{const o=Hr(e,r.schema),s=Hr(t,r.schema),a=Cd(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},fie=(e,t={})=>({state:n,commands:r})=>{const i=Hr(e,n.schema);return Cd(n,i,t)?r.lift(i):r.wrapIn(i,t)},hie=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const s=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},pie=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},mie=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=zc(e,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&s){let{from:h,to:f}=a;const m=(o=c.marks().find(y=>y.type===l))==null?void 0:o.attrs,g=WE(c,l,m);g&&(h=g.from,f=g.to),n.removeMark(h,f,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},gie=e=>({tr:t,state:n,dispatch:r})=>{const{selection:i}=n;let o,s;return typeof e=="number"?(o=e,s=e):e&&"from"in e&&"to"in e?(o=e.from,s=e.to):(o=i.from,s=i.to),r&&t.doc.nodesBetween(o,s,(a,l)=>{if(a.isText)return;const c={...a.attrs};delete c.dir,t.setNodeMarkup(l,void 0,c)}),!0},vie=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=g5(typeof e=="string"?e:e.name,r.schema);if(!a)return!1;a==="node"&&(o=Hr(e,r.schema)),a==="mark"&&(s=zc(e,r.schema));let l=!1;return n.selection.ranges.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;let h,f,m,g;n.selection.empty?r.doc.nodesBetween(u,d,(y,v)=>{o&&o===y.type&&(l=!0,m=Math.max(v,u),g=Math.min(v+y.nodeSize,d),h=v,f=y)}):r.doc.nodesBetween(u,d,(y,v)=>{v<u&&o&&o===y.type&&(l=!0,m=Math.max(v,u),g=Math.min(v+y.nodeSize,d),h=v,f=y),v>=u&&v<=d&&(o&&o===y.type&&(l=!0,i&&n.setNodeMarkup(v,void 0,{...y.attrs,...t})),s&&y.marks.length&&y.marks.forEach(x=>{if(s===x.type&&(l=!0,i)){const _=Math.max(v,u),S=Math.min(v+y.nodeSize,d);n.addMark(_,S,s.create({...x.attrs,...t}))}}))}),f&&(h!==void 0&&i&&n.setNodeMarkup(h,void 0,{...f.attrs,...t}),s&&f.marks.length&&f.marks.forEach(y=>{s===y.type&&i&&n.addMark(m,g,s.create({...y.attrs,...t}))}))}),l},yie=(e,t={})=>({state:n,dispatch:r})=>{const i=Hr(e,n.schema);return Zee(i,t)(n,r)},bie=(e,t={})=>({state:n,dispatch:r})=>{const i=Hr(e,n.schema);return Xee(i,t)(n,r)},xie=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(r=>r.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(r=>r!==t):delete this.callbacks[e]),this}once(e,t){const n=(...r)=>{this.off(e,n),t.apply(this,r)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},b5=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},wie=(e,t)=>{if(HE(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Hb(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(t=c.nodeBefore||c.nodeAfter)!=null&&t.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=Gre(c)+o;return s.forEach(h=>{if(u)return;const f=wie(d,h.find);if(!f)return;const m=l.state.tr,g=p5({state:l.state,transaction:m}),y={from:r-(f[0].length-o.length),to:i},{commands:v,chain:x,can:_}=new m5({editor:n,state:g});h.handler({state:g,range:y,match:f,commands:v,chain:x,can:_})===null||!m.steps.length||(h.undoable&&m.setMeta(a,{transform:m,from:r,to:i,text:o}),l.dispatch(m),u=!0)}),u}function _ie(e){const{editor:t,rules:n}=e,r=new Yn({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:u}=l;typeof u=="string"?u=u:u=KE(Fe.from(u),s.schema);const{from:d}=l,h=d+u.length;Hb({editor:t,from:d,to:h,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return Hb({editor:t,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Hb({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Hb({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Sie(e){return Object.prototype.toString.call(e).slice(8,-1)}function Wb(e){return Sie(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function m9(e,t){const n={...e};return Wb(e)&&Wb(t)&&Object.keys(t).forEach(r=>{Wb(t[r])&&Wb(e[r])?n[r]=m9(e[r],t[r]):n[r]=t[r]}),n}var ZE=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...In(At(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...In(At(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>m9(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},za=class g9 extends ZE{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new g9(n)}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(c=>c?.type.name===n.name))return!1;const l=s.find(c=>c?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function kie(e){return typeof e=="number"}var Cie=class{constructor(e){this.find=e.find,this.handler=e.handler}},Nie=(e,t,n)=>{if(HE(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function Aie(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:c,can:u}=new m5({editor:t,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,m)=>{var g,y,v,x,_;if((y=(g=f.type)==null?void 0:g.spec)!=null&&y.code||!(f.isText||f.isTextblock||f.isInline))return;const S=(_=(x=(v=f.content)==null?void 0:v.size)!=null?x:f.nodeSize)!=null?_:0,k=Math.max(r,m),T=Math.min(i,m+S);if(k>=T)return;const P=f.isText?f.text||"":f.textBetween(k-m,T-m,void 0,"");Nie(P,o.find,s).forEach(A=>{if(A.index===void 0)return;const D=k+A.index+1,C=D+A[0].length,j={from:n.tr.mapping.map(D),to:n.tr.mapping.map(C)},L=o.handler({state:n,range:j,match:A,commands:l,chain:c,can:u,pasteEvent:s,dropEvent:a});d.push(L)})}),d.every(f=>f!==null)}var Vb=null,Eie=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function Tie(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:u,from:d,to:h,rule:f,pasteEvt:m})=>{const g=u.tr,y=p5({state:u,transaction:g});if(!(!Aie({editor:t,state:y,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:m,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(u=>new Yn({view(d){const h=m=>{var g;r=(g=d.dom.parentElement)!=null&&g.contains(m.target)?d.dom.parentElement:null,r&&(Vb=t)},f=()=>{Vb&&(Vb=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",f),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",f)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(o=r===d.dom.parentElement,a=h,!o){const f=Vb;f?.isEditable&&setTimeout(()=>{const m=f.state.selection;m&&f.commands.deleteRange({from:m.from,to:m.to})},10)}return!1},paste:(d,h)=>{var f;const m=(f=h.clipboardData)==null?void 0:f.getData("text/html");return s=h,i=!!m?.includes("data-pm-slice"),!1}}},appendTransaction:(d,h,f)=>{const m=d[0],g=m.getMeta("uiEvent")==="paste"&&!i,y=m.getMeta("uiEvent")==="drop"&&!o,v=m.getMeta("applyPasteRules"),x=!!v;if(!g&&!y&&!x)return;if(x){let{text:k}=v;typeof k=="string"?k=k:k=KE(Fe.from(k),f.schema);const{from:T}=v,P=T+k.length,N=Eie(k);return l({rule:u,state:f,from:T,to:{b:P},pasteEvt:N})}const _=h.doc.content.findDiffStart(f.doc.content),S=h.doc.content.findDiffEnd(f.doc.content);if(!(!kie(_)||!S||_===S.b))return l({rule:u,state:f,from:_,to:S,pasteEvt:s})}}))}var x5=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=a9(e),this.schema=zre(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:qb(t.name,this.schema)},r=At(t,"addCommands",n);return r?{...e,...r()}:e},{})}get plugins(){const{editor:e}=this;return Sw([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:e,type:qb(r.name,this.schema)},o=[],s=At(r,"addKeyboardShortcuts",i);let a={};if(r.type==="mark"&&At(r,"exitable",i)&&(a.ArrowRight=()=>za.handleExit({editor:e,mark:r})),s){const h=Object.fromEntries(Object.entries(s()).map(([f,m])=>[f,()=>m({editor:e})]));a={...a,...h}}const l=Wne(a);o.push(l);const c=At(r,"addInputRules",i);if(ZR(r,e.options.enableInputRules)&&c){const h=c();if(h&&h.length){const f=_ie({editor:e,rules:h}),m=Array.isArray(f)?f:[f];o.push(...m)}}const u=At(r,"addPasteRules",i);if(ZR(r,e.options.enablePasteRules)&&u){const h=u();if(h&&h.length){const f=Tie({editor:e,rules:h});o.push(...f)}}const d=At(r,"addProseMirrorPlugins",i);if(d){const h=d();o.push(...h)}return o})}get attributes(){return s9(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=O0(this.extensions);return Object.fromEntries(t.filter(n=>!!At(n,"addNodeView")).map(n=>{const r=this.attributes.filter(l=>l.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Hr(n.name,this.schema)},o=At(n,"addNodeView",i);if(!o)return[];const s=o();if(!s)return[];const a=(l,c,u,d,h)=>{const f=_w(l,r);return s({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:n,HTMLAttributes:f})};return[n.name,a]}))}dispatchTransaction(e){const{editor:t}=this;return Sw([...this.extensions].reverse()).reduceRight((r,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:t,type:qb(i.name,this.schema)},s=At(i,"dispatchTransaction",o);return s?a=>{s.call(o,{transaction:a,next:r})}:r},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=O0(this.extensions);return Object.fromEntries(t.filter(n=>!!At(n,"addMarkView")).map(n=>{const r=this.attributes.filter(a=>a.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:zc(n.name,this.schema)},o=At(n,"addMarkView",i);if(!o)return[];const s=(a,l,c)=>{const u=_w(a,r);return o()({mark:a,view:l,inline:c,editor:e,extension:n,HTMLAttributes:u,updateAttributes:d=>{Wie(a,e,d)}})};return[n.name,s]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const r={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:qb(t.name,this.schema)};t.type==="mark"&&((n=In(At(t,"keepOnSplit",r)))==null||n)&&this.splittableMarks.push(t.name);const i=At(t,"onBeforeCreate",r),o=At(t,"onCreate",r),s=At(t,"onUpdate",r),a=At(t,"onSelectionUpdate",r),l=At(t,"onTransaction",r),c=At(t,"onFocus",r),u=At(t,"onBlur",r),d=At(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}};x5.resolve=a9;x5.sort=Sw;x5.flatten=VE;var Pie={};qE(Pie,{ClipboardTextSerializer:()=>y9,Commands:()=>b9,Delete:()=>x9,Drop:()=>w9,Editable:()=>_9,FocusEvents:()=>k9,Keymap:()=>C9,Paste:()=>N9,Tabindex:()=>A9,TextDirection:()=>E9,focusEventsPluginKey:()=>S9});var Bn=class v9 extends ZE{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new v9(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},y9=Bn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Yn({key:new cr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(u=>u.$from.pos)),a=Math.max(...o.map(u=>u.$to.pos)),l=c9(n);return l9(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),b9=Bn.create({name:"commands",addCommands(){return{...$z}}}),x9=Bn.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,r,i;const o=()=>{var s,a,l,c;if((c=(l=(a=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:a.filterTransaction)==null?void 0:l.call(a,e))!=null?c:e.getMeta("y-sync$"))return;const u=r9(e.before,[e,...t]);d9(u).forEach(f=>{u.mapping.mapResult(f.oldRange.from).deletedAfter&&u.mapping.mapResult(f.oldRange.to).deletedBefore&&u.before.nodesBetween(f.oldRange.from,f.oldRange.to,(m,g)=>{const y=g+m.nodeSize-2,v=f.oldRange.from<=g&&y<=f.oldRange.to;this.editor.emit("delete",{type:"node",node:m,from:g,to:y,newFrom:u.mapping.map(g),newTo:u.mapping.map(y),deletedRange:f.oldRange,newRange:f.newRange,partial:!v,editor:this.editor,transaction:e,combinedTransform:u})})});const h=u.mapping;u.steps.forEach((f,m)=>{var g,y;if(f instanceof Ea){const v=h.slice(m).map(f.from,-1),x=h.slice(m).map(f.to),_=h.invert().map(v,-1),S=h.invert().map(x),k=(g=u.doc.nodeAt(v-1))==null?void 0:g.marks.some(P=>P.eq(f.mark)),T=(y=u.doc.nodeAt(x))==null?void 0:y.marks.some(P=>P.eq(f.mark));this.editor.emit("delete",{type:"mark",mark:f.mark,from:f.from,to:f.to,deletedRange:{from:_,to:S},newRange:{from:v,to:x},partial:!!(T||k),editor:this.editor,transaction:e,combinedTransform:u})}})};(i=(r=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:r.async)==null||i?setTimeout(o,0):o()}}),w9=Bn.create({name:"drop",addProseMirrorPlugins(){return[new Yn({key:new cr("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),_9=Bn.create({name:"editable",addProseMirrorPlugins(){return[new Yn({key:new cr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),S9=new cr("focusEvents"),k9=Bn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Yn({key:S9,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),C9=Bn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,m=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=m.parent.type.spec.isolating,y=d.pos-d.parentOffset,v=g&&m.parent.childCount===1?y===d.pos:Dt.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return ww()||t9()?o:i},addProseMirrorPlugins(){return[new Yn({key:new cr("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(g=>g.getMeta("composition")))return;const r=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),i=e.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=t.selection,l=Dt.atStart(t.doc).from,c=Dt.atEnd(t.doc).to;if(o||!(s===l&&a===c)||!y5(n.doc))return;const h=n.tr,f=p5({state:n,transaction:h}),{commands:m}=new m5({editor:this.editor,state:f});if(m.clearNodes(),!!h.steps.length)return h}})]}}),N9=Bn.create({name:"paste",addProseMirrorPlugins(){return[new Yn({key:new cr("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),A9=Bn.create({name:"tabindex",addProseMirrorPlugins(){return[new Yn({key:new cr("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),E9=Bn.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=O0(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Yn({key:new cr("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),Rie=class Np{constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Np(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Np(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Np(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new Np(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new Np(a,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===t&&o.every(l=>n[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},jie=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Die(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}var Iie=class extends xie{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:Yre,createMappablePosition:Jre},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:o})=>this.options.onDrop(r,i,o)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=Qz(t,this.options.autofocus);this.editorState=Hp.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e?.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Die(jie,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=o9(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(s=>!s.key.startsWith(o))}),t.length===n.length)return;const r=this.state.reconfigure({plugins:n});return this.view.updateState(r),r}createExtensionManager(){var e,t;const r=[...this.options.enableCoreExtensions?[_9,y9.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),b9,k9,C9,A9,w9,N9,x9,E9.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new x5(r,this)}createCommandManager(){this.commandManager=new m5({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=WN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=WN(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,r=t.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(r):r;this.editorView=new Xz(e,{...t,attributes:{role:"textbox",...t?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(c=>{var u;return(u=this.capturedTransaction)==null?void 0:u.step(c)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),r=!this.state.selection.eq(t.selection),i=n.includes(e),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!i)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const s=n.findLast(c=>c.getMeta("focus")||c.getMeta("blur")),a=s?.getMeta("focus"),l=s?.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:s}),l&&this.emit("blur",{editor:this,event:l.event,transaction:s}),!(e.getMeta("preventUpdate")||!n.some(c=>c.docChanged)||o.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return u9(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,r=typeof e=="string"?t:e;return Zre(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return KE(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return qre(this.state.doc,{blockSeparator:t,textSerializers:{...c9(this.schema),...n}})}get isEmpty(){return y5(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Rie(t,this)}get $doc(){return this.$pos(0)}};function nh(e){return new b5({find:e.find,handler:({state:t,range:n,match:r})=>{const i=In(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),c=n.from+a.indexOf(s),u=c+s.length;if(GE(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(g=>g===e.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&o.delete(u,n.to),c>n.from&&o.delete(n.from+l,c);const h=n.from+l+s.length;o.addMark(n.from+l,h,e.type.create(i||{})),o.removeStoredMark(e.type)}},undoable:e.undoable})}function T9(e){return new b5({find:e.find,handler:({state:t,range:n,match:r})=>{const i=In(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let a=n.to;const l=e.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=s+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(u,a,l)}else if(r[0]){const c=e.type.isInline?s:s-1;o.insert(c,e.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()},undoable:e.undoable})}function KN(e){return new b5({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=In(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)},undoable:e.undoable})}function L0(e){return new b5({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=In(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),c=l&&AE(l,e.type,o);if(!c)return null;if(s.wrap(l,c),e.keepMarks&&e.editor){const{selection:d,storedMarks:h}=t,{splittableMarks:f}=e.editor.extensionManager,m=h||d.$to.parentOffset&&d.$from.marks();if(m){const g=m.filter(y=>f.includes(y.type.name));s.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const u=s.doc.resolve(n.from-1).nodeBefore;u&&u.type===e.type&&Od(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,u))&&s.join(n.from-1)},undoable:e.undoable})}var Oie=e=>"touches"in e,Lie=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.clientX-this.startX,c=a.clientY-this.startY;this.handleResize(l,c)},this.handleTouchMove=a=>{if(!this.isResizing||!this.activeHandle)return;const l=a.touches[0];if(!l)return;const c=l.clientX-this.startX,u=l.clientY-this.startY;this.handleResize(c,u)},this.handleMouseUp=()=>{if(!this.isResizing)return;const a=this.element.offsetWidth,l=this.element.offsetHeight;this.onCommit(a,l),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=a=>{a.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,r,i,o,s;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(r=e?.options)!=null&&r.directions&&(this.directions=e.options.directions),(i=e.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(o=e.options)!=null&&o.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(s=e.options)!=null&&s.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),r=t.includes("bottom"),i=t.includes("left"),o=t.includes("right");n&&(e.style.top="0"),r&&(e.style.bottom="0"),i&&(e.style.left="0"),o&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,Oie(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:r,height:i}=this.calculateNewDimensions(this.activeHandle,e,t),o=this.applyConstraints(r,i,n);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(e,t,n){let r=this.startWidth,i=this.startHeight;const o=e.includes("right"),s=e.includes("left"),a=e.includes("bottom"),l=e.includes("top");return o?r=this.startWidth+t:s&&(r=this.startWidth-t),a?i=this.startHeight+n:l&&(i=this.startHeight-n),(e==="right"||e==="left")&&(r=this.startWidth+(o?t:-t)),(e==="top"||e==="bottom")&&(i=this.startHeight+(a?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(r,i,e):{width:r,height:i}}applyConstraints(e,t,n){var r,i,o,s;if(!n){let c=Math.max(this.minSize.width,e),u=Math.max(this.minSize.height,t);return(r=this.maxSize)!=null&&r.width&&(c=Math.min(this.maxSize.width,c)),(i=this.maxSize)!=null&&i.height&&(u=Math.min(this.maxSize.height,u)),{width:c,height:u}}let a=e,l=t;return a<this.minSize.width&&(a=this.minSize.width,l=a/this.aspectRatio),l<this.minSize.height&&(l=this.minSize.height,a=l*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&a>this.maxSize.width&&(a=this.maxSize.width,l=a/this.aspectRatio),(s=this.maxSize)!=null&&s.height&&l>this.maxSize.height&&(l=this.maxSize.height,a=l*this.aspectRatio),{width:a,height:l}}applyAspectRatio(e,t,n){const r=n==="left"||n==="right",i=n==="top"||n==="bottom";return r?{width:e,height:e/this.aspectRatio}:i?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function Mie(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof Et){const o=r.index();return r.parent.canReplaceWith(o,o+1,t)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}function Fie(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var Bie={};qE(Bie,{createAtomBlockMarkdownSpec:()=>zie,createBlockMarkdownSpec:()=>Uie,createInlineMarkdownSpec:()=>P9,parseAttributes:()=>XE,parseIndentedBlocks:()=>GN,renderNestedMarkdownContent:()=>YE,serializeAttributes:()=>$E});function XE(e){if(!e?.trim())return{};const t={},n=[],r=e.replace(/["']([^"']*)["']/g,c=>(n.push(c),`__QUOTED_${n.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const c=i.map(u=>u.trim().slice(1));t.class=c.join(" ")}const o=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(t.id=o[1]);const s=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(s)).forEach(([,c,u])=>{var d;const h=parseInt(((d=u.match(/__QUOTED_(\d+)__/))==null?void 0:d[1])||"0",10),f=n[h];f&&(t[c]=f.slice(1,-1))});const l=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return l&&l.split(/\s+/).filter(Boolean).forEach(u=>{u.match(/^[a-zA-Z][\w-]*$/)&&(t[u]=!0)}),t}function $E(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(r=>t.push(`.${r}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,r])=>{n==="class"||n==="id"||(r===!0?t.push(n):r!==!1&&r!=null&&t.push(`${n}="${String(r)}"`))}),t.join(" ")}function zie(e){const{nodeName:t,name:n,parseAttributes:r=XE,serializeAttributes:i=$E,defaultAttributes:o={},requiredAttributes:s=[],allowedAttributes:a}=e,l=n||t,c=u=>{if(!a)return u;const d={};return a.forEach(h=>{h in u&&(d[h]=u[h])}),d};return{parseMarkdown:(u,d)=>{const h={...o,...u.attributes};return d.createNode(t,h,[])},markdownTokenizer:{name:t,level:"block",start(u){var d;const h=new RegExp(`^:::${l}(?:\\s|$)`,"m"),f=(d=u.match(h))==null?void 0:d.index;return f!==void 0?f:-1},tokenize(u,d,h){const f=new RegExp(`^:::${l}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),m=u.match(f);if(!m)return;const g=m[1]||"",y=r(g);if(!s.find(x=>!(x in y)))return{type:t,raw:m[0],attributes:y}}},renderMarkdown:u=>{const d=c(u.attrs||{}),h=i(d),f=h?` {${h}}`:"";return`:::${l}${f} :::`}}}function Uie(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=XE,serializeAttributes:o=$E,defaultAttributes:s={},content:a="block",allowedAttributes:l}=e,c=n||t,u=d=>{if(!l)return d;const h={};return l.forEach(f=>{f in d&&(h[f]=d[f])}),h};return{parseMarkdown:(d,h)=>{let f;if(r){const g=r(d);f=typeof g=="string"?[{type:"text",text:g}]:g}else a==="block"?f=h.parseChildren(d.tokens||[]):f=h.parseInline(d.tokens||[]);const m={...s,...d.attributes};return h.createNode(t,m,f)},markdownTokenizer:{name:t,level:"block",start(d){var h;const f=new RegExp(`^:::${c}`,"m"),m=(h=d.match(f))==null?void 0:h.index;return m!==void 0?m:-1},tokenize(d,h,f){var m;const g=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),y=d.match(g);if(!y)return;const[v,x=""]=y,_=i(x);let S=1;const k=v.length;let T="";const P=/^:::([\w-]*)(\s.*)?/gm,N=d.slice(k);for(P.lastIndex=0;;){const A=P.exec(N);if(A===null)break;const D=A.index,C=A[1];if(!((m=A[2])!=null&&m.endsWith(":::"))){if(C)S+=1;else if(S-=1,S===0){const j=N.slice(0,D);T=j.trim();const L=d.slice(0,k+D+A[0].length);let z=[];if(T)if(a==="block")for(z=f.blockTokens(j),z.forEach(K=>{K.text&&(!K.tokens||K.tokens.length===0)&&(K.tokens=f.inlineTokens(K.text))});z.length>0;){const K=z[z.length-1];if(K.type==="paragraph"&&(!K.text||K.text.trim()===""))z.pop();else break}else z=f.inlineTokens(T);return{type:t,raw:L,attributes:_,content:T,tokens:z}}}}}},renderMarkdown:(d,h)=>{const f=u(d.attrs||{}),m=o(f),g=m?` {${m}}`:"",y=h.renderChildren(d.content||[],`

`);return`:::${c}${g}

${y}

:::`}}}function qie(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,o,s]=r;t[i]=o||s,r=n.exec(e)}return t}function Hie(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function P9(e){const{nodeName:t,name:n,getContent:r,parseAttributes:i=qie,serializeAttributes:o=Hie,defaultAttributes:s={},selfClosing:a=!1,allowedAttributes:l}=e,c=n||t,u=h=>{if(!l)return h;const f={};return l.forEach(m=>{const g=typeof m=="string"?m:m.name,y=typeof m=="string"?void 0:m.skipIfDefault;if(g in h){const v=h[g];if(y!==void 0&&v===y)return;f[g]=v}}),f},d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(h,f)=>{const m={...s,...h.attributes};if(a)return f.createNode(t,m);const g=r?r(h):h.content||"";return g?f.createNode(t,m,[f.createTextNode(g)]):f.createNode(t,m,[])},markdownTokenizer:{name:t,level:"inline",start(h){const f=a?new RegExp(`\\[${d}\\s*[^\\]]*\\]`):new RegExp(`\\[${d}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${d}\\]`),m=h.match(f),g=m?.index;return g!==void 0?g:-1},tokenize(h,f,m){const g=a?new RegExp(`^\\[${d}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${d}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${d}\\]`),y=h.match(g);if(!y)return;let v="",x="";if(a){const[,S]=y;x=S}else{const[,S,k]=y;x=S,v=k||""}const _=i(x.trim());return{type:t,raw:y[0],content:v.trim(),attributes:_}}},renderMarkdown:h=>{let f="";r?f=r(h):h.content&&h.content.length>0&&(f=h.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const m=u(h.attrs||{}),g=o(m),y=g?` ${g}`:"";return a?`[${c}${y}]`:`[${c}${y}]${f}[/${c}]`}}}function GN(e,t,n){var r,i,o,s;const a=e.split(`
`),l=[];let c="",u=0;const d=t.baseIndentSize||2;for(;u<a.length;){const h=a[u],f=h.match(t.itemPattern);if(!f){if(l.length>0)break;if(h.trim()===""){u+=1,c=`${c}${h}
`;continue}else return}const m=t.extractItemData(f),{indentLevel:g,mainContent:y}=m;c=`${c}${h}
`;const v=[y];for(u+=1;u<a.length;){const k=a[u];if(k.trim()===""){const P=a.slice(u+1).findIndex(D=>D.trim()!=="");if(P===-1)break;if((((i=(r=a[u+1+P].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>g){v.push(k),c=`${c}${k}
`,u+=1;continue}else break}if((((s=(o=k.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:s.length)||0)>g)v.push(k),c=`${c}${k}
`,u+=1;else break}let x;const _=v.slice(1);if(_.length>0){const k=_.map(T=>T.slice(g+d)).join(`
`);k.trim()&&(t.customNestedParser?x=t.customNestedParser(k):x=n.blockTokens(k))}const S=t.createToken(m,x);l.push(S)}if(l.length!==0)return{items:l,raw:c}}function YE(e,t,n,r){if(!e||!Array.isArray(e.content))return"";const i=typeof n=="function"?n(r):n,[o,...s]=e.content,a=t.renderChildren([o]),l=[`${i}${a}`];return s&&s.length>0&&s.forEach(c=>{const u=t.renderChildren([c]);if(u){const d=u.split(`
`).map(h=>h?t.indent(h):"").join(`
`);l.push(d)}}),l.join(`
`)}function Wie(e,t,n={}){const{state:r}=t,{doc:i,tr:o}=r,s=e;i.descendants((a,l)=>{const c=o.mapping.map(l),u=o.mapping.map(l)+a.nodeSize;let d=null;if(a.marks.forEach(f=>{if(f!==s)return!1;d=f}),!d)return;let h=!1;if(Object.keys(n).forEach(f=>{n[f]!==d.attrs[f]&&(h=!0)}),h){const f=e.type.create({...e.attrs,...n});o.removeMark(c,u,e.type),o.addMark(c,u,f)}}),o.docChanged&&t.view.dispatch(o)}var ci=class R9 extends ZE{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new R9(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Nd(e){return new Cie({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=In(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(GE(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(y=>y===e.type&&y!==m.mark.type)).filter(m=>m.to>d).length)return null;h<n.to&&s.delete(h,n.to),d>n.from&&s.delete(n.from+u,d),c=n.from+u+a.length,s.addMark(n.from+u,c,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:Vie,getOwnPropertySymbols:Kie}=Object,{hasOwnProperty:Gie}=Object.prototype;function Uk(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function Kb(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=e(n,r,i);return o.delete(n),o.delete(r),l}}function Zie(e){return e?.[Symbol.toStringTag]}function YR(e){return Vie(e).concat(Kie(e))}const Xie=Object.hasOwn||((e,t)=>Gie.call(e,t));function Ah(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const $ie="__v",Yie="__o",Jie="_owner",{getOwnPropertyDescriptor:JR,keys:QR}=Object;function Qie(e,t){return e.byteLength===t.byteLength&&kw(new Uint8Array(e),new Uint8Array(t))}function eoe(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function toe(e,t){return e.byteLength===t.byteLength&&kw(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function noe(e,t){return Ah(e.getTime(),t.getTime())}function roe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ioe(e,t){return e===t}function ej(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const c=t.entries();let u=!1,d=0;for(;(a=c.next())&&!a.done;){if(i[d]){d++;continue}const h=s.value,f=a.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}const ooe=Ah;function soe(e,t,n){const r=QR(e);let i=r.length;if(QR(t).length!==i)return!1;for(;i-- >0;)if(!j9(e,t,n,r[i]))return!1;return!0}function tg(e,t,n){const r=YR(e);let i=r.length;if(YR(t).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!j9(e,t,n,o)||(s=JR(e,o),a=JR(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function aoe(e,t){return Ah(e.valueOf(),t.valueOf())}function loe(e,t){return e.source===t.source&&e.flags===t.flags}function tj(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),o=e.values();let s,a;for(;(s=o.next())&&!s.done;){const l=t.values();let c=!1,u=0;for(;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(s.value,a.value,s.value,a.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function kw(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function coe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function j9(e,t,n,r){return(r===Jie||r===Yie||r===$ie)&&(e.$$typeof||t.$$typeof)?!0:Xie(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const uoe="[object ArrayBuffer]",doe="[object Arguments]",foe="[object Boolean]",hoe="[object DataView]",poe="[object Date]",moe="[object Error]",goe="[object Map]",voe="[object Number]",yoe="[object Object]",boe="[object RegExp]",xoe="[object Set]",woe="[object String]",_oe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Soe="[object URL]",koe=Object.prototype.toString;function Coe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:d,areTypedArraysEqual:h,areUrlsEqual:f,unknownTagComparators:m}){return function(y,v,x){if(y===v)return!0;if(y==null||v==null)return!1;const _=typeof y;if(_!==typeof v)return!1;if(_!=="object")return _==="number"?a(y,v,x):_==="function"?o(y,v,x):!1;const S=y.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(y,v,x);if(Array.isArray(y))return t(y,v,x);if(S===Date)return r(y,v,x);if(S===RegExp)return u(y,v,x);if(S===Map)return s(y,v,x);if(S===Set)return d(y,v,x);const k=koe.call(y);if(k===poe)return r(y,v,x);if(k===boe)return u(y,v,x);if(k===goe)return s(y,v,x);if(k===xoe)return d(y,v,x);if(k===yoe)return typeof y.then!="function"&&typeof v.then!="function"&&l(y,v,x);if(k===Soe)return f(y,v,x);if(k===moe)return i(y,v,x);if(k===doe)return l(y,v,x);if(_oe[k])return h(y,v,x);if(k===uoe)return e(y,v,x);if(k===hoe)return n(y,v,x);if(k===foe||k===voe||k===woe)return c(y,v,x);if(m){let T=m[k];if(!T){const P=Zie(y);P&&(T=m[P])}if(T)return T(y,v,x)}return!1}}function Noe({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:Qie,areArraysEqual:n?tg:eoe,areDataViewsEqual:toe,areDatesEqual:noe,areErrorsEqual:roe,areFunctionsEqual:ioe,areMapsEqual:n?Uk(ej,tg):ej,areNumbersEqual:ooe,areObjectsEqual:n?tg:soe,arePrimitiveWrappersEqual:aoe,areRegExpsEqual:loe,areSetsEqual:n?Uk(tj,tg):tj,areTypedArraysEqual:n?Uk(kw,tg):kw,areUrlsEqual:coe,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=Kb(r.areArraysEqual),o=Kb(r.areMapsEqual),s=Kb(r.areObjectsEqual),a=Kb(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Aoe(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function Eoe({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:c=e?new WeakMap:void 0,meta:u}=n();return t(a,l,{cache:c,equals:r,meta:u,strict:i})};if(e)return function(a,l){return t(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return t(a,l,o)}}const Toe=Md();Md({strict:!0});Md({circular:!0});Md({circular:!0,strict:!0});Md({createInternalComparator:()=>Ah});Md({strict:!0,createInternalComparator:()=>Ah});Md({circular:!0,createInternalComparator:()=>Ah});Md({circular:!0,createInternalComparator:()=>Ah,strict:!0});function Md(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,o=Noe(e),s=Coe(o),a=n?n(s):Aoe(s);return Eoe({circular:t,comparator:s,createState:r,equals:a,strict:i})}var D9={exports:{}},I9={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5=I,Poe=kE;function Roe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var joe=typeof Object.is=="function"?Object.is:Roe,Doe=Poe.useSyncExternalStore,Ioe=w5.useRef,Ooe=w5.useEffect,Loe=w5.useMemo,Moe=w5.useDebugValue;I9.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Ioe(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Loe(function(){function l(f){if(!c){if(c=!0,u=f,f=r(f),i!==void 0&&s.hasValue){var m=s.value;if(i(m,f))return d=m}return d=f}if(m=d,joe(u,f))return m;var g=r(f);return i!==void 0&&i(m,g)?(u=f,m):(u=f,d=g)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=Doe(e,o[0],o[1]);return Ooe(function(){s.hasValue=!0,s.value=a},[a]),Moe(a),a};D9.exports=I9;var Foe=D9.exports,Boe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},zoe=({contentComponent:e})=>{const t=kE.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return p.jsx(p.Fragment,{children:Object.values(t)})};function Uoe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:NX.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}var qoe=class extends Kf.Component{constructor(e){var t;super(e),this.editorContentRef=Kf.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=Uoe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return p.jsxs(p.Fragment,{children:[p.jsx("div",{ref:Boe(t,this.editorContentRef),...n}),e?.contentComponent&&p.jsx(zoe,{contentComponent:e.contentComponent})]})}},Hoe=I.forwardRef((e,t)=>{const n=Kf.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Kf.createElement(qoe,{key:n,innerRef:t,...e})}),_5=Kf.memo(Hoe),Woe=typeof window<"u"?I.useLayoutEffect:I.useEffect,Voe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function Koe(e){var t;const[n]=I.useState(()=>new Voe(e.editor)),r=Foe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:Toe);return Woe(()=>n.watch(e.editor),[e.editor,n]),I.useDebugValue(r),r}var Goe=!1,ZN=typeof window>"u",Zoe=ZN||!!(typeof window<"u"&&window.next),Xoe=class O9{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return ZN||Zoe?null:this.createEditor();if(this.options.current.immediatelyRender&&ZN&&Goe)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...r)},onDelete:(...r)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...r)}};return new Iie(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,o)=>{var s;return i===((s=n.extensions)==null?void 0:s[o])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?O9.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function S5(e={},t=[]){const n=I.useRef(e);n.current=e;const[r]=I.useState(()=>new Xoe(n)),i=kE.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return I.useDebugValue(i),I.useEffect(r.onRender(t)),Koe({editor:i,selector:({transactionNumber:o})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&o===0?0:o+1}),i}var $oe=I.createContext({editor:null});$oe.Consumer;var Yoe=I.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Joe=()=>I.useContext(Yoe);Kf.forwardRef((e,t)=>{const{onDragStart:n}=Joe(),r=e.as||"div";return p.jsx(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function nj(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function rj(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.forward_ref)"||e.$$typeof.description==="react.forward_ref"))}function Qoe(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.memo)"||e.$$typeof.description==="react.memo"))}function ese(e){if(nj(e)||rj(e))return!0;if(Qoe(e)){const t=e.type;if(t)return nj(t)||rj(t)}return!1}function tse(){try{if(I.version)return parseInt(I.version.split(".")[0],10)>=19}catch{}return!1}var nse=class{constructor(e,{editor:t,props:n={},as:r="div",className:i=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=t,this.props=n,this.element=document.createElement(r),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),this.editor.isInitialized?$1.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var e;const t=this.component,n=this.props,r=this.editor,i=tse(),o=ese(t),s={...n};s.ref&&!(i||o)&&delete s.ref,!s.ref&&(i||o)&&(s.ref=a=>{this.ref=a}),this.reactElement=p.jsx(t,{...s}),(e=r?.contentComponent)==null||e.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e;const t=this.editor;(e=t?.contentComponent)==null||e.removeRenderer(this.id);try{this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}catch{}}updateAttributes(e){Object.keys(e).forEach(t=>{this.element.setAttribute(t,e[t])})}};Kf.createContext({markViewContentRef:()=>{}});var Cw=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...r}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,r,n]},rse=/^\s*>\s$/,ise=ci.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return Cw("blockquote",{...Sn(this.options.HTMLAttributes,e),children:Cw("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",r=[];return e.content.forEach(i=>{const a=t.renderChildren([i]).split(`
`).map(l=>l.trim()===""?n:`${n} ${l}`);r.push(a.join(`
`))}),r.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[L0({find:rse,type:this.type})]}}),ose=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,sse=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ase=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,lse=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,cse=za.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return Cw("strong",{...Sn(this.options.HTMLAttributes,e),children:Cw("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[nh({find:ose,type:this.type}),nh({find:ase,type:this.type})]},addPasteRules(){return[Nd({find:sse,type:this.type}),Nd({find:lse,type:this.type})]}}),use=/(^|[^`])`([^`]+)`(?!`)$/,dse=/(^|[^`])`([^`]+)`(?!`)/g,fse=za.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Sn(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[nh({find:use,type:this.type})]},addPasteRules(){return[Nd({find:dse,type:this.type})]}}),qk=4,hse=/^```([a-z]+)?[\s\n]$/,pse=/^~~~([a-z]+)?[\s\n]$/,mse=ci.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:qk,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Sn(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let r="";const i=((n=e.attrs)==null?void 0:n.language)||"";return e.content?r=[`\`\`\`${i}`,t.renderChildren(e.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:qk,{state:r}=e,{selection:i}=r,{$from:o,empty:s}=i;if(o.parent.type!==this.type)return!1;const a=" ".repeat(n);return s?e.commands.insertContent(a):e.commands.command(({tr:l})=>{const{from:c,to:u}=i,f=r.doc.textBetween(c,u,`
`,`
`).split(`
`).map(m=>a+m).join(`
`);return l.replaceWith(c,u,r.schema.text(f)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:qk,{state:r}=e,{selection:i}=r,{$from:o,empty:s}=i;return o.parent.type!==this.type?!1:s?e.commands.command(({tr:a})=>{var l;const{pos:c}=o,u=o.start(),d=o.end(),f=r.doc.textBetween(u,d,`
`,`
`).split(`
`);let m=0,g=0;const y=c-u;for(let T=0;T<f.length;T+=1){if(g+f[T].length>=y){m=T;break}g+=f[T].length+1}const x=((l=f[m].match(/^ */))==null?void 0:l[0])||"",_=Math.min(x.length,n);if(_===0)return!0;let S=u;for(let T=0;T<m;T+=1)S+=f[T].length+1;return a.delete(S,S+_),c-S<=_&&a.setSelection(Tt.create(a.doc,S)),!0}):e.commands.command(({tr:a})=>{const{from:l,to:c}=i,h=r.doc.textBetween(l,c,`
`,`
`).split(`
`).map(f=>{var m;const g=((m=f.match(/^ */))==null?void 0:m[0])||"",y=Math.min(g.length,n);return f.slice(y)}).join(`
`);return a.replaceWith(l,c,r.schema.text(h)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?e.commands.command(({tr:c})=>(c.setSelection(Dt.near(r.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[KN({find:hse,type:this.type,getAttributes:e=>({language:e[1]})}),KN({find:pse,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Yn({key:new cr("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Tt.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),gse=ci.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),vse=ci.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Sn(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&s){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),yse=ci.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Sn(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const r=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,i="#".repeat(r);return e.content?`${i} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>KN({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),bse=ci.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Sn(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!Mie(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:r}=n,i=e();return f9(n)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:s,dispatch:a})=>{if(a){const{$to:l}=s.selection,c=l.end();if(l.nodeAfter)l.nodeAfter.isTextblock?s.setSelection(Tt.create(s.doc,l.pos+1)):l.nodeAfter.isBlock?s.setSelection(Et.create(s.doc,l.pos)):s.setSelection(Tt.create(s.doc,l.pos));else{const u=o.schema.nodes[this.options.nextNodeType]||l.parent.type.contentMatch.defaultType,d=u?.create();d&&(s.insert(c,d),s.setSelection(Tt.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[T9({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),xse=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,wse=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_se=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Sse=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,kse=za.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[nh({find:xse,type:this.type}),nh({find:_se,type:this.type})]},addPasteRules(){return[Nd({find:wse,type:this.type}),Nd({find:Sse,type:this.type})]}});const Cse="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Nse="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",XN="numeric",$N="ascii",YN="alpha",rv="asciinumeric",Eg="alphanumeric",JN="domain",L9="emoji",Ase="scheme",Ese="slashscheme",Hk="whitespace";function Tse(e,t){return e in t||(t[e]=[]),t[e]}function Af(e,t,n){t[XN]&&(t[rv]=!0,t[Eg]=!0),t[$N]&&(t[rv]=!0,t[YN]=!0),t[rv]&&(t[Eg]=!0),t[YN]&&(t[Eg]=!0),t[Eg]&&(t[JN]=!0),t[L9]&&(t[JN]=!0);for(const r in t){const i=Tse(r,n);i.indexOf(e)<0&&i.push(e)}}function Pse(e,t){const n={};for(const r in t)t[r].indexOf(e)>=0&&(n[r]=!0);return n}function No(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}No.groups={};No.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let r=0;r<t.jr.length;r++){const i=t.jr[r][0],o=t.jr[r][1];if(o&&i.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,r){for(let i=0;i<e.length;i++)this.tt(e[i],t,n,r)},tr(e,t,n,r){r=r||No.groups;let i;return t&&t.j?i=t:(i=new No(t),n&&r&&Af(t,n,r)),this.jr.push([e,i]),i},ts(e,t,n,r){let i=this;const o=e.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(e[s]);return i.tt(e[o-1],t,n,r)},tt(e,t,n,r){r=r||No.groups;const i=this;if(t&&t.j)return i.j[e]=t,t;const o=t;let s,a=i.go(e);if(a?(s=new No,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new No,o){if(r)if(s.t&&typeof s.t=="string"){const l=Object.assign(Pse(s.t,r),n);Af(o,l,r)}else n&&Af(o,n,r);s.t=o}return i.j[e]=s,s}};const tn=(e,t,n,r,i)=>e.ta(t,n,r,i),xr=(e,t,n,r,i)=>e.tr(t,n,r,i),ij=(e,t,n,r,i)=>e.ts(t,n,r,i),Ke=(e,t,n,r,i)=>e.tt(t,n,r,i),hc="WORD",QN="UWORD",M9="ASCIINUMERICAL",F9="ALPHANUMERICAL",u1="LOCALHOST",e4="TLD",t4="UTLD",rx="SCHEME",Ap="SLASH_SCHEME",JE="NUM",n4="WS",QE="NL",iv="OPENBRACE",ov="CLOSEBRACE",Nw="OPENBRACKET",Aw="CLOSEBRACKET",Ew="OPENPAREN",Tw="CLOSEPAREN",Pw="OPENANGLEBRACKET",Rw="CLOSEANGLEBRACKET",jw="FULLWIDTHLEFTPAREN",Dw="FULLWIDTHRIGHTPAREN",Iw="LEFTCORNERBRACKET",Ow="RIGHTCORNERBRACKET",Lw="LEFTWHITECORNERBRACKET",Mw="RIGHTWHITECORNERBRACKET",Fw="FULLWIDTHLESSTHAN",Bw="FULLWIDTHGREATERTHAN",zw="AMPERSAND",Uw="APOSTROPHE",qw="ASTERISK",Eu="AT",Hw="BACKSLASH",Ww="BACKTICK",Vw="CARET",Ou="COLON",eT="COMMA",Kw="DOLLAR",hl="DOT",Gw="EQUALS",tT="EXCLAMATION",Cs="HYPHEN",sv="PERCENT",Zw="PIPE",Xw="PLUS",$w="POUND",av="QUERY",nT="QUOTE",B9="FULLWIDTHMIDDLEDOT",rT="SEMI",pl="SLASH",lv="TILDE",Yw="UNDERSCORE",z9="EMOJI",Jw="SYM";var U9=Object.freeze({__proto__:null,ALPHANUMERICAL:F9,AMPERSAND:zw,APOSTROPHE:Uw,ASCIINUMERICAL:M9,ASTERISK:qw,AT:Eu,BACKSLASH:Hw,BACKTICK:Ww,CARET:Vw,CLOSEANGLEBRACKET:Rw,CLOSEBRACE:ov,CLOSEBRACKET:Aw,CLOSEPAREN:Tw,COLON:Ou,COMMA:eT,DOLLAR:Kw,DOT:hl,EMOJI:z9,EQUALS:Gw,EXCLAMATION:tT,FULLWIDTHGREATERTHAN:Bw,FULLWIDTHLEFTPAREN:jw,FULLWIDTHLESSTHAN:Fw,FULLWIDTHMIDDLEDOT:B9,FULLWIDTHRIGHTPAREN:Dw,HYPHEN:Cs,LEFTCORNERBRACKET:Iw,LEFTWHITECORNERBRACKET:Lw,LOCALHOST:u1,NL:QE,NUM:JE,OPENANGLEBRACKET:Pw,OPENBRACE:iv,OPENBRACKET:Nw,OPENPAREN:Ew,PERCENT:sv,PIPE:Zw,PLUS:Xw,POUND:$w,QUERY:av,QUOTE:nT,RIGHTCORNERBRACKET:Ow,RIGHTWHITECORNERBRACKET:Mw,SCHEME:rx,SEMI:rT,SLASH:pl,SLASH_SCHEME:Ap,SYM:Jw,TILDE:lv,TLD:e4,UNDERSCORE:Yw,UTLD:t4,UWORD:QN,WORD:hc,WS:n4});const oc=/[a-z]/,ng=/\p{L}/u,Wk=/\p{Emoji}/u,sc=/\d/,Vk=/\s/,oj="\r",Kk=`
`,Rse="",jse="",Gk="";let Gb=null,Zb=null;function Dse(e=[]){const t={};No.groups=t;const n=new No;Gb==null&&(Gb=sj(Cse)),Zb==null&&(Zb=sj(Nse)),Ke(n,"'",Uw),Ke(n,"{",iv),Ke(n,"}",ov),Ke(n,"[",Nw),Ke(n,"]",Aw),Ke(n,"(",Ew),Ke(n,")",Tw),Ke(n,"<",Pw),Ke(n,">",Rw),Ke(n,"",jw),Ke(n,"",Dw),Ke(n,"",Iw),Ke(n,"",Ow),Ke(n,"",Lw),Ke(n,"",Mw),Ke(n,"",Fw),Ke(n,"",Bw),Ke(n,"&",zw),Ke(n,"*",qw),Ke(n,"@",Eu),Ke(n,"`",Ww),Ke(n,"^",Vw),Ke(n,":",Ou),Ke(n,",",eT),Ke(n,"$",Kw),Ke(n,".",hl),Ke(n,"=",Gw),Ke(n,"!",tT),Ke(n,"-",Cs),Ke(n,"%",sv),Ke(n,"|",Zw),Ke(n,"+",Xw),Ke(n,"#",$w),Ke(n,"?",av),Ke(n,'"',nT),Ke(n,"/",pl),Ke(n,";",rT),Ke(n,"~",lv),Ke(n,"_",Yw),Ke(n,"\\",Hw),Ke(n,"",B9);const r=xr(n,sc,JE,{[XN]:!0});xr(r,sc,r);const i=xr(r,oc,M9,{[rv]:!0}),o=xr(r,ng,F9,{[Eg]:!0}),s=xr(n,oc,hc,{[$N]:!0});xr(s,sc,i),xr(s,oc,s),xr(i,sc,i),xr(i,oc,i);const a=xr(n,ng,QN,{[YN]:!0});xr(a,oc),xr(a,sc,o),xr(a,ng,a),xr(o,sc,o),xr(o,oc),xr(o,ng,o);const l=Ke(n,Kk,QE,{[Hk]:!0}),c=Ke(n,oj,n4,{[Hk]:!0}),u=xr(n,Vk,n4,{[Hk]:!0});Ke(n,Gk,u),Ke(c,Kk,l),Ke(c,Gk,u),xr(c,Vk,u),Ke(u,oj),Ke(u,Kk),xr(u,Vk,u),Ke(u,Gk,u);const d=xr(n,Wk,z9,{[L9]:!0});Ke(d,"#"),xr(d,Wk,d),Ke(d,Rse,d);const h=Ke(d,jse);Ke(h,"#"),xr(h,Wk,d);const f=[[oc,s],[sc,i]],m=[[oc,null],[ng,a],[sc,o]];for(let g=0;g<Gb.length;g++)uu(n,Gb[g],e4,hc,f);for(let g=0;g<Zb.length;g++)uu(n,Zb[g],t4,QN,m);Af(e4,{tld:!0,ascii:!0},t),Af(t4,{utld:!0,alpha:!0},t),uu(n,"file",rx,hc,f),uu(n,"mailto",rx,hc,f),uu(n,"http",Ap,hc,f),uu(n,"https",Ap,hc,f),uu(n,"ftp",Ap,hc,f),uu(n,"ftps",Ap,hc,f),Af(rx,{scheme:!0,ascii:!0},t),Af(Ap,{slashscheme:!0,ascii:!0},t),e=e.sort((g,y)=>g[0]>y[0]?1:-1);for(let g=0;g<e.length;g++){const y=e[g][0],x=e[g][1]?{[Ase]:!0}:{[Ese]:!0};y.indexOf("-")>=0?x[JN]=!0:oc.test(y)?sc.test(y)?x[rv]=!0:x[$N]=!0:x[XN]=!0,ij(n,y,y,x)}return ij(n,"localhost",u1,{ascii:!0}),n.jd=new No(Jw),{start:n,tokens:Object.assign({groups:t},U9)}}function q9(e,t){const n=Ise(t.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let a=e,l=null,c=0,u=null,d=-1,h=-1;for(;s<r&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[s].length,h++),c+=n[s].length,o+=n[s].length,s++;o-=d,s-=h,c-=d,i.push({t:u.t,v:t.slice(o-c,o),s:o-c,e:o})}return i}function Ise(e){const t=[],n=e.length;let r=0;for(;r<n;){let i=e.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=e.charCodeAt(r+1))<56320||o>57343?e[r]:e.slice(r,r+2);t.push(s),r+=s.length}return t}function uu(e,t,n,r,i){let o;const s=t.length;for(let a=0;a<s-1;a++){const l=t[a];e.j[l]?o=e.j[l]:(o=new No(r),o.jr=i.slice(),e.j[l]=o),e=o}return o=new No(n),o.jr=i.slice(),e.j[t[s-1]]=o,o}function sj(e){const t=[],n=[];let r=0,i="0123456789";for(;r<e.length;){let o=0;for(;i.indexOf(e[r+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let s=parseInt(e.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(e[r]),r++}return t}const d1={defaultProtocol:"http",events:null,format:aj,formatHref:aj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function iT(e,t=null){let n=Object.assign({},d1);e&&(n=Object.assign(n,e instanceof iT?e.o:e));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=i}iT.prototype={o:d1,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const r=t!=null;let i=this.o[e];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:d1[e],typeof i=="function"&&r&&(i=i(t,n))):typeof i=="function"&&r&&(i=i(t,n.t,n)),i)},getObj(e,t,n){let r=this.o[e];return typeof r=="function"&&t!=null&&(r=r(t,n.t,n)),r},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function aj(e){return e}function H9(e,t){this.t="token",this.v=e,this.tk=t}H9.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),r=e.get("format",t,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=d1.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),r=e.get("formatHref",n,this),i=e.get("tagName",n,t),o=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),c=e.get("rel",n,t),u=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=r,a&&(s.class=a),l&&(s.target=l),c&&(s.rel=c),u&&Object.assign(s,u),{tagName:i,attributes:s,content:o,eventListeners:d}}};function k5(e,t){class n extends H9{constructor(i,o){super(i,o),this.t=e}}for(const r in t)n.prototype[r]=t[r];return n.t=e,n}const lj=k5("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),cj=k5("text"),Ose=k5("nl"),Xb=k5("url",{isLink:!0,toHref(e=d1.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==u1&&e[1].t===Ou}}),_s=e=>new No(e);function Lse({groups:e}){const t=e.domain.concat([zw,qw,Eu,Hw,Ww,Vw,Kw,Gw,Cs,JE,sv,Zw,Xw,$w,pl,Jw,lv,Yw]),n=[Uw,Ou,eT,hl,tT,sv,av,nT,rT,Pw,Rw,iv,ov,Aw,Nw,Ew,Tw,jw,Dw,Iw,Ow,Lw,Mw,Fw,Bw],r=[zw,Uw,qw,Hw,Ww,Vw,Kw,Gw,Cs,iv,ov,sv,Zw,Xw,$w,av,pl,Jw,lv,Yw],i=_s(),o=Ke(i,lv);tn(o,r,o),tn(o,e.domain,o);const s=_s(),a=_s(),l=_s();tn(i,e.domain,s),tn(i,e.scheme,a),tn(i,e.slashscheme,l),tn(s,r,o),tn(s,e.domain,s);const c=Ke(s,Eu);Ke(o,Eu,c),Ke(a,Eu,c),Ke(l,Eu,c);const u=Ke(o,hl);tn(u,r,o),tn(u,e.domain,o);const d=_s();tn(c,e.domain,d),tn(d,e.domain,d);const h=Ke(d,hl);tn(h,e.domain,d);const f=_s(lj);tn(h,e.tld,f),tn(h,e.utld,f),Ke(c,u1,f);const m=Ke(d,Cs);Ke(m,Cs,m),tn(m,e.domain,d),tn(f,e.domain,d),Ke(f,hl,h),Ke(f,Cs,m);const g=Ke(f,Ou);tn(g,e.numeric,lj);const y=Ke(s,Cs),v=Ke(s,hl);Ke(y,Cs,y),tn(y,e.domain,s),tn(v,r,o),tn(v,e.domain,s);const x=_s(Xb);tn(v,e.tld,x),tn(v,e.utld,x),tn(x,e.domain,s),tn(x,r,o),Ke(x,hl,v),Ke(x,Cs,y),Ke(x,Eu,c);const _=Ke(x,Ou),S=_s(Xb);tn(_,e.numeric,S);const k=_s(Xb),T=_s();tn(k,t,k),tn(k,n,T),tn(T,t,k),tn(T,n,T),Ke(x,pl,k),Ke(S,pl,k);const P=Ke(a,Ou),N=Ke(l,Ou),A=Ke(N,pl),D=Ke(A,pl);tn(a,e.domain,s),Ke(a,hl,v),Ke(a,Cs,y),tn(l,e.domain,s),Ke(l,hl,v),Ke(l,Cs,y),tn(P,e.domain,k),Ke(P,pl,k),Ke(P,av,k),tn(D,e.domain,k),tn(D,t,k),Ke(D,pl,k);const C=[[iv,ov],[Nw,Aw],[Ew,Tw],[Pw,Rw],[jw,Dw],[Iw,Ow],[Lw,Mw],[Fw,Bw]];for(let j=0;j<C.length;j++){const[L,z]=C[j],K=Ke(k,L);Ke(T,L,K),Ke(K,z,k);const H=_s(Xb);tn(K,t,H);const Z=_s();tn(K,n),tn(H,t,H),tn(H,n,Z),tn(Z,t,H),tn(Z,n,Z),Ke(H,z,k),Ke(Z,z,k)}return Ke(i,u1,x),Ke(i,QE,Ose),{start:i,tokens:U9}}function Mse(e,t,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let a=e,l=null,c=null,u=0,d=null,h=-1;for(;i<r&&!(l=a.go(n[i].t));)s.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(Zk(cj,t,s)),s=[]),i-=h,u-=h;const f=d.t,m=n.slice(i-u,i);o.push(Zk(f,t,m))}}return s.length>0&&o.push(Zk(cj,t,s)),o}function Zk(e,t,n){const r=n[0].s,i=n[n.length-1].e,o=t.slice(r,i);return new e(o,n)}const Fse=typeof console<"u"&&console&&console.warn||(()=>{}),Bse="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",er={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function zse(){return No.groups={},er.scanner=null,er.parser=null,er.tokenQueue=[],er.pluginQueue=[],er.customSchemes=[],er.initialized=!1,er}function uj(e,t=!1){if(er.initialized&&Fse(`linkifyjs: already initialized - will not register custom scheme "${e}" ${Bse}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);er.customSchemes.push([e,t])}function Use(){er.scanner=Dse(er.customSchemes);for(let e=0;e<er.tokenQueue.length;e++)er.tokenQueue[e][1]({scanner:er.scanner});er.parser=Lse(er.scanner.tokens);for(let e=0;e<er.pluginQueue.length;e++)er.pluginQueue[e][1]({scanner:er.scanner,parser:er.parser});return er.initialized=!0,er}function oT(e){return er.initialized||Use(),Mse(er.parser.start,e,q9(er.scanner.start,e))}oT.scan=q9;function W9(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const r=new iT(n),i=oT(e),o=[];for(let s=0;s<i.length;s++){const a=i[s];a.isLink&&(!t||a.t===t)&&r.check(a)&&o.push(a.toFormattedObject(r))}return o}var sT="[\0- -\u2029]",qse=new RegExp(sT),Hse=new RegExp(`${sT}$`),Wse=new RegExp(sT,"g");function Vse(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function Kse(e){return new Yn({key:new cr("autolink"),appendTransaction:(t,n,r)=>{const i=t.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=t.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=r9(n.doc,[...t]);if(d9(a).forEach(({newRange:c})=>{const u=Mre(r.doc,c,f=>f.isTextblock);let d,h;if(u.length>1)d=u[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(u.length){const f=r.doc.textBetween(c.from,c.to," "," ");if(!Hse.test(f))return;d=u[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&h){const f=h.split(qse).filter(Boolean);if(f.length<=0)return!1;const m=f[f.length-1],g=d.pos+h.lastIndexOf(m);if(!m)return!1;const y=oT(m).map(v=>v.toObject(e.defaultProtocol));if(!Vse(y))return!1;y.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>e.validate(v.value)).filter(v=>e.shouldAutoLink(v.value)).forEach(v=>{GE(v.from,v.to,r.doc).some(x=>x.mark.type===e.type)||s.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!s.steps.length)return s}})}function Gse(e){return new Yn({key:new cr("handleClickLink"),props:{handleClick:(t,n,r)=>{var i,o;if(r.button!==0||!t.editable)return!1;let s=!1;if(e.enableClickSelection&&(s=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){let a=null;if(r.target instanceof HTMLAnchorElement)a=r.target;else{let d=r.target;const h=[];for(;d.nodeName!=="DIV";)h.push(d),d=d.parentNode;a=h.find(f=>f.nodeName==="A")}if(!a)return s;const l=u9(t.state,e.type.name),c=(i=a?.href)!=null?i:l.href,u=(o=a?.target)!=null?o:l.target;a&&c&&(window.open(c,u),s=!0)}return s}}})}function Zse(e){return new Yn({key:new cr("handlePasteLink"),props:{handlePaste:(t,n,r)=>{const{shouldAutoLink:i}=e,{state:o}=t,{selection:s}=o,{empty:a}=s;if(a)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const c=W9(l,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c||i!==void 0&&!i(c.href)?!1:e.editor.commands.setMark(e.type,{href:c.href})}}})}function lf(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!e||e.replace(Wse,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var C5=za.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){uj(e);return}uj(e.scheme,e.optionalSlashes)})},onDestroy(){zse()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!lf(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!lf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!lf(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Sn(this.options.HTMLAttributes,e),0]:["a",Sn(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n;const r=((n=e.attrs)==null?void 0:n.href)||"";return`[${t.renderChildren(e)}](${r})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:r=>!!lf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:r=>!!lf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Nd({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:r}=this.options,i=W9(e).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:s=>!!lf(s,n),protocols:n,defaultProtocol:r}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&t.push({text:o.value,data:{href:o.href},index:o.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(Kse({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!lf(i,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(Gse({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(Zse({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),Xse=Object.defineProperty,$se=(e,t)=>{for(var n in t)Xse(e,n,{get:t[n],enumerable:!0})},Yse="listItem",dj="textStyle",fj=/^\s*([-+*])\s$/,V9=ci.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Sn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Yse,this.editor.getAttributes(dj)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=L0({find:fj,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=L0({find:fj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(dj),editor:this.editor})),[e]}}),K9=ci.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Sn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(i=>i.type==="paragraph"))n=t.parseChildren(e.tokens);else{const i=e.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(i.tokens)}],e.tokens.length>1){const s=e.tokens.slice(1),a=t.parseChildren(s);n.push(...a)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>YE(e,t,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Jse={};$se(Jse,{findListItemPos:()=>iy,getNextListDepth:()=>aT,handleBackspace:()=>r4,handleDelete:()=>i4,hasListBefore:()=>G9,hasListItemAfter:()=>Qse,hasListItemBefore:()=>Z9,listItemHasSubList:()=>X9,nextListIsDeeper:()=>$9,nextListIsHigher:()=>Y9});var iy=(e,t)=>{const{$from:n}=t.selection,r=Hr(e,t.schema);let i=null,o=n.depth,s=n.pos,a=null;for(;o>0&&a===null;)i=n.node(o),i.type===r?a=o:(o-=1,s-=1);return a===null?null:{$pos:t.doc.resolve(s),depth:a}},aT=(e,t)=>{const n=iy(e,t);if(!n)return!1;const[,r]=Kre(t,e,n.$pos.pos+4);return r},G9=(e,t,n)=>{const{$anchor:r}=e.selection,i=Math.max(0,r.pos-2),o=e.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},Z9=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==e)},X9=(e,t,n)=>{if(!n)return!1;const r=Hr(e,t.schema);let i=!1;return n.descendants(o=>{o.type===r&&(i=!0)}),i},r4=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!Cd(e.state,t)&&G9(e.state,t,n)){const{$anchor:a}=e.state.selection,l=e.state.doc.resolve(a.before()-1),c=[];l.node().descendants((h,f)=>{h.type.name===t&&c.push({node:h,pos:f})});const u=c.at(-1);if(!u)return!1;const d=e.state.doc.resolve(l.start()+u.pos+1);return e.chain().cut({from:a.start()-1,to:a.end()+1},d.end()).joinForward().run()}if(!Cd(e.state,t)||!$re(e.state))return!1;const r=iy(t,e.state);if(!r)return!1;const o=e.state.doc.resolve(r.$pos.pos-2).node(r.depth),s=X9(t,e.state,o);return Z9(t,e.state)&&!s?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},$9=(e,t)=>{const n=aT(e,t),r=iy(e,t);return!r||!n?!1:n>r.depth},Y9=(e,t)=>{const n=aT(e,t),r=iy(e,t);return!r||!n?!1:n<r.depth},i4=(e,t)=>{if(!Cd(e.state,t)||!Xre(e.state,t))return!1;const{selection:n}=e.state,{$from:r,$to:i}=n;return!n.empty&&r.sameParent(i)?!1:$9(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Y9(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},Qse=(e,t)=>{var n;const{$anchor:r}=t.selection,i=t.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==e)},J9=Bn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&i4(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&i4(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&r4(e,n,r)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:r})=>{e.state.schema.nodes[n]!==void 0&&r4(e,n,r)&&(t=!0)}),t}}}}),hj=/^(\s*)(\d+)\.\s+(.*)$/,eae=/^\s/;function tae(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n],o=i.match(hj);if(!o)break;const[,s,a,l]=o,c=s.length;let u=l,d=n+1;const h=[i];for(;d<e.length;){const f=e[d];if(f.match(hj))break;if(f.trim()==="")h.push(f),u+=`
`,d+=1;else if(f.match(eae))h.push(f),u+=`
${f.slice(c+2)}`,d+=1;else break}t.push({indent:c,number:parseInt(a,10),content:u.trim(),raw:h.join(`
`)}),r=d,n=d}return[t,r]}function Q9(e,t,n){var r;const i=[];let o=0;for(;o<e.length;){const s=e[o];if(s.indent===t){const a=s.content.split(`
`),l=((r=a[0])==null?void 0:r.trim())||"",c=[];l&&c.push({type:"paragraph",raw:l,tokens:n.inlineTokens(l)});const u=a.slice(1).join(`
`).trim();if(u){const f=n.blockTokens(u);c.push(...f)}let d=o+1;const h=[];for(;d<e.length&&e[d].indent>t;)h.push(e[d]),d+=1;if(h.length>0){const f=Math.min(...h.map(g=>g.indent)),m=Q9(h,f,n);c.push({type:"list",ordered:!0,start:h[0].number,items:m,raw:h.map(g=>g.raw).join(`
`)})}i.push({type:"list_item",raw:s.raw,tokens:c}),o=d}else o+=1}return i}function nae(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const r=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...t.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=t.parseChildren([i]);r.push({type:"paragraph",content:o})}else{const o=t.parseChildren([i]);o.length>0&&r.push(...o)}}),{type:"listItem",content:r}})}var rae="listItem",pj="textStyle",mj=/^(\d+)\.\s$/,eU=ci.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Sn(this.options.HTMLAttributes,n),0]:["ol",Sn(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,r=e.items?nae(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:r}:{type:"orderedList",content:r}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t?.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var r;const i=e.split(`
`),[o,s]=tae(i);if(o.length===0)return;const a=Q9(o,0,n);return a.length===0?void 0:{type:"list",ordered:!0,start:((r=o[0])==null?void 0:r.number)||1,items:a,raw:i.slice(0,s).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(rae,this.editor.getAttributes(pj)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=L0({find:mj,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=L0({find:mj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(pj)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),iae=/^\s*(\[([( |x])?\])\s$/,oae=ci.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",Sn(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const r=t.parseChildren(e.nestedTokens);n.push(...r)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const i=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return YE(e,t,i)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div"),c=u=>{var d,h;a.ariaLabel=((h=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:h.call(d,u,a.checked))||`Task item checkbox for ${u.textContent||"empty task item"}`};return c(e),o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:d}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:h})=>{const f=n();if(typeof f!="number")return!1;const m=h.doc.nodeAt(f);return h.setNodeMarkup(f,void 0,{...m?.attrs,checked:d}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,d)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,d])=>{i.setAttribute(u,d)}),i.dataset.checked=e.attrs.checked,a.checked=e.attrs.checked,o.append(a,s),i.append(o,l),Object.entries(t).forEach(([u,d])=>{i.setAttribute(u,d)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,a.checked=u.attrs.checked,c(u),!0)}}},addInputRules(){return[L0({find:iae,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),sae=ci.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",Sn(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const r=o=>{const s=GN(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,l)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:l}),customNestedParser:r},n);return s?[{type:"taskList",raw:s.raw,items:s.items}]:n.blockTokens(o)},i=GN(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,s)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:s}),customNestedParser:r},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Bn.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(V9.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(K9.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(J9.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(eU.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(oae.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(sae.configure(this.options.taskList)),e}});var aae=ci.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Sn(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];return n.length===1&&n[0].type==="image"?t.parseChildren([n[0]]):t.createNode("paragraph",void 0,t.parseInline(n))},renderMarkdown:(e,t)=>!e||!Array.isArray(e.content)?"":t.renderChildren(e.content),addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),lae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,cae=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,uae=za.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Sn(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[nh({find:lae,type:this.type})]},addPasteRules(){return[Nd({find:cae,type:this.type})]}}),dae=ci.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),oy=za.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",Sn(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function fae(e={}){return new Yn({view(t){return new hae(t,e)}})}class hae{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,a=o.height/i.offsetHeight;if(n){let d=t.nodeBefore,h=t.nodeAfter;if(d||h){let f=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(f){let m=f.getBoundingClientRect(),g=d?m.bottom:m.top;d&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*a;r={left:m.left,right:m.right,top:g-y,bottom:g+y}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*s;r={left:d.left-h,right:d.left+h,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let c,u;if(!l||l==document.body&&getComputedStyle(l).position=="static")c=-pageXOffset,u=-pageYOffset;else{let d=l.getBoundingClientRect(),h=d.width/l.offsetWidth,f=d.height/l.offsetHeight;c=d.left-l.scrollLeft*h,u=d.top-l.scrollTop*f}this.element.style.left=(r.left-c)/s+"px",this.element.style.top=(r.top-u)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=tz(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class Sr extends Dt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return Sr.valid(r)?new Sr(r):Dt.near(r)}content(){return rt.empty}eq(t){return t instanceof Sr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Sr(t.resolve(n.pos))}getBookmark(){return new lT(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!pae(t)||!mae(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&Sr.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let l=t.doc.resolve(i);if(Sr.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Et.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=t.doc.resolve(i);if(Sr.valid(a))return a}return null}}}Sr.prototype.visible=!1;Sr.findFrom=Sr.findGapCursorFrom;Dt.jsonID("gapcursor",Sr);class lT{constructor(t){this.pos=t}map(t){return new lT(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return Sr.valid(n)?new Sr(n):Dt.near(n)}}function tU(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function pae(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||tU(i.type))return!0;if(i.inlineContent)return!1}}return!0}function mae(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||tU(i.type))return!0;if(i.inlineContent)return!1}}return!0}function gae(){return new Yn({props:{decorations:xae,createSelectionBetween(e,t,n){return t.pos==n.pos&&Sr.valid(n)?new Sr(n):null},handleClick:yae,handleKeyDown:vae,handleDOMEvents:{beforeinput:bae}}})}const vae=UE({ArrowLeft:$b("horiz",-1),ArrowRight:$b("horiz",1),ArrowUp:$b("vert",-1),ArrowDown:$b("vert",1)});function $b(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof Tt){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let c=Sr.findGapCursorFrom(a,t,l);return c?(i&&i(r.tr.setSelection(new Sr(c))),!0):!1}}function yae(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!Sr.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Et.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new Sr(r))),!0)}function bae(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof Sr))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Fe.empty;for(let s=r.length-1;s>=0;s--)i=Fe.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new rt(i,0,0));return o.setSelection(Tt.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function xae(e){if(!(e.selection instanceof Sr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Wn.create(e.doc,[si.widget(e.selection.head,t,{key:"gapcursor"})])}var Qw=200,xi=function(){};xi.prototype.append=function(t){return t.length?(t=xi.from(t),!this.length&&t||t.length<Qw&&this.leafAppend(t)||this.length<Qw&&t.leafPrepend(this)||this.appendInner(t)):this};xi.prototype.prepend=function(t){return t.length?xi.from(t).append(this):this};xi.prototype.appendInner=function(t){return new wae(this,t)};xi.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?xi.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};xi.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};xi.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};xi.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(t(o,s))},n,r),i};xi.from=function(t){return t instanceof xi?t:t&&t.length?new nU(t):xi.empty};var nU=function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Qw)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Qw)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(xi);xi.empty=new nU([]);var wae=function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t}(xi);const _ae=500;class Ca{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),o=i.maps.length),o--,u.push(d);return}if(i){u.push(new ml(d.map));let f=d.step.map(i.slice(o)),m;f&&s.maybeStep(f).doc&&(m=s.mapping.maps[s.mapping.maps.length-1],c.push(new ml(m,void 0,void 0,c.length+u.length))),o--,m&&i.appendMap(m,o)}else s.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(o)):d.selection,l=new Ca(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<t.steps.length;u++){let d=t.steps[u].invert(t.docs[u]),h=new ml(t.mapping.maps[u],d,n),f;(f=l&&l.merge(h))&&(h=f,u?o.pop():a=a.slice(0,a.length-1)),o.push(h),n&&(s++,n=void 0),i||(l=h)}let c=s-r.depth;return c>kae&&(a=Sae(a,c),s-=c),new Ca(a.append(o),s)}remapping(t,n){let r=new i1;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new Ca(this.items.append(t.map(n=>new ml(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let f=o.getMirror(--l);if(f==null)return;s=Math.min(s,f);let m=o.maps[f];if(h.step){let g=t.steps[f].invert(t.docs[f]),y=h.selection&&h.selection.map(o.slice(l+1,f));y&&a++,r.push(new ml(m,g,y))}else r.push(new ml(m))},i);let c=[];for(let h=n;h<s;h++)c.push(new ml(o.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new Ca(u,a);return d.emptyItemCount()>_ae&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=s.selection&&s.selection.map(n.slice(r));u&&o++;let d=new ml(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else s.map&&r--},this.items.length,0),new Ca(xi.from(i.reverse()),o)}}Ca.empty=new Ca(xi.empty,0);function Sae(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class ml{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ml(n.getMap().invert(),n,this.selection)}}}class Tu{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const kae=20;function Cae(e,t,n,r){let i=n.getMeta(Hf),o;if(i)return i.historyState;n.getMeta(Eae)&&(e=new Tu(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(Hf))return s.getMeta(Hf).redo?new Tu(e.done.addTransform(n,void 0,r,ix(t)),e.undone,gj(n.mapping.maps),e.prevTime,e.prevComposition):new Tu(e.done,e.undone.addTransform(n,void 0,r,ix(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Nae(n,e.prevRanges)),c=s?Xk(e.prevRanges,n.mapping):gj(n.mapping.maps);return new Tu(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,ix(t)),Ca.empty,c,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Tu(e.done.rebased(n,o),e.undone.rebased(n,o),Xk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Tu(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),Xk(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Nae(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function gj(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,s)=>t.push(o,s));return t}function Xk(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function Aae(e,t,n){let r=ix(t),i=Hf.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new Tu(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Hf,{redo:n,historyState:l})}let $k=!1,vj=null;function ix(e){let t=e.plugins;if(vj!=t){$k=!1,vj=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){$k=!0;break}}return $k}const Hf=new cr("history"),Eae=new cr("closeHistory");function Tae(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Yn({key:Hf,state:{init(){return new Tu(Ca.empty,Ca.empty,null,0,-1)},apply(t,n,r){return Cae(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?iU:r=="historyRedo"?oU:null;return!i||!t.editable?!1:(n.preventDefault(),i(t.state,t.dispatch))}}}})}function rU(e,t){return(n,r)=>{let i=Hf.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=Aae(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const iU=rU(!1,!0),oU=rU(!0,!0);Bn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=e?.node||this.editor.state.doc;if((e?.mode||this.options.mode)==="textSize"){const r=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(r)}return t.nodeSize},this.storage.words=e=>{const t=e?.node||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Yn({key:new cr("characterCount"),appendTransaction:(t,n,r)=>{if(e)return;const i=this.options.limit;if(i==null||i===0){e=!0;return}const o=this.storage.characters({node:r.doc});if(o>i){const s=o-i,a=0,l=s;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const c=r.tr.deleteRange(a,l);return e=!0,c}e=!0},filterTransaction:(t,n)=>{const r=this.options.limit;if(!t.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:t.doc});if(o<=r||i>r&&o>r&&o<=i)return!0;if(i>r&&o>r&&o>i||!t.getMeta("paste"))return!1;const a=t.selection.$head.pos,l=o-r,c=a-l,u=a;return t.deleteRange(c,u),!(this.storage.characters({node:t.doc})>r)}})]}});var Pae=Bn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[fae(this.options)]}});Bn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Yn({key:new cr("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=t,o=[];if(!n||!r)return Wn.create(e,[]);let s=0;this.options.mode==="deepest"&&e.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;s+=1});let a=0;return e.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";o.push(si.node(c,c+l.nodeSize,{class:this.options.className}))}),Wn.create(e,o)}}})]}});var Rae=Bn.create({name:"gapCursor",addProseMirrorPlugins(){return[gae()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=In(At(e,"allowGapCursor",n)))!=null?t:null}}}),cT=Bn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Yn({key:new cr("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((s,a)=>{const l=r>=a&&r<=a+s.nodeSize,c=!s.isLeaf&&y5(s);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];o&&u.push(this.options.emptyEditorClass);const d=si.node(a,a+s.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),Wn.create(e,i)}}})]}});Bn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Yn({key:new cr("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||f9(n.selection)||e.view.dragging?null:Wn.create(n.doc,[si.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function yj({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||t?.type===e}var jae=Bn.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new cr(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new Yn({key:t,appendTransaction:(i,o,s)=>{const{doc:a,tr:l,schema:c}=s,u=t.getState(s),d=a.content.size,h=c.nodes[n];if(u)return l.insert(d,h.create())},state:{init:(i,o)=>{const s=o.tr.doc.lastChild;return!yj({node:s,types:r})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const s=i.doc.lastChild;return!yj({node:s,types:r})}}})]}}),Dae=Bn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>iU(e,t),redo:()=>({state:e,dispatch:t})=>oU(e,t)}},addProseMirrorPlugins(){return[Tae(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Iae=Bn.create({name:"starterKit",addExtensions(){var e,t,n,r;const i=[];return this.options.bold!==!1&&i.push(cse.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(ise.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(V9.configure(this.options.bulletList)),this.options.code!==!1&&i.push(fse.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(mse.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(gse.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Pae.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Rae.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(vse.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(yse.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Dae.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(bse.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(kse.configure(this.options.italic)),this.options.listItem!==!1&&i.push(K9.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(J9.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&i.push(C5.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&i.push(eU.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(aae.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(uae.configure(this.options.strike)),this.options.text!==!1&&i.push(dae.configure(this.options.text)),this.options.underline!==!1&&i.push(oy.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(jae.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),N5=Iae,Oae=cT;function Yb({onClick:e,isActive:t,children:n,title:r}){return p.jsx("button",{type:"button",onClick:e,title:r,className:`p-1.5 rounded transition-colors ${t?"bg-gray-300 text-gray-900":"text-gray-600 hover:bg-gray-200"}`,children:n})}function o4({content:e,onChange:t,placeholder:n="Select a document type to populate a templated description",maxLength:r=1e3}){const i=I.useRef(!1),o=S5({extensions:[N5.configure({heading:!1,bulletList:!1,orderedList:!1,blockquote:!1,codeBlock:!1,horizontalRule:!1}),oy,C5.configure({openOnClick:!1}),Oae.configure({placeholder:n})],content:e,onUpdate:({editor:l})=>{i.current||t(l.getHTML())}});I.useEffect(()=>{o&&e!==o.getHTML()&&(i.current=!0,o.commands.setContent(e,{emitUpdate:!1}),i.current=!1)},[e,o]);const s=()=>{if(!o)return;const l=o.getAttributes("link").href,c=window.prompt("URL",l);if(c!==null){if(c===""){o.chain().focus().extendMarkRange("link").unsetLink().run();return}o.chain().focus().extendMarkRange("link").setLink({href:c}).run()}},a=o?.getText().length||0;return p.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:[p.jsxs("div",{className:"flex items-center gap-0.5 p-2 bg-gray-100 border-b border-gray-200",children:[p.jsx(Yb,{onClick:()=>o?.chain().focus().toggleBold().run(),isActive:o?.isActive("bold"),title:"Bold",children:p.jsx(X_,{className:"w-4 h-4"})}),p.jsx(Yb,{onClick:()=>o?.chain().focus().toggleItalic().run(),isActive:o?.isActive("italic"),title:"Italic",children:p.jsx(Q_,{className:"w-4 h-4"})}),p.jsx(Yb,{onClick:()=>o?.chain().focus().toggleUnderline().run(),isActive:o?.isActive("underline"),title:"Underline",children:p.jsx(e5,{className:"w-4 h-4"})}),p.jsx(Yb,{onClick:s,isActive:o?.isActive("link"),title:"Link",children:p.jsx(vE,{className:"w-4 h-4"})})]}),p.jsx(_5,{editor:o,className:"prose prose-sm max-w-none p-3 min-h-[80px] bg-white text-xs focus:outline-none [&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-[60px] [&_.ProseMirror_p.is-editor-empty:first-child::before]:content-[attr(data-placeholder)] [&_.ProseMirror_p.is-editor-empty:first-child::before]:text-gray-400 [&_.ProseMirror_p.is-editor-empty:first-child::before]:float-left [&_.ProseMirror_p.is-editor-empty:first-child::before]:pointer-events-none [&_.ProseMirror_p.is-editor-empty:first-child::before]:h-0"}),p.jsx("div",{className:"flex justify-end px-3 pb-2 bg-white",children:p.jsxs("span",{className:"text-2xs text-gray-400",children:[a,"/",r]})})]})}const Lae=380;function bj({mode:e,parties:t,initialData:n,anchorRect:r,onSave:i,onClose:o}){const s=I.useRef(null),[a,l]=I.useState(!1),[c,u]=I.useState("bottom"),[d,h]=I.useState({document_type:n?.document_type||"",fulfillment_party:n?.fulfillment_party||t[0]?.party_type||"",description_for_borrower:n?.description_for_borrower||""});I.useEffect(()=>{if(r){const v=window.innerHeight-r.bottom,x=r.top;u(v<Lae&&x>v?"top":"bottom")}},[r]),I.useEffect(()=>{function v(x){const _=x.target,S=s.current?.contains(_),k=_.closest("[data-dropdown-portal]");!S&&!k&&o()}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[o]),I.useEffect(()=>{function v(x){x.key==="Escape"&&o()}return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[o]);async function f(){if(!d.document_type)return;l(!0);const v=await i(d);l(!1),v&&o()}const m=d.document_type!=="",g={};r&&(g.position="fixed",g.left=Math.max(16,r.left+r.width/2-200),c==="top"?g.bottom=window.innerHeight-r.top+8:g.top=r.bottom+8);const y=r?Math.min(r.width/2+(r.left-g.left)-8,380):20;return p.jsxs("div",{ref:s,className:"z-50 bg-white border border-gray-200 rounded-lg shadow-xl w-[400px]",style:g,children:[c==="bottom"?p.jsx("div",{className:"absolute -top-2 w-4 h-4 bg-white border-l border-t border-gray-200 transform rotate-45",style:{left:y}}):p.jsx("div",{className:"absolute -bottom-2 w-4 h-4 bg-white border-r border-b border-gray-200 transform rotate-45",style:{left:y}}),p.jsxs("div",{className:"relative bg-white rounded-lg",children:[p.jsxs("div",{className:"flex items-center justify-between px-5 py-4",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e==="add"?"Add Document Request":"Edit Document Request"}),p.jsx("button",{onClick:o,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:p.jsx(lr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"px-5 pb-4 space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:["Document Type ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Fa,{value:d.document_type,onChange:v=>h(x=>({...x,document_type:v})),options:Ms.map(v=>({value:v,label:v})),placeholder:"Select"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Request For"}),p.jsx(yi,{value:d.fulfillment_party,onChange:v=>h(x=>({...x,fulfillment_party:v.target.value})),options:t.map(v=>({value:v.party_type,label:`${v.party_type}: ${v.party_name}`}))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Description for Borrower"}),p.jsx(o4,{content:d.description_for_borrower,onChange:v=>h(x=>({...x,description_for_borrower:v}))})]})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-5 py-4 border-t border-gray-200",children:[p.jsx("button",{onClick:o,className:"px-4 py-2 text-sm font-medium text-cmg-teal hover:text-cmg-teal-dark transition-colors",children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:f,disabled:!m||a,children:a?"Saving...":e==="add"?"Add":"Save"})]})]})]})}function cf({onClick:e,isActive:t,disabled:n,children:r,title:i,compact:o}){return p.jsx("button",{type:"button",onClick:e,disabled:n,title:i,className:`${o?"p-1":"p-1.5"} rounded transition-colors ${t?"bg-cmg-teal/20 text-cmg-teal":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"} ${n?"opacity-50 cursor-not-allowed":""}`,children:r})}function xj({compact:e}){return p.jsx("div",{className:`w-px ${e?"h-4":"h-5"} bg-gray-200 mx-0.5`})}function Mae({editor:e,compact:t}){if(!e)return null;const n=()=>{const i=e.getAttributes("link").href,o=window.prompt("URL",i);if(o!==null){if(o===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:o}).run()}},r="w-3.5 h-3.5";return p.jsxs("div",{className:`flex items-center gap-0.5 ${t?"p-1.5":"p-2"} bg-gray-50 border-b border-gray-200`,children:[p.jsx(cf,{onClick:()=>e.chain().focus().toggleBold().run(),isActive:e.isActive("bold"),title:"Bold",compact:t,children:p.jsx(X_,{className:r})}),p.jsx(cf,{onClick:()=>e.chain().focus().toggleItalic().run(),isActive:e.isActive("italic"),title:"Italic",compact:t,children:p.jsx(Q_,{className:r})}),p.jsx(cf,{onClick:()=>e.chain().focus().toggleUnderline().run(),isActive:e.isActive("underline"),title:"Underline",compact:t,children:p.jsx(e5,{className:r})}),p.jsx(cf,{onClick:()=>e.chain().focus().toggleStrike().run(),isActive:e.isActive("strike"),title:"Strikethrough",compact:t,children:p.jsx(pB,{className:r})}),p.jsx(xj,{compact:t}),p.jsx(cf,{onClick:()=>e.chain().focus().toggleBulletList().run(),isActive:e.isActive("bulletList"),title:"Bullet List",compact:t,children:p.jsx(yE,{className:r})}),p.jsx(cf,{onClick:()=>e.chain().focus().toggleOrderedList().run(),isActive:e.isActive("orderedList"),title:"Numbered List",compact:t,children:p.jsx(uB,{className:r})}),p.jsx(xj,{compact:t}),p.jsx(cf,{onClick:n,isActive:e.isActive("link"),title:"Link",compact:t,children:p.jsx(vE,{className:r})})]})}function sy({value:e,onChange:t,placeholder:n="Add a note...",compact:r=!1,onSubmit:i,autoFocus:o=!1}){const s=I.useRef(!1),a=S5({extensions:[N5.configure({heading:!1}),oy,C5.configure({openOnClick:!1}),cT.configure({placeholder:n,emptyEditorClass:"is-editor-empty"})],content:e,autofocus:o,onUpdate:({editor:u})=>{s.current||t(u.getHTML())},editorProps:{handleKeyDown:(u,d)=>d.key==="Enter"&&(d.metaKey||d.ctrlKey)&&i?(d.preventDefault(),i(),!0):!1}});I.useEffect(()=>{a&&e!==a.getHTML()&&(s.current=!0,a.commands.setContent(e,{emitUpdate:!1}),s.current=!1)},[e,a]);const l=r?"min-h-[80px]":"min-h-[120px]",c=r?"p-2":"p-3";return p.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-cmg-teal focus-within:border-cmg-teal",children:[p.jsx(Mae,{editor:a,compact:r}),p.jsx(_5,{editor:a,className:`text-xs prose prose-sm max-w-none ${c} ${l} focus:outline-none [&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-full [&_.ProseMirror]:text-xs [&_.ProseMirror_ul]:list-disc [&_.ProseMirror_ul]:pl-5 [&_.ProseMirror_ul]:my-2 [&_.ProseMirror_ol]:list-decimal [&_.ProseMirror_ol]:pl-5 [&_.ProseMirror_ol]:my-2 [&_.ProseMirror_li]:mb-1 [&_.ProseMirror_p]:my-1 [&_.ProseMirror.is-editor-empty:first-child::before]:content-[attr(data-placeholder)] [&_.ProseMirror.is-editor-empty:first-child::before]:text-gray-400 [&_.ProseMirror.is-editor-empty:first-child::before]:float-left [&_.ProseMirror.is-editor-empty:first-child::before]:h-0 [&_.ProseMirror.is-editor-empty:first-child::before]:pointer-events-none`})]})}function s4({title:e,description:t,onTitleChange:n,onDescriptionChange:r,disabled:i=!1}){const o=I.useRef(null),s=I.useRef(null),a=I.useCallback(l=>{l&&(l.style.height="auto",l.style.height=`${l.scrollHeight}px`)},[]);return I.useEffect(()=>{a(o.current)},[e,a]),I.useEffect(()=>{a(s.current)},[t,a]),p.jsxs("div",{className:`
        rounded-xl border border-gray-300 bg-white
        focus-within:ring-2 focus-within:ring-cmg-teal focus-within:border-transparent
        transition-all duration-150
        ${i?"opacity-60 cursor-not-allowed":""}
      `,children:[p.jsx("textarea",{ref:o,value:e,onChange:l=>{n(l.target.value),a(l.target)},disabled:i,rows:1,className:`
          w-full px-4 pt-3 pb-1 text-xs font-semibold text-gray-900
          bg-transparent border-none outline-none resize-none
          placeholder:text-gray-400
          disabled:cursor-not-allowed
        `,placeholder:"Condition Name"}),p.jsx("textarea",{ref:s,value:t,onChange:l=>{r(l.target.value),a(l.target)},disabled:i,rows:1,className:`
          w-full px-4 pt-0 pb-3 text-xs text-gray-600
          bg-transparent border-none outline-none resize-none
          placeholder:text-gray-400
          disabled:cursor-not-allowed
        `,placeholder:"Description"})]})}function wj(e){return new Date(e).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})}function Fae(e){const t=new Date(e),n=new Date;return t.toDateString()===n.toDateString()?`Today, ${t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}`:t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})}function Bae(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function zae({condition:e,isSelected:t,flagColor:n,loanId:r,parties:i,userRole:o,onSelect:s,onStatusChange:a,onAddNote:l,onEdit:c,onFlagChange:u,onOpenUploadModal:d,onOpenNotesModal:h,onOpenReviewDocs:f,onUpdateDetails:m,onAddDocRequest:g,onUpdateDocRequest:y,onDeleteDocRequest:v}){const[x,_]=I.useState(!1),[S,k]=I.useState(""),[T,P]=I.useState(!1),[N,A]=I.useState(!1),D=I.useRef(null),[C,j]=I.useState(!1),[L,z]=I.useState(null),[K,H]=I.useState(null),[Z,W]=I.useState(null),[Y,le]=I.useState(null),[fe,M]=I.useState(null),$=I.useRef(null),[Q,ie]=I.useState(!1),[oe,de]=I.useState(""),[pe,ae]=I.useState(""),[ue,_e]=I.useState(""),[Se,Ne]=I.useState(""),[Xe,G]=I.useState("idle"),[We,xt]=I.useState(""),[at,Ie]=I.useState(!1),Ae=I.useRef(null);I.useEffect(()=>{if(Xe==="saved"){const lt=setTimeout(()=>{G("idle")},2e3);return()=>clearTimeout(lt)}},[Xe]);function ke(){de(e.title),ae(e.description),_e(e.title),Ne(e.description),ie(!0),G("idle"),xt("")}function Oe(){de(ue),ae(Se),ie(!1),G("idle"),xt("")}async function Le(){if(oe===ue&&pe===Se){ie(!1);return}G("saving");const lt=await m(e.id,oe,pe);lt.success?(G("saved"),ie(!1)):(G("error"),xt(lt.error||"Failed to save changes"))}function Ce(lt){const vn=lt.relatedTarget;Ae.current&&vn&&Ae.current.contains(vn)||Q&&Xe!=="saving"&&Le()}function Me(lt){lt.key==="Escape"&&Q&&(lt.preventDefault(),Oe())}function Be(){A(!1),D.current?.click()}function De(lt){const vn=lt.target.files;vn&&vn.length>0&&d(e.id,Array.from(vn)),D.current&&(D.current.value="")}const it=[{id:"clear-docs",label:"Browse and add docs from CLEAR Docs",onClick:()=>A(!1)},{id:"upload",label:"Upload from your computer",onClick:Be}],$e=e.notes??[],pt=e.documents??[],tt=e.doc_requests??[],jn=$e[0],nn=$e.some(lt=>!lt.is_read),be=o==="Underwriter"?"Reviewed":"Need to Review",ze=pt.filter(lt=>lt.status===be);pt.length;const nt=tt.filter(lt=>lt.status!=="Complete"),Je=e.stage==="Suspend",dt=pt.filter(lt=>o==="Underwriter"?lt.status==="Approved":lt.status==="Reviewed"||lt.status==="Approved"),st=dt.length,mt=dt.filter(lt=>lt.expiration_date).map(lt=>new Date(lt.expiration_date)).sort((lt,vn)=>lt.getTime()-vn.getTime())[0]||null,cn=mt?(mt.getTime()-Date.now())/(1e3*60*60*24)<=7:!1;function Bt(){S.replace(/<[^>]*>/g,"").trim()&&(l(S),k(""),_(!1))}function vt(lt){const vn=document.createElement("div");return vn.innerHTML=lt,vn.textContent||vn.innerText||""}function Qe(){$.current&&le($.current.getBoundingClientRect()),j(!0)}function It(lt,vn){const xo=vn.currentTarget;M(xo.getBoundingClientRect()),z(lt)}async function Kt(lt){const vn=await g(lt);return vn&&j(!1),vn}async function Wr(lt){if(!L)return!1;const vn=await y(L.id,{document_type:lt.document_type,fulfillment_party:lt.fulfillment_party,description_for_borrower:lt.description_for_borrower});return vn&&z(null),vn}async function ur(){Z&&(await v(Z),W(null))}const ot=$e.length;return p.jsxs("div",{className:`border-b border-gray-100 px-4 py-3 transition-colors ${Je?"bg-[#FFF5F5] hover:bg-red-100":"bg-white hover:bg-gray-50"}`,children:[p.jsx("input",{ref:D,type:"file",multiple:!0,accept:i5.join(","),onChange:De,className:"hidden"}),p.jsxs("div",{className:"grid grid-cols-[40px_140px_1fr_160px_400px_180px_120px_100px] gap-2 items-start",children:[p.jsx("div",{className:"flex items-center justify-center pt-1",children:p.jsx(fo,{checked:t,onChange:s})}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[p.jsx("button",{onClick:c,className:"text-xs font-semibold text-cmg-teal hover:text-cmg-teal-dark hover:underline text-left",children:e.condition_id}),p.jsx("button",{onClick:()=>P(!0),className:"p-0.5 rounded hover:bg-gray-100 transition-colors",children:p.jsx(gE,{className:`w-3.5 h-3.5 ${n?n5[n].text:"text-gray-300"}`,fill:n?"currentColor":"none"})})]}),p.jsx("div",{className:"text-2xs text-gray-500",children:"Added By System"}),T&&p.jsx("div",{className:"absolute top-6 left-0 z-50",children:p.jsx(s5,{currentColor:n,onApply:lt=>{u(lt),P(!1)},onClose:()=>P(!1)})})]}),p.jsx("div",{onMouseEnter:()=>Ie(!0),onMouseLeave:()=>Ie(!1),children:Q?p.jsxs("div",{ref:Ae,onBlur:Ce,onKeyDown:Me,children:[p.jsx(s4,{title:oe,description:pe,onTitleChange:de,onDescriptionChange:ae,disabled:Xe==="saving"}),Xe==="error"&&p.jsx("div",{className:"text-xs text-red-600 mt-1",children:We})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"text-xs text-gray-900",children:[p.jsxs("span",{className:"font-semibold",children:[e.title,":"]})," ",e.description]}),p.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[p.jsx(o5,{variant:e.source_type==="BRW"?"green":"grey",size:"sm",children:e.source_type}),p.jsxs("span",{className:"text-2xs text-gray-500",children:["Class: ",e.condition_class]}),Xe==="saving"&&p.jsx("span",{className:"text-xs text-gray-400",children:"Saving..."}),Xe==="saved"&&p.jsx("span",{className:"text-xs text-green-600",children:"Saved"}),at&&Xe==="idle"&&p.jsx(jr,{size:"xs",onClick:ke,children:"Edit Description"})]})]})}),p.jsxs("div",{children:[p.jsx(_Q,{status:e.status,onStatusChange:a}),p.jsx("div",{className:"text-2xs text-gray-500 mt-1",children:wj(e.status_date)}),p.jsxs("div",{className:"text-2xs text-gray-400",children:["Set by ",e.status_set_by]})]}),p.jsx("div",{children:x?p.jsxs("div",{className:"space-y-2",children:[p.jsx(sy,{value:S,onChange:k,placeholder:`Add a note for ${e.condition_id}...`,compact:!0,onSubmit:Bt,autoFocus:!0}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(Pt,{onClick:Bt,variant:"primary",size:"sm",children:"Save"}),p.jsx("button",{onClick:()=>{_(!1),k("")},className:"text-xs text-gray-500 hover:text-gray-700",children:"Cancel"})]})]}):jn?p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[nn&&p.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"}),p.jsx("span",{className:"text-xs font-medium text-gray-900",children:jn.author_name}),p.jsx("span",{className:"text-2xs text-gray-400",children:Fae(jn.created_at)})]}),p.jsx("p",{className:"text-xs text-gray-600 mt-0.5 line-clamp-2",children:vt(jn.content)}),ot>=2?p.jsx(jr,{size:"sm",className:"mt-1",onClick:()=>h(e.id),children:"Show all notes"}):p.jsx(jr,{size:"sm",className:"mt-1",onClick:()=>_(!0),children:"Add a note"})]}):p.jsx(jr,{onClick:()=>_(!0),icon:p.jsx(Cl,{className:"w-3 h-3"}),size:"md",children:"Add a note"})}),p.jsxs("div",{className:"relative",children:[nt.length>0?p.jsxs("div",{className:"space-y-1",children:[nt.slice(0,2).map(lt=>p.jsxs("div",{className:"text-xs flex items-center group",onMouseEnter:()=>H(lt.id),onMouseLeave:()=>H(null),children:[p.jsxs("span",{className:"text-gray-500",children:[lt.fulfillment_party,":"]})," ",p.jsx("button",{className:"font-semibold text-cmg-teal hover:text-cmg-teal-dark hover:underline",onClick:vn=>It(lt,vn),children:Bae(lt.document_type,18)}),K===lt.id&&p.jsx("button",{onClick:vn=>{vn.stopPropagation(),W(lt.id)},className:"ml-1 p-0.5 text-red-500 hover:text-red-600 transition-colors",children:p.jsx(Sd,{className:"w-3 h-3"})})]},lt.id)),nt.length>2&&p.jsxs("div",{className:"text-xs text-gray-400",children:["+",nt.length-2," more"]})]}):p.jsx("span",{className:"text-xs text-gray-400",children:"No requests"}),p.jsx(jr,{ref:$,onClick:Qe,icon:p.jsx(Cl,{className:"w-3 h-3"}),size:"xs",className:"mt-1.5",children:p.jsx("span",{className:"sr-only",children:"Add request"})}),C&&p.jsx(bj,{mode:"add",parties:i,anchorRect:Y,onSave:Kt,onClose:()=>j(!1)}),L&&p.jsx(bj,{mode:"edit",parties:i,initialData:L,anchorRect:fe,onSave:Wr,onClose:()=>z(null)})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx("div",{children:ze.length>0?p.jsxs(Pt,{variant:"primary",size:"sm",onClick:()=>f(e.id),children:["(",ze.length,") Docs to Review"]}):p.jsx(jr,{onClick:()=>A(!N),icon:p.jsx(Cl,{className:"w-3 h-3"}),size:"md",className:"whitespace-nowrap",children:"Add Docs"})}),st>0&&p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsxs("button",{onClick:()=>f(e.id),className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-xs text-gray-600 hover:bg-gray-200 transition-colors",children:[p.jsx(fB,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:st})]}),mt&&p.jsxs("span",{className:`text-2xs mt-1 ${cn?"text-red-600 font-medium":"text-gray-500"}`,children:["Exp. ",wj(mt.toISOString())]})]})]}),ze.length>0&&p.jsx("div",{className:"mt-1.5",children:p.jsx(jr,{onClick:()=>A(!N),icon:p.jsx(Cl,{className:"w-3 h-3"}),size:"xs",children:p.jsx("span",{className:"sr-only",children:"Add docs"})})}),p.jsx(wE,{items:it,isOpen:N,onClose:()=>A(!1)})]}),p.jsx("div",{})]}),Z&&p.jsx(t1,{title:"Delete Document Request",message:"Are you sure you want to delete this document request? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",confirmVariant:"danger",onConfirm:ur,onCancel:()=>W(null)})]})}function Uae(){const[e,t]=I.useState([]),[n,r]=I.useState(!0),[i,o]=I.useState("Standard"),[s,a]=I.useState(null),[l,c]=I.useState([]),[u,d]=I.useState("");I.useEffect(()=>{h()},[]),I.useEffect(()=>{s?f(s):c([])},[s]);async function h(){r(!0);const{data:v,error:x}=await Ee.from("available_conditions").select("*").order("condition_id",{ascending:!0});if(x){console.error("Error fetching available conditions:",x),r(!1);return}t(v||[]),r(!1)}async function f(v){const{data:x,error:_}=await Ee.from("custom_list_conditions").select("available_condition_id").eq("list_id",v);if(_){console.error("Error fetching list conditions:",_);return}c((x||[]).map(S=>S.available_condition_id))}const m=I.useMemo(()=>{let v=[...e];if(s&&l.length>0?v=v.filter(x=>l.includes(x.id)):i&&i!=="All"&&i!=="Standard"&&(v=v.filter(x=>x.category===i)),u.trim()){const x=u.toLowerCase();v=v.filter(_=>_.condition_id.toLowerCase().includes(x)||_.title.toLowerCase().includes(x)||_.description.toLowerCase().includes(x))}return v},[e,i,s,l,u]);function g(v){o(v),a(null)}function y(v){a(v),o(null)}return{conditions:m,allConditions:e,loading:n,selectedCategory:i,selectedListId:s,searchQuery:u,setSearchQuery:d,selectCategory:g,selectList:y,refetch:h}}function qae(){const[e,t]=I.useState([]),[n,r]=I.useState(!0);I.useEffect(()=>{i()},[]);async function i(){r(!0);const{data:o,error:s}=await Ee.from("custom_lists").select("*").order("name",{ascending:!0});if(s){console.error("Error fetching custom lists:",s),r(!1);return}t(o||[]),r(!1)}return{lists:e,loading:n,refetch:i}}function Hae(e){const[t,n]=I.useState([]),[r,i]=I.useState(!0);I.useEffect(()=>{e&&o()},[e]);async function o(){i(!0);const{data:a,error:l}=await Ee.from("conditions").select("*").eq("loan_id",e).order("condition_id",{ascending:!0});if(l){console.error("Error fetching current conditions:",l),i(!1);return}const{data:c}=await Ee.from("doc_requests").select("*"),u=(a||[]).map(d=>({...d,doc_requests:(c||[]).filter(h=>h.condition_id===d.id)}));n(u),i(!1)}function s(){return t.map(a=>a.condition_id)}return{conditions:t,loading:r,getConditionIds:s,refetch:o}}const Yk=9001;function Wae(){const[e,t]=I.useState(Yk),[n,r]=I.useState(!0),i=I.useCallback(async()=>{r(!0);const{data:o,error:s}=await Ee.from("custom_condition_templates").select("condition_number").order("condition_number",{ascending:!1}).limit(1).maybeSingle();s?(console.error("Error fetching max condition number:",s),t(Yk)):t(o?o.condition_number+1:Yk),r(!1)},[]);return I.useEffect(()=>{i()},[i]),{nextNumber:e,loading:n,refetch:i}}function Vae(){const[e,t]=I.useState([]),[n,r]=I.useState(!0),i=I.useCallback(async()=>{r(!0);const{data:s,error:a}=await Ee.from("custom_condition_templates").select("*").order("condition_number",{ascending:!0});a?(console.error("Error fetching custom templates:",a),t([])):t(s||[]),r(!1)},[]);I.useEffect(()=>{i()},[i]);const o=e.map(s=>({id:s.id,category:s.category,condition_id:`${s.category}-${s.condition_number}`,title:s.title,description:s.description,source_type:s.source_type,condition_class:s.condition_class,default_stage:s.default_stage,created_at:s.created_at}));return{templates:e,templatesAsAvailableConditions:o,loading:n,refetch:i}}function Kae({lists:e,selectedCategory:t,selectedListId:n,showCustomTemplates:r,onSelectCategory:i,onSelectList:o,onSelectCustomTemplates:s}){const a=d=>!n&&!r&&t===d,l=d=>n===d,c="bg-[#EAF6F7] text-cmg-teal font-medium",u="text-gray-700 hover:bg-gray-100";return p.jsxs("div",{className:"w-56 flex-shrink-0 border-r border-gray-200 bg-gray-50 overflow-y-auto",children:[p.jsxs("div",{className:"p-3",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-900 mb-2",children:"My Lists"}),p.jsxs("div",{children:[e.map(d=>p.jsx("button",{onClick:()=>o(d.id),className:`w-full text-left px-3 py-1.5 text-xs rounded-md transition-colors ${l(d.id)?c:u}`,children:d.name},d.id)),p.jsx("div",{className:"px-3 py-1.5",children:p.jsx(jr,{icon:p.jsx(Cl,{}),size:"md",onClick:()=>{},children:"Add New List"})})]})]}),p.jsxs("div",{className:"p-3 border-t border-gray-200",children:[p.jsx("h3",{className:"text-xs font-bold text-gray-900 mb-2",children:"Categories"}),p.jsxs("div",{children:[p.jsx("button",{onClick:()=>i("All"),className:`w-full text-left px-3 py-1.5 text-xs rounded-md transition-colors ${a("All")?c:u}`,children:"All"}),p.jsx("button",{onClick:()=>i("Standard"),className:`w-full text-left px-3 py-1.5 text-xs rounded-md transition-colors ${a("Standard")?c:u}`,children:"Standard"}),p.jsx("div",{className:"border-b border-gray-200 my-2"}),p.jsxs("button",{onClick:s,className:`w-full text-left px-3 py-1.5 text-xs rounded-md flex items-center justify-between transition-colors ${r?c:u}`,children:[p.jsx("span",{children:"My Custom Templates"}),p.jsx(J_,{className:"w-4 h-4 text-gray-400"})]}),gB.map(d=>p.jsx("button",{onClick:()=>i(d),className:`w-full text-left px-3 py-1.5 text-xs rounded-md transition-colors ${a(d)?c:u}`,children:d},d))]})]})]})}function Gae({conditions:e,addedConditionIds:t,selectedIds:n,searchQuery:r,onSearchChange:i,onToggleSelect:o,onSelectAll:s,onCustomClick:a,loading:l}){const c=e.length>0&&e.every(u=>n.has(u.id));return p.jsxs("div",{className:"flex-1 flex flex-col min-w-0 border-r border-gray-200",children:[p.jsx("div",{className:"p-4 border-b border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h2",{className:"text-sm font-semibold text-gray-900 whitespace-nowrap",children:"Available Conditions"}),p.jsxs("div",{className:"relative flex-1",children:[p.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Search All Conditions",value:r,onChange:u=>i(u.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-300 rounded-md text-xs focus:outline-none focus:ring-2 focus:ring-cmg-teal focus:border-transparent"})]}),p.jsxs(Pt,{variant:"primary",size:"md",onClick:a,children:[p.jsx(J0,{className:"w-4 h-4"}),"Custom"]})]})}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:l?p.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading..."}):e.length===0?p.jsx("div",{className:"p-8 text-center text-gray-500",children:"No conditions found"}):p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"w-10 px-3 py-2 text-left",children:p.jsx(fo,{checked:c,onChange:s})}),p.jsx("th",{className:"w-28 px-3 py-2 text-left text-2xs font-medium text-gray-500 uppercase",children:"No."}),p.jsx("th",{className:"px-3 py-2 text-left text-2xs font-medium text-gray-500 uppercase",children:"Description"})]})}),p.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map(u=>{const d=t.has(u.condition_id),h=n.has(u.id);return p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-3 py-3",children:p.jsx(fo,{checked:h,onChange:()=>o(u.id)})}),p.jsx("td",{className:"px-3 py-3 text-xs text-gray-900 align-top",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{children:u.condition_id}),d&&p.jsx(o5,{variant:"green",size:"sm",children:"Added"})]})}),p.jsxs("td",{className:"px-3 py-3 text-xs text-gray-600 align-top",children:[p.jsxs("span",{className:"font-medium text-gray-900",children:[u.title,":"]})," ",p.jsx("span",{className:"line-clamp-1",children:u.description})]})]},u.id)})})]})})]})}function Zae({committedConditions:e,pendingConditions:t,pendingCustomConditions:n,parties:r,selectedPendingIds:i,onToggleSelectPending:o,onPartyChange:s,onTitleChange:a,onDescriptionChange:l,onCopyCondition:c,onEditCustomCondition:u,onCustomPartyChange:d,onCustomTitleChange:h,onCustomDescriptionChange:f,getPartyDisplay:m}){return p.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[p.jsx("div",{className:"p-4 border-b border-gray-200",children:p.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Current Conditions"})}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50 sticky top-0",children:p.jsxs("tr",{children:[p.jsx("th",{className:"w-10 px-3 py-2"}),p.jsx("th",{className:"w-28 px-3 py-2 text-left text-2xs font-medium text-gray-500 uppercase",children:"No."}),p.jsx("th",{className:"px-3 py-2 text-left text-2xs font-medium text-gray-500 uppercase",children:"Description"}),p.jsx("th",{className:"w-48 px-3 py-2 text-left text-2xs font-medium text-gray-500 uppercase",children:p.jsxs("div",{className:"flex items-center gap-1",children:["Request for",p.jsx(mo,{className:"w-3 h-3"})]})}),p.jsx("th",{className:"w-10 px-3 py-2"})]})}),p.jsxs("tbody",{className:"divide-y divide-gray-100",children:[t.map(g=>{const y=g.edited_title??g.available_condition.title,v=g.edited_description??g.available_condition.description;return p.jsxs("tr",{className:"hover:bg-gray-50 border-l-4 border-cmg-teal",children:[p.jsx("td",{className:"px-3 py-3",children:p.jsx(fo,{checked:i.has(g.temp_id),onChange:()=>o(g.temp_id)})}),p.jsx("td",{className:"px-3 py-3 text-xs text-gray-900 align-top",children:g.available_condition.condition_id}),p.jsx("td",{className:"px-3 py-3 align-top",children:p.jsx(s4,{title:y,description:v,onTitleChange:x=>a(g.temp_id,x),onDescriptionChange:x=>l(g.temp_id,x)})}),p.jsx("td",{className:"px-3 py-3 align-top",children:g.available_condition.source_type==="BRW"?p.jsxs("select",{value:g.selected_party_id||"",onChange:x=>s(g.temp_id,x.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-cmg-teal focus:border-transparent",children:[p.jsx("option",{value:"",children:"Select party..."}),r.map(x=>p.jsxs("option",{value:x.id,children:[x.party_type,": ",x.party_name]},x.id))]}):p.jsx("span",{className:"text-xs text-gray-400 italic",children:"N/A"})}),p.jsx("td",{className:"px-3 py-3 align-top",children:p.jsx("button",{onClick:()=>c(g,!1),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Duplicate condition",children:p.jsx(D6,{className:"w-4 h-4"})})})]},g.temp_id)}),n.map(g=>p.jsxs("tr",{className:"hover:bg-gray-50 border-l-4 border-amber-500 cursor-pointer",onClick:()=>u(g),children:[p.jsx("td",{className:"px-3 py-3",children:p.jsx(fo,{checked:i.has(g.temp_id),onChange:y=>{y.stopPropagation(),o(g.temp_id)},onClick:y=>y.stopPropagation()})}),p.jsx("td",{className:"px-3 py-3 text-xs text-gray-900 align-top",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{children:g.condition_id}),p.jsxs(o5,{variant:"amber",children:[p.jsx(RJ,{className:"w-3 h-3 mr-0.5"}),"Custom"]})]})}),p.jsx("td",{className:"px-3 py-3 align-top",onClick:y=>y.stopPropagation(),children:p.jsx(s4,{title:g.title,description:g.description,onTitleChange:y=>h(g.temp_id,y),onDescriptionChange:y=>f(g.temp_id,y)})}),p.jsx("td",{className:"px-3 py-3 align-top",onClick:y=>y.stopPropagation(),children:g.source_type==="BRW"?p.jsxs("select",{value:g.selected_party_id||"",onChange:y=>d(g.temp_id,y.target.value),className:"w-full px-2 py-1.5 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-cmg-teal focus:border-transparent",children:[p.jsx("option",{value:"",children:"Select party..."}),r.map(y=>p.jsxs("option",{value:y.id,children:[y.party_type,": ",y.party_name]},y.id))]}):p.jsx("span",{className:"text-xs text-gray-400 italic",children:"N/A"})}),p.jsx("td",{className:"px-3 py-3 align-top",children:p.jsx("span",{className:"text-xs text-cmg-teal font-medium",children:"Edit"})})]},g.temp_id)),e.map(g=>{const y=g.doc_requests?.[0],v=y?m(y.fulfillment_party):null;return p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-3 py-3",children:p.jsx(fo,{checked:!1,onChange:()=>{},disabled:!0})}),p.jsx("td",{className:"px-3 py-3 text-xs text-gray-900 align-top",children:g.condition_id}),p.jsxs("td",{className:"px-3 py-3 text-xs text-gray-600 align-top",children:[p.jsx("span",{className:"font-medium text-gray-900",children:g.title}),p.jsx("br",{}),p.jsx("span",{className:"text-gray-600",children:g.description})]}),p.jsx("td",{className:"px-3 py-3 text-xs text-gray-600 align-top",children:g.source_type==="BRW"&&v?p.jsx("span",{children:v}):g.source_type==="INT"?p.jsx("span",{className:"text-gray-400 italic",children:"N/A"}):null}),p.jsx("td",{className:"px-3 py-3 align-top",children:p.jsx("button",{onClick:()=>c(g,!0),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Duplicate condition",children:p.jsx(D6,{className:"w-4 h-4"})})})]},g.id)}),t.length===0&&n.length===0&&e.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-gray-500",children:"No conditions added yet"})})]})]})})]})}function Xae({onAdd:e,onRemove:t,addDisabled:n,removeDisabled:r}){return p.jsxs("div",{className:"flex flex-col gap-2 px-2 py-4 justify-center",children:[p.jsxs("button",{onClick:e,disabled:n,className:`flex items-center gap-1 px-3 py-2 text-xs font-medium rounded-md border transition-colors ${n?"border-gray-200 text-gray-300 bg-gray-50 cursor-not-allowed":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:["Add",p.jsx($_,{className:"w-4 h-4"})]}),p.jsxs("button",{onClick:t,disabled:r,className:`flex items-center gap-1 px-3 py-2 text-xs font-medium rounded-md border transition-colors ${r?"border-gray-200 text-gray-300 bg-gray-50 cursor-not-allowed":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50"}`,children:[p.jsx(mE,{className:"w-4 h-4"}),"Remove"]})]})}const Fd=I.forwardRef(({label:e,error:t=!1,helperText:n,resize:r="vertical",className:i="",rows:o=4,...s},a)=>{const l={none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"}[r];return p.jsxs("div",{className:"flex flex-col gap-2",children:[e&&p.jsx("label",{className:"text-xs font-medium text-gray-900",children:e}),p.jsx("textarea",{ref:a,rows:o,className:`
            w-full min-h-[36px] px-4 py-3 text-xs
            bg-white border rounded-lg
            transition-all duration-200
            focus:outline-none focus:ring-2 focus:ring-offset-1
            disabled:bg-gray-100 disabled:cursor-not-allowed
            ${l}
            ${t?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-cmg-teal hover:border-cmg-teal"}
            ${i}
          `,...s}),n&&p.jsx("span",{className:`text-2xs ${t?"text-red-500":"text-gray-500"}`,children:n})]})});Fd.displayName="TextArea";function $ae({formState:e,conditionNumber:t,flagColor:n,onFieldChange:r,onFlagChange:i}){const[o,s]=I.useState(!1),[a,l]=I.useState("bottom"),c=I.useRef(null),u=I.useCallback(()=>{if(c.current){const f=c.current.getBoundingClientRect(),m=window.innerHeight-f.bottom,g=f.top;l(m<300&&g>m?"top":"bottom")}s(!0)},[]),d=I.useCallback(f=>{i(f),s(!1)},[i]),h=n?bB.find(f=>f.value===n)?.label||"Flag":"Set Flag";return p.jsxs("div",{className:"space-y-4",children:[p.jsx(Da,{label:"Condition Name",value:e.title,onChange:f=>r("title",f.target.value),placeholder:"Enter condition name"}),p.jsx(Fd,{label:"Condition Description",value:e.description,onChange:f=>r("description",f.target.value),placeholder:"Enter condition description",rows:4,resize:"none"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(yi,{label:"Condition Category",value:e.category,onChange:f=>r("category",f.target.value),options:gB.map(f=>({value:f,label:f}))}),p.jsx(Da,{label:"Condition Number",value:t.toString(),disabled:!0})]}),p.jsx("div",{className:"border-t border-gray-100 pt-4",children:p.jsx(yi,{label:"Stage",value:e.stage,onChange:f=>r("stage",f.target.value),options:mB.map(f=>({value:f,label:vB[f]||f}))})}),p.jsx(yi,{label:"Class",value:e.condition_class,onChange:f=>r("condition_class",f.target.value),options:yB.map(f=>({value:f,label:f}))}),p.jsxs("div",{className:"flex items-center justify-between pt-2",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(T0,{name:"source_type",checked:e.source_type==="INT",onChange:()=>r("source_type","INT"),label:"INT",labelClassName:"text-2xs font-medium text-gray-600 bg-gray-100 px-2 py-0.5 rounded"}),p.jsx(T0,{name:"source_type",checked:e.source_type==="BRW",onChange:()=>r("source_type","BRW"),label:"BRW",labelClassName:"text-2xs font-medium text-cmg-teal bg-cmg-teal/10 px-2 py-0.5 rounded"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-2xs font-medium text-gray-700",children:"Save as Template"}),p.jsx(fo,{checked:e.save_as_template,onChange:f=>r("save_as_template",f.target.checked)})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{ref:c,type:"button",onClick:u,className:"flex items-center gap-2 px-3 py-1.5 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:[p.jsx(gE,{className:`w-4 h-4 ${n?n5[n].text:"text-gray-400"}`}),p.jsx("span",{className:"text-2xs font-medium text-gray-700",children:h})]}),o&&p.jsx(s5,{currentColor:n,onApply:d,onClose:()=>s(!1),horizontalAlign:"right",verticalAlign:a})]})]})]})]})}function Ta({title:e,defaultExpanded:t=!0,expandable:n=!0,size:r="default",variant:i="default",rightContent:o,children:s,noBorder:a=!1}){const[l,c]=I.useState(t),u=n?l:!0,d=i==="text",h=r==="sm"?"h-6 px-2":"h-8 px-4",f=r==="sm"?"text-xs font-semibold":d?"text-xs font-bold":"text-sm font-semibold",m=r==="sm"||d?"w-3.5 h-3.5":"w-5 h-5",g=r==="sm"?"py-2":"px-4 py-4",y=a?"":"border-t border-gray-200",v=d?"text-cmg-teal hover:text-cmg-teal-dark":"text-gray-900";return p.jsxs("div",{className:y,children:[n?p.jsx("button",{type:"button",onClick:()=>c(!l),className:d?`flex items-center gap-1 transition-colors ${h}`:`w-full flex items-center justify-between bg-gray-100 rounded-md hover:bg-gray-200 transition-colors ${h}`,children:d?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:`${v} ${f}`,children:e}),p.jsx(E0,{className:`text-cmg-teal transition-transform duration-200 ${m} ${u?"":"rotate-180"}`}),o&&p.jsx("div",{className:"flex items-center ml-2",children:o})]}):p.jsxs(p.Fragment,{children:[p.jsx("span",{className:`${v} ${f}`,children:e}),p.jsxs("div",{className:"flex items-center gap-2",children:[o,p.jsx(E0,{className:`text-gray-500 transition-transform duration-200 ${m} ${u?"":"rotate-180"}`})]})]})}):p.jsxs("div",{className:`w-full flex items-center justify-between bg-gray-100 rounded-md ${h}`,children:[p.jsx("span",{className:`text-gray-900 ${f}`,children:e}),o&&p.jsx("div",{className:"flex items-center",children:o})]}),p.jsx("div",{className:`overflow-hidden transition-all duration-200 ${u?"max-h-[1000px] opacity-100":"max-h-0 opacity-0"}`,children:p.jsx("div",{className:g,children:s})})]})}function _j({label:e,value:t}){return p.jsxs("div",{className:"flex py-2",children:[p.jsx("span",{className:"text-sm text-gray-900 w-32 flex-shrink-0",children:e}),p.jsx("span",{className:"text-sm text-gray-900",children:t})]})}function Yae({docRequests:e,parties:t,onAdd:n,onUpdate:r,onDelete:i}){const[o,s]=I.useState({document_type:Ms[0],fulfillment_party:t[0]?.id||"",description_for_borrower:""}),[a,l]=I.useState(!1);function c(){if(!o.document_type||!o.fulfillment_party)return;const u=t.find(d=>d.id===o.fulfillment_party);n({document_type:o.document_type,fulfillment_party:u?.party_type||"B1",description_for_borrower:o.description_for_borrower}),s({document_type:Ms[0],fulfillment_party:t[0]?.id||"",description_for_borrower:""}),l(!1)}return p.jsx(Ta,{title:"Document Requests",children:p.jsxs("div",{className:"space-y-4",children:[e.map(u=>p.jsx(Jae,{docRequest:u,parties:t,onUpdate:r,onDelete:i},u.temp_id)),a&&p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Document Type"}),p.jsx(Fa,{value:o.document_type,onChange:u=>s(d=>({...d,document_type:u})),options:Ms.map(u=>({value:u,label:u})),placeholder:"Select"})]}),p.jsx(yi,{label:"Request for",value:o.fulfillment_party,onChange:u=>s(d=>({...d,fulfillment_party:u.target.value})),options:t.map(u=>({value:u.id,label:`${u.party_type}: ${u.party_name}`}))})]}),p.jsx("button",{onClick:()=>l(!1),className:"ml-2 p-1 text-red-500 hover:text-red-600 transition-colors",children:p.jsx(Y0,{className:"w-5 h-5"})})]}),p.jsxs("div",{children:[p.jsx(Fd,{value:o.description_for_borrower,onChange:u=>s(d=>({...d,description_for_borrower:u.target.value})),placeholder:"Enter a description for the borrower related to the Doc Request",maxLength:1e3,rows:2,resize:"none"}),p.jsxs("div",{className:"flex justify-between mt-1",children:[p.jsx("span",{className:"text-2xs text-gray-500",children:"Description for Borrower"}),p.jsxs("span",{className:"text-2xs text-gray-400",children:[o.description_for_borrower.length,"/1000"]})]})]}),p.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-medium text-white bg-cmg-teal hover:bg-cmg-teal-dark rounded transition-colors",children:"Add Request"})]}),p.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1.5 text-xs font-medium text-cmg-teal hover:text-cmg-teal-dark transition-colors",children:[p.jsx(Cl,{className:"w-4 h-4"}),"Add a Doc Request"]})]})})}function Jae({docRequest:e,parties:t,onUpdate:n,onDelete:r}){return p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Document Type"}),p.jsx(Fa,{value:e.document_type,onChange:i=>n(e.temp_id,{document_type:i}),options:Ms.map(i=>({value:i,label:i})),placeholder:"Select"})]}),p.jsx(yi,{label:"Request for",value:e.fulfillment_party,onChange:i=>n(e.temp_id,{fulfillment_party:i.target.value}),options:t.map(i=>({value:i.party_type,label:`${i.party_type}: ${i.party_name}`}))})]}),p.jsx("button",{onClick:()=>r(e.temp_id),className:"ml-2 p-1 text-red-500 hover:text-red-600 transition-colors",children:p.jsx(Y0,{className:"w-5 h-5"})})]}),p.jsxs("div",{children:[p.jsx(Fd,{value:e.description_for_borrower,onChange:i=>n(e.temp_id,{description_for_borrower:i.target.value}),placeholder:"Enter a description for the borrower related to the Doc Request",maxLength:1e3,rows:2,resize:"none"}),p.jsxs("div",{className:"flex justify-between mt-1",children:[p.jsx("span",{className:"text-2xs text-gray-500",children:"Description for Borrower"}),p.jsxs("span",{className:"text-2xs text-gray-400",children:[e.description_for_borrower.length,"/1000"]})]})]})]})}const Qae={title:"",description:"",category:"MISC",status:"New",stage:"Prior to Docs",condition_class:"UW",source_type:"BRW",save_as_template:!1};function ele({loanId:e,parties:t,nextConditionNumber:n,editingCondition:r,onClose:i,onAddCondition:o}){const s=!!r,[a,l]=I.useState(()=>r?{title:r.title,description:r.description,category:r.category,status:r.status,stage:r.stage,condition_class:r.condition_class,source_type:r.source_type,save_as_template:r.save_as_template}:Qae),[c,u]=I.useState(()=>r?.flag_color??null),[d,h]=I.useState(()=>r?r.doc_requests.map((P,N)=>({temp_id:`doc-edit-${N}-${Date.now()}`,document_type:P.document_type,fulfillment_party:P.fulfillment_party,description_for_borrower:P.description_for_borrower||""})):[]),[f,m]=I.useState(!1),g=s?r.condition_number:n,y=I.useCallback((P,N)=>{l(A=>({...A,[P]:N}))},[]),v=I.useCallback(P=>{u(P)},[]),x=I.useCallback(P=>{const N={...P,temp_id:`doc-${Date.now()}-${Math.random().toString(36).substr(2,9)}`};h(A=>[...A,N])},[]),_=I.useCallback((P,N)=>{h(A=>A.map(D=>D.temp_id===P?{...D,...N}:D))},[]),S=I.useCallback(P=>{h(N=>N.filter(A=>A.temp_id!==P))},[]),k=I.useCallback(()=>{if(!a.title.trim())return;m(!0);const P=`${a.category}-${g}`,N=t.length>0?t[0].id:null,A=s?r.selected_party_id:null,D={temp_id:s?r.temp_id:`pending-custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,category:a.category,condition_number:g,condition_id:P,title:a.title,description:a.description,source_type:a.source_type,condition_class:a.condition_class,stage:a.stage,status:a.status,flag_color:c,save_as_template:a.save_as_template,selected_party_id:a.source_type==="BRW"?A||N:null,is_custom:!0,doc_requests:d.map(C=>({fulfillment_party:C.fulfillment_party,document_type:C.document_type,description_for_borrower:C.description_for_borrower})),notes:[]};o(D),m(!1),i()},[a,g,t,d,o,i,s,r,c]),T=a.title.trim().length>0;return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:p.jsxs("div",{className:"bg-white rounded-lg w-full max-w-[540px] max-h-[90vh] flex flex-col shadow-xl",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-base font-bold text-gray-900",children:s?"Edit Custom Condition":"Add Custom Condition"}),p.jsx("button",{onClick:i,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[p.jsx($ae,{formState:a,conditionNumber:g,flagColor:c,onFieldChange:y,onFlagChange:v}),p.jsx("div",{className:"mt-8",children:p.jsx(Yae,{docRequests:d,parties:t,onAdd:x,onUpdate:_,onDelete:S})})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:i,children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:k,disabled:f||!T,children:f?s?"Updating...":"Adding...":s?"Update Condition":"Add Condition"})]})]})})}function tle({loanId:e,onClose:t,onAdd:n}){const{conditions:r,allConditions:i,loading:o,selectedCategory:s,selectedListId:a,searchQuery:l,setSearchQuery:c,selectCategory:u,selectList:d}=Uae(),{lists:h}=qae(),{parties:f}=xE(e),{conditions:m}=Hae(e),{nextNumber:g,refetch:y}=Wae(),{templatesAsAvailableConditions:v,refetch:x}=Vae(),{selectedRole:_}=Bc(),[S,k]=I.useState([]),[T,P]=I.useState([]),[N,A]=I.useState(new Set),[D,C]=I.useState(new Set),[j,L]=I.useState(!1),[z,K]=I.useState(!1),[H,Z]=I.useState(null),[W,Y]=I.useState(!1),le=I.useMemo(()=>{const Ce=new Set;return m.forEach(Me=>Ce.add(Me.condition_id)),Ce},[m]),fe=I.useCallback(Ce=>{A(Me=>{const Be=new Set(Me);return Be.has(Ce)?Be.delete(Ce):Be.add(Ce),Be})},[]),M=I.useCallback(()=>{const Ce=W?v:r,Me=Ce.length>0&&Ce.every(Be=>N.has(Be.id));A(Me?new Set:new Set(Ce.map(Be=>Be.id)))},[r,v,W,N]),$=I.useCallback(Ce=>{C(Me=>{const Be=new Set(Me);return Be.has(Ce)?Be.delete(Ce):Be.add(Ce),Be})},[]),Q=I.useCallback(()=>{const Me=(W?v:i).filter(it=>N.has(it.id)),Be=f.length>0?f[0].id:null,De=Me.map(it=>({temp_id:`pending-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,available_condition:it,selected_party_id:it.source_type==="BRW"?Be:null,is_newly_added:!0}));k(it=>[...De,...it]),A(new Set)},[i,v,W,N,f]),ie=I.useCallback(()=>{k(Ce=>Ce.filter(Me=>!D.has(Me.temp_id))),P(Ce=>Ce.filter(Me=>!D.has(Me.temp_id))),C(new Set)},[D]),oe=I.useCallback((Ce,Me)=>{k(Be=>Be.map(De=>De.temp_id===Ce?{...De,selected_party_id:Me||null}:De))},[]),de=I.useCallback((Ce,Me)=>{k(Be=>Be.map(De=>De.temp_id===Ce?{...De,edited_title:Me}:De))},[]),pe=I.useCallback((Ce,Me)=>{k(Be=>Be.map(De=>De.temp_id===Ce?{...De,edited_description:Me}:De))},[]),ae=I.useCallback((Ce,Me)=>{const Be=f.length>0?f[0].id:null;if(Me){const De=Ce,it=i.find(pt=>pt.condition_id===De.condition_id);if(!it)return;const $e={temp_id:`pending-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,available_condition:it,selected_party_id:it.source_type==="BRW"?Be:null,is_newly_added:!0};k(pt=>[$e,...pt])}else{const De=Ce,it={temp_id:`pending-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,available_condition:De.available_condition,selected_party_id:De.available_condition.source_type==="BRW"?Be:null,is_newly_added:!0};k($e=>[it,...$e])}},[i,f]),ue=I.useCallback(Ce=>{const Me=f.find(Be=>Be.party_type===Ce);return Me?`${Me.party_type}: ${Me.party_name}`:Ce},[f]),_e=I.useCallback(Ce=>{P(Me=>[Ce,...Me])},[]),Se=I.useCallback(Ce=>{Z(Ce),K(!0)},[]),Ne=I.useCallback(Ce=>{P(Me=>Me.map(Be=>Be.temp_id===Ce.temp_id?Ce:Be)),Z(null)},[]),Xe=I.useCallback((Ce,Me)=>{P(Be=>Be.map(De=>De.temp_id===Ce?{...De,selected_party_id:Me||null}:De))},[]),G=I.useCallback((Ce,Me)=>{P(Be=>Be.map(De=>De.temp_id===Ce?{...De,title:Me}:De))},[]),We=I.useCallback((Ce,Me)=>{P(Be=>Be.map(De=>De.temp_id===Ce?{...De,description:Me}:De))},[]),xt=I.useCallback(()=>{Z(null),K(!0)},[]),at=I.useCallback(()=>{K(!1),Z(null)},[]),Ie=I.useCallback(()=>{Y(!0),u(null),d(null),A(new Set)},[u,d]),Ae=I.useCallback(Ce=>{Y(!1),u(Ce)},[u]),ke=I.useCallback(Ce=>{Y(!1),d(Ce)},[d]),Oe=W?v:r,Le=async()=>{if(S.length===0&&T.length===0){t();return}L(!0);try{for(const Ce of S){const Me=Ce.available_condition,Be=Ce.edited_title??Me.title,De=Ce.edited_description??Me.description,{data:it,error:$e}=await Ee.from("conditions").insert({category:Me.category,condition_id:Me.condition_id,title:Be,description:De,source_type:Me.source_type,condition_class:Me.condition_class,stage:Me.default_stage,status:"New",loan_id:e}).select().single();if($e){console.error("Error inserting condition:",$e);continue}if(Me.source_type==="BRW"&&Ce.selected_party_id){const pt=f.find(tt=>tt.id===Ce.selected_party_id);if(pt){const{error:tt}=await Ee.from("doc_requests").insert({condition_id:it.id,fulfillment_party:pt.party_type,document_type:Be,status:"New"});tt&&console.error("Error inserting doc_request:",tt)}}}for(const Ce of T){const{data:Me,error:Be}=await Ee.from("conditions").insert({category:Ce.category,condition_id:Ce.condition_id,title:Ce.title,description:Ce.description,source_type:Ce.source_type,condition_class:Ce.condition_class,stage:Ce.stage,status:Ce.status,loan_id:e}).select().single();if(Be){console.error("Error inserting custom condition:",Be);continue}if(Ce.flag_color){const{error:De}=await Ee.from("user_condition_flags").insert({role:_,condition_id:Me.id,flag_color:Ce.flag_color});De&&console.error("Error inserting flag:",De)}if(Ce.source_type==="BRW"&&Ce.selected_party_id){const De=f.find(it=>it.id===Ce.selected_party_id);if(De){const{error:it}=await Ee.from("doc_requests").insert({condition_id:Me.id,fulfillment_party:De.party_type,document_type:Ce.title,status:"New"});it&&console.error("Error inserting doc_request:",it)}}for(const De of Ce.doc_requests){const{error:it}=await Ee.from("doc_requests").insert({condition_id:Me.id,fulfillment_party:De.fulfillment_party,document_type:De.document_type,description_for_borrower:De.description_for_borrower,status:"New"});it&&console.error("Error inserting doc_request:",it)}if(Ce.save_as_template){const{error:De}=await Ee.from("custom_condition_templates").insert({user_id:null,category:Ce.category,condition_number:Ce.condition_number,title:Ce.title,description:Ce.description,source_type:Ce.source_type,condition_class:Ce.condition_class,default_stage:Ce.stage});De?console.error("Error saving template:",De):(x(),y())}}n(),t()}catch(Ce){console.error("Error saving conditions:",Ce)}finally{L(!1)}};return p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:t}),p.jsxs("div",{className:"relative w-full h-full max-w-[95vw] max-h-[90vh] m-4 bg-white rounded-lg shadow-xl flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h1",{className:"text-base font-bold text-gray-900",children:"Add Conditions"}),p.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:p.jsx(lr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"flex-1 flex min-h-0",children:[p.jsx(Kae,{lists:h,selectedCategory:s,selectedListId:a,showCustomTemplates:W,onSelectCategory:Ae,onSelectList:ke,onSelectCustomTemplates:Ie}),p.jsx(Gae,{conditions:Oe,addedConditionIds:le,selectedIds:N,searchQuery:l,onSearchChange:c,onToggleSelect:fe,onSelectAll:M,onCustomClick:xt,loading:o}),p.jsx(Xae,{onAdd:Q,onRemove:ie,addDisabled:N.size===0,removeDisabled:D.size===0}),p.jsx(Zae,{committedConditions:m,pendingConditions:S,pendingCustomConditions:T,parties:f,selectedPendingIds:D,onToggleSelectPending:$,onPartyChange:oe,onTitleChange:de,onDescriptionChange:pe,onCopyCondition:ae,onEditCustomCondition:Se,onCustomPartyChange:Xe,onCustomTitleChange:G,onCustomDescriptionChange:We,getPartyDisplay:ue})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx(Pt,{variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(Pt,{variant:"primary",onClick:Le,disabled:j,children:j?"Adding...":"Add"})]})]}),z&&p.jsx(ele,{loanId:e,parties:f,nextConditionNumber:g+T.length,editingCondition:H,onClose:at,onAddCondition:H?Ne:_e})]})}function nle(e){const{selectedRole:t}=Bc(),[n,r]=I.useState(null),[i,o]=I.useState(!1),[s,a]=I.useState(!1),l=I.useCallback(async()=>{if(!e){r(null);return}o(!0);const{data:m,error:g}=await Ee.from("conditions").select("*").eq("id",e).maybeSingle();if(g||!m){console.error("Error fetching condition:",g),o(!1);return}const{data:y}=await Ee.from("doc_requests").select("*").eq("condition_id",e).order("created_at",{ascending:!0}),{data:v}=await Ee.from("condition_notes").select("*").eq("condition_id",e).order("created_at",{ascending:!1}),x=(v||[]).map(k=>k.id);let _=new Set;if(x.length>0){const{data:k}=await Ee.from("note_read_status").select("note_id").eq("role",t).in("note_id",x);k&&(_=new Set(k.map(T=>T.note_id)))}const S=(v||[]).map(k=>({...k,is_read:_.has(k.id)}));r({...m,doc_requests:y||[],notes:S}),o(!1)},[e,t]);I.useEffect(()=>{l()},[l]);async function c(m){if(!e||!n)return!1;a(!0);const g={...m};if(m.status&&m.status!==n.status){g.status_date=new Date().toISOString(),g.status_set_by="User";const v=rle(m.status);v&&(g[v]=new Date().toISOString())}const{error:y}=await Ee.from("conditions").update(g).eq("id",e);return a(!1),y?(console.error("Error updating condition:",y),!1):(await l(),!0)}async function u(m){if(!e)return!1;a(!0);const{error:g}=await Ee.from("doc_requests").insert({condition_id:e,document_type:m.document_type,fulfillment_party:m.fulfillment_party,description_for_borrower:m.description_for_borrower,status:"New"});return a(!1),g?(console.error("Error adding doc request:",g),!1):(await l(),!0)}async function d(m,g){a(!0);const{error:y}=await Ee.from("doc_requests").update(g).eq("id",m);return a(!1),y?(console.error("Error updating doc request:",y),!1):(await l(),!0)}async function h(m){a(!0);const{error:g}=await Ee.from("doc_requests").delete().eq("id",m);return a(!1),g?(console.error("Error deleting doc request:",g),!1):(await l(),!0)}async function f(m){if(!e||!n)return!1;a(!0);const{data:g,error:y}=await Ee.from("condition_notes").insert({condition_id:e,loan_id:n.loan_id,author_name:Tl(t),author_role:t,content:m,note_type:"condition",is_pinned:!1}).select("id").maybeSingle();return y||!g?(console.error("Error adding note:",y),a(!1),!1):(await Ee.from("note_read_status").insert({note_id:g.id,role:t}),a(!1),await l(),!0)}return{condition:n,loading:i,saving:s,updateCondition:c,addDocRequest:u,updateDocRequest:d,deleteDocRequest:h,addNote:f,refetch:l}}function rle(e){return{New:"new_date","Need Brw Request":"need_brw_request_date",Requested:"requested_date","Processor to Review":"processor_to_review_date","Ready for UW":"ready_for_uw_date",Cleared:"cleared_date","Not Cleared":"not_cleared_date"}[e]||null}function ile({condition:e,formState:t,flagColor:n,onFieldChange:r,onFlagChange:i}){const[o,s]=I.useState(!1),[a,l]=I.useState("bottom"),c=I.useRef(null),u=I.useCallback(()=>{if(c.current){const d=c.current.getBoundingClientRect(),h=320,f=window.innerHeight-d.bottom;l(f<h?"top":"bottom")}s(!0)},[]);return p.jsxs("div",{className:"space-y-4",children:[p.jsx(Da,{label:"Condition Name",value:t.title,onChange:d=>r("title",d.target.value)}),p.jsx(Fd,{label:"Condition Description",value:t.description,onChange:d=>r("description",d.target.value),rows:4,resize:"none"}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Da,{label:"Condition Category",value:e.category,disabled:!0}),p.jsx(Da,{label:"Condition Number",value:e.condition_id.split("-")[1]||e.condition_id,disabled:!0})]}),p.jsx(yi,{label:"Condition Status",icon:p.jsx(J_,{className:"w-3.5 h-3.5 text-cmg-teal"}),value:t.status,onChange:d=>r("status",d.target.value),options:t5.map(d=>({value:d,label:d}))}),p.jsx("div",{className:"border-t border-gray-100 pt-4",children:p.jsx(yi,{label:"Stage",value:t.stage,onChange:d=>r("stage",d.target.value),options:mB.map(d=>({value:d,label:vB[d]||d}))})}),p.jsx(yi,{label:"Class",value:t.condition_class,onChange:d=>r("condition_class",d.target.value),options:yB.map(d=>({value:d,label:d}))}),p.jsxs("div",{className:"flex items-center justify-between pt-2",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(T0,{name:"source_type",checked:t.source_type==="INT",onChange:()=>r("source_type","INT"),label:"INT",labelClassName:"text-2xs font-medium text-gray-600 bg-gray-100 px-2 py-0.5 rounded"}),p.jsx(T0,{name:"source_type",checked:t.source_type==="BRW",onChange:()=>r("source_type","BRW"),label:"BRW",labelClassName:"text-2xs font-medium text-cmg-teal bg-cmg-teal/10 px-2 py-0.5 rounded"})]}),p.jsxs("div",{className:"relative flex items-center gap-2",children:[p.jsxs("button",{ref:c,type:"button",onClick:u,className:"flex items-center gap-2 px-2 py-1 rounded hover:bg-gray-100 transition-colors",children:[p.jsx(gE,{className:`w-4 h-4 ${n?n5[n].text:"text-gray-400"}`,fill:n?"currentColor":"none"}),p.jsx("span",{className:"text-2xs font-medium text-gray-700",children:n?`${n.charAt(0).toUpperCase()+n.slice(1)} Flag`:"Set Flag"})]}),o&&p.jsx(s5,{currentColor:n,onApply:d=>{i(d),s(!1)},onClose:()=>s(!1),horizontalAlign:"right",verticalAlign:a})]})]})]})}function ole({docRequests:e,parties:t,onAdd:n,onUpdate:r,onDelete:i}){const[o,s]=I.useState({document_type:Ms[0],fulfillment_party:t[0]?.id||"",description_for_borrower:""}),[a,l]=I.useState(!1);async function c(){if(!o.document_type||!o.fulfillment_party)return;const u=t.find(h=>h.id===o.fulfillment_party);await n({document_type:o.document_type,fulfillment_party:u?.party_type||"B1",description_for_borrower:o.description_for_borrower})&&(s({document_type:Ms[0],fulfillment_party:t[0]?.id||"",description_for_borrower:""}),l(!1))}return p.jsx(Ta,{title:"Outstanding Document Requests",children:p.jsxs("div",{className:"space-y-4",children:[e.map(u=>p.jsx(sle,{docRequest:u,parties:t,onUpdate:r,onDelete:i},u.id)),a&&p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Document Type"}),p.jsx(Fa,{value:o.document_type,onChange:u=>s(d=>({...d,document_type:u})),options:Ms.map(u=>({value:u,label:u})),placeholder:"Select"})]}),p.jsx(yi,{label:"Request for",value:o.fulfillment_party,onChange:u=>s(d=>({...d,fulfillment_party:u.target.value})),options:t.map(u=>({value:u.id,label:`${u.party_type}: ${u.party_name}`}))})]}),p.jsx("button",{onClick:()=>l(!1),className:"ml-2 p-1 text-red-500 hover:text-red-600 transition-colors",children:p.jsx(Y0,{className:"w-5 h-5"})})]}),p.jsxs("div",{children:[p.jsx(Fd,{value:o.description_for_borrower,onChange:u=>s(d=>({...d,description_for_borrower:u.target.value})),placeholder:"Enter a description for the borrower related to the Doc Request",maxLength:1e3,rows:2,resize:"none"}),p.jsxs("div",{className:"flex justify-between mt-1",children:[p.jsx("span",{className:"text-2xs text-gray-500",children:"Description for Borrower"}),p.jsxs("span",{className:"text-2xs text-gray-400",children:[o.description_for_borrower.length,"/1000"]})]})]}),p.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-medium text-white bg-cmg-teal hover:bg-cmg-teal-dark rounded transition-colors",children:"Add Request"})]}),p.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-1.5 text-xs font-medium text-cmg-teal hover:text-cmg-teal-dark transition-colors",children:[p.jsx(Cl,{className:"w-4 h-4"}),"Add a Doc Request"]})]})})}function sle({docRequest:e,parties:t,onUpdate:n,onDelete:r}){const[i,o]=I.useState({document_type:e.document_type,fulfillment_party:e.fulfillment_party,description_for_borrower:e.description_for_borrower||""});function s(a,l){const c=e.description_for_borrower||"";l!==c&&n(e.id,{[a]:l})}return p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Document Type"}),p.jsx(Fa,{value:i.document_type,onChange:a=>{o(l=>({...l,document_type:a})),a!==e.document_type&&n(e.id,{document_type:a})},options:Ms.map(a=>({value:a,label:a})),placeholder:"Select"})]}),p.jsx(yi,{label:"Request for",value:i.fulfillment_party,onChange:a=>{o(l=>({...l,fulfillment_party:a.target.value})),n(e.id,{fulfillment_party:a.target.value})},options:t.map(a=>({value:a.party_type,label:`${a.party_type}: ${a.party_name}`}))})]}),p.jsx("button",{onClick:()=>r(e.id),className:"ml-2 p-1 text-red-500 hover:text-red-600 transition-colors",children:p.jsx(Y0,{className:"w-5 h-5"})})]}),p.jsxs("div",{children:[p.jsx(Fd,{value:i.description_for_borrower,onChange:a=>o(l=>({...l,description_for_borrower:a.target.value})),onBlur:()=>s("description_for_borrower",i.description_for_borrower),placeholder:"Enter a description for the borrower related to the Doc Request",maxLength:1e3,rows:2,resize:"none"}),p.jsxs("div",{className:"flex justify-between mt-1",children:[p.jsx("span",{className:"text-2xs text-gray-500",children:"Description for Borrower"}),p.jsxs("span",{className:"text-2xs text-gray-400",children:[i.description_for_borrower.length,"/1000"]})]})]})]})}function ale(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function lle({requestedDate:e,status:t}){const n=e||t;return p.jsx(Ta,{title:"Exception Request",defaultExpanded:!0,children:n?p.jsxs("div",{className:"space-y-1",children:[p.jsx(_j,{label:"Requested",value:ale(e)}),p.jsx(_j,{label:"Status",value:t||""})]}):p.jsx("div",{className:"text-sm text-gray-400",children:"There currently is not an exception request"})})}const cle=e=>e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),f1=I.forwardRef(({label:e,value:t=null,onChange:n,error:r=!1,helperText:i,dateFormat:o=cle,minDate:s,maxDate:a,showClearButton:l=!0,className:c="",placeholder:u="Select date",disabled:d,...h},f)=>{const[m,g]=I.useState(!1),[y,v]=I.useState(t||new Date),[x,_]=I.useState({top:0,left:0,width:0}),S=I.useRef(null),k=I.useRef(null),T=I.useRef(null);I.useEffect(()=>{const Z=W=>{const Y=W.target;S.current&&!S.current.contains(Y)&&T.current&&!T.current.contains(Y)&&g(!1)};return m&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[m]),I.useEffect(()=>{if(m&&k.current){const Z=k.current.getBoundingClientRect();_({top:Z.bottom+window.scrollY+8,left:Z.left+window.scrollX,width:Math.max(Z.width,320)})}},[m]);const P=Z=>{const W=Z.getFullYear(),Y=Z.getMonth(),le=new Date(W,Y,1),M=new Date(W,Y+1,0).getDate(),$=le.getDay();return{daysInMonth:M,startingDayOfWeek:$,year:W,month:Y}},N=Z=>{const W=new Date(y.getFullYear(),y.getMonth(),Z);s&&W<s||a&&W>a||(n?.(W),g(!1))},A=()=>{v(new Date(y.getFullYear(),y.getMonth()-1))},D=()=>{v(new Date(y.getFullYear(),y.getMonth()+1))},C=()=>{n?.(null)},j=Z=>{const W=new Date(y.getFullYear(),y.getMonth(),Z);return!!(s&&W<s||a&&W>a)},L=Z=>t?t.getDate()===Z&&t.getMonth()===y.getMonth()&&t.getFullYear()===y.getFullYear():!1,{daysInMonth:z,startingDayOfWeek:K}=P(y),H=y.toLocaleDateString("en-US",{month:"long",year:"numeric"});return p.jsxs("div",{className:"flex flex-col gap-2",ref:S,children:[e&&p.jsx("label",{className:"text-xs font-medium text-gray-900",children:e}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{ref:Z=>{k.current=Z,typeof f=="function"?f(Z):f&&(f.current=Z)},type:"text",readOnly:!0,value:t?o(t):"",placeholder:u,disabled:d,onClick:()=>!d&&g(!m),className:`
              w-full h-9 px-4 pr-20 text-xs
              bg-white border rounded-lg
              cursor-pointer
              transition-all duration-200
              focus:outline-none focus:ring-2 focus:ring-offset-1
              disabled:bg-gray-100 disabled:cursor-not-allowed
              ${r?"border-red-500 focus:ring-red-500":"border-gray-300 focus:ring-cmg-teal hover:border-cmg-teal"}
              ${c}
            `,...h}),p.jsxs("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[l&&t&&!d&&p.jsx("button",{type:"button",onClick:Z=>{Z.stopPropagation(),C()},className:"text-gray-400 hover:text-gray-600 transition-colors",children:p.jsx(lr,{size:18})}),p.jsx("button",{type:"button",onClick:()=>!d&&g(!m),disabled:d,className:"text-gray-400 hover:text-cmg-teal transition-colors",children:p.jsx(lJ,{size:20})})]}),m&&$1.createPortal(p.jsxs("div",{ref:T,style:{position:"absolute",top:x.top,left:x.left,minWidth:x.width},className:"z-[9999] bg-white border border-gray-200 rounded-lg shadow-lg p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("button",{type:"button",onClick:A,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(mE,{size:20})}),p.jsx("span",{className:"text-xs font-medium text-gray-900",children:H}),p.jsx("button",{type:"button",onClick:D,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx($_,{size:20})})]}),p.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(Z=>p.jsx("div",{className:"text-center text-2xs font-medium text-gray-600 py-2",children:Z},Z)),Array.from({length:K}).map((Z,W)=>p.jsx("div",{},`empty-${W}`)),Array.from({length:z}).map((Z,W)=>{const Y=W+1,le=j(Y),fe=L(Y);return p.jsx("button",{type:"button",onClick:()=>!le&&N(Y),disabled:le,className:`
                        py-2 text-xs rounded transition-all duration-200
                        ${fe?"bg-cmg-teal text-white font-medium":le?"text-gray-300 cursor-not-allowed":"text-gray-700 hover:bg-cmg-teal-lightest hover:text-cmg-teal"}
                      `,children:Y},Y)})]})]}),document.body)]}),i&&p.jsx("span",{className:`text-2xs ${r?"text-red-500":"text-gray-500"}`,children:i})]})});f1.displayName="Datepicker";function ule(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})+" "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}const dle=[{label:"New",dateKey:"new_date"},{label:"Need Brw Request",dateKey:"need_brw_request_date"},{label:"Requested",dateKey:"requested_date"},{label:"Processor to Review",dateKey:"processor_to_review_date"},{label:"Ready for UW",dateKey:"ready_for_uw_date"},{label:"Cleared",dateKey:"cleared_date"},{label:"Not Cleared",dateKey:"not_cleared_date"}];function fle({expirationDate:e,followUpDate:t,onExpirationDateChange:n,onFollowUpDateChange:r,condition:i}){const o=a=>a?new Date(a):null,s=a=>a?a.toISOString().split("T")[0]:"";return p.jsxs(Ta,{title:"Dates",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[p.jsx(f1,{label:"Expiration Date",value:o(e),onChange:a=>n(s(a)),placeholder:""}),p.jsx(f1,{label:"Follow Up Date",value:o(t),onChange:a=>r(s(a)),placeholder:""})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xs font-semibold text-gray-900 mb-3",children:"Condition Status Dates"}),p.jsx("div",{className:"space-y-2",children:dle.map(a=>p.jsxs("div",{className:"flex items-baseline",children:[p.jsx("span",{className:"text-xs font-medium text-gray-900 w-36",children:a.label}),p.jsx("span",{className:"text-xs text-gray-600",children:ule(i[a.dateKey])})]},a.dateKey))})]})]})}const hle={default:"bg-[#EAF6F7] text-cmg-teal",light:"bg-white text-gray-900",teal:"bg-cmg-teal text-white",danger:"bg-red-500 text-white"},ple={xs:"min-w-[16px] h-4 px-1 text-[10px]",sm:"px-1.5 py-0.5 text-2xs",md:"px-2 py-1 text-xs"};function e_({variant:e="default",size:t="sm",children:n,className:r=""}){return p.jsx("span",{className:`inline-flex items-center justify-center font-semibold rounded-full ${hle[e]} ${ple[t]} ${r}`,children:n})}function mle(e){const t=new Date(e),n=new Date,r=t.toDateString()===n.toDateString(),i=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return r?`Today, ${i}`:`${t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})}, ${i}`}function uT({note:e}){return p.jsxs("div",{className:"mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"text-xs font-normal text-gray-900",children:e.author_name}),p.jsx("span",{className:"text-xs text-gray-500",children:mle(e.created_at)})]}),p.jsx("div",{className:"text-xs text-gray-700 prose prose-sm max-w-none [&_p]:my-1 [&_ul]:my-1 [&_ol]:my-1 [&_ul]:list-disc [&_ul]:pl-5 [&_ol]:list-decimal [&_ol]:pl-5 [&_a]:text-cmg-teal [&_a]:hover:text-cmg-teal-dark",dangerouslySetInnerHTML:{__html:e.content}})]})}function gle({notes:e,onAddNote:t}){const[n,r]=I.useState(!1),[i,o]=I.useState(""),[s,a]=I.useState(!1),[l,c]=I.useState(!1);async function u(){if(!i.trim()||i==="<p></p>"||s)return;a(!0);const m=await t(i);a(!1),m&&(o(""),r(!1))}const d=i.trim()&&i!=="<p></p>",h=e[0],f=l?e:h?[h]:[];return p.jsxs(Ta,{title:"Condition Notes",noBorder:!0,rightContent:p.jsx(e_,{variant:"light",children:e.length}),children:[n?p.jsxs("div",{className:"mb-3",children:[p.jsx(sy,{value:i,onChange:o,placeholder:"Type notes about the condition...",onSubmit:u,autoFocus:!0}),p.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:()=>{o(""),r(!1)},children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:u,disabled:!d||s,children:s?"Saving...":"Add Note"})]})]}):p.jsx("button",{onClick:()=>r(!0),className:"w-full h-9 px-4 text-left text-xs text-gray-400 bg-white border border-gray-300 rounded-lg hover:border-cmg-teal focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-cmg-teal transition-colors",children:"Type notes about the condition..."}),f.length>0&&p.jsxs("div",{className:"mt-5",children:[f.map(m=>p.jsx(uT,{note:m},m.id)),e.length>1&&p.jsx("button",{onClick:()=>c(!l),className:"text-xs font-medium text-cmg-teal hover:text-cmg-teal-dark transition-colors",children:l?"Show Less":`See All Notes (${e.length})`})]})]})}function vle({conditionId:e,loanId:t,flagColor:n,onClose:r,onUpdate:i,onFlagChange:o}){const{condition:s,loading:a,saving:l,updateCondition:c,addDocRequest:u,updateDocRequest:d,deleteDocRequest:h,addNote:f}=nle(e),{parties:m}=xE(t),[g,y]=I.useState({title:"",description:"",status:"New",stage:"Prior to Docs",condition_class:"UW",source_type:"BRW",follow_up_flag:!1,expiration_date:"",follow_up_date:""});I.useEffect(()=>{s&&y({title:s.title,description:s.description,status:s.status,stage:s.stage,condition_class:s.condition_class,source_type:s.source_type,follow_up_flag:s.follow_up_flag||!1,expiration_date:s.expiration_date?.split("T")[0]||"",follow_up_date:s.follow_up_date?.split("T")[0]||""})},[s]);function v(_,S){y(k=>({...k,[_]:S}))}async function x(){await c({title:g.title,description:g.description,status:g.status,stage:g.stage,condition_class:g.condition_class,source_type:g.source_type,follow_up_flag:g.follow_up_flag,expiration_date:g.expiration_date||null,follow_up_date:g.follow_up_date||null})&&(i(),r())}return a?p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:p.jsx("div",{className:"bg-white rounded-lg p-8",children:p.jsx("div",{className:"text-gray-500",children:"Loading condition..."})})}):s?p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg w-full max-w-[540px] max-h-[90vh] flex flex-col shadow-xl",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Edit Condition"}),p.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:[p.jsx(ile,{condition:s,formState:g,flagColor:n,onFieldChange:v,onFlagChange:o}),p.jsx("div",{className:"mt-8",children:p.jsx(ole,{docRequests:s.doc_requests,parties:m,onAdd:u,onUpdate:d,onDelete:h})}),p.jsx(lle,{requestedDate:s.exception_requested_date,status:s.exception_status}),p.jsx(fle,{expirationDate:g.expiration_date,followUpDate:g.follow_up_date,onExpirationDateChange:_=>v("expiration_date",_),onFollowUpDateChange:_=>v("follow_up_date",_),condition:s}),p.jsx(gle,{notes:s.notes,onAddNote:f})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:r,children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:x,disabled:l,children:l?"Updating...":"Update"})]})]})}):null}function yle(e,t){const[n,r]=I.useState([]),[i,o]=I.useState([]),[s,a]=I.useState(!0),[l,c]=I.useState(new Set);I.useEffect(()=>{e&&u()},[e]);async function u(){a(!0);const{data:v}=await Ee.from("loan_parties").select("*").eq("loan_id",e).order("party_type",{ascending:!0}),{data:x}=await Ee.from("conditions").select("id, condition_id, title, description").eq("loan_id",e);if(!x||x.length===0){o(v||[]),r([]),a(!1);return}const _=x.map(N=>N.id),{data:S}=await Ee.from("doc_requests").select("*").in("condition_id",_),k=new Map;(v||[]).forEach(N=>{k.set(N.party_type,N)});const T=new Map;x.forEach(N=>{T.set(N.id,{condition_id:N.condition_id||"",title:N.title||"",description:N.description||""})});const P=(S||[]).map(N=>{const A=k.get(N.fulfillment_party),D=T.get(N.condition_id);return{...N,party_name:A?.party_name||N.fulfillment_party,party_type_display:`${N.fulfillment_party}: ${A?.party_name||N.fulfillment_party}`,parent:A?.parent||"APP1",condition_code:D?.condition_id||"",condition_name:D?.title||"",condition_description:D?.description||""}});o(v||[]),r(P),c(new Set((v||[]).map(N=>N.id))),a(!1)}const d=I.useMemo(()=>{let v=n.filter(_=>_.status!=="Complete");const x=new Set(i.filter(_=>l.has(_.id)).map(_=>_.party_type));return v=v.filter(_=>x.has(_.fulfillment_party)),v},[n,l,i]),h=I.useMemo(()=>{const v=["APP1","APP2","EXT"],x={APP1:"APP 1",APP2:"APP 2",EXT:"EXT"},_=new Map;d.forEach(k=>{const T=k.parent;_.has(T)||_.set(T,new Map);const P=_.get(T),N=`${k.fulfillment_party}:${k.party_name}`;P.has(N)||P.set(N,[]),P.get(N).push(k)});const S=[];return v.forEach(k=>{const T=_.get(k);if(!T||T.size===0)return;const P=[];T.forEach((N,A)=>{const[D,C]=A.split(":"),j=i.find(L=>L.party_type===D);P.push({partyId:j?.id||D,partyType:D,partyName:C,partyDisplay:C,parent:k,docRequests:N})}),P.sort((N,A)=>{const D=N.partyType===k,C=A.partyType===k;return D&&!C?-1:!D&&C?1:N.partyName.localeCompare(A.partyName)}),S.push({parent:k,parentLabel:x[k],partyGroups:P})}),S},[d,i]),f=I.useCallback(v=>{c(x=>{const _=new Set(x);return _.has(v)?_.delete(v):_.add(v),_})},[]),m=I.useCallback(()=>{c(new Set(i.map(v=>v.id)))},[i]),g=I.useCallback(()=>{c(new Set)},[]);async function y(v){try{for(const x of v){const{error:_}=await Ee.from("doc_requests").update({description_for_borrower:x.description_for_borrower}).eq("id",x.id);if(_)return console.error("Error updating doc request:",_),!1}return!0}catch(x){return console.error("Error updating doc requests:",x),!1}}return{docRequests:d,allDocRequests:n,groupedByParent:h,parties:i,loading:s,selectedPartyIds:l,togglePartyFilter:f,selectAllParties:m,clearAllParties:g,updateDocRequestDescriptions:y,refetch:u}}function ble({label:e,onRemove:t}){return p.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:[e,p.jsx("button",{type:"button",onClick:t,className:"p-0.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(lr,{className:"w-3 h-3"})})]})}function xle({parties:e,selectedPartyIds:t,onToggle:n,onSelectAll:r,onClearAll:i}){const[o,s]=I.useState(!1),a=I.useRef(null);I.useEffect(()=>{function c(u){a.current&&!a.current.contains(u.target)&&s(!1)}return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const l=e.filter(c=>t.has(c.id));return l.length,e.length,p.jsxs("div",{className:"relative",ref:a,children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2 p-2 bg-white border border-gray-300 rounded-lg min-h-[42px]",children:[l.map(c=>p.jsx(ble,{label:`${c.party_type}: ${c.party_name}`,onRemove:()=>n(c.id)},c.id)),l.length===0&&p.jsx("span",{className:"text-xs text-gray-400",children:"No parties selected"}),p.jsx("button",{type:"button",onClick:()=>s(!o),className:"ml-auto p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(mo,{className:`w-4 h-4 text-gray-500 transition-transform ${o?"rotate-180":""}`})})]}),o&&p.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[p.jsxs("div",{className:"p-2 border-b border-gray-100 flex gap-2",children:[p.jsx("button",{type:"button",onClick:r,className:"text-xs text-cmg-teal hover:text-cmg-teal-dark font-medium",children:"Select All"}),p.jsx("span",{className:"text-gray-300",children:"|"}),p.jsx("button",{type:"button",onClick:i,className:"text-xs text-cmg-teal hover:text-cmg-teal-dark font-medium",children:"Clear All"})]}),p.jsx("div",{className:"max-h-48 overflow-y-auto",children:e.map(c=>p.jsxs("label",{className:"flex items-center gap-3 px-3 py-2 hover:bg-gray-50 cursor-pointer",children:[p.jsx(fo,{checked:t.has(c.id),onChange:()=>n(c.id)}),p.jsxs("span",{className:"text-xs text-gray-700",children:[c.party_type,": ",c.party_name]})]},c.id))})]})]})}function wle(e){if(!e)return"";const t=new Date(e),n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0"),i=t.getFullYear();return`${n}/${r}/${i}`}function _le({docRequest:e,isSelected:t,onSelect:n,description:r,onDescriptionChange:i,conditionCode:o,conditionName:s,conditionDescription:a}){const l=I.useRef(null),c=!e.requested_date,u=e.requested_date?wle(e.requested_date):null;I.useEffect(()=>{const f=l.current;f&&(f.style.height="auto",f.style.height=`${f.scrollHeight}px`)},[r]);const d=[o,s].filter(Boolean).join(" - "),h=a?`${d}: ${a}`:d;return p.jsxs("div",{className:"flex items-start gap-3 py-2.5 px-4",children:[p.jsx("div",{className:"pt-1",children:p.jsx(fo,{checked:t,onChange:n})}),p.jsx("div",{className:"w-[512px] flex-shrink-0",children:p.jsx("span",{className:"text-xs text-gray-500 leading-relaxed",children:h})}),p.jsx("span",{className:"text-xs font-semibold text-gray-900 w-36 flex-shrink-0 truncate pt-1",children:e.document_type}),p.jsx("textarea",{ref:l,rows:1,value:r,onChange:f=>i(f.target.value),placeholder:"Enter description for borrower...",className:"flex-1 min-w-0 min-h-[36px] text-xs text-gray-700 px-3 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-cmg-teal focus:border-cmg-teal resize-none overflow-hidden"}),p.jsx("div",{className:"w-32 flex-shrink-0 text-right pt-1",children:c?p.jsx("span",{className:"text-2xs font-medium text-[#867704] uppercase",children:"Need to Request"}):p.jsxs("span",{className:"text-2xs text-gray-500",children:["Requested ",u]})})]})}function Sle({partyGroup:e,selectedIds:t,onToggleSelect:n,onSelectAll:r,descriptions:i,onDescriptionChange:o}){const s=e.docRequests.map(c=>c.id),a=I.useMemo(()=>{const c=s.filter(u=>t.has(u)).length;return c===0?"none":c===s.length?"all":"partial"},[s,t]),l=()=>{a==="all"?s.forEach(c=>{t.has(c)&&n(c)}):r(s)};return p.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[p.jsxs("div",{className:"flex items-center gap-3 py-3 px-4 border-b border-gray-100",children:[p.jsx(fo,{checked:a==="all",onChange:l}),p.jsx("span",{className:"text-xs font-bold text-gray-900",children:e.partyDisplay})]}),p.jsx("div",{className:"divide-y divide-gray-100",children:e.docRequests.map(c=>p.jsx(_le,{docRequest:c,isSelected:t.has(c.id),onSelect:()=>n(c.id),description:i.get(c.id)??c.description_for_borrower??"",onDescriptionChange:u=>o(c.id,u),conditionCode:c.condition_code,conditionName:c.condition_name,conditionDescription:c.condition_description},c.id))})]})}function kle({parentGroup:e,selectedIds:t,onToggleSelect:n,onSelectAll:r,descriptions:i,onDescriptionChange:o,defaultExpanded:s=!0}){const[a,l]=I.useState(s);return p.jsxs("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:[p.jsxs("button",{type:"button",onClick:()=>l(!a),className:"w-full h-10 flex items-center justify-between px-4 bg-stone-100 hover:bg-stone-200 transition-colors",children:[p.jsx("span",{className:"text-sm font-bold text-gray-900",children:e.parentLabel}),p.jsx(E0,{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${a?"":"rotate-180"}`})]}),p.jsx("div",{className:`overflow-hidden transition-all duration-200 ${a?"max-h-[4000px] opacity-100":"max-h-0 opacity-0"}`,children:p.jsx("div",{className:"p-4 space-y-3 bg-stone-50",children:e.partyGroups.map(c=>p.jsx(Sle,{partyGroup:c,selectedIds:t,onToggleSelect:n,onSelectAll:r,descriptions:i,onDescriptionChange:o},c.partyId))})})]})}function Cle({email:e,onRemove:t}){return p.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 bg-cmg-teal-lightest border border-cmg-teal/30 text-gray-700 text-xs rounded",children:[e,p.jsx("button",{type:"button",onClick:t,className:"p-0.5 hover:bg-cmg-teal/20 rounded transition-colors",children:p.jsx(lr,{className:"w-3 h-3 text-gray-500"})})]})}function Sj({label:e,emails:t,onChange:n,placeholder:r="Add email"}){const[i,o]=I.useState(!1),[s,a]=I.useState(""),l=I.useRef(null),c=f=>{const m=t.filter((g,y)=>y!==f);n(m)},u=()=>{const f=s.trim();f&&!t.includes(f)&&n([...t,f]),a(""),o(!1)},d=f=>{f.key==="Enter"?(f.preventDefault(),u()):f.key==="Escape"&&(a(""),o(!1))},h=()=>{o(!0),setTimeout(()=>l.current?.focus(),0)};return p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("label",{className:"text-xs font-medium text-gray-700 w-20 pt-1.5 flex-shrink-0",children:e}),p.jsxs("div",{className:"flex-1 flex flex-wrap items-center gap-2 min-h-[36px] px-3 py-1.5 bg-white border border-gray-300 rounded-lg",children:[t.map((f,m)=>p.jsx(Cle,{email:f,onRemove:()=>c(m)},f)),i?p.jsx("input",{ref:l,type:"email",value:s,onChange:f=>a(f.target.value),onBlur:u,onKeyDown:d,placeholder:r,className:"flex-1 min-w-[150px] text-xs outline-none bg-transparent"}):p.jsx("button",{type:"button",onClick:h,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(J0,{className:"w-4 h-4 text-cmg-teal"})})]})]})}var Nle=20,sU=(e,t=0)=>{const n=[];return!e.children.length||t>Nle||Array.from(e.children).forEach(r=>{r.tagName==="SPAN"?n.push(r):r.children.length&&n.push(...sU(r,t+1))}),n},Ale=e=>{if(!e.children.length)return;const t=sU(e);t&&t.forEach(n=>{var r,i;const o=n.getAttribute("style"),s=(i=(r=n.parentElement)==null?void 0:r.closest("span"))==null?void 0:i.getAttribute("style");n.setAttribute("style",`${s};${o}`)})},aU=za.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Ale(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",Sn(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(o=>!!o))||e.removeMark(r,r+n.nodeSize,this.type)}),!0}}}}),Ele=Bn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const s=o[0].trim().toLowerCase(),a=o.slice(1).join(":").trim();if(s==="background-color")return a.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),lU=Bn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const r=n.split(";").map(i=>i.trim()).filter(Boolean);for(let i=r.length-1;i>=0;i-=1){const o=r[i].split(":");if(o.length>=2){const s=o[0].trim().toLowerCase(),a=o.slice(1).join(":").trim();if(s==="color")return a.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Tle=Bn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),Ple=Bn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),Rle=Bn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Bn.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(Ele.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(lU.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(Tle.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(Ple.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(Rle.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(aU.configure(this.options.textStyle)),e}});var jle=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Dle=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Ile=za.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:e=>e.getAttribute("data-color")||e.style.backgroundColor,renderHTML:e=>e.color?{"data-color":e.color,style:`background-color: ${e.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:e}){return["mark",Sn(this.options.HTMLAttributes,e),0]},renderMarkdown:(e,t)=>`==${t.renderChildren(e)}==`,parseMarkdown:(e,t)=>t.applyMark("highlight",t.parseInline(e.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:e=>e.indexOf("=="),tokenize(e,t,n){const i=/^(==)([^=]+)(==)/.exec(e);if(i){const o=i[2].trim(),s=n.inlineTokens(o);return{type:"highlight",raw:i[0],text:o,tokens:s}}}},addCommands(){return{setHighlight:e=>({commands:t})=>t.setMark(this.name,e),toggleHighlight:e=>({commands:t})=>t.toggleMark(this.name,e),unsetHighlight:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[nh({find:jle,type:this.type})]},addPasteRules(){return[Nd({find:Dle,type:this.type})]}}),Ole=Bn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign?{style:`text-align: ${e.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).some(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).some(t=>t),toggleTextAlign:e=>({editor:t,commands:n})=>this.options.alignments.includes(e)?t.isActive({textAlign:e})?n.unsetTextAlign():n.setTextAlign(e):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Lle=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Mle=ci.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",Sn(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,r,i,o,s;const a=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",l=(i=(r=e.attrs)==null?void 0:r.alt)!=null?i:"",c=(s=(o=e.attrs)==null?void 0:o.title)!=null?s:"";return c?`![${l}](${a} "${c}")`:`![${l}](${a})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:r}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:s,editor:a})=>{const l=document.createElement("img");Object.entries(s).forEach(([d,h])=>{if(h!=null)switch(d){case"width":case"height":break;default:l.setAttribute(d,h);break}}),l.src=s.src;const c=new Lie({element:l,editor:a,node:i,getPos:o,onResize:(d,h)=>{l.style.width=`${d}px`,l.style.height=`${h}px`},onCommit:(d,h)=>{const f=o();f!==void 0&&this.editor.chain().setNodeSelection(f).updateAttributes(this.name,{width:d,height:h}).run()},onUpdate:(d,h,f)=>d.type===i.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:r===!0}}),u=c.dom;return u.style.visibility="hidden",u.style.pointerEvents="none",l.onload=()=>{u.style.visibility="",u.style.pointerEvents=""},c}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[T9({find:Lle,type:this.type,getAttributes:e=>{const[,,t,n,r]=e;return{src:n,alt:t,title:r}}})]}});let a4,l4;if(typeof WeakMap<"u"){let e=new WeakMap;a4=t=>e.get(t),l4=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;a4=r=>{for(let i=0;i<e.length;i+=2)if(e[i]==r)return e[i+1]},l4=(r,i)=>(n==10&&(n=0),e[n++]=r,e[n++]=i)}var kr=class{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const r=t%this.width,i=t/this.width|0;let o=r+1,s=i+1;for(let a=1;o<this.width&&this.map[t+a]==n;a++)o++;for(let a=1;s<this.height&&this.map[t+this.width*a]==n;a++)s++;return{left:r,top:i,right:o,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:r,right:i,top:o,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?r==0:i==this.width)?null:this.map[o*this.width+(n<0?r-1:i)]:(n<0?o==0:s==this.height)?null:this.map[r+this.width*(n<0?o-1:s)]}rectBetween(e,t){const{left:n,right:r,top:i,bottom:o}=this.findCell(e),{left:s,right:a,top:l,bottom:c}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(o,c)}}cellsInRect(e){const t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let i=e.left;i<e.right;i++){const o=r*this.width+i,s=this.map[o];n[s]||(n[s]=!0,!(i==e.left&&i&&this.map[o-1]==s||r==e.top&&r&&this.map[o-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let r=0,i=0;;r++){const o=i+n.child(r).nodeSize;if(r==e){let s=t+e*this.width;const a=(e+1)*this.width;for(;s<a&&this.map[s]<i;)s++;return s==a?o-1:this.map[s]}i=o}}static get(e){return a4(e)||l4(e,Fle(e))}};function Fle(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=Ble(e),n=e.childCount,r=[];let i=0,o=null;const s=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=e.child(c);u++;for(let m=0;;m++){for(;i<r.length&&r[i]!=0;)i++;if(m==d.childCount)break;const g=d.child(m),{colspan:y,rowspan:v,colwidth:x}=g.attrs;for(let _=0;_<v;_++){if(_+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:v-_});break}const S=i+_*t;for(let k=0;k<y;k++){r[S+k]==0?r[S+k]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:y-k});const T=x&&x[k];if(T){const P=(S+k)%t*2,N=s[P];N==null||N!=T&&s[P+1]==1?(s[P]=T,s[P+1]=1):N==T&&s[P+1]++}}}i+=y,u+=g.nodeSize}const h=(c+1)*t;let f=0;for(;i<h;)r[i++]==0&&f++;f&&(o||(o=[])).push({type:"missing",row:c,n:f}),u++}(t===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const a=new kr(t,n,r,o);let l=!1;for(let c=0;!l&&c<s.length;c+=2)s[c]!=null&&s[c+1]<n&&(l=!0);return l&&zle(a,s,e),a}function Ble(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){const i=e.child(r);let o=0;if(n)for(let s=0;s<r;s++){const a=e.child(s);for(let l=0;l<a.childCount;l++){const c=a.child(l);s+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}}for(let s=0;s<i.childCount;s++){const a=i.child(s);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function zle(e,t,n){e.problems||(e.problems=[]);const r={};for(let i=0;i<e.map.length;i++){const o=e.map[i];if(r[o])continue;r[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let a=null;const l=s.attrs;for(let c=0;c<l.colspan;c++){const u=t[(i+c)%e.width*2];u!=null&&(!l.colwidth||l.colwidth[c]!=u)&&((a||(a=Ule(l)))[c]=u)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function Ule(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function $i(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const r=e.nodes[n],i=r.spec.tableRole;i&&(t[i]=r)}}return t}const Lu=new cr("selectingCells");function em(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function qle(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function Ua(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function A5(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=em(t.$head)||Hle(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function Hle(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function c4(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function Wle(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function dT(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function cU(e,t,n){const r=e.node(-1),i=kr.get(r),o=e.start(-1),s=i.nextCell(e.pos-o,t,n);return s==null?null:e.node(0).resolve(o+s)}function rh(e,t,n=1){const r={...e,colspan:e.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function uU(e,t,n=1){const r={...e,colspan:e.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(t,0,0)}return r}function Vle(e,t,n){const r=$i(t.type.schema).header_cell;for(let i=0;i<e.height;i++)if(t.nodeAt(e.map[n+i*e.width]).type!=r)return!1;return!0}var $n=class pc extends Dt{constructor(t,n=t){const r=t.node(-1),i=kr.get(r),o=t.start(-1),s=i.rectBetween(t.pos-o,n.pos-o),a=t.node(0),l=i.cellsInRect(s).filter(u=>u!=n.pos-o);l.unshift(n.pos-o);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw new RangeError(`No cell with offset ${u} found`);const h=o+u+1;return new sz(a.resolve(h),a.resolve(h+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=t,this.$headCell=n}map(t,n){const r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(c4(r)&&c4(i)&&dT(r,i)){const o=this.$anchorCell.node(-1)!=r.node(-1);return o&&this.isRowSelection()?pc.rowSelection(r,i):o&&this.isColSelection()?pc.colSelection(r,i):new pc(r,i)}return Tt.between(r,i)}content(){const t=this.$anchorCell.node(-1),n=kr.get(t),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),o={},s=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const h=n.map[u];if(o[h])continue;o[h]=!0;const f=n.findCell(h);let m=t.nodeAt(h);if(!m)throw new RangeError(`No cell with offset ${h} found`);const g=i.left-f.left,y=f.right-i.right;if(g>0||y>0){let v=m.attrs;if(g>0&&(v=rh(v,0,g)),y>0&&(v=rh(v,v.colspan-y,y)),f.left<i.left){if(m=m.type.createAndFill(v),!m)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else m=m.type.create(v,m.content)}if(f.top<i.top||f.bottom>i.bottom){const v={...m.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?m=m.type.createAndFill(v):m=m.type.create(v,m.content)}c.push(m)}s.push(t.child(l).copy(Fe.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?t:s;return new rt(Fe.from(a),1,1)}replace(t,n=rt.empty){const r=t.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){const{$from:a,$to:l}=i[s],c=t.mapping.slice(r);t.replace(c.map(a.pos),c.map(l.pos),s?rt.empty:n)}const o=Dt.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new rt(Fe.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),r=kr.get(n),i=this.$anchorCell.start(-1),o=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let s=0;s<o.length;s++)t(n.nodeAt(o[s]),i+o[s])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const r=t.node(-1),i=kr.get(r),o=t.start(-1),s=i.findCell(t.pos-o),a=i.findCell(n.pos-o),l=t.node(0);return s.top<=a.top?(s.top>0&&(t=l.resolve(o+i.map[s.left])),a.bottom<i.height&&(n=l.resolve(o+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(o+i.map[a.left])),s.bottom<i.height&&(t=l.resolve(o+i.map[i.width*(i.height-1)+s.right-1]))),new pc(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=kr.get(t),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),o=n.colCount(this.$headCell.pos-r);if(Math.min(i,o)>0)return!1;const s=i+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(t){return t instanceof pc&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const r=t.node(-1),i=kr.get(r),o=t.start(-1),s=i.findCell(t.pos-o),a=i.findCell(n.pos-o),l=t.node(0);return s.left<=a.left?(s.left>0&&(t=l.resolve(o+i.map[s.top*i.width])),a.right<i.width&&(n=l.resolve(o+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(o+i.map[a.top*i.width])),s.right<i.width&&(t=l.resolve(o+i.map[i.width*(s.top+1)-1]))),new pc(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new pc(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){return new pc(t.resolve(n),t.resolve(r))}getBookmark(){return new Kle(this.$anchorCell.pos,this.$headCell.pos)}};$n.prototype.visible=!1;Dt.jsonID("cell",$n);var Kle=class dU{constructor(t,n){this.anchor=t,this.head=n}map(t){return new dU(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),r=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&dT(n,r)?new $n(n,r):Dt.near(r,1)}};function Gle(e){if(!(e.selection instanceof $n))return null;const t=[];return e.selection.forEachCell((n,r)=>{t.push(si.node(r,r+n.nodeSize,{class:"selectedCell"}))}),Wn.create(e.doc,t)}function Zle({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,r=t.pos,i=e.depth;for(;i>=0&&!(e.after(i+1)<e.end(i));i--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,r--);return n==r&&/row|table/.test(e.node(i).type.spec.tableRole)}function Xle({$from:e,$to:t}){let n,r;for(let i=e.depth;i>0;i--){const o=e.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let i=t.depth;i>0;i--){const o=t.node(i);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){r=o;break}}return n!==r&&t.parentOffset===0}function $le(e,t,n){const r=(t||e).selection,i=(t||e).doc;let o,s;if(r instanceof Et&&(s=r.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=$n.create(i,r.from);else if(s=="row"){const a=i.resolve(r.from+1);o=$n.rowSelection(a,a)}else if(!n){const a=kr.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];o=$n.create(i,l+1,c)}}else r instanceof Tt&&Zle(r)?o=Tt.create(i,r.from):r instanceof Tt&&Xle(r)&&(o=Tt.create(i,r.$from.start(),r.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}const Yle=new cr("fix-tables");function fU(e,t,n,r){const i=e.childCount,o=t.childCount;e:for(let s=0,a=0;s<o;s++){const l=t.child(s);for(let c=a,u=Math.min(i,s+3);c<u;c++)if(e.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&e.child(a).sameMarkup(l)?fU(e.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function hU(e,t){let n;const r=(i,o)=>{i.type.spec.tableRole=="table"&&(n=Jle(e,i,o,n))};return t?t.doc!=e.doc&&fU(t.doc,e.doc,0,r):e.doc.descendants(r),n}function Jle(e,t,n,r){const i=kr.get(t);if(!i.problems)return r;r||(r=e.tr);const o=[];for(let l=0;l<i.height;l++)o.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=t.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let h=0;h<d.rowspan;h++)o[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,rh(d,d.colspan-c.n,c.n))}else if(c.type=="missing")o[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=t.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}else if(c.type=="zero_sized"){const u=r.mapping.map(n);r.delete(u,u+t.nodeSize)}}let s,a;for(let l=0;l<o.length;l++)o[l]&&(s==null&&(s=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=t.child(l),d=c+u.nodeSize,h=o[l];if(h>0){let f="cell";u.firstChild&&(f=u.firstChild.type.spec.tableRole);const m=[];for(let y=0;y<h;y++){const v=$i(e.schema)[f].createAndFill();v&&m.push(v)}const g=(l==0||s==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),m)}c=d}return r.setMeta(Yle,{fixTables:!0})}function Fl(e){const t=e.selection,n=A5(e),r=n.node(-1),i=n.start(-1),o=kr.get(r);return{...t instanceof $n?o.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):o.findCell(n.pos-i),tableStart:i,map:o,table:r}}function pU(e,{map:t,tableStart:n,table:r},i){let o=i>0?-1:0;Vle(t,r,i+o)&&(o=i==0||i==t.width?null:0);for(let s=0;s<t.height;s++){const a=s*t.width+i;if(i>0&&i<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],c=r.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,uU(c.attrs,i-t.colCount(l))),s+=c.attrs.rowspan-1}else{const l=o==null?$i(r.type.schema).cell:r.nodeAt(t.map[a+o]).type,c=t.positionAt(s,i,r);e.insert(e.mapping.map(n+c),l.createAndFill())}}return e}function Qle(e,t){if(!Ua(e))return!1;if(t){const n=Fl(e);t(pU(e.tr,n,n.left))}return!0}function ece(e,t){if(!Ua(e))return!1;if(t){const n=Fl(e);t(pU(e.tr,n,n.right))}return!0}function tce(e,{map:t,table:n,tableStart:r},i){const o=e.mapping.maps.length;for(let s=0;s<t.height;){const a=s*t.width+i,l=t.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&t.map[a-1]==l||i<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(r+l),null,rh(u,i-t.colCount(l)));else{const d=e.mapping.slice(o).map(r+l);e.delete(d,d+c.nodeSize)}s+=u.rowspan}}function nce(e,t){if(!Ua(e))return!1;if(t){const n=Fl(e),r=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;tce(r,n,i),i!=n.left;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw new RangeError("No table found");n.table=o,n.map=kr.get(o)}t(r)}return!0}function rce(e,t,n){var r;const i=$i(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((r=t.nodeAt(e.map[o+n*e.width]))===null||r===void 0?void 0:r.type)!=i)return!1;return!0}function mU(e,{map:t,tableStart:n,table:r},i){let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const s=[];let a=i>0?-1:0;rce(t,r,i+a)&&(a=i==0||i==t.height?null:0);for(let c=0,u=t.width*i;c<t.width;c++,u++)if(i>0&&i<t.height&&t.map[u]==t.map[u-t.width]){const d=t.map[u],h=r.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...h,rowspan:h.rowspan+1}),c+=h.colspan-1}else{var l;const d=a==null?$i(r.type.schema).cell:(l=r.nodeAt(t.map[u+a*t.width]))===null||l===void 0?void 0:l.type,h=d?.createAndFill();h&&s.push(h)}return e.insert(o,$i(r.type.schema).row.create(null,s)),e}function ice(e,t){if(!Ua(e))return!1;if(t){const n=Fl(e);t(mU(e.tr,n,n.top))}return!0}function oce(e,t){if(!Ua(e))return!1;if(t){const n=Fl(e);t(mU(e.tr,n,n.bottom))}return!0}function sce(e,{map:t,table:n,tableStart:r},i){let o=0;for(let c=0;c<i;c++)o+=n.child(c).nodeSize;const s=o+n.child(i).nodeSize,a=e.mapping.maps.length;e.delete(o+r,s+r);const l=new Set;for(let c=0,u=i*t.width;c<t.width;c++,u++){const d=t.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==t.map[u-t.width]){const h=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,{...h,rowspan:h.rowspan-1}),c+=h.colspan-1}else if(i<t.height&&d==t.map[u+t.width]){const h=n.nodeAt(d),f=h.attrs,m=h.type.create({...f,rowspan:h.attrs.rowspan-1},h.content),g=t.positionAt(i+1,c,n);e.insert(e.mapping.slice(a).map(r+g),m),c+=f.colspan-1}}}}function ace(e,t){if(!Ua(e))return!1;if(t){const n=Fl(e),r=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;sce(r,n,i),i!=n.top;i--){const o=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!o)throw new RangeError("No table found");n.table=o,n.map=kr.get(n.table)}t(r)}return!0}function kj(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function lce({width:e,height:t,map:n},r){let i=r.top*e+r.left,o=i,s=(r.bottom-1)*e+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[o]==n[o-1]||r.right<e&&n[a]==n[a+1])return!0;o+=e,a+=e}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-e]||r.bottom<t&&n[s]==n[s+e])return!0;i++,s++}return!1}function Cj(e,t){const n=e.selection;if(!(n instanceof $n)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Fl(e),{map:i}=r;if(lce(i,r))return!1;if(t){const o=e.tr,s={};let a=Fe.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const h=i.map[u*i.width+d],f=r.table.nodeAt(h);if(!(s[h]||!f))if(s[h]=!0,l==null)l=h,c=f;else{kj(f)||(a=a.append(f.content));const m=o.mapping.map(h+r.tableStart);o.delete(m,m+f.nodeSize)}}if(l==null||c==null)return!0;if(o.setNodeMarkup(l+r.tableStart,null,{...uU(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size>0){const u=l+1+c.content.size,d=kj(c)?l+1:u;o.replaceWith(d+r.tableStart,u+r.tableStart,a)}o.setSelection(new $n(o.doc.resolve(l+r.tableStart))),t(o)}return!0}function Nj(e,t){const n=$i(e.schema);return cce(({node:r})=>n[r.type.spec.tableRole])(e,t)}function cce(e){return(t,n)=>{const r=t.selection;let i,o;if(r instanceof $n){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;i=r.$anchorCell.nodeAfter,o=r.$anchorCell.pos}else{var s;if(i=qle(r.$from),!i)return!1;o=(s=em(r.$from))===null||s===void 0?void 0:s.pos}if(i==null||o==null||i.attrs.colspan==1&&i.attrs.rowspan==1)return!1;if(n){let a=i.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=Fl(t),d=t.tr;for(let f=0;f<u.right-u.left;f++)l.push(c?{...a,colwidth:c&&c[f]?[c[f]]:null}:a);let h;for(let f=u.top;f<u.bottom;f++){let m=u.map.positionAt(f,u.left,u.table);f==u.top&&(m+=i.nodeSize);for(let g=u.left,y=0;g<u.right;g++,y++)g==u.left&&f==u.top||d.insert(h=d.mapping.map(m+u.tableStart,1),e({node:i,row:f,col:g}).createAndFill(l[y]))}d.setNodeMarkup(o,e({node:i,row:u.top,col:u.left}),l[0]),r instanceof $n&&d.setSelection(new $n(d.doc.resolve(r.$anchorCell.pos),h?d.doc.resolve(h):void 0)),n(d)}return!0}}function uce(e,t){return function(n,r){if(!Ua(n))return!1;const i=A5(n);if(i.nodeAfter.attrs[e]===t)return!1;if(r){const o=n.tr;n.selection instanceof $n?n.selection.forEachCell((s,a)=>{s.attrs[e]!==t&&o.setNodeMarkup(a,null,{...s.attrs,[e]:t})}):o.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[e]:t}),r(o)}return!0}}function dce(e){return function(t,n){if(!Ua(t))return!1;if(n){const r=$i(t.schema),i=Fl(t),o=t.tr,s=i.map.cellsInRect(e=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:e=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=s.map(l=>i.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+s[l],r.cell,a[l].attrs);if(o.steps.length===0)for(let l=0;l<s.length;l++)o.setNodeMarkup(i.tableStart+s[l],r.header_cell,a[l].attrs);n(o)}return!0}}function Aj(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let i=0;i<r.length;i++){const o=t.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function h1(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?dce(e):function(n,r){if(!Ua(n))return!1;if(r){const i=$i(n.schema),o=Fl(n),s=n.tr,a=Aj("row",o,i),l=Aj("column",o,i),c=(e==="column"?a:e==="row"&&l)?1:0,u=e=="column"?{left:0,top:c,right:1,bottom:o.map.height}:e=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,d=e=="column"?l?i.cell:i.header_cell:e=="row"?a?i.cell:i.header_cell:i.cell;o.map.cellsInRect(u).forEach(h=>{const f=h+o.tableStart,m=s.doc.nodeAt(f);m&&s.setNodeMarkup(f,d,m.attrs)}),r(s)}return!0}}h1("row",{useDeprecatedLogic:!0});h1("column",{useDeprecatedLogic:!0});const fce=h1("cell",{useDeprecatedLogic:!0});function hce(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let r=e.index(-1)-1,i=e.before();r>=0;r--){const o=e.node(-1).child(r),s=o.lastChild;if(s)return i-1-s.nodeSize;i-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let r=e.indexAfter(-1),i=e.after();r<n.childCount;r++){const o=n.child(r);if(o.childCount)return i+1;i+=o.nodeSize}}return null}function Ej(e){return function(t,n){if(!Ua(t))return!1;const r=hce(A5(t),e);if(r==null)return!1;if(n){const i=t.doc.resolve(r);n(t.tr.setSelection(Tt.between(i,Wle(i))).scrollIntoView())}return!0}}function pce(e,t){const n=e.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function Jb(e,t){const n=e.selection;if(!(n instanceof $n))return!1;if(t){const r=e.tr,i=$i(e.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(i)||r.replace(r.mapping.map(s+1),r.mapping.map(s+o.nodeSize-1),new rt(i,0,0))}),r.docChanged&&t(r)}return!0}function mce(e){if(e.size===0)return null;let{content:t,openStart:n,openEnd:r}=e;for(;t.childCount==1&&(n>0&&r>0||t.child(0).type.spec.tableRole=="table");)n--,r--,t=t.child(0).content;const i=t.child(0),o=i.type.spec.tableRole,s=i.type.schema,a=[];if(o=="row")for(let l=0;l<t.childCount;l++){let c=t.child(l).content;const u=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=u4($i(s).row,new rt(c,u,d)).content),a.push(c)}else if(o=="cell"||o=="header_cell")a.push(n||r?u4($i(s).row,new rt(t,n,r)).content:t);else return null;return gce(s,a)}function gce(e,t){const n=[];for(let i=0;i<t.length;i++){const o=t[i];for(let s=o.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=o.child(s).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(Fe.empty),n[i]<r){const o=$i(e).cell.createAndFill(),s=[];for(let a=n[i];a<r;a++)s.push(o);t[i]=t[i].append(Fe.from(s))}return{height:t.length,width:r,rows:t}}function u4(e,t){const n=e.createAndFill();return new EE(n).replace(0,n.content.size,t).doc}function vce({width:e,height:t,rows:n},r,i){if(e!=r){const o=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=o[a]||0,d=0;u<r;d++){let h=l.child(d%l.childCount);u+h.attrs.colspan>r&&(h=h.type.createChecked(rh(h.attrs,h.attrs.colspan,u+h.attrs.colspan-r),h.content)),c.push(h),u+=h.attrs.colspan;for(let f=1;f<h.attrs.rowspan;f++)o[a+f]=(o[a+f]||0)+h.attrs.colspan}s.push(Fe.from(c))}n=s,e=r}if(t!=i){const o=[];for(let s=0,a=0;s<i;s++,a++){const l=[],c=n[a%t];for(let u=0;u<c.childCount;u++){let d=c.child(u);s+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}o.push(Fe.from(l))}n=o,t=i}return{width:e,height:t,rows:n}}function yce(e,t,n,r,i,o,s){const a=e.doc.type.schema,l=$i(a);let c,u;if(i>t.width)for(let d=0,h=0;d<t.height;d++){const f=n.child(d);h+=f.nodeSize;const m=[];let g;f.lastChild==null||f.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let y=t.width;y<i;y++)m.push(g);e.insert(e.mapping.slice(s).map(h-1+r),m)}if(o>t.height){const d=[];for(let m=0,g=(t.height-1)*t.width;m<Math.max(t.width,i);m++){const y=m>=t.width?!1:n.nodeAt(t.map[g+m]).type==l.header_cell;d.push(y?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,Fe.from(d)),f=[];for(let m=t.height;m<o;m++)f.push(h);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),f)}return!!(c||u)}function Tj(e,t,n,r,i,o,s,a){if(s==0||s==t.height)return!1;let l=!1;for(let c=i;c<o;c++){const u=s*t.width+c,d=t.map[u];if(t.map[u-t.width]==d){l=!0;const h=n.nodeAt(d),{top:f,left:m}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(a).map(d+r),null,{...h.attrs,rowspan:s-f}),e.insert(e.mapping.slice(a).map(t.positionAt(s,m,n)),h.type.createAndFill({...h.attrs,rowspan:f+h.attrs.rowspan-s})),c+=h.attrs.colspan-1}}return l}function Pj(e,t,n,r,i,o,s,a){if(s==0||s==t.width)return!1;let l=!1;for(let c=i;c<o;c++){const u=c*t.width+s,d=t.map[u];if(t.map[u-1]==d){l=!0;const h=n.nodeAt(d),f=t.colCount(d),m=e.mapping.slice(a).map(d+r);e.setNodeMarkup(m,null,rh(h.attrs,s-f,h.attrs.colspan-(s-f))),e.insert(m+h.nodeSize,h.type.createAndFill(rh(h.attrs,0,s-f))),c+=h.attrs.rowspan-1}}return l}function Rj(e,t,n,r,i){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let s=kr.get(o);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=e.tr;let h=0;function f(){if(o=n?d.doc.nodeAt(n-1):d.doc,!o)throw new Error("No table found");s=kr.get(o),h=d.mapping.maps.length}yce(d,s,o,n,c,u,h)&&f(),Tj(d,s,o,n,l,c,a,h)&&f(),Tj(d,s,o,n,l,c,u,h)&&f(),Pj(d,s,o,n,a,u,l,h)&&f(),Pj(d,s,o,n,a,u,c,h)&&f();for(let m=a;m<u;m++){const g=s.positionAt(m,l,o),y=s.positionAt(m,c,o);d.replace(d.mapping.slice(h).map(g+n),d.mapping.slice(h).map(y+n),new rt(i.rows[m-a],0,0))}f(),d.setSelection(new $n(d.doc.resolve(n+s.positionAt(a,l,o)),d.doc.resolve(n+s.positionAt(u-1,c-1,o)))),t(d)}const bce=UE({ArrowLeft:Qb("horiz",-1),ArrowRight:Qb("horiz",1),ArrowUp:Qb("vert",-1),ArrowDown:Qb("vert",1),"Shift-ArrowLeft":e2("horiz",-1),"Shift-ArrowRight":e2("horiz",1),"Shift-ArrowUp":e2("vert",-1),"Shift-ArrowDown":e2("vert",1),Backspace:Jb,"Mod-Backspace":Jb,Delete:Jb,"Mod-Delete":Jb});function ox(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Qb(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;if(o instanceof $n)return ox(n,r,Dt.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const s=gU(i,e,t);if(s==null)return!1;if(e=="horiz")return ox(n,r,Dt.near(n.doc.resolve(o.head+t),t));{const a=n.doc.resolve(s),l=cU(a,e,t);let c;return l?c=Dt.near(l,1):t<0?c=Dt.near(n.doc.resolve(a.before(-1)),-1):c=Dt.near(n.doc.resolve(a.after(-1)),1),ox(n,r,c)}}}function e2(e,t){return(n,r,i)=>{if(!i)return!1;const o=n.selection;let s;if(o instanceof $n)s=o;else{const l=gU(i,e,t);if(l==null)return!1;s=new $n(n.doc.resolve(l))}const a=cU(s.$headCell,e,t);return a?ox(n,r,new $n(s.$anchorCell,a)):!1}}function xce(e,t){const n=e.state.doc,r=em(n.resolve(t));return r?(e.dispatch(e.state.tr.setSelection(new $n(r))),!0):!1}function wce(e,t,n){if(!Ua(e.state))return!1;let r=mce(n);const i=e.state.selection;if(i instanceof $n){r||(r={width:1,height:1,rows:[Fe.from(u4($i(e.state.schema).cell,n))]});const o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),a=kr.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=vce(r,a.right-a.left,a.bottom-a.top),Rj(e.state,e.dispatch,s,a,r),!0}else if(r){const o=A5(e.state),s=o.start(-1);return Rj(e.state,e.dispatch,s,kr.get(o.node(-1)).findCell(o.pos-s),r),!0}else return!1}function _ce(e,t){var n;if(t.button!=0||t.ctrlKey||t.metaKey)return;const r=jj(e,t.target);let i;if(t.shiftKey&&e.state.selection instanceof $n)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(i=em(e.state.selection.$anchor))!=null&&((n=Jk(e,t))===null||n===void 0?void 0:n.pos)!=i.pos)o(i,t),t.preventDefault();else if(!r)return;function o(l,c){let u=Jk(e,c);const d=Lu.getState(e.state)==null;if(!u||!dT(l,u))if(d)u=l;else return;const h=new $n(l,u);if(d||!e.state.selection.eq(h)){const f=e.state.tr.setSelection(h);d&&f.setMeta(Lu,l.pos),e.dispatch(f)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",a),Lu.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Lu,-1))}function a(l){const c=l,u=Lu.getState(e.state);let d;if(u!=null)d=e.state.doc.resolve(u);else if(jj(e,c.target)!=r&&(d=Jk(e,t),!d))return s();d&&o(d,c)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",a)}function gU(e,t,n){if(!(e.state.selection instanceof Tt))return null;const{$head:r}=e.state.selection;for(let i=r.depth-1;i>=0;i--){const o=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const s=r.before(i),a=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(a)?s:null}}return null}function jj(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Jk(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});if(!n)return null;const r=n.inside>=0?n.inside:n.pos;return em(e.state.doc.resolve(r))}var Sce=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),d4(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,d4(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function d4(e,t,n,r,i,o){let s=0,a=!0,l=t.firstChild;const c=e.firstChild;if(c){for(let d=0,h=0;d<c.childCount;d++){const{colspan:f,colwidth:m}=c.child(d).attrs;for(let g=0;g<f;g++,h++){const y=i==h?o:m&&m[g],v=y?y+"px":"";if(s+=y||r,y||(a=!1),l)l.style.width!=v&&(l.style.width=v),l=l.nextSibling;else{const x=document.createElement("col");x.style.width=v,t.appendChild(x)}}}for(;l;){var u;const d=l.nextSibling;(u=l.parentNode)===null||u===void 0||u.removeChild(l),l=d}a?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}}const Yo=new cr("tableColumnResizing");function kce({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:r=Sce,lastColumnResizable:i=!0}={}){const o=new Yn({key:Yo,state:{init(s,a){var l;const c=(l=o.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,u=$i(a.schema).table.name;return r&&c&&(c[u]=(d,h)=>new r(d,n,h)),new Cce(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{const a=Yo.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{Nce(s,a,e,i)},mouseleave:s=>{Ace(s)},mousedown:(s,a)=>{Ece(s,a,t,n)}},decorations:s=>{const a=Yo.getState(s);if(a&&a.activeHandle>-1)return Dce(s,a.activeHandle)},nodeViews:{}}});return o}var Cce=class sx{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,r=t.getMeta(Yo);if(r&&r.setHandle!=null)return new sx(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new sx(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&t.docChanged){let i=t.mapping.map(n.activeHandle,-1);return c4(t.doc.resolve(i))||(i=-1),new sx(i,n.dragging)}return n}};function Nce(e,t,n,r){if(!e.editable)return;const i=Yo.getState(e.state);if(i&&!i.dragging){const o=Pce(t.target);let s=-1;if(o){const{left:a,right:l}=o.getBoundingClientRect();t.clientX-a<=n?s=Dj(e,t,"left",n):l-t.clientX<=n&&(s=Dj(e,t,"right",n))}if(s!=i.activeHandle){if(!r&&s!==-1){const a=e.state.doc.resolve(s),l=a.node(-1),c=kr.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}vU(e,s)}}}function Ace(e){if(!e.editable)return;const t=Yo.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&vU(e,-1)}function Ece(e,t,n,r){var i;if(!e.editable)return!1;const o=(i=e.dom.ownerDocument.defaultView)!==null&&i!==void 0?i:window,s=Yo.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const a=e.state.doc.nodeAt(s.activeHandle),l=Tce(e,s.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(Yo,{setDragging:{startX:t.clientX,startWidth:l}}));function c(d){o.removeEventListener("mouseup",c),o.removeEventListener("mousemove",u);const h=Yo.getState(e.state);h?.dragging&&(Rce(e,h.activeHandle,Ij(h.dragging,d,n)),e.dispatch(e.state.tr.setMeta(Yo,{setDragging:null})))}function u(d){if(!d.which)return c(d);const h=Yo.getState(e.state);if(h&&h.dragging){const f=Ij(h.dragging,d,n);Oj(e,h.activeHandle,f,r)}}return Oj(e,s.activeHandle,l,r),o.addEventListener("mouseup",c),o.addEventListener("mousemove",u),t.preventDefault(),!0}function Tce(e,t,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const o=e.domAtPos(t);let s=o.node.childNodes[o.offset].offsetWidth,a=n;if(r)for(let l=0;l<n;l++)r[l]&&(s-=r[l],a--);return s/a}function Pce(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Dj(e,t,n,r){const i=n=="right"?-r:r,o=e.posAtCoords({left:t.clientX+i,top:t.clientY});if(!o)return-1;const{pos:s}=o,a=em(e.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const l=kr.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function Ij(e,t,n){const r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function vU(e,t){e.dispatch(e.state.tr.setMeta(Yo,{setHandle:t}))}function Rce(e,t,n){const r=e.state.doc.resolve(t),i=r.node(-1),o=kr.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let c=0;c<o.height;c++){const u=c*o.width+a;if(c&&o.map[u]==o.map[u-o.width])continue;const d=o.map[u],h=i.nodeAt(d).attrs,f=h.colspan==1?0:a-o.colCount(d);if(h.colwidth&&h.colwidth[f]==n)continue;const m=h.colwidth?h.colwidth.slice():jce(h.colspan);m[f]=n,l.setNodeMarkup(s+d,null,{...h,colwidth:m})}l.docChanged&&e.dispatch(l)}function Oj(e,t,n,r){const i=e.state.doc.resolve(t),o=i.node(-1),s=i.start(-1),a=kr.get(o).colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1;let l=e.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&d4(o,l.firstChild,l,r,a,n)}function jce(e){return Array(e).fill(0)}function Dce(e,t){const n=[],r=e.doc.resolve(t),i=r.node(-1);if(!i)return Wn.empty;const o=kr.get(i),s=r.start(-1),a=o.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const u=a+c*o.width;if((a==o.width-1||o.map[u]!=o.map[u+1])&&(c==0||o.map[u]!=o.map[u-o.width])){var l;const d=o.map[u],h=s+d+i.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",!((l=Yo.getState(e))===null||l===void 0)&&l.dragging&&n.push(si.node(s+d,s+d+i.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),n.push(si.widget(h,f))}}return Wn.create(e.doc,n)}function Ice({allowTableNodeSelection:e=!1}={}){return new Yn({key:Lu,state:{init(){return null},apply(t,n){const r=t.getMeta(Lu);if(r!=null)return r==-1?null:r;if(n==null||!t.docChanged)return n;const{deleted:i,pos:o}=t.mapping.mapResult(n);return i?null:o}},props:{decorations:Gle,handleDOMEvents:{mousedown:_ce},createSelectionBetween(t){return Lu.getState(t.state)!=null?t.state.selection:null},handleTripleClick:xce,handleKeyDown:bce,handlePaste:wce},appendTransaction(t,n,r){return $le(r,hU(r,n),e)}})}var yU=ci.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{var t,n;const r=e.getAttribute("colwidth"),i=r?r.split(",").map(o=>parseInt(o,10)):null;if(!i){const o=(t=e.closest("table"))==null?void 0:t.querySelectorAll("colgroup > col"),s=Array.from(((n=e.parentElement)==null?void 0:n.children)||[]).indexOf(e);if(s&&s>-1&&o&&o[s]){const a=o[s].getAttribute("width");return a?[parseInt(a,10)]:null}}return i}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",Sn(this.options.HTMLAttributes,e),0]}}),bU=ci.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",Sn(this.options.HTMLAttributes,e),0]}}),xU=ci.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",Sn(this.options.HTMLAttributes,e),0]}});function f4(e,t){return t?["width",`${Math.max(t,e)}px`]:["min-width",`${e}px`]}function Lj(e,t,n,r,i,o){var s;let a=0,l=!0,c=t.firstChild;const u=e.firstChild;if(u!==null)for(let h=0,f=0;h<u.childCount;h+=1){const{colspan:m,colwidth:g}=u.child(h).attrs;for(let y=0;y<m;y+=1,f+=1){const v=i===f?o:g&&g[y],x=v?`${v}px`:"";if(a+=v||r,v||(l=!1),c){if(c.style.width!==x){const[_,S]=f4(r,v);c.style.setProperty(_,S)}c=c.nextSibling}else{const _=document.createElement("col"),[S,k]=f4(r,v);_.style.setProperty(S,k),t.appendChild(_)}}}for(;c;){const h=c.nextSibling;(s=c.parentNode)==null||s.removeChild(c),c=h}const d=e.attrs.style&&typeof e.attrs.style=="string"&&/\bwidth\s*:/i.test(e.attrs.style);l&&!d?(n.style.width=`${a}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${a}px`)}var Oce=class{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),e.attrs.style&&(this.table.style.cssText=e.attrs.style),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Lj(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Lj(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){const t=e.target,n=this.dom.contains(t),r=this.contentDOM.contains(t);return!!(n&&!r&&(e.type==="attributes"||e.type==="childList"||e.type==="characterData"))}};function Lce(e,t,n,r){let i=0,o=!0;const s=[],a=e.firstChild;if(!a)return{};for(let d=0,h=0;d<a.childCount;d+=1){const{colspan:f,colwidth:m}=a.child(d).attrs;for(let g=0;g<f;g+=1,h+=1){const y=n===h?r:m&&m[g];i+=y||t,y||(o=!1);const[v,x]=f4(t,y);s.push(["col",{style:`${v}: ${x}`}])}}const l=o?`${i}px`:"",c=o?"":`${i}px`;return{colgroup:["colgroup",{},...s],tableWidth:l,tableMinWidth:c}}function Mj(e,t){return e.createAndFill()}function Mce(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function Fce(e,t,n,r,i){const o=Mce(e),s=[],a=[];for(let c=0;c<n;c+=1){const u=Mj(o.cell);if(u&&a.push(u),r){const d=Mj(o.header_cell);d&&s.push(d)}}const l=[];for(let c=0;c<t;c+=1)l.push(o.row.createChecked(null,r&&c===0?s:a));return o.table.createChecked(null,l)}function Bce(e){return e instanceof $n}var t2=({editor:e})=>{const{selection:t}=e.state;if(!Bce(t))return!1;let n=0;const r=i9(t.ranges[0].$from,o=>o.type.name==="table");return r?.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},zce="";function Uce(e){return(e||"").replace(/\s+/g," ").trim()}function qce(e,t,n={}){var r;const i=(r=n.cellLineSeparator)!=null?r:zce;if(!e||!e.content||e.content.length===0)return"";const o=[];e.content.forEach(m=>{const g=[];m.content&&m.content.forEach(y=>{let v="";y.content&&Array.isArray(y.content)&&y.content.length>1?v=y.content.map(k=>t.renderChildren(k)).join(i):v=y.content?t.renderChildren(y.content):"";const x=Uce(v),_=y.type==="tableHeader";g.push({text:x,isHeader:_})}),o.push(g)});const s=o.reduce((m,g)=>Math.max(m,g.length),0);if(s===0)return"";const a=new Array(s).fill(0);o.forEach(m=>{var g;for(let y=0;y<s;y+=1){const x=(((g=m[y])==null?void 0:g.text)||"").length;x>a[y]&&(a[y]=x),a[y]<3&&(a[y]=3)}});const l=(m,g)=>m+" ".repeat(Math.max(0,g-m.length)),c=o[0],u=c.some(m=>m.isHeader);let d=`
`;const h=new Array(s).fill(0).map((m,g)=>u&&c[g]&&c[g].text||"");return d+=`| ${h.map((m,g)=>l(m,a[g])).join(" | ")} |
`,d+=`| ${a.map(m=>"-".repeat(Math.max(3,m))).join(" | ")} |
`,(u?o.slice(1):o).forEach(m=>{d+=`| ${new Array(s).fill(0).map((g,y)=>l(m[y]&&m[y].text||"",a[y])).join(" | ")} |
`}),d}var Hce=qce,wU=ci.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:Oce,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=Lce(e,this.options.cellMinWidth),o=t.style;function s(){return o||(r?`width: ${r}`:`min-width: ${i}`)}const a=["table",Sn(this.options.HTMLAttributes,t,{style:s()}),n,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},a]:a},parseMarkdown:(e,t)=>{const n=[];if(e.header){const r=[];e.header.forEach(i=>{r.push(t.createNode("tableHeader",{},[{type:"paragraph",content:t.parseInline(i.tokens)}]))}),n.push(t.createNode("tableRow",{},r))}return e.rows&&e.rows.forEach(r=>{const i=[];r.forEach(o=>{i.push(t.createNode("tableCell",{},[{type:"paragraph",content:t.parseInline(o.tokens)}]))}),n.push(t.createNode("tableRow",{},i))}),t.createNode("table",void 0,n)},renderMarkdown:(e,t)=>Hce(e,t),addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:o})=>{const s=Fce(o.schema,e,t,n);if(i){const a=r.selection.from+1;r.replaceSelectionWith(s).scrollIntoView().setSelection(Tt.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>Qle(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>ece(e,t),deleteColumn:()=>({state:e,dispatch:t})=>nce(e,t),addRowBefore:()=>({state:e,dispatch:t})=>ice(e,t),addRowAfter:()=>({state:e,dispatch:t})=>oce(e,t),deleteRow:()=>({state:e,dispatch:t})=>ace(e,t),deleteTable:()=>({state:e,dispatch:t})=>pce(e,t),mergeCells:()=>({state:e,dispatch:t})=>Cj(e,t),splitCell:()=>({state:e,dispatch:t})=>Nj(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>h1("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>h1("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>fce(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>Cj(e,t)?!0:Nj(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:r})=>uce(e,t)(n,r),goToNextCell:()=>({state:e,dispatch:t})=>Ej(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>Ej(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&hU(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const r=$n.create(t.doc,e.anchorCell,e.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:t2,"Mod-Backspace":t2,Delete:t2,"Mod-Delete":t2}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[kce({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Ice({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:In(At(e,"tableRole",t))}}});Bn.create({name:"tableKit",addExtensions(){const e=[];return this.options.table!==!1&&e.push(wU.configure(this.options.table)),this.options.tableCell!==!1&&e.push(yU.configure(this.options.tableCell)),this.options.tableHeader!==!1&&e.push(bU.configure(this.options.tableHeader)),this.options.tableRow!==!1&&e.push(xU.configure(this.options.tableRow)),e}});var Wce=za.create({name:"subscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sub"},{style:"vertical-align",getAttrs(e){return e!=="sub"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sub",Sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSubscript:()=>({commands:e})=>e.setMark(this.name),toggleSubscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSubscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-,":()=>this.editor.commands.toggleSubscript()}}}),Vce=za.create({name:"superscript",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"sup"},{style:"vertical-align",getAttrs(e){return e!=="super"?!1:null}}]},renderHTML({HTMLAttributes:e}){return["sup",Sn(this.options.HTMLAttributes,e),0]},addCommands(){return{setSuperscript:()=>({commands:e})=>e.setMark(this.name),toggleSuperscript:()=>({commands:e})=>e.toggleMark(this.name),unsetSuperscript:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-.":()=>this.editor.commands.toggleSuperscript()}}});function fr({onClick:e,isActive:t,disabled:n,children:r,title:i}){return p.jsx("button",{type:"button",onClick:e,disabled:n,title:i,className:`p-1.5 rounded transition-colors ${t?"bg-cmg-teal/20 text-cmg-teal":"text-gray-600 hover:bg-gray-100"} ${n?"opacity-50 cursor-not-allowed":""}`,children:r})}function uf(){return p.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"})}function Kce({editor:e}){if(!e)return null;const t=()=>{const i=e.getAttributes("link").href,o=window.prompt("URL",i);if(o!==null){if(o===""){e.chain().focus().extendMarkRange("link").unsetLink().run();return}e.chain().focus().extendMarkRange("link").setLink({href:o}).run()}},n=()=>{const i=window.prompt("Image URL");i&&e.chain().focus().setImage({src:i}).run()},r=()=>{e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()};return p.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-2 bg-gray-50 border-b border-gray-200",children:[p.jsx("div",{className:"flex items-center",children:p.jsxs("select",{className:"h-8 px-2 text-xs border border-gray-300 rounded bg-white cursor-pointer",onChange:i=>{i.target.value==="sans"&&e.chain().focus().unsetFontFamily().run()},defaultValue:"sans",children:[p.jsx("option",{value:"sans",children:"Sans Serif"}),p.jsx("option",{value:"serif",children:"Serif"}),p.jsx("option",{value:"mono",children:"Monospace"})]})}),p.jsx("div",{className:"flex items-center ml-1",children:p.jsxs("select",{className:"h-8 px-2 text-xs border border-gray-300 rounded bg-white cursor-pointer",defaultValue:"normal",children:[p.jsx("option",{value:"small",children:"Small"}),p.jsx("option",{value:"normal",children:"Normal"}),p.jsx("option",{value:"large",children:"Large"})]})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleBold().run(),isActive:e.isActive("bold"),title:"Bold",children:p.jsx(X_,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleItalic().run(),isActive:e.isActive("italic"),title:"Italic",children:p.jsx(Q_,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleUnderline().run(),isActive:e.isActive("underline"),title:"Underline",children:p.jsx(e5,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleStrike().run(),isActive:e.isActive("strike"),title:"Strikethrough",children:p.jsx(pB,{className:"w-4 h-4"})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().setColor("#0D9488").run(),title:"Text Color",children:p.jsx(_J,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleHighlight({color:"#fef08a"}).run(),isActive:e.isActive("highlight"),title:"Highlight",children:p.jsx(gJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleSubscript().run(),isActive:e.isActive("subscript"),title:"Subscript",children:p.jsx(jJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleSuperscript().run(),isActive:e.isActive("superscript"),title:"Superscript",children:p.jsx(DJ,{className:"w-4 h-4"})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleHeading({level:1}).run(),isActive:e.isActive("heading",{level:1}),title:"Heading 1",children:p.jsx(pJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),isActive:e.isActive("heading",{level:2}),title:"Heading 2",children:p.jsx(mJ,{className:"w-4 h-4"})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleBulletList().run(),isActive:e.isActive("bulletList"),title:"Bullet List",children:p.jsx(yE,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().toggleOrderedList().run(),isActive:e.isActive("orderedList"),title:"Numbered List",children:p.jsx(uB,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().sinkListItem("listItem").run(),disabled:!e.can().sinkListItem("listItem"),title:"Indent",children:p.jsx(yJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().liftListItem("listItem").run(),disabled:!e.can().liftListItem("listItem"),title:"Outdent",children:p.jsx(wJ,{className:"w-4 h-4"})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().setTextAlign("left").run(),isActive:e.isActive({textAlign:"left"}),title:"Align Left",children:p.jsx(rJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().setTextAlign("center").run(),isActive:e.isActive({textAlign:"center"}),title:"Align Center",children:p.jsx(tJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().setTextAlign("right").run(),isActive:e.isActive({textAlign:"right"}),title:"Align Right",children:p.jsx(iJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:()=>e.chain().focus().setTextAlign("justify").run(),isActive:e.isActive({textAlign:"justify"}),title:"Justify",children:p.jsx(nJ,{className:"w-4 h-4"})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().setParagraph().run(),isActive:e.isActive("paragraph"),title:"Paragraph",children:p.jsx(kJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:t,isActive:e.isActive("link"),title:"Link",children:p.jsx(vE,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:n,title:"Image",children:p.jsx(vJ,{className:"w-4 h-4"})}),p.jsx(fr,{onClick:r,title:"Table",children:p.jsx(IJ,{className:"w-4 h-4"})}),p.jsx(uf,{}),p.jsx(fr,{onClick:()=>e.chain().focus().clearNodes().unsetAllMarks().run(),title:"Clear Formatting",children:p.jsx(AJ,{className:"w-4 h-4"})})]})}function Gce({content:e,onChange:t}){const n=I.useRef(!1),r=S5({extensions:[N5.configure({heading:{levels:[1,2]}}),oy,aU,lU,Ile.configure({multicolor:!0}),Ole.configure({types:["heading","paragraph"]}),C5.configure({openOnClick:!1}),Mle,wU.configure({resizable:!0}),xU,bU,yU,Wce,Vce],content:e,onUpdate:({editor:i})=>{n.current||t(i.getHTML())}});return I.useEffect(()=>{r&&e!==r.getHTML()&&(n.current=!0,r.commands.setContent(e,{emitUpdate:!1}),n.current=!1)},[e,r]),p.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[p.jsx(Kce,{editor:r}),p.jsx(_5,{editor:r,className:"prose prose-sm max-w-none p-4 min-h-[300px] focus:outline-none [&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-[280px] [&_.ProseMirror_ul]:list-disc [&_.ProseMirror_ul]:pl-6 [&_.ProseMirror_ul]:my-4 [&_.ProseMirror_li]:mb-2"})]})}const Zce={formal:"Formal",casual:"Casual",warm:"Warm",serious:"Serious",humorous:"Humorous"},Xce={high:"High",medium:"Medium",low:"Low"},$ce={formal:{high:"<p>We appreciate your decision to entrust CMG Financial with your home financing needs. Our team is committed to providing you with exceptional service throughout this transaction.</p>",medium:"<p>Thank you for selecting CMG Financial for your home loan. We are dedicated to making this process as efficient as possible for you.</p>",low:"<p>Thank you for choosing CMG Financial. We are here to help with your home loan.</p>"},casual:{high:"<p>Hey there! Thanks for choosing CMG Financial for your home loan. We're genuinely excited to help you reach your homeownership goals and will be with you every step of the way.</p>",medium:"<p>Hey! Thanks for going with CMG Financial. We're here to make your home loan process as smooth as possible.</p>",low:"<p>Hi! Thanks for choosing us. Let's get your home loan sorted out.</p>"},warm:{high:"<p>We're truly honored that you've chosen CMG Financial to help with such an important milestone in your life. Our dedicated team is here to support you with care and attention throughout your entire home loan journey.</p>",medium:"<p>It means a lot to us that you've chosen CMG Financial for your home loan. We're here to help make this experience as pleasant as possible for you.</p>",low:"<p>We're so glad you chose CMG Financial. We're here to help you every step of the way.</p>"},serious:{high:"<p>CMG Financial acknowledges the significance of your home financing decision. Our team is prepared to execute this transaction with the utmost professionalism and attention to detail that such an important matter demands.</p>",medium:"<p>Your home loan is an important matter. CMG Financial is committed to handling it with the attention and care it deserves.</p>",low:"<p>We understand how important your home loan is. CMG Financial is ready to help.</p>"},humorous:{high:"<p>Congratulations on taking the plunge into homeownership! Don't worry, we promise the paperwork is only slightly less exciting than watching paint dry. But seriously, the CMG Financial team is here to make this journey as painless as possible!</p>",medium:"<p>Welcome aboard! We know mortgage paperwork isn't exactly a beach vacation, but we'll do our best to make it as smooth as possible. CMG Financial has your back!</p>",low:"<p>Ready to tackle some paperwork? Don't worry, we'll make it quick. CMG Financial is here to help!</p>"}},Yce={formal:"<p>As referenced in the voicemail message we left for you, we require additional documentation to proceed with your loan application.</p>",casual:"<p>Hey, I gave you a ring earlier and left a message. Just following up on some docs we need!</p>",warm:"<p>I tried reaching you by phone and left a voicemail. I wanted to make sure you received my message about some documents we need.</p>",serious:"<p>This is a follow-up to the voicemail we left regarding required documentation for your loan application.</p>",humorous:"<p>I tried calling earlier but you were probably busy doing something more exciting than talking about mortgages! Left you a voicemail about some documents we need.</p>"},Jce={formal:"<p>As discussed during our telephone conversation, please find below the documentation requirements we reviewed together.</p>",casual:"<p>Good talking to you! Here's what we went over on the call.</p>",warm:"<p>It was lovely speaking with you! As we discussed, here are the documents we talked about.</p>",serious:"<p>Per our phone conversation, the following documentation is required to proceed with your application.</p>",humorous:"<p>Great chat! Now for the thrilling part you've been waiting for - the document list we discussed!</p>"},Qce={formal:"<p>This communication serves as a courteous reminder regarding the outstanding documentation requirements for your loan application.</p>",casual:"<p>Quick reminder about some docs we still need from you!</p>",warm:"<p>Just a gentle reminder about some documents we're still waiting on. We want to keep things moving smoothly for you!</p>",serious:"<p>This is an important reminder regarding pending documentation required to proceed with your loan application.</p>",humorous:"<p>Remember those documents we talked about? They're starting to feel a bit lonely without their friends! Just a friendly nudge to send them our way.</p>"},eue={high:e=>`<p>To ensure the timely processing of your application and maintain our projected closing schedule, we kindly request that all documentation be submitted by <strong>${e}</strong>.</p>`,medium:e=>`<p>Please submit the requested documents by <strong>${e}</strong> to keep your loan on track.</p>`,low:e=>`<p>We need these by <strong>${e}</strong>.</p>`};function tue(e){return new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}function nue(e){const{tone:t,sophistication:n,needByDate:r,leftVoicemail:i,phoneCallSummary:o,reminderEmail:s}=e;let a=$ce[t][n];return s&&(a+=Qce[t]),i&&(a+=Yce[t]),o&&(a+=Jce[t]),a+=eue[n](tue(r)),a}function Fj(e,t){const n=Zce[t.tone],r=Xce[t.sophistication];return{id:`intro-${e}-${Date.now()}`,label:`Intro ${e} - ${n}/${r}`,params:t,introHtml:nue(t)}}function ax(){const e=new Date;return e.setDate(e.getDate()+1),e.toISOString().split("T")[0]}const rue=[{value:"formal",label:"Formal"},{value:"casual",label:"Casual"},{value:"warm",label:"Warm"},{value:"serious",label:"Serious"},{value:"humorous",label:"Humorous"}],iue=[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}];function oue({isOpen:e,onClose:t,onCreateVersion:n,anchorRef:r,disabled:i}){const o=I.useRef(null),[s,a]=I.useState("formal"),[l,c]=I.useState("high"),[u,d]=I.useState(()=>{const _=ax();return new Date(_+"T12:00:00")}),[h,f]=I.useState(!1),[m,g]=I.useState(!1),[y,v]=I.useState(!1);I.useEffect(()=>{if(e){const _=ax();d(new Date(_+"T12:00:00")),a("formal"),c("high"),f(!1),g(!1),v(!1)}},[e]),I.useEffect(()=>{const _=S=>{o.current&&!o.current.contains(S.target)&&r.current&&!r.current.contains(S.target)&&t()};return e&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[e,t,r]);const x=()=>{const _={tone:s,sophistication:l,needByDate:u?u.toISOString().split("T")[0]:ax(),leftVoicemail:h,phoneCallSummary:m,reminderEmail:y};n(_),t()};return e?p.jsxs("div",{ref:o,className:"absolute left-0 top-full mt-2 z-50 bg-white border border-gray-200 rounded-xl shadow-xl w-[340px]",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[p.jsx("div",{className:"w-6"}),p.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"p-5 space-y-5",children:[p.jsx(yi,{label:"Tone",options:rue,value:s,onChange:_=>a(_.target.value)}),p.jsx(yi,{label:"Sophistication",options:iue,value:l,onChange:_=>c(_.target.value)}),p.jsx(f1,{label:"Need By",value:u,onChange:d,showClearButton:!1}),p.jsxs("div",{className:"border-t border-gray-200 pt-5 space-y-4",children:[p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx(fo,{checked:h,onChange:_=>f(_.target.checked)}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Left Voicemail"}),p.jsx("span",{className:"text-xs text-gray-500",children:"Email will reference that a voicemail was left for the borrower"})]})]}),p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx(fo,{checked:m,onChange:_=>g(_.target.checked)}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Phone Call Summary"}),p.jsx("span",{className:"text-xs text-gray-500",children:"Email will summarize a phone call"})]})]}),p.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[p.jsx(fo,{checked:y,onChange:_=>v(_.target.checked)}),p.jsxs("div",{className:"flex-1",children:[p.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Reminder Email"}),p.jsx("span",{className:"text-xs text-gray-500",children:"This email is a reminder"})]})]})]})]}),p.jsx("div",{className:"p-4 pt-2",children:p.jsx(Pt,{variant:"primary",size:"md",onClick:x,disabled:i,className:"w-full justify-center",children:"Create New Version"})})]}):null}function sue({versions:e,activeIndex:t,onTabSelect:n,onCreateVersion:r,isPopoverOpen:i,onPopoverOpen:o,onPopoverClose:s,maxVersions:a=5}){const l=I.useRef(null),c=e.length<a;return p.jsxs("div",{className:"relative flex items-center border-b border-gray-200 mb-4",children:[p.jsx("div",{className:"flex items-center overflow-x-auto",children:e.map((u,d)=>p.jsx("button",{onClick:()=>n(d),className:`px-4 py-2 text-xs font-medium whitespace-nowrap transition-colors ${d===t?"text-cmg-teal border-b-2 border-cmg-teal":"text-gray-500 hover:text-gray-700 border-b-2 border-transparent"}`,children:u.label},u.id))}),p.jsxs("div",{className:"relative ml-4",children:[p.jsx(jr,{ref:l,size:"xs",icon:p.jsx(J0,{className:"w-3 h-3"}),onClick:c?o:void 0,disabled:!c,className:c?"":"opacity-50 cursor-not-allowed",children:"New Intro with AI"}),p.jsx(oue,{isOpen:i,onClose:s,onCreateVersion:r,anchorRef:l,disabled:!c})]})]})}const ap={name:"Patrick Processor",email:"patrick.processor@cmghomeloans.com",title:"Loan Processor",phone:"(555) 123-4567",address:"123 Main Street, San Francisco, CA 94102",nmls:"123456",companyNmls:"654321"},aue=["pollyproductionassistant@cmgfi.com","patrick.processor@cmghomeloans.com"],lue=[{value:"cmg-ai-intro",label:"CMG AI Intro Writer"},{value:"standard",label:"Standard Template"},{value:"friendly",label:"Friendly Reminder"}];function _U(e){return e.toLowerCase().includes("application")}function cue(e){const t=new Set;e.forEach(r=>{r.party_name&&!_U(r.party_name)&&t.add(r.party_name)});const n=Array.from(t);return n.length===0?"Hello,":n.length===1?`Hello ${n[0]},`:`Hello ${n.slice(0,-1).join(", ")} and ${n[n.length-1]},`}function uue(e,t){return`<ul style="list-style-type: disc; padding-left: 24px; margin: 16px 0;">${e.map(r=>{const i=t.get(r.id)||r.description_for_borrower||"";return`<li style="margin-bottom: 8px;"><strong>${r.document_type}</strong>${i?`: ${i}`:""}</li>`}).join("")}</ul>`}function due(e){return`
<div style="margin-top: 24px; padding-top: 16px; border-top: 1px solid #e5e7eb;">
  <table cellpadding="0" cellspacing="0" border="0" style="font-family: Arial, sans-serif;">
    <tr>
      <td style="vertical-align: top; padding-right: 16px;">
        <img src="${e.photoUrl||"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face"}" alt="${e.name}" width="80" height="80" style="border-radius: 50%; object-fit: cover;" />
      </td>
      <td style="vertical-align: top;">
        <div style="font-size: 16px; font-weight: bold; color: #0D9488; margin-bottom: 4px;">${e.name}</div>
        <div style="font-size: 14px; color: #4b5563; margin-bottom: 8px;">${e.title}</div>
        <div style="font-size: 12px; color: #4b5563; margin-bottom: 4px;">
          <span style="color: #0D9488;">&#9993;</span> <a href="mailto:${e.email}" style="color: #0D9488; text-decoration: none;">${e.email}</a>
        </div>
        <div style="font-size: 12px; color: #4b5563; margin-bottom: 4px;">
          <span style="color: #0D9488;">&#9742;</span> ${e.phone}
        </div>
        <div style="font-size: 12px; color: #4b5563;">
          <span style="color: #0D9488;">&#9906;</span> ${e.address}
        </div>
      </td>
    </tr>
  </table>
  <div style="margin-top: 12px; font-size: 12px;">
    <a href="#" style="color: #0D9488; font-weight: 500; text-decoration: none; text-transform: uppercase;">APPLY NOW</a>
    <span style="color: #d1d5db; margin: 0 8px;">|</span>
    <a href="#" style="color: #0D9488; font-weight: 500; text-decoration: none; text-transform: uppercase;">MYSITE</a>
    <span style="color: #d1d5db; margin: 0 8px;">|</span>
    <a href="#" style="color: #0D9488; font-weight: 500; text-decoration: none; text-transform: uppercase;">DOC UPLOAD</a>
  </div>
  <div style="margin-top: 12px;">
    <a href="#" style="color: #9ca3af; text-decoration: none; margin-right: 12px; font-size: 14px;">in</a>
    <a href="#" style="color: #9ca3af; text-decoration: none; margin-right: 12px; font-size: 14px;">f</a>
    <a href="#" style="color: #9ca3af; text-decoration: none; margin-right: 12px; font-size: 14px;">&#9675;</a>
    <a href="#" style="color: #9ca3af; text-decoration: none; font-size: 14px;">&#120143;</a>
  </div>
  <div style="margin-top: 12px; font-size: 10px; color: #6b7280;">
    NMLS# ${e.nmls} | CMG Financial NMLS# ${e.companyNmls}
  </div>
</div>`}function Bj(e,t,n,r){const i=cue(e),o=r||"<p>Thank you for choosing CMG Financial for your home loan needs. We are excited to help you through this process and make it as smooth as possible.</p>",s="<p>Below is a list of documents we need for your loan transaction. Please review each item carefully and provide the requested information at your earliest convenience.</p>",a=uue(e,t),l='<p>Documents uploaded to the portal are secure and encrypted. Please use this URL to upload requested document(s): <a href="#" style="color: #0D9488;">https://portal.cmgfi.com/upload</a></p>',c="<p>Thank you,</p>",u=due(n);return`${i}
${o}
${s}
${a}
${l}
${c}
${u}`}function fue({loanId:e,selectedDocRequests:t,descriptions:n,propertyAddress:r="123 Sample Street, City, ST 12345",onBack:i,onClose:o,onSend:s}){const[a,l]=I.useState(!1),[c,u]=I.useState(!1),[d,h]=I.useState("cmg-ai-intro"),[f,m]=I.useState(`Documents Requested for Your Loan on ${r}`),[g,y]=I.useState(!1),[v,x]=I.useState(0),_=I.useMemo(()=>{const Y=[];return t.forEach(le=>{if(le.party_name&&!_U(le.party_name)){const fe=`${le.party_name.toLowerCase().replace(/\s+/g,".")}@email.com`;Y.includes(fe)||Y.push(fe)}}),Y.length>0?Y:["ben.borrower@email.com","brianna.borrower@email.com"]},[t]),[S,k]=I.useState(_),[T,P]=I.useState(aue),N=I.useMemo(()=>Fj(1,{tone:"formal",sophistication:"high",needByDate:ax(),leftVoicemail:!1,phoneCallSummary:!1,reminderEmail:!1}),[]),[A,D]=I.useState([N]),C=I.useCallback(Y=>Bj(t,n,ap,Y.introHtml),[t,n]),[j,L]=I.useState(()=>C(N));I.useEffect(()=>{requestAnimationFrame(()=>{l(!0)})},[]);const z=I.useCallback(()=>{l(!1),setTimeout(o,300)},[o]),K=I.useCallback(()=>{l(!1),setTimeout(i,300)},[i]),H=I.useCallback(Y=>{if(A.length>=5)return;const le=Fj(A.length+1,Y);D(fe=>[...fe,le]),x(A.length),L(Bj(t,n,ap,le.introHtml)),y(!1)},[A.length,t,n]),Z=I.useCallback(Y=>{x(Y);const le=A[Y];le&&L(C(le))},[A,C]),W=I.useCallback(async()=>{u(!0);try{const Y=t.map(le=>le.id);for(const le of Y)await Ee.from("doc_requests").update({status:"Pending",requested_date:new Date().toISOString()}).eq("id",le);await Ee.from("email_history").insert({loan_id:e,email_type:"doc_request",from_email:ap.email,from_name:ap.name,to_emails:S,cc_emails:T,subject:f,template_name:d,intro_content:"",body_html:j,doc_request_ids:Y,sent_at:new Date().toISOString()}),s(),z()}catch(Y){console.error("Error sending request:",Y)}finally{u(!1)}},[t,e,S,T,f,d,j,s,z]);return p.jsxs("div",{className:"fixed inset-0 z-50",children:[p.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 ${a?"opacity-50":"opacity-0"}`,onClick:z}),p.jsxs("div",{className:`absolute top-0 right-0 h-full w-full max-w-4xl bg-white shadow-xl flex flex-col transition-transform duration-300 ease-out ${a?"translate-x-0":"translate-x-full"}`,children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-base font-bold text-gray-900",children:"Step 2 of 2: Send Borrower Request Email"}),p.jsx("button",{onClick:z,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("label",{className:"text-xs font-medium text-gray-700 w-20 pt-2.5 flex-shrink-0",children:"From"}),p.jsxs("div",{className:"flex-1 h-9 px-4 flex items-center bg-gray-50 border border-gray-200 rounded-lg text-xs text-gray-600",children:[ap.name," (",ap.email,")"]})]}),p.jsx(Sj,{label:"To",emails:S,onChange:k,placeholder:"Add recipient email"}),p.jsx(Sj,{label:"CC",emails:T,onChange:P,placeholder:"Add CC email"}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("label",{className:"text-xs font-medium text-gray-700 w-20 pt-2.5 flex-shrink-0",children:"Template"}),p.jsxs("div",{className:"flex-1 flex items-center gap-4",children:[p.jsx("div",{className:"w-64",children:p.jsx(yi,{options:lue,value:d,onChange:Y=>h(Y.target.value)})}),p.jsx(jr,{size:"sm",onClick:()=>{},children:"Manage Templates"})]})]}),p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("label",{className:"text-xs font-medium text-gray-700 w-20 pt-2.5 flex-shrink-0",children:"Subject"}),p.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[p.jsx(Da,{value:f,onChange:Y=>m(Y.target.value),wrapperClassName:"flex-1"}),p.jsxs("button",{type:"button",onClick:()=>{},className:"h-9 px-3 flex items-center gap-1.5 text-xs text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex-shrink-0",children:[p.jsx(fB,{className:"w-4 h-4"}),"Attach"]})]})]}),p.jsxs("div",{className:"pt-2",children:[p.jsx(sue,{versions:A,activeIndex:v,onTabSelect:Z,onCreateVersion:H,isPopoverOpen:g,onPopoverOpen:()=>y(!0),onPopoverClose:()=>y(!1),maxVersions:5}),p.jsx(Gce,{content:j,onChange:L})]})]})}),p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[p.jsx(jr,{icon:p.jsx(mE,{className:"w-4 h-4"}),onClick:K,children:"Back"}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(jr,{onClick:()=>{},children:"Set Email Signature"}),p.jsx(Pt,{variant:"secondary",size:"md",onClick:z,children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:W,disabled:c||S.length===0,children:c?"Sending...":"Send Request"})]})]})]})]})}function hue({loanId:e,mode:t,onClose:n,onSave:r}){const{docRequests:i,groupedByParent:o,parties:s,loading:a,selectedPartyIds:l,togglePartyFilter:c,selectAllParties:u,clearAllParties:d,updateDocRequestDescriptions:h}=yle(e),[f,m]=I.useState(!1),[g,y]=I.useState(1),[v,x]=I.useState(new Set),[_,S]=I.useState(new Map),[k,T]=I.useState(!1);I.useEffect(()=>{requestAnimationFrame(()=>{m(!0)})},[]),I.useEffect(()=>{i.length>0&&v.size===0&&x(new Set(i.map(Y=>Y.id)))},[i]),I.useEffect(()=>{const Y=new Map;i.forEach(le=>{Y.set(le.id,le.description_for_borrower||"")}),S(Y)},[i]);const P=I.useCallback(()=>{m(!1),setTimeout(n,300)},[n]),N=I.useCallback(Y=>{x(le=>{const fe=new Set(le);return fe.has(Y)?fe.delete(Y):fe.add(Y),fe})},[]),A=I.useCallback(Y=>{x(le=>{const fe=new Set(le);return Y.forEach(M=>fe.add(M)),fe})},[]),D=I.useCallback((Y,le)=>{S(fe=>{const M=new Map(fe);return M.set(Y,le),M})},[]),C=I.useMemo(()=>{const Y=[];return i.forEach(le=>{const fe=_.get(le.id),M=le.description_for_borrower||"";fe!==void 0&&fe!==M&&Y.push({id:le.id,description_for_borrower:fe})}),Y},[i,_]),j=I.useCallback(async()=>{C.length>0&&(T(!0),await h(C),T(!1)),r(),P()},[C,h,r,P]),L=I.useCallback(async()=>{C.length>0&&(T(!0),await h(C),T(!1)),y(2)},[C,h]),z=I.useCallback(()=>{y(1)},[]),K=I.useMemo(()=>i.filter(Y=>v.has(Y.id)),[i,v]),H=i.length,Z=Array.from(v).filter(Y=>i.some(le=>le.id===Y)).length,W=t==="request"?"Step 1 of 2: Select and Edit Document Requests to include in Email":"Step 1 of 2: Select and Edit Document Requests for Reminder Email";return g===2?p.jsx(fue,{loanId:e,selectedDocRequests:K,descriptions:_,onBack:z,onClose:n,onSend:r}):p.jsxs("div",{className:"fixed inset-0 z-50",children:[p.jsx("div",{className:`absolute inset-0 bg-black transition-opacity duration-300 ${f?"opacity-50":"opacity-0"}`,onClick:P}),p.jsxs("div",{className:`absolute top-0 right-0 h-full w-full max-w-[1408px] bg-white shadow-xl flex flex-col transition-transform duration-300 ease-out ${f?"translate-x-0":"translate-x-full"}`,children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-base font-bold text-gray-900 pr-4",children:W}),p.jsx("button",{onClick:P,className:"p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto",children:a?p.jsx("div",{className:"flex items-center justify-center h-64",children:p.jsx("div",{className:"text-gray-500",children:"Loading document requests..."})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[p.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Please select at least one document request to add to the email."}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Filter List"}),p.jsx(xle,{parties:s,selectedPartyIds:l,onToggle:c,onSelectAll:u,onClearAll:d})]})]}),p.jsx("div",{className:"p-4 space-y-4",children:o.length===0?p.jsx("div",{className:"px-6 py-8 text-center text-gray-500 text-sm",children:"No document requests match the current filters."}):o.map(Y=>p.jsx(kle,{parentGroup:Y,selectedIds:v,onToggleSelect:N,onSelectAll:A,descriptions:_,onDescriptionChange:D},Y.parent))})]})}),p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-white",children:[p.jsxs("span",{className:"text-xs text-gray-600",children:["Selected ",Z," of ",H," Doc Requests"]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:j,disabled:k,children:k?"Saving...":"Save & Close"}),p.jsxs(Pt,{variant:"primary",size:"md",onClick:L,disabled:k||Z===0,children:["Add ",Z," to Email",p.jsx($_,{className:"w-4 h-4"})]})]})]})]})]})}function oo(e,t){return e.status==="Inactive"?"rejected":t==="Underwriter"&&e.status==="Approved"||t!=="Underwriter"&&e.status==="Reviewed"?"accepted":"pending"}function pue({loanId:e,userRole:t,filterConditionId:n}){const[r,i]=I.useState(!0),[o,s]=I.useState(!1),[a,l]=I.useState([]),[c,u]=I.useState([]),[d,h]=I.useState([]),[f,m]=I.useState(null),[g,y]=I.useState(new Set),[v,x]=I.useState(new Set),[_,S]=I.useState(new Map),[k,T]=I.useState(new Set),[P,N]=I.useState(new Set),[A,D]=I.useState(!0),C=t==="Underwriter"?"Reviewed":"Need to Review",j=I.useCallback(async()=>{A?i(!0):s(!0);const{data:ae}=await Ee.from("conditions").select("*").eq("loan_id",e),{data:ue}=await Ee.from("doc_requests").select("*"),{data:_e}=await Ee.from("condition_notes").select("*").eq("loan_id",e).order("created_at",{ascending:!1}),Se=(_e||[]).map(ke=>ke.id);let Ne=new Set;if(Se.length>0){const{data:ke}=await Ee.from("note_read_status").select("note_id").eq("role",t).in("note_id",Se);ke&&(Ne=new Set(ke.map(Oe=>Oe.note_id)))}const Xe=(_e||[]).map(ke=>({...ke,is_read:Ne.has(ke.id)})),{data:G}=await Ee.from("condition_documents").select("*").eq("loan_id",e),{data:We}=await Ee.from("loan_parties").select("*").eq("loan_id",e),{data:xt}=await Ee.from("document_condition_associations").select("*"),at=new Map;(xt||[]).forEach(ke=>{const Oe=at.get(ke.document_id)||[];Oe.push(ke.condition_id),at.set(ke.document_id,Oe)});const Ie=(ae||[]).map(ke=>{const Oe=(xt||[]).filter(Le=>Le.condition_id===ke.id).map(Le=>Le.document_id);return{...ke,doc_requests:(ue||[]).filter(Le=>Le.condition_id===ke.id),notes:Xe.filter(Le=>Le.condition_id===ke.id),documents:(G||[]).filter(Le=>Oe.includes(Le.id))}});u(Ie),h(We||[]);const Ae=(G||[]).map(ke=>{const Oe=at.get(ke.id)||[],Le=Oe[0],Ce=Le?Ie.find(De=>De.id===Le):void 0,Me=Ce?.doc_requests.find(De=>De.id===ke.doc_request_id),Be=Me?(We||[]).find(De=>De.party_type===Me.fulfillment_party):void 0;return{...ke,condition:Ce,partyName:Be?.party_name,associatedConditionIds:Oe}});l(Ae),i(!1),s(!1),D(!1)},[e,t,A]);I.useEffect(()=>{e&&j()},[e,j]);const L=I.useMemo(()=>a.filter(ae=>ae.status===C),[a,C]),z=I.useMemo(()=>L.filter(ae=>ae.associatedConditionIds.length===0&&ae.loan_id),[L]),K=I.useCallback(ae=>{const ue=a.filter(Ne=>Ne.associatedConditionIds.includes(ae)),_e=new Set(ue.map(Ne=>Ne.id)),Se=[];return _.forEach((Ne,Xe)=>{if(Ne.includes(ae)&&!_e.has(Xe)){const G=a.find(We=>We.id===Xe);G&&Se.push(G)}}),[...ue,...Se]},[a,_]),H=I.useMemo(()=>{const ae=[];if(n==="__unassigned__")return ae;if(n){const Se=c.find(Ne=>Ne.id===n);if(Se){const Ne=K(n),Xe=Ne.filter(G=>oo(G,t)==="pending").length;ae.push({condition:Se,documents:Ne,docsToReviewCount:Xe})}return ae}const ue=new Set;L.forEach(Se=>{Se.associatedConditionIds.forEach(Ne=>{ue.add(Ne)})});const _e=new Set;return ue.forEach(Se=>{_e.add(Se)}),P.forEach(Se=>{k.has(Se)||_e.add(Se)}),_e.forEach(Se=>{if(k.has(Se))return;const Ne=c.find(We=>We.id===Se);if(!Ne)return;const Xe=K(Se),G=Xe.filter(We=>oo(We,t)==="pending").length;ae.push({condition:Ne,documents:Xe,docsToReviewCount:G})}),ae.sort((Se,Ne)=>Se.condition.condition_id.localeCompare(Ne.condition.condition_id))},[L,c,k,P,K,t,n]),Z=I.useMemo(()=>{if(n&&n!=="__unassigned__")return{};const ae={};return z.forEach(ue=>{const _e=ue.document_type||"Miscellaneous";ae[_e]||(ae[_e]=[]),ae[_e].push(ue)}),ae},[z,n]),W=I.useMemo(()=>a.find(ae=>ae.id===f)||null,[a,f]),Y=I.useMemo(()=>f?L.findIndex(ae=>ae.id===f):-1,[L,f]),le=L.length;I.useCallback(()=>{const ae=L.filter(ue=>!g.has(ue.id)&&!v.has(ue.id));if(ae.length>0){const ue=ae.findIndex(Se=>Se.id===f),_e=ue>=0?(ue+1)%ae.length:0;m(ae[_e].id)}else m(null)},[L,g,v,f]),I.useCallback((ae,ue)=>{const _e=a.filter(Se=>Se.associatedConditionIds.includes(ae)&&Se.id!==ue&&oo(Se,t)==="pending"&&!g.has(Se.id)&&!v.has(Se.id));_e.length>0?m(_e[0].id):m(null)},[a,t,g,v]);const fe=I.useCallback(ae=>{const ue=a.find(_e=>_e.id===ae);ue&&ue.associatedConditionIds.length>0&&N(_e=>new Set([..._e,...ue.associatedConditionIds])),y(_e=>new Set([..._e,ae]))},[a]),M=I.useCallback((ae,ue)=>{const _e=a.find(Ne=>Ne.id===ae),Se=ue||_e?.associatedConditionIds||[];Se.length>0&&(N(Ne=>new Set([...Ne,...Se])),S(Ne=>{const Xe=new Map(Ne);return Xe.set(ae,Se),Xe})),x(Ne=>new Set([...Ne,ae]))},[a]),$=I.useCallback(ae=>{T(ue=>new Set([...ue,ae]))},[]),Q=I.useCallback(ae=>{m(ae)},[]);async function ie(ae,ue){const{error:_e}=await Ee.from("condition_documents").update({status:ue}).eq("id",ae);return _e||l(Se=>Se.map(Ne=>Ne.id===ae?{...Ne,status:ue}:Ne)),!_e}const oe=I.useCallback(ae=>{const ue=H.findIndex(Ne=>Ne.condition.id===ae);for(let Ne=ue+1;Ne<H.length;Ne++){const G=H[Ne].documents.find(We=>oo(We,t)==="pending"&&!g.has(We.id)&&!v.has(We.id));if(G){m(G.id);return}}const Se=Object.values(Z).flat().find(Ne=>oo(Ne,t)==="pending"&&!g.has(Ne.id)&&!v.has(Ne.id));if(Se){m(Se.id);return}m(null)},[H,t,g,v,Z]);async function de(ae,ue,_e){const Se={status:ue,status_date:new Date().toISOString(),status_set_by:"User"};_e&&(Se.stage=_e);const{error:Ne}=await Ee.from("conditions").update(Se).eq("id",ae);return Ne||($(ae),oe(ae)),!Ne}async function pe(ae,ue){const{data:_e,error:Se}=await Ee.from("condition_notes").insert({condition_id:ae,loan_id:e,author_name:Tl(t),author_role:t,content:ue,note_type:"condition",is_pinned:!1}).select("id").maybeSingle();return!Se&&_e&&(await Ee.from("note_read_status").insert({note_id:_e.id,role:t}),j()),!Se}return{loading:r,refreshing:o,allDocuments:a,documentsToReview:L,unassignedDocuments:z,unassignedByType:Z,conditionGroups:H,conditions:c,parties:d,selectedDocument:W,selectedDocumentId:f,currentDocumentIndex:Y,totalDocsToReview:le,sessionAccepted:g,sessionRejected:v,userRole:t,selectDocument:Q,markDocumentAccepted:fe,markDocumentRejected:M,markConditionStatusSet:$,updateDocumentStatus:ie,updateConditionStatus:de,addConditionNote:pe,refetch:j}}function mue({documentId:e}){const{selectedRole:t}=Bc(),[n,r]=I.useState(null),[i,o]=I.useState([]),[s,a]=I.useState([]),[l,c]=I.useState(!1),[u,d]=I.useState(!1),h=I.useCallback(async()=>{if(!e){r(null),o([]),a([]);return}c(!0);const{data:x}=await Ee.from("condition_documents").select("*").eq("id",e).maybeSingle(),{data:_}=await Ee.from("document_notes").select("*").eq("document_id",e).order("created_at",{ascending:!1}),{data:S}=await Ee.from("document_condition_associations").select("*").eq("document_id",e);r(x),o(_||[]),a(S||[]),c(!1)},[e]);I.useEffect(()=>{h()},[h]);async function f(x){if(!e)return!1;d(!0);const{error:_}=await Ee.from("condition_documents").update(x).eq("id",e);return d(!1),_||r(S=>S?{...S,...x}:null),!_}async function m(x){if(!e)return!1;d(!0);const{error:_}=await Ee.from("condition_documents").update({status:x}).eq("id",e);return d(!1),_||r(S=>S?{...S,status:x}:null),!_}async function g(){if(!e)return!1;d(!0);const{success:x}=await CB(e);return d(!1),x}async function y(x){if(!e)return!1;const{data:_,error:S}=await Ee.from("document_notes").insert({document_id:e,author_name:Tl(t),author_role:t,content:x}).select().maybeSingle();return!S&&_&&o(k=>[_,...k]),!S}async function v(x){if(!e)return!1;d(!0);const _=s.map(N=>N.condition_id),S=x.map(N=>N.conditionId),k=x.filter(N=>!_.includes(N.conditionId)),T=_.filter(N=>!S.includes(N));let P=!0;if(T.length>0){const{error:N}=await Ee.from("document_condition_associations").delete().eq("document_id",e).in("condition_id",T);N&&(P=!1)}if(k.length>0){const{error:N}=await Ee.from("document_condition_associations").insert(k.map(A=>({document_id:e,condition_id:A.conditionId})));N&&(P=!1)}for(const N of x)if(N.pendingStatus){const{error:A}=await Ee.from("conditions").update({status:N.pendingStatus,status_date:new Date().toISOString(),status_set_by:"User"}).eq("id",N.conditionId);A&&(P=!1)}return d(!1),P&&await h(),P}return{document:n,notes:i,associations:s,loading:l,saving:u,updateDocument:f,updateDocumentStatus:m,deleteDocument:g,addNote:y,saveAssociations:v,refetch:h}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h4=function(e,t){return h4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},h4(e,t)};function Ye(e,t){h4(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ut=function(){return Ut=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ut.apply(this,arguments)};function gue(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Zt(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(d){s(d)}}function l(u){try{c(r.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,[])).next())})}function Xt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mn(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var Wp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tg=new Uint8Array(256);for(var n2=0;n2<Wp.length;n2++)Tg[Wp.charCodeAt(n2)]=n2;var vue=function(e){for(var t="",n=e.length,r=0;r<n;r+=3)t+=Wp[e[r]>>2],t+=Wp[(e[r]&3)<<4|e[r+1]>>4],t+=Wp[(e[r+1]&15)<<2|e[r+2]>>6],t+=Wp[e[r+2]&63];return n%3===2?t=t.substring(0,t.length-1)+"=":n%3===1&&(t=t.substring(0,t.length-2)+"=="),t},zj=function(e){var t=e.length*.75,n=e.length,r,i=0,o,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=new Uint8Array(t);for(r=0;r<n;r+=4)o=Tg[e.charCodeAt(r)],s=Tg[e.charCodeAt(r+1)],a=Tg[e.charCodeAt(r+2)],l=Tg[e.charCodeAt(r+3)],c[i++]=o<<2|s>>4,c[i++]=(s&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return c},yue=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,bue=function(e){var t=e.trim(),n=t.substring(0,100),r=n.match(yue);if(!r)return zj(t);var i=r[0],o=t.substring(i.length);return zj(o)},Ft=function(e){return e.charCodeAt(0)},xue=function(e){return e.codePointAt(0)},ay=function(e,t){return ka(e.toString(16),t,"0").toUpperCase()},E5=function(e){return ay(e,2)},Pc=function(e){return String.fromCharCode(e)},wue=function(e){return Pc(parseInt(e,16))},ka=function(e,t,n){for(var r="",i=0,o=t-e.length;i<o;i++)r+=n;return r+e},ji=function(e,t,n){for(var r=e.length,i=0;i<r;i++)t[n++]=e.charCodeAt(i);return r},_ue=function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},ly=function(e){return e.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},Sue=["\\n","\\f","\\r","\\u000B"],SU=function(e){return/^[\n\f\r\u000B]$/.test(e)},kU=function(e){return e.split(/[\n\f\r\u000B]/)},CU=function(e){return e.replace(/[\n\f\r\u000B]/g," ")},NU=function(e,t){var n=e.charCodeAt(t),r,i=t+1,o=1;return n>=55296&&n<=56319&&e.length>i&&(r=e.charCodeAt(i),r>=56320&&r<=57343&&(o=2)),[e.slice(t,t+o),o]},kue=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=NU(e,n),o=i[0],s=i[1];t.push(o),n+=s}return t},Cue=function(e){for(var t=Sue.join("|"),n=["$"],r=0,i=e.length;r<i;r++){var o=e[r];if(SU(o))throw new TypeError("`wordBreak` must not include "+t);n.push(o===""?".":_ue(o))}var s=n.join("|");return new RegExp("("+t+")|((.*?)("+s+"))","gm")},Nue=function(e,t,n,r){for(var i=Cue(t),o=ly(e).match(i),s="",a=0,l=[],c=function(){s!==""&&l.push(s),s="",a=0},u=0,d=o.length;u<d;u++){var h=o[u];if(SU(h))c();else{var f=r(h);a+f>n&&c(),s+=h,a+=f}}return c(),l},Aue=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,AU=function(e){var t=e.match(Aue);if(t){var n=t[1],r=t[2],i=r===void 0?"01":r,o=t[3],s=o===void 0?"01":o,a=t[4],l=a===void 0?"00":a,c=t[5],u=c===void 0?"00":c,d=t[6],h=d===void 0?"00":d,f=t[7],m=f===void 0?"Z":f,g=t[8],y=g===void 0?"00":g,v=t[9],x=v===void 0?"00":v,_=m==="Z"?"Z":""+m+y+":"+x,S=new Date(n+"-"+i+"-"+s+"T"+l+":"+u+":"+h+_);return S}},fT=function(e,t){for(var n,r=0,i;r<e.length;){var o=e.substring(r).match(t);if(!o)return{match:i,pos:r};i=o,r+=((n=o.index)!==null&&n!==void 0?n:0)+o[0].length}return{match:i,pos:r}},t_=function(e){return e[e.length-1]},p4=function(e){if(e instanceof Uint8Array)return e;for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},Eue=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=e.length,r=[],i=0;i<n;i++){var o=e[i];r[i]=o instanceof Uint8Array?o:p4(o)}for(var s=0,i=0;i<n;i++)s+=e[i].length;for(var a=new Uint8Array(s),l=0,c=0;c<n;c++)for(var u=r[c],d=0,h=u.length;d<h;d++)a[l++]=u[d];return a},Tue=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var i=new Uint8Array(t),o=0,n=0,r=e.length;n<r;n++){var s=e[n];i.set(s,o),o+=s.length}return i},EU=function(e){for(var t="",n=0,r=e.length;n<r;n++)t+=Pc(e[n]);return t},Pue=function(e,t){return e.id-t.id},Rue=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r],s=e[r-1];(r===0||t(o)!==t(s))&&n.push(o)}return n},lp=function(e){for(var t=e.length,n=0,r=Math.floor(t/2);n<r;n++){var i=n,o=t-n-1,s=e[n];e[i]=e[o],e[o]=s}return e},jue=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n];return t},Due=function(e,t){for(var n=new Array(t-e),r=0,i=n.length;r<i;r++)n[r]=e+r;return n},Iue=function(e,t){for(var n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e[t[r]];return n},Oue=function(e){return e instanceof Uint8Array||e instanceof ArrayBuffer||typeof e=="string"},rg=function(e){if(typeof e=="string")return bue(e);if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return e;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},M0=function(){return new Promise(function(e){setTimeout(function(){return e()},0)})},Lue=function(e,t){t===void 0&&(t=!0);var n=[];t&&n.push(65279);for(var r=0,i=e.length;r<i;){var o=e.codePointAt(r);if(o<65536)n.push(o),r+=1;else if(o<1114112)n.push(TU(o),PU(o)),r+=2;else throw new Error("Invalid code point: 0x"+E5(o))}return new Uint16Array(n)},Mue=function(e){return e>=0&&e<=65535},Fue=function(e){return e>=65536&&e<=1114111},TU=function(e){return Math.floor((e-65536)/1024)+55296},PU=function(e){return(e-65536)%1024+56320},hd;(function(e){e.BigEndian="BigEndian",e.LittleEndian="LittleEndian"})(hd||(hd={}));var ig="".codePointAt(0),RU=function(e,t){if(t===void 0&&(t=!0),e.length<=1)return String.fromCodePoint(ig);for(var n=t?zue(e):hd.BigEndian,r=t?2:0,i=[];e.length-r>=2;){var o=qj(e[r++],e[r++],n);if(Bue(o))if(e.length-r<2)i.push(ig);else{var s=qj(e[r++],e[r++],n);Uj(s)?i.push(o,s):i.push(ig)}else Uj(o)?(r+=2,i.push(ig)):i.push(o)}return r<e.length&&i.push(ig),String.fromCodePoint.apply(String,i)},Bue=function(e){return e>=55296&&e<=56319},Uj=function(e){return e>=56320&&e<=57343},qj=function(e,t,n){if(n===hd.LittleEndian)return t<<8|e;if(n===hd.BigEndian)return e<<8|t;throw new Error("Invalid byteOrder: "+n)},zue=function(e){return jU(e)?hd.BigEndian:DU(e)?hd.LittleEndian:hd.BigEndian},jU=function(e){return e[0]===254&&e[1]===255},DU=function(e){return e[0]===255&&e[1]===254},IU=function(e){return jU(e)||DU(e)},Uue=function(e){var t=String(e);if(Math.abs(e)<1){var n=parseInt(e.toString().split("e-")[1]);if(n){var r=e<0;r&&(e*=-1),e*=Math.pow(10,n-1),t="0."+new Array(n).join("0")+e.toString().substring(2),r&&(t="-"+t)}}else{var n=parseInt(e.toString().split("+")[1]);n>20&&(n-=20,e/=Math.pow(10,n),t=e.toString()+new Array(n+1).join("0"))}return t},lx=function(e){return Math.ceil(e.toString(2).length/8)},cp=function(e){for(var t=new Uint8Array(lx(e)),n=1;n<=t.length;n++)t[n-1]=e>>(t.length-n)*8;return t},cy=function(e){throw new Error(e)},Uc={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var l in a)n(a,l)&&(o[l]=a[l])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,l,c){if(s.subarray&&o.subarray){o.set(s.subarray(a,a+l),c);return}for(var u=0;u<l;u++)o[c+u]=s[a+u]},flattenChunks:function(o){var s,a,l,c,u,d;for(l=0,s=0,a=o.length;s<a;s++)l+=o[s].length;for(d=new Uint8Array(l),c=0,s=0,a=o.length;s<a;s++)u=o[s],d.set(u,c),c+=u.length;return d}},i={arraySet:function(o,s,a,l,c){for(var u=0;u<l;u++)o[c+u]=s[a+u]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(Uc);var uy={},Bl={},tm={},que=Uc,Hue=4,Hj=0,Wj=1,Wue=2;function nm(e){for(var t=e.length;--t>=0;)e[t]=0}var Vue=0,OU=1,Kue=2,Gue=3,Zue=258,hT=29,dy=256,p1=dy+1+hT,o0=30,pT=19,LU=2*p1+1,Ef=15,Qk=16,Xue=7,mT=256,MU=16,FU=17,BU=18,m4=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],cx=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$ue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],zU=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Yue=512,xc=new Array((p1+2)*2);nm(xc);var cv=new Array(o0*2);nm(cv);var m1=new Array(Yue);nm(m1);var g1=new Array(Zue-Gue+1);nm(g1);var gT=new Array(hT);nm(gT);var n_=new Array(o0);nm(n_);function e3(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var UU,qU,HU;function t3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function WU(e){return e<256?m1[e]:m1[256+(e>>>7)]}function v1(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Eo(e,t,n){e.bi_valid>Qk-n?(e.bi_buf|=t<<e.bi_valid&65535,v1(e,e.bi_buf),e.bi_buf=t>>Qk-e.bi_valid,e.bi_valid+=n-Qk):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function yl(e,t,n){Eo(e,n[t*2],n[t*2+1])}function VU(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function Jue(e){e.bi_valid===16?(v1(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Que(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,f,m,g=0;for(h=0;h<=Ef;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<LU;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,g++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=s[u-a]),m=n[u*2],e.opt_len+=m*(h+f),o&&(e.static_len+=m*(i[u*2+1]+f)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}}function KU(e,t,n){var r=new Array(Ef+1),i=0,o,s;for(o=1;o<=Ef;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=VU(r[a]++,a))}}function ede(){var e,t,n,r,i,o=new Array(Ef+1);for(n=0,r=0;r<hT-1;r++)for(gT[r]=n,e=0;e<1<<m4[r];e++)g1[n++]=r;for(g1[n-1]=r,i=0,r=0;r<16;r++)for(n_[r]=i,e=0;e<1<<cx[r];e++)m1[i++]=r;for(i>>=7;r<o0;r++)for(n_[r]=i<<7,e=0;e<1<<cx[r]-7;e++)m1[256+i++]=r;for(t=0;t<=Ef;t++)o[t]=0;for(e=0;e<=143;)xc[e*2+1]=8,e++,o[8]++;for(;e<=255;)xc[e*2+1]=9,e++,o[9]++;for(;e<=279;)xc[e*2+1]=7,e++,o[7]++;for(;e<=287;)xc[e*2+1]=8,e++,o[8]++;for(KU(xc,p1+1,o),e=0;e<o0;e++)cv[e*2+1]=5,cv[e*2]=VU(e,5);UU=new e3(xc,m4,dy+1,p1,Ef),qU=new e3(cv,cx,0,o0,Ef),HU=new e3(new Array(0),$ue,0,pT,Xue)}function GU(e){var t;for(t=0;t<p1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<o0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<pT;t++)e.bl_tree[t*2]=0;e.dyn_ltree[mT*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function ZU(e){e.bi_valid>8?v1(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function tde(e,t,n,r){ZU(e),v1(e,n),v1(e,~n),que.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function Vj(e,t,n,r){var i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function n3(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&Vj(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Vj(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function Kj(e,t,n){var r,i,o=0,s,a;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,r===0?yl(e,i,t):(s=g1[i],yl(e,s+dy+1,t),a=m4[s],a!==0&&(i-=gT[s],Eo(e,i,a)),r--,s=WU(r),yl(e,s,n),a=cx[s],a!==0&&(r-=n_[s],Eo(e,r,a)));while(o<e.last_lit);yl(e,mT,t)}function g4(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(e.heap_len=0,e.heap_max=LU,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)n3(e,n,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],n3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[c*2]=n[s*2]+n[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=c,e.heap[1]=c++,n3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Que(e,t),KU(n,l,e.bl_count)}function Gj(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[MU*2]++):a<=10?e.bl_tree[FU*2]++:e.bl_tree[BU*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function Zj(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do yl(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(yl(e,o,e.bl_tree),a--),yl(e,MU,e.bl_tree),Eo(e,a-3,2)):a<=10?(yl(e,FU,e.bl_tree),Eo(e,a-3,3)):(yl(e,BU,e.bl_tree),Eo(e,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function nde(e){var t;for(Gj(e,e.dyn_ltree,e.l_desc.max_code),Gj(e,e.dyn_dtree,e.d_desc.max_code),g4(e,e.bl_desc),t=pT-1;t>=3&&e.bl_tree[zU[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function rde(e,t,n,r){var i;for(Eo(e,t-257,5),Eo(e,n-1,5),Eo(e,r-4,4),i=0;i<r;i++)Eo(e,e.bl_tree[zU[i]*2+1],3);Zj(e,e.dyn_ltree,t-1),Zj(e,e.dyn_dtree,n-1)}function ide(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Hj;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Wj;for(n=32;n<dy;n++)if(e.dyn_ltree[n*2]!==0)return Wj;return Hj}var Xj=!1;function ode(e){Xj||(ede(),Xj=!0),e.l_desc=new t3(e.dyn_ltree,UU),e.d_desc=new t3(e.dyn_dtree,qU),e.bl_desc=new t3(e.bl_tree,HU),e.bi_buf=0,e.bi_valid=0,GU(e)}function XU(e,t,n,r){Eo(e,(Vue<<1)+(r?1:0),3),tde(e,t,n)}function sde(e){Eo(e,OU<<1,3),yl(e,mT,xc),Jue(e)}function ade(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===Wue&&(e.strm.data_type=ide(e)),g4(e,e.l_desc),g4(e,e.d_desc),s=nde(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?XU(e,t,n,r):e.strategy===Hue||o===i?(Eo(e,(OU<<1)+(r?1:0),3),Kj(e,xc,cv)):(Eo(e,(Kue<<1)+(r?1:0),3),rde(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Kj(e,e.dyn_ltree,e.dyn_dtree)),GU(e),r&&ZU(e)}function lde(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(g1[n]+dy+1)*2]++,e.dyn_dtree[WU(t)*2]++),e.last_lit===e.lit_bufsize-1}tm._tr_init=ode;tm._tr_stored_block=XU;tm._tr_flush_block=ade;tm._tr_tally=lde;tm._tr_align=sde;function cde(e,t,n,r){for(var i=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}var $U=cde;function ude(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var dde=ude();function fde(e,t,n,r){var i=dde,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}var YU=fde,vT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},so=Uc,qs=tm,JU=$U,bu=YU,hde=vT,Eh=0,pde=1,mde=3,pd=4,$j=5,bl=0,Yj=1,Hs=-2,gde=-3,r3=-5,vde=-1,yde=1,r2=2,bde=3,xde=4,wde=0,_de=2,T5=8,Sde=9,kde=15,Cde=8,Nde=29,Ade=256,v4=Ade+1+Nde,Ede=30,Tde=19,Pde=2*v4+1,Rde=15,dn=3,Ku=258,Ia=Ku+dn+1,jde=32,P5=42,y4=69,ux=73,dx=91,fx=103,Tf=113,Pg=666,ni=1,fy=2,ih=3,rm=4,Dde=3;function Gu(e,t){return e.msg=hde[t],t}function Jj(e){return(e<<1)-(e>4?9:0)}function Mu(e){for(var t=e.length;--t>=0;)e[t]=0}function xu(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(so.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function Di(e,t){qs._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,xu(e.strm)}function kn(e,t){e.pending_buf[e.pending++]=t}function og(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function Ide(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,so.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=JU(e.adler,t,i,n):e.state.wrap===2&&(e.adler=bu(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function QU(e,t){var n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-Ia?e.strstart-(e.w_size-Ia):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+Ku,f=c[r+s-1],m=c[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+s]!==m||c[i+s-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(o=Ku-(h-r),r=h-Ku,o>s){if(e.match_start=t,s=o,o>=a)break;f=c[r+s-1],m=c[r+s]}}while((t=d[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function oh(e){var t=e.w_size,n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ia)){so.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);o+=t}if(e.strm.avail_in===0)break;if(r=Ide(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=dn)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+dn-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<dn)););}while(e.lookahead<Ia&&e.strm.avail_in!==0)}function Ode(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oh(e),e.lookahead===0&&t===Eh)return ni;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Di(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Ia&&(Di(e,!1),e.strm.avail_out===0))return ni}return e.insert=0,t===pd?(Di(e,!0),e.strm.avail_out===0?ih:rm):(e.strstart>e.block_start&&(Di(e,!1),e.strm.avail_out===0),ni)}function i3(e,t){for(var n,r;;){if(e.lookahead<Ia){if(oh(e),e.lookahead<Ia&&t===Eh)return ni;if(e.lookahead===0)break}if(n=0,e.lookahead>=dn&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+dn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Ia&&(e.match_length=QU(e,n)),e.match_length>=dn)if(r=qs._tr_tally(e,e.strstart-e.match_start,e.match_length-dn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=dn){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+dn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=qs._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Di(e,!1),e.strm.avail_out===0))return ni}return e.insert=e.strstart<dn-1?e.strstart:dn-1,t===pd?(Di(e,!0),e.strm.avail_out===0?ih:rm):e.last_lit&&(Di(e,!1),e.strm.avail_out===0)?ni:fy}function up(e,t){for(var n,r,i;;){if(e.lookahead<Ia){if(oh(e),e.lookahead<Ia&&t===Eh)return ni;if(e.lookahead===0)break}if(n=0,e.lookahead>=dn&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+dn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=dn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ia&&(e.match_length=QU(e,n),e.match_length<=5&&(e.strategy===yde||e.match_length===dn&&e.strstart-e.match_start>4096)&&(e.match_length=dn-1)),e.prev_length>=dn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-dn,r=qs._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-dn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+dn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=dn-1,e.strstart++,r&&(Di(e,!1),e.strm.avail_out===0))return ni}else if(e.match_available){if(r=qs._tr_tally(e,0,e.window[e.strstart-1]),r&&Di(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ni}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=qs._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<dn-1?e.strstart:dn-1,t===pd?(Di(e,!0),e.strm.avail_out===0?ih:rm):e.last_lit&&(Di(e,!1),e.strm.avail_out===0)?ni:fy}function Lde(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=Ku){if(oh(e),e.lookahead<=Ku&&t===Eh)return ni;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=dn&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+Ku;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=Ku-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=dn?(n=qs._tr_tally(e,1,e.match_length-dn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=qs._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Di(e,!1),e.strm.avail_out===0))return ni}return e.insert=0,t===pd?(Di(e,!0),e.strm.avail_out===0?ih:rm):e.last_lit&&(Di(e,!1),e.strm.avail_out===0)?ni:fy}function Mde(e,t){for(var n;;){if(e.lookahead===0&&(oh(e),e.lookahead===0)){if(t===Eh)return ni;break}if(e.match_length=0,n=qs._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Di(e,!1),e.strm.avail_out===0))return ni}return e.insert=0,t===pd?(Di(e,!0),e.strm.avail_out===0?ih:rm):e.last_lit&&(Di(e,!1),e.strm.avail_out===0)?ni:fy}function nl(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Vp;Vp=[new nl(0,0,0,0,Ode),new nl(4,4,8,4,i3),new nl(4,5,16,8,i3),new nl(4,6,32,32,i3),new nl(4,4,16,16,up),new nl(8,16,32,32,up),new nl(8,16,128,128,up),new nl(8,32,128,256,up),new nl(32,128,258,1024,up),new nl(32,258,258,4096,up)];function Fde(e){e.window_size=2*e.w_size,Mu(e.head),e.max_lazy_match=Vp[e.level].max_lazy,e.good_match=Vp[e.level].good_length,e.nice_match=Vp[e.level].nice_length,e.max_chain_length=Vp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=dn-1,e.match_available=0,e.ins_h=0}function Bde(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=T5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new so.Buf16(Pde*2),this.dyn_dtree=new so.Buf16((2*Ede+1)*2),this.bl_tree=new so.Buf16((2*Tde+1)*2),Mu(this.dyn_ltree),Mu(this.dyn_dtree),Mu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new so.Buf16(Rde+1),this.heap=new so.Buf16(2*v4+1),Mu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new so.Buf16(2*v4+1),Mu(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function eq(e){var t;return!e||!e.state?Gu(e,Hs):(e.total_in=e.total_out=0,e.data_type=_de,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?P5:Tf,e.adler=t.wrap===2?0:1,t.last_flush=Eh,qs._tr_init(t),bl)}function tq(e){var t=eq(e);return t===bl&&Fde(e.state),t}function zde(e,t){return!e||!e.state||e.state.wrap!==2?Hs:(e.state.gzhead=t,bl)}function nq(e,t,n,r,i,o){if(!e)return Hs;var s=1;if(t===vde&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>Sde||n!==T5||r<8||r>15||t<0||t>9||o<0||o>xde)return Gu(e,Hs);r===8&&(r=9);var a=new Bde;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+dn-1)/dn),a.window=new so.Buf8(a.w_size*2),a.head=new so.Buf16(a.hash_size),a.prev=new so.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new so.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,tq(e)}function Ude(e,t){return nq(e,t,T5,kde,Cde,wde)}function qde(e,t){var n,r,i,o;if(!e||!e.state||t>$j||t<0)return e?Gu(e,Hs):Hs;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Pg&&t!==pd)return Gu(e,e.avail_out===0?r3:Hs);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===P5)if(r.wrap===2)e.adler=0,kn(r,31),kn(r,139),kn(r,8),r.gzhead?(kn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),kn(r,r.gzhead.time&255),kn(r,r.gzhead.time>>8&255),kn(r,r.gzhead.time>>16&255),kn(r,r.gzhead.time>>24&255),kn(r,r.level===9?2:r.strategy>=r2||r.level<2?4:0),kn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(kn(r,r.gzhead.extra.length&255),kn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=bu(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=y4):(kn(r,0),kn(r,0),kn(r,0),kn(r,0),kn(r,0),kn(r,r.level===9?2:r.strategy>=r2||r.level<2?4:0),kn(r,Dde),r.status=Tf);else{var s=T5+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=r2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=jde),s+=31-s%31,r.status=Tf,og(r,s),r.strstart!==0&&(og(r,e.adler>>>16),og(r,e.adler&65535)),e.adler=1}if(r.status===y4)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=bu(e.adler,r.pending_buf,r.pending-i,i)),xu(e),i=r.pending,r.pending===r.pending_buf_size));)kn(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=bu(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=ux)}else r.status=ux;if(r.status===ux)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=bu(e.adler,r.pending_buf,r.pending-i,i)),xu(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,kn(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=bu(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=dx)}else r.status=dx;if(r.status===dx)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=bu(e.adler,r.pending_buf,r.pending-i,i)),xu(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,kn(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=bu(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=fx)}else r.status=fx;if(r.status===fx&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&xu(e),r.pending+2<=r.pending_buf_size&&(kn(r,e.adler&255),kn(r,e.adler>>8&255),e.adler=0,r.status=Tf)):r.status=Tf),r.pending!==0){if(xu(e),e.avail_out===0)return r.last_flush=-1,bl}else if(e.avail_in===0&&Jj(t)<=Jj(n)&&t!==pd)return Gu(e,r3);if(r.status===Pg&&e.avail_in!==0)return Gu(e,r3);if(e.avail_in!==0||r.lookahead!==0||t!==Eh&&r.status!==Pg){var l=r.strategy===r2?Mde(r,t):r.strategy===bde?Lde(r,t):Vp[r.level].func(r,t);if((l===ih||l===rm)&&(r.status=Pg),l===ni||l===ih)return e.avail_out===0&&(r.last_flush=-1),bl;if(l===fy&&(t===pde?qs._tr_align(r):t!==$j&&(qs._tr_stored_block(r,0,0,!1),t===mde&&(Mu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),xu(e),e.avail_out===0))return r.last_flush=-1,bl}return t!==pd?bl:r.wrap<=0?Yj:(r.wrap===2?(kn(r,e.adler&255),kn(r,e.adler>>8&255),kn(r,e.adler>>16&255),kn(r,e.adler>>24&255),kn(r,e.total_in&255),kn(r,e.total_in>>8&255),kn(r,e.total_in>>16&255),kn(r,e.total_in>>24&255)):(og(r,e.adler>>>16),og(r,e.adler&65535)),xu(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?bl:Yj)}function Hde(e){var t;return!e||!e.state?Hs:(t=e.state.status,t!==P5&&t!==y4&&t!==ux&&t!==dx&&t!==fx&&t!==Tf&&t!==Pg?Gu(e,Hs):(e.state=null,t===Tf?Gu(e,gde):bl))}function Wde(e,t){var n=t.length,r,i,o,s,a,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==P5||r.lookahead))return Hs;for(s===1&&(e.adler=JU(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Mu(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new so.Buf8(r.w_size),so.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,oh(r);r.lookahead>=dn;){i=r.strstart,o=r.lookahead-(dn-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+dn-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=dn-1,oh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=dn-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,r.wrap=s,bl}Bl.deflateInit=Ude;Bl.deflateInit2=nq;Bl.deflateReset=tq;Bl.deflateResetKeep=eq;Bl.deflateSetHeader=zde;Bl.deflate=qde;Bl.deflateEnd=Hde;Bl.deflateSetDictionary=Wde;Bl.deflateInfo="pako deflate (from Nodeca project)";var Th={},R5=Uc,rq=!0,iq=!0;try{String.fromCharCode.apply(null,[0])}catch{rq=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{iq=!1}var y1=new R5.Buf8(256);for(var du=0;du<256;du++)y1[du]=du>=252?6:du>=248?5:du>=240?4:du>=224?3:du>=192?2:1;y1[254]=y1[254]=1;Th.string2buf=function(e){var t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new R5.Buf8(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};function oq(e,t){if(t<65534&&(e.subarray&&iq||!e.subarray&&rq))return String.fromCharCode.apply(null,R5.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Th.buf2binstring=function(e){return oq(e,e.length)};Th.binstring2buf=function(e){for(var t=new R5.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};Th.buf2string=function(e,t){var n,r,i,o,s=t||e.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){a[r++]=i;continue}if(o=y1[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|e[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return oq(a,r)};Th.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+y1[e[n]]>t?n:t};function Vde(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var sq=Vde,uv=Bl,dv=Uc,b4=Th,x4=vT,Kde=sq,aq=Object.prototype.toString,Gde=0,o3=4,s0=0,Qj=1,eD=2,Zde=-1,Xde=0,$de=8;function sh(e){if(!(this instanceof sh))return new sh(e);this.options=dv.assign({level:Zde,method:$de,chunkSize:16384,windowBits:15,memLevel:8,strategy:Xde,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Kde,this.strm.avail_out=0;var n=uv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==s0)throw new Error(x4[n]);if(t.header&&uv.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=b4.string2buf(t.dictionary):aq.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=uv.deflateSetDictionary(this.strm,r),n!==s0)throw new Error(x4[n]);this._dict_set=!0}}sh.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=t===~~t?t:t===!0?o3:Gde,typeof e=="string"?n.input=b4.string2buf(e):aq.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new dv.Buf8(r),n.next_out=0,n.avail_out=r),i=uv.deflate(n,o),i!==Qj&&i!==s0)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===o3||o===eD))&&(this.options.to==="string"?this.onData(b4.buf2binstring(dv.shrinkBuf(n.output,n.next_out))):this.onData(dv.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==Qj);return o===o3?(i=uv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===s0):(o===eD&&(this.onEnd(s0),n.avail_out=0),!0)};sh.prototype.onData=function(e){this.chunks.push(e)};sh.prototype.onEnd=function(e){e===s0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=dv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function yT(e,t){var n=new sh(t);if(n.push(e,!0),n.err)throw n.msg||x4[n.err];return n.result}function Yde(e,t){return t=t||{},t.raw=!0,yT(e,t)}function Jde(e,t){return t=t||{},t.gzip=!0,yT(e,t)}uy.Deflate=sh;uy.deflate=yT;uy.deflateRaw=Yde;uy.gzip=Jde;var hy={},qa={},i2=30,Qde=12,efe=function(t,n){var r,i,o,s,a,l,c,u,d,h,f,m,g,y,v,x,_,S,k,T,P,N,A,D,C;r=t.state,i=t.next_in,D=t.input,o=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,d=r.whave,h=r.wnext,f=r.window,m=r.hold,g=r.bits,y=r.lencode,v=r.distcode,x=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{g<15&&(m+=D[i++]<<g,g+=8,m+=D[i++]<<g,g+=8),S=y[m&x];t:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,k===0)C[s++]=S&65535;else if(k&16){T=S&65535,k&=15,k&&(g<k&&(m+=D[i++]<<g,g+=8),T+=m&(1<<k)-1,m>>>=k,g-=k),g<15&&(m+=D[i++]<<g,g+=8,m+=D[i++]<<g,g+=8),S=v[m&_];n:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,k&16){if(P=S&65535,k&=15,g<k&&(m+=D[i++]<<g,g+=8,g<k&&(m+=D[i++]<<g,g+=8)),P+=m&(1<<k)-1,P>c){t.msg="invalid distance too far back",r.mode=i2;break e}if(m>>>=k,g-=k,k=s-a,P>k){if(k=P-k,k>d&&r.sane){t.msg="invalid distance too far back",r.mode=i2;break e}if(N=0,A=f,h===0){if(N+=u-k,k<T){T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}}else if(h<k){if(N+=u+h-k,k-=h,k<T){T-=k;do C[s++]=f[N++];while(--k);if(N=0,h<T){k=h,T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}}}else if(N+=h-k,k<T){T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}for(;T>2;)C[s++]=A[N++],C[s++]=A[N++],C[s++]=A[N++],T-=3;T&&(C[s++]=A[N++],T>1&&(C[s++]=A[N++]))}else{N=s-P;do C[s++]=C[N++],C[s++]=C[N++],C[s++]=C[N++],T-=3;while(T>2);T&&(C[s++]=C[N++],T>1&&(C[s++]=C[N++]))}}else if(k&64){t.msg="invalid distance code",r.mode=i2;break e}else{S=v[(S&65535)+(m&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){r.mode=Qde;break e}else{t.msg="invalid literal/length code",r.mode=i2;break e}else{S=y[(S&65535)+(m&(1<<k)-1)];continue t}break}}while(i<o&&s<l);T=g>>3,i-=T,g-=T<<3,m&=(1<<g)-1,t.next_in=i,t.next_out=s,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=m,r.bits=g},tD=Uc,dp=15,nD=852,rD=592,iD=0,s3=1,oD=2,tfe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nfe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],rfe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ife=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],ofe=function(t,n,r,i,o,s,a,l){var c=l.bits,u=0,d=0,h=0,f=0,m=0,g=0,y=0,v=0,x=0,_=0,S,k,T,P,N,A=null,D=0,C,j=new tD.Buf16(dp+1),L=new tD.Buf16(dp+1),z=null,K=0,H,Z,W;for(u=0;u<=dp;u++)j[u]=0;for(d=0;d<i;d++)j[n[r+d]]++;for(m=c,f=dp;f>=1&&j[f]===0;f--);if(m>f&&(m=f),f===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<f&&j[h]===0;h++);for(m<h&&(m=h),v=1,u=1;u<=dp;u++)if(v<<=1,v-=j[u],v<0)return-1;if(v>0&&(t===iD||f!==1))return-1;for(L[1]=0,u=1;u<dp;u++)L[u+1]=L[u]+j[u];for(d=0;d<i;d++)n[r+d]!==0&&(a[L[n[r+d]]++]=d);if(t===iD?(A=z=a,C=19):t===s3?(A=tfe,D-=257,z=nfe,K-=257,C=256):(A=rfe,z=ife,C=-1),_=0,d=0,u=h,N=s,g=m,y=0,T=-1,x=1<<m,P=x-1,t===s3&&x>nD||t===oD&&x>rD)return 1;for(;;){H=u-y,a[d]<C?(Z=0,W=a[d]):a[d]>C?(Z=z[K+a[d]],W=A[D+a[d]]):(Z=96,W=0),S=1<<u-y,k=1<<g,h=k;do k-=S,o[N+(_>>y)+k]=H<<24|Z<<16|W|0;while(k!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,d++,--j[u]===0){if(u===f)break;u=n[r+a[d]]}if(u>m&&(_&P)!==T){for(y===0&&(y=m),N+=h,g=u-y,v=1<<g;g+y<f&&(v-=j[g+y],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===s3&&x>nD||t===oD&&x>rD)return 1;T=_&P,o[T]=m<<24|g<<16|N-s|0}}return _!==0&&(o[N+_]=u-y<<24|64<<16|0),l.bits=m,0},Qo=Uc,w4=$U,rl=YU,sfe=efe,fv=ofe,afe=0,lq=1,cq=2,sD=4,lfe=5,o2=6,ah=0,cfe=1,ufe=2,Js=-2,uq=-3,dq=-4,dfe=-5,aD=8,fq=1,lD=2,cD=3,uD=4,dD=5,fD=6,hD=7,pD=8,mD=9,gD=10,r_=11,ac=12,a3=13,vD=14,l3=15,yD=16,bD=17,xD=18,wD=19,s2=20,a2=21,_D=22,SD=23,kD=24,CD=25,ND=26,c3=27,AD=28,ED=29,rr=30,hq=31,ffe=32,hfe=852,pfe=592,mfe=15,gfe=mfe;function TD(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function vfe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Qo.Buf16(320),this.work=new Qo.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function pq(e){var t;return!e||!e.state?Js:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=fq,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Qo.Buf32(hfe),t.distcode=t.distdyn=new Qo.Buf32(pfe),t.sane=1,t.back=-1,ah)}function mq(e){var t;return!e||!e.state?Js:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,pq(e))}function gq(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Js:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,mq(e))}function vq(e,t){var n,r;return e?(r=new vfe,e.state=r,r.window=null,n=gq(e,t),n!==ah&&(e.state=null),n):Js}function yfe(e){return vq(e,gfe)}var PD=!0,u3,d3;function bfe(e){if(PD){var t;for(u3=new Qo.Buf32(512),d3=new Qo.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(fv(lq,e.lens,0,288,u3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;fv(cq,e.lens,0,32,d3,0,e.work,{bits:5}),PD=!1}e.lencode=u3,e.lenbits=9,e.distcode=d3,e.distbits=5}function yq(e,t,n,r){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Qo.Buf8(o.wsize)),r>=o.wsize?(Qo.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),Qo.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(Qo.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function xfe(e,t){var n,r,i,o,s,a,l,c,u,d,h,f,m,g,y=0,v,x,_,S,k,T,P,N,A=new Qo.Buf8(4),D,C,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Js;n=e.state,n.mode===ac&&(n.mode=a3),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,N=ah;e:for(;;)switch(n.mode){case fq:if(n.wrap===0){n.mode=a3;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,A[0]=c&255,A[1]=c>>>8&255,n.check=rl(n.check,A,2,0),c=0,u=0,n.mode=lD;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=rr;break}if((c&15)!==aD){e.msg="unknown compression method",n.mode=rr;break}if(c>>>=4,u-=4,P=(c&15)+8,n.wbits===0)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=rr;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=c&512?gD:ac,c=0,u=0;break;case lD:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==aD){e.msg="unknown compression method",n.mode=rr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=rr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=rl(n.check,A,2,0)),c=0,u=0,n.mode=cD;case cD:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=rl(n.check,A,4,0)),c=0,u=0,n.mode=uD;case uD:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=rl(n.check,A,2,0)),c=0,u=0,n.mode=dD;case dD:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=rl(n.check,A,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=fD;case fD:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),Qo.arraySet(n.head.extra,r,o,f,P)),n.flags&512&&(n.check=rl(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=hD;case hD:if(n.flags&2048){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&(n.check=rl(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=pD;case pD:if(n.flags&4096){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&(n.check=rl(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.comment=null);n.mode=mD;case mD:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=rr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=ac;break;case gD:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}e.adler=n.check=TD(c),c=0,u=0,n.mode=r_;case r_:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,ufe;e.adler=n.check=1,n.mode=ac;case ac:if(t===lfe||t===o2)break e;case a3:if(n.last){c>>>=u&7,u-=u&7,n.mode=c3;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=vD;break;case 1:if(bfe(n),n.mode=s2,t===o2){c>>>=2,u-=2;break e}break;case 2:n.mode=bD;break;case 3:e.msg="invalid block type",n.mode=rr}c>>>=2,u-=2;break;case vD:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=rr;break}if(n.length=c&65535,c=0,u=0,n.mode=l3,t===o2)break e;case l3:n.mode=yD;case yD:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;Qo.arraySet(i,r,o,f,s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=ac;break;case bD:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=rr;break}n.have=0,n.mode=xD;case xD:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[j[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=fv(afe,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid code lengths set",n.mode=rr;break}n.have=0,n.mode=wD;case wD:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(_<16)c>>>=v,u-=v,n.lens[n.have++]=_;else{if(_===16){for(C=v+2;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=rr;break}P=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(_===17){for(C=v+3;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=3+(c&7),c>>>=3,u-=3}else{for(C=v+7;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=rr;break}for(;f--;)n.lens[n.have++]=P}}if(n.mode===rr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=rr;break}if(n.lenbits=9,D={bits:n.lenbits},N=fv(lq,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid literal/lengths set",n.mode=rr;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=fv(cq,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){e.msg="invalid distances set",n.mode=rr;break}if(n.mode=s2,t===o2)break e;case s2:n.mode=a2;case a2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,sfe(e,h),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===ac&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(x&&!(x&240)){for(S=v,k=x,T=_;y=n.lencode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,n.length=_,x===0){n.mode=ND;break}if(x&32){n.back=-1,n.mode=ac;break}if(x&64){e.msg="invalid literal/length code",n.mode=rr;break}n.extra=x&15,n.mode=_D;case _D:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=SD;case SD:for(;y=n.distcode[c&(1<<n.distbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(!(x&240)){for(S=v,k=x,T=_;y=n.distcode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,x&64){e.msg="invalid distance code",n.mode=rr;break}n.offset=_,n.extra=x&15,n.mode=kD;case kD:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=rr;break}n.mode=CD;case CD:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=rr;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,m=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=g[m++];while(--f);n.length===0&&(n.mode=a2);break;case ND:if(l===0)break e;i[s++]=n.length,l--,n.mode=a2;break;case c3:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?rl(n.check,i,h,s-h):w4(n.check,i,h,s-h)),h=l,(n.flags?c:TD(c))!==n.check){e.msg="incorrect data check",n.mode=rr;break}c=0,u=0}n.mode=AD;case AD:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=rr;break}c=0,u=0}n.mode=ED;case ED:N=cfe;break e;case rr:N=uq;break e;case hq:return dq;case ffe:default:return Js}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<rr&&(n.mode<c3||t!==sD))&&yq(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?rl(n.check,i,h,e.next_out-h):w4(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===ac?128:0)+(n.mode===s2||n.mode===l3?256:0),(d===0&&h===0||t===sD)&&N===ah&&(N=dfe),N}function wfe(e){if(!e||!e.state)return Js;var t=e.state;return t.window&&(t.window=null),e.state=null,ah}function _fe(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?Js:(n.head=t,t.done=!1,ah)}function Sfe(e,t){var n=t.length,r,i,o;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==r_)?Js:r.mode===r_&&(i=1,i=w4(i,t,n,0),i!==r.check)?uq:(o=yq(e,t,n,n),o?(r.mode=hq,dq):(r.havedict=1,ah))}qa.inflateReset=mq;qa.inflateReset2=gq;qa.inflateResetKeep=pq;qa.inflateInit=yfe;qa.inflateInit2=vq;qa.inflate=xfe;qa.inflateEnd=wfe;qa.inflateGetHeader=_fe;qa.inflateSetDictionary=Sfe;qa.inflateInfo="pako inflate (from Nodeca project)";var bq={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function kfe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Cfe=kfe,a0=qa,hv=Uc,hx=Th,Tr=bq,_4=vT,Nfe=sq,Afe=Cfe,xq=Object.prototype.toString;function lh(e){if(!(this instanceof lh))return new lh(e);this.options=hv.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nfe,this.strm.avail_out=0;var n=a0.inflateInit2(this.strm,t.windowBits);if(n!==Tr.Z_OK)throw new Error(_4[n]);if(this.header=new Afe,a0.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=hx.string2buf(t.dictionary):xq.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=a0.inflateSetDictionary(this.strm,t.dictionary),n!==Tr.Z_OK)))throw new Error(_4[n])}lh.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Tr.Z_FINISH:Tr.Z_NO_FLUSH,typeof e=="string"?n.input=hx.binstring2buf(e):xq.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new hv.Buf8(r),n.next_out=0,n.avail_out=r),o=a0.inflate(n,Tr.Z_NO_FLUSH),o===Tr.Z_NEED_DICT&&i&&(o=a0.inflateSetDictionary(this.strm,i)),o===Tr.Z_BUF_ERROR&&u===!0&&(o=Tr.Z_OK,u=!1),o!==Tr.Z_STREAM_END&&o!==Tr.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===Tr.Z_STREAM_END||n.avail_in===0&&(s===Tr.Z_FINISH||s===Tr.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=hx.utf8border(n.output,n.next_out),l=n.next_out-a,c=hx.buf2string(n.output,a),n.next_out=l,n.avail_out=r-l,l&&hv.arraySet(n.output,n.output,a,l,0),this.onData(c)):this.onData(hv.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==Tr.Z_STREAM_END);return o===Tr.Z_STREAM_END&&(s=Tr.Z_FINISH),s===Tr.Z_FINISH?(o=a0.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Tr.Z_OK):(s===Tr.Z_SYNC_FLUSH&&(this.onEnd(Tr.Z_OK),n.avail_out=0),!0)};lh.prototype.onData=function(e){this.chunks.push(e)};lh.prototype.onEnd=function(e){e===Tr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function bT(e,t){var n=new lh(t);if(n.push(e,!0),n.err)throw n.msg||_4[n.err];return n.result}function Efe(e,t){return t=t||{},t.raw=!0,bT(e,t)}hy.Inflate=lh;hy.inflate=bT;hy.inflateRaw=Efe;hy.ungzip=bT;var Tfe=Uc.assign,Pfe=uy,Rfe=hy,jfe=bq,wq={};Tfe(wq,Pfe,Rfe,jfe);var Dfe=wq;const Ife=W1(Dfe);var RD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rg=new Uint8Array(256);for(var l2=0;l2<RD.length;l2++)Rg[RD.charCodeAt(l2)]=l2;var Ofe=function(e){var t=e.length*.75,n=e.length,r,i=0,o,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var c=new Uint8Array(t);for(r=0;r<n;r+=4)o=Rg[e.charCodeAt(r)],s=Rg[e.charCodeAt(r+1)],a=Rg[e.charCodeAt(r+2)],l=Rg[e.charCodeAt(r+3)],c[i++]=o<<2|s>>4,c[i++]=(s&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return c},Lfe=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},_q=function(e){return Lfe(Ife.inflate(Ofe(e)))},Mfe=function(e,t,n){for(var r="",i=0,o=t-e.length;i<o;i++)r+=n;return r+e};const Ffe="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",Bfe="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",zfe="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",Ufe="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",qfe="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",Hfe="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",Wfe="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",Vfe="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",Kfe="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",Gfe="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",Zfe="eJyNnV1320aWtf+KF6/mXcvpsWTJsnPnTtLdsdNx7ESGMb36gpZgmSNKcEhRCjNr/vsLgqhz9tlnFz03XsaziwDqVNWuDxSg/5l919/cdLd3s29n7/+5Wc+vukcnZ2fHZ49On5+dHs8ez/7W3979PL/phgS/LW669Tc/3s2Xi4udslkuUXnkyvxmsdyiNsCmW1x93l3nn93lYnMzkH36l7dXyyHdN0enfzkd2Ppviz+6y18WdxefZ9/erTbd49l3n+er+cVdt/q12/3+hz/uutvL7vJdfzO/ne7wr3/t/5h9+69vjp69ePzN8dHZ46MnR08eP3/+9N+PZ+dD4tVycdv90q8Xd4v+dnexJ09A+O3z4uL6tluvZ9+eDvx9t1qPyWZPnhz/5cmTJ8NFfu7vFhe77HzXf9mudjl59B8X/+/R0Yvnp493/56N/77Y/fviyfjv0/Hfs0cvL/uP3aNft+u77maI0e1Fv/rSr+Z33eVfHj16uVw+erc72/rRu27dre4Hug/mYv1o/uhuNb/sbuar60f9p0c/LW77u+2X7pt/dMOvXv790fz28j/71aPF8OP15uN6cbmYrxbd+i/D7f4wXOZycXv168XnbiyF8S5+vRt+Ml9dFnVI+N38yz+mgnl2+vTx7EM5Ojk5ejx7ub7YhXo1iM8H8fvOjscgz369u/xHM/v26fH43/fDf8+e7cvrn93danExBPRf/zNrPsy+Pd4F9ufhRtZf5kMc//fxHj99+nSPuz8ulvMb4yfHU/LfN/0QqY9LU06fTMrt5ubjrqCubrN22S+X85Xx5+UqX7rVxa6yF+Hs7PlemN8M0nqITr6z8Q7GEs/al/mqu112n2pS/Jnd3ny9O+P62pRnZ6fTr5abtVGL2cXQRuf5Ep+3Xz53tzn5kJVF7zk5LplcL+frz/lu/uxWfab9bZfh3YNIefd51Ym0n/rNStDFvUi7XvwhYHffibLtdExvF7eiWl30y/4243V3s4iSlcByZwOJdr9v5suMr1bd0JBFNn/fdOvRaoryolToud/7s6OjPXuZ0V8dPTvbo++82h4f79H3+Yc/ZPS3/MO/Z/SPHKYfvT2enOzRq3xfrz37p8/26Kfc9P6Zf/hzvok3+e5/yane5lTvchn8mu/rt3yu83yu9/num5zqQz59m9F/eVSH3mFEH4fO7Lq7C7ZhbfTjoMV2yr+LnnJS8jFfXywWF4vVxeYmh2KzM+310POIJjL6W7gZ96mMPuYqcSH8N6fqcl4/5R9eZfQ5/3CR0X/nK17nVMtc/iJawnSE7X0RrT4X2iqjdb4vEftNztB9bkIPOdUfGW3zTfzpqaxoh/rVUa08LbVyVUlPPdzJEdTGu8XyssuX3nf1l/2DiHPonb0nuBvHaV45jkr+P+0Ghuiz9put6js+LfvVQvB1VznLxWY1dOMXHsDjoxNoNuvFOHhNrb6MWnSzutosBuWmv9Mjh508nvgrcmVw8Wmh8i360WEoqIYDl/OrK9Wl7TkOxWjAsSu7btV52z899rHQ/Go1/wKmVn76cZhEdCKXHt6P8/WBCB9WKyGyAoj6c6uhy+Xiy3rhDXWYLnhW7z73mzBUTL1+qNtecKv5vfDf+cXmTo1cRiv/tOz+yBo1rIJv5hcrNdr5uOrUhS/7u/lFaHAuLYaCxACYssJm6Dc7TOmGEbcYom5ur+arzc1yvhGX6a+GUea1ON0c8+HFchNqrPGXPuY5PptqQL+6/DQM8sKo0IcnsYf10UfkL4p/vvELPD16Yhe4GVxus8QrmC/PRXd3uWvw67XovJaVkXkfuZ29F0PooW0O0+GhzotC+zGVp3fLsfp51x8rjXdLskT9dLHofGSU7sDG0JeL+8WlKKQ23pkPlkXL8NuOP/JRnviRd4/UBK2jHudd1EYgq/mUfr3QThynMPidU2Pw31RKaEM/8BlAuojPFwaDgAlInGBSRs+emTiteIhLkeX4mJDqgeUyxMVnAuoGvHnU6mh0VB/lq7P5NKp2tuiqEM7sk15DQjaBkyH60DVe/eRsusqy/7O7vRKXfxcv4TM4lUmvHAcbiRC9eXEvYiPZeCNQ1JRXn/vkyNllfvvcr0Su3tDVPQyVUvuVeLmry0rYzukCHrHYs4XFjfVmHOGsxP3GKuhRrPFoq2aCN5vl3eLLcivuizLolTwWR+n4hrHW3WK+vFx8+pTLaptt2JpgvI5X2EOV5YeD1exAr1OXLioFfVuzQa4x7ilzORr6kfoVXHobBgy4/mbTn1V/3d3iJMjMcdVdLdZx2OtNtDLw+lG0C5uJbIZWHeYiHmwaQFrDrESm56pu7bJSpf6LTPvkRRm4jqtccQ3McvnDnRihfFc1wKXyLW9uFZPpqr1jrRd8WRs+HKiVlQD/WWsatZt6UyuRWtdT89x17cr1Lv7NwWEJ21IZF3TLO7HYcxdM2gvpoT/giPUhzs1G5IT6cAuVHGd6W6DQ+yw1jnDOTtHHhwq8GiqyuLVf0wymKMtYI33VU/a/NsOIBffiebmN8kBHeWJ9PvZjZe74Y627/Im6vxKGIWif50tYeCttfDcziQ3ci+KQyd/GUZPXtK+UHw2DLAi17vkqeilmaCpVVah6EPqrHO5aBdYzHKtgg0uoxx09NS13Qn0Tm5j+5LRMsIdu80L57PeVsebq4Gj351g+fruV0e67w9VaXsustXLOl1WP1rOkN5WFwz8PjCd/qPX2dG1fHZZZsfFYGAj42Q42hXgLvrh78ErL/mpX3re9GMX3dS/dZKk05eFUlZZ8dXDO0N2Jhw5/Vqrv7cFufAh56iHc8mtt/IfN7kHkvx/PXner21/mi9Xu8fG/Zi93j6lnj795+uTfj6ejvXsEtL/PiCZPR/j33dGpHe1dJSDMGApvhqMTO8+bcguAoHIEbkUV6L79BxScJyhTyALbLw4FtG84iN6Go992OTqzI4sZoJh7E86Ho1M7z3nJPaCQe+CQe6Al94Ao96BY7oFN7Tqw0U6QvB+Ojp5YETbD4Qs7andJ/ciy5Ahv3SjsB8AAbYajY7vwppwNUAgQcLgK0BIgQBQgUCxAwCxAwKYAObkPWXsIR9t4lOOzzfGZEmF7NUSN1ji1XOfcfIsCbdgQNWTjsjUXFZq0IWrXxlXjNjG3cJOomRvXbd1kbvAmUKs3Tk2/8LcZgQkYIidwruygqOAJhsgYjCt3MDFbhEnkE8a1WZjMjmEC24YJ0TsKRgMpDFykoDa3APYT4/VGo5ylaGAvhshjjCujMTG7jUlkOca175jM5mMCO5AJ0YYKvs8RechoK1Al1MKfJptAfzJE/mSc/Mk5+1NRwJ8MkT8Zl/5UVPAnQ+RPxpU/mZj9ySTyJ+Pan0xmfzKB/Mk4+VPhbzMCfzJE/uRc+VNRwZ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxWM/lQY+FNBbW4B7E/G641G+VPRwJ8MkT8ZV/5kYvYnk8ifjGt/Mpn9yQT2JxOiPxV8nyPykNFWoEqohT9haNCkIieniiLZFYnsWUEG44qc3CuK0sJCEvCxyMnMoqgcLabIthZ18rYoaoOLadjlokpWF0XyuyC+rXBwvsjJ/khUHhiSgBFGTm4YRWWJMUX2xaiTOUZRO2RMwzYZVfbKqEbDDBq6ZhDAOgNvKy2UTTSKX2neyk5DAvDUyMlYo6jcNabIFht18tkoarONadhxo8q2G9XovUG7rwTyocK3NX6o1IQpO0FLRkqGjBLZcZDYjEEEK0ZKRoyStGFIACaMlCwYJWXAqGf7RZXMFyVtvZiCjRc1sl2UyHRBeispGC5SstsgKbOFBGC1SMloUVI2i3o2WVTJYlHSBosp2F5RY3NFLVorKGisgMFWgbayhbGlonSwaSo7BRnMFClZKUrKSFHPNooqmShK2kIxBRsoamyfqEXzBOVehuxB0q2m9XIRljnlHv3SEJmlcXJK52yTRQGPNEQGaVy6Y1HBGg2RLxpXpmhidkSTyA6Nay80mY3QBHJB42SBhb/NCMzPEDmfc2V7RQXPM0SGZ1y5nYnZ6kwinzOuTc5kdjgT2N5MiN5WMBpbYeBqBbW5BbCfGa83GuVkRQMbM0QeZlwZmInZvUwi6zKufctkNi0T2LFMiHZV8H2OyENGW4EqoRb+VO4VDcoZOZQLZFEgsEeZBCbljFzKBWlTJoNPOSOjckE5lavZqlwjr3JBm5Xr7FaukF25QH5lwlvBwLGckWWBoDzLZDAtZ+RaLijbcjX7lmtkXC5o53KdrcsV9i5XonkZR/cyCPZlrBUthA3MhQPNSlmYieBhzsjEXFAu5mq2MdfIx1zQRuY6O5krbGWuRC8zfi+C8yDYVrFa5IWhlRtDQ3NGhuYCGRoIbGgmgaE5I0NzQRqayWBozsjQXFCG5mo2NNfI0FzQhuY6G5orZGgukKGZ8FYwMDRnZGggKEMzGQzNGRmaC8rQXM2G5hoZmgva0FxnQ3OFDc2VaGjG0dAMgqEZa0ULYUNz4UCzUoZmIhiaMzI0F5ShuZoNzTUyNBe0obnOhuYKG5or0dCM34vgPAi2VawWeWFoq+n7JO5AhZCZFUxWZpiNbBLAxgohEytYWtgkgoEVQvZVsDKvomXrKgoZV8HatorKplU4WVbBZFgTfpsImFUhZFWGlVFNIthUIWRSBSuLKlo2qKKQPRWszamobE2FszEVHm1pomhKEwJLmkibajjbUcHVJqGsaJLAiAohGypYmVDRsgUVhQyoYG0/RWXzKZytp/BoPBO9T2F4SGSbiY6tsJupEaDfGCLDMU6O45wtpyjgOYbIdIxL1ykq2I4h8h3jynhMzM5jElmPce09JrP5mEDuY5zsp/C3GYEBGSIHcq4sqKjgQYbIhIwrFzIx25BJ5EPGtRGZzE5kAluRCdGLCkYzKgzcqKA2twD2I+P1RqMcqWhgSYbIk4wrUzIxu5JJZEvGtS+ZzMZkAjuTCdGaCr7PEXnIaCtQJdTZn/460Je7K/uRBdFR8RJAMaTOMZpOLZCOPEjOPD7OSmiclIbt6HyslHZUcgAo3C5wuF2g5XYBUZGDYhkBZhkBNmVkT76f4r733+8x7oCih3+f4g4cMgK0ZASQ3S4wu11g0+0CKXF39N689PvJBvyojUexF/me2v1EJ9PFyBii8BinGBlXgTIxR8skCplxjpsJHDwTYgQNUxgLf5/D0GTUCkShNS7iO77DGONbEMe3cI5v4TK+RRTxLRLHt/AU3yKk+BaB4lswx3fi73MYmoxagTi+haf4/m0K7dHRqR2aFwErIUUWDQoEdCjAZlHA3IkAuhUBLF4EqIQN2G6keeZHJSuASk4AhYwAh3wALdkAZLkAZpkANuUBSMmCo/0HLodMPTUUE3Q5U10Z+iHSmepkpuCF24BzXjuR107kdbGrYn5kFdJRHIw7xzrq1Ibgjnx47czuxFnvw7/x0LtaZ9TXuhA6W8fe2zpL3a1L0N86LJMAZFajnU1fMA0VYmWDofEoDp1GVCoEojAN2Auvpua/N4NX2PoBlSYDSMykXlHTBxrnT69CwwfmhedsajJA4iTp1dTon1p+5rFbeIWNHpDoDF5Rowcau4BXodEDI+N/BY0eSLT7V9Doj4108SiOcF9hm0eUR7ivqM0jhTYPOA58X4U2D4wGvq+mlgZH+Z77yg328gb7fCfcyEAR92hNDFAcib/CBuZoEwpnkyvUplJ7NrL2bHLt4fkYKKJebUS92oR69Xq2XwnZT33HoziLH5GYwI88zd1HGqftI5Iz9lGhyfrISvgBlfA76kIeuhjr11jREeXwv6aKjhQqOuBYKq9DRQdGsX89VfQTy0EfLfN1qujAkz++xooOSC4tvQ4VHVhcUHqNFd3RJh7lu95U7noj73qT75prNSjirjfk96+hVjvZxqN819t8d6Grw3ZBAjURUlVroSS54VACakOk6uZEibhlkUyNjFRqb1GFyk8CtUJSqUGyKtomJcnNlBPkFkspqPGSyu2YZG7SUe5rFYkbOqmq9VCSr1VVdgJSdfOiRNzSSCarIJVcI6qbqnAwMNJWKMnXAsNmQ+r/JTDJgkhmNyI5GlMUt1XhYGCyc/002y/tH/uRDfMAhZG8C7v1gv24fnfUhKM2pGzjsvOI0qLyjorl7J+mDD+1RJZLQNjE9xTfuT8mRJmsvHNPKmQX30cn1OYfcu7V++gkqTjga9iUR46Ieg17kmKVgOCQQCFiVQUqpoFwRaGpCW3tVBxAUnMYYwIVzNygZHw4sPUGNSWY7A4Da4hC6lwFs6gQxoKajNr8Qw6a8RyuIqlAFW2b88jBMZ7C8vNseoZyZkd2d47sGYqjOIFzjnlwahM4Rz5Nc+ZTSWflGYoTm7ntUWlSLwWivBinDBlXuTIxZ80kyp9xzqQJnFMTYnYNU57xYQMjynN62MBc5Vk9bGCJ8pwfNrDAeeaHDYw5z6GFv6wKnP+ochSiKmMRk4iIxAQcl6im6EQ5xSjKFKkoUrzKg9OXAlGMjFN0jKu4mJgjYhLFwjhHwQTOvwkx54Zjnt9M2d178BvMKaCSSUBxhuc8PXN+g7kC5HMzZ747wVnZmODEJmaGfrNR4BvsnBCFfsmFsUuyoyYcfQgp26D59gZHaUb7Bo12uttktMwp1tpoWcxRT0bLnOOfjZaFWBLJaIlDmaSxauKqdMJYNaImow/5h21OxcWmhq+TFF7nhgKMnEoxilSUUVTlGVPkQo06lWwUuXijymUc1VjQUaPSTh+eOBHR43I/9OEJleR9pVSaCv9QOU9bSc+1ov79hb0OL61CxUBK1QIlqhQoqSqBeq4QqFJ1QIkrA2pcFVCLFQEVqgb0MvxJihNXgfrL8DnBexn5RtIP8gytTMvFXntHfK+W1wChxA1RcRunsjauCtrEXMomUREb5/I1gQvXhFiyhqlY8R3fkxgGLtDKO76kvs/xbDL6kH/Y5lRcfPKV2L0U17iwCFmhkmSZCpRlVa6cJhcvp6BSZpkLm3Uuc9Zj0bNKNYBkqAisUH1IsqoWlOh9tcSaqvKhera2+huuOSznCmTvzEHVcUaVxgWqLi6oiuJqriKuUeVwgauFK1whXIlVwTlVgvDm7AlFhAu+9uYsy+9FdBvBPojftiIdF6p+wXSvldUdKE1DVJjGqSyNq6I0MZekSVSQxrkcTeBiNCGWomEqRFzNO4lh4CKsrOaR+j7Hs8noQ/5hm1Nx4akFvknCSfqUtTRJZ05lpyfpLOayS5N05lx2eZLOQiy7NEknDmWXXl1IXJUd7uuneDYZfcg/bHMqLju503+UfpmK7YUfld8CKoUFKJQTcLgC0FI6gKxggFmZAJuKA0gpCUe7zUbP/ajkAFDJAaCQA+CQA6AlB4AsB8AsB8CmHAApOXBE+yR3KCbocqbsyTUinalOZio8mAac89qJvHYir308yvfcV26wlzfY5zvhp8agiHu058OAcvB5U+LbGb7RMB7FNxpGJN5oGHl6o2Gk8Y2GEck3GkaF3mgYGb3RMLLwRsO7Gb4+Nh7F57UjEk+vR54e3o40PqcekXw4PSr0RHpk8fn8iOJD+XdTrOEo3/V55a7P5V2f57vmWIMi7vqcHp6/g1g7GV/Eel6OmnDUxiOrPY6wluxpWfiCMjREITGu4mJiDo5JFCHjOkwmc6xMoGI2TmVd+LlAlSzKojexnkWuBMYPZzFVBxO4TpgQKwYukVLBNhm1AlFlUeuhk1QeMkGNMUThNK7CaWIOp0kUTuM6nCZzOE2gGmOcakzh5wJVsihrjIn1LHKNMX44i6nGmMA1xoRYY/D9IyrYJqNWIKox6v2jIqWthOUm9FZCrcoAV7cS6gQc7INbCXWiFHi9lVCrXM+Cel4VDgZG17yY5GuBSbUwqv+XwOQaGeVUL6NMtTPtupFVqakJbVXgWlvddbNPMEy09hPMJ3YUZzkjsmmlI7HxdeRpLjTSuMV1RLRldWT00vbIwvvaI4n7VX+bmpzn502MwW+pcQGXAbFmBIiHla74sNKZvbfjyF7bMbSbmbw4tiObITqyGaKjOEN0jjNEpzZDdOQzRGc+Q3RWZohObIZo6KJfwirAnuxnXGcnhcRfdDmXNuFCFGqXc6xdQGHCBSexSufIK50zkfnP2y+fu9uQjUXIpr2rBoiWPnasD2ftc977SnH2sjj7XJw8cQNFFLRN3ADlUrWJm+d+FbK1yrmnl8n2SLxMthPW3c2i1JxnRjchzSZfYiMWsUae1q9GGpeuRsRb6V2h9ayRifLchFWsHXkIYdrGo5IHQLjLbk9xv9bkaGm/FnPyY71fi8XszGm/FnP26Lxfi4Xo1mm/FnHw7TTEZq4cXA2xWSIvrw2xWWZXT0Ns5uTvhYPJGyIfME52b1yZhInZKUwiuzDOzmACW6EJsTMwTN5ROHULjkPfULA4AfcSxqmrcC76CxNzp+FS7jlMo+7DOPchJtSix71J4YscIu5XjLMZFaHPl+NuxvihaiQ6HJMq1ajS9Zhcq2XcCRmv1Cbujgpf5Whwx2SceifnqosqquinirTJqbnHMq66LRNz32USdWDGdS9mMndlJtSqEHVqBT/kiG8Foj7OuOjo0ibd0hvoTbpa5a7vwCZdnUR0g3qTrlZTl1jZpKtl6h71Jl2pYlepVxW0KrvN6qqCTsBd6MFVBZ0odad6VUGr3LUGFTvYKLAPRpU726hKr4xJhGPGBOybUU32GOXUmUSZOuQospEGlTtnEmMXnV4FladM3bV+FbSiqq67+ipoJYHoxvWroPr3qUuvvAoqz52696AuaqFOXX1Uk1vHdzBrN5M6/6h+vVqrgUBMcLBa1wYFMdHhup8GCFE9WLvTYCGoq1o808Ahqjx8IFUOIkIaNZSIr47WfpmGFVGVg4uYRAwxYgIeaES1MtyIidKgI8qHKzMPQIL4UCvLbVXgIUn99b8xwfk0GtkvzZ7jEARQ/L7NeRpsAE+L0ec4rABEK8rnYQABLKwdn+NQwVFx7v0HSs5n6ZslZZEd85re0WBOudbvaLCY85/e0WDOkcjvaLAQY5Le0SBO0SmYQ5RehZhOo1+FkCJF7MCrEDJFjp1+FUKKHMXKqxBSjfHUr0IokSIbNA4vvU4wnU69TiAkCmz1dQKh56Cq1wmExAGVrxMILQZTvU6QJQokKBxG3KA/nSdt0GdO0dMb9FnMcUsb9JlzxPIGfRZirNIGfeIUpYI5RGIf/HSi2j74ikxxO7gPvpImR7G2D74ic0yr++AreoxwbR+8linepHLYw+7x6YR593gSKMiV3eNJzYHNu8eTwMEUu8eTEgOYd4+zQEEzzuGyv+cA4XJG4XKBwuWCCperOVyuUbhc4HC5wuFyJYbLOYXLBAqXcQ7X9DV6CFYhFKqCKVAFqzAVLQepKBSigjlAhXN4Co/BKZRCM2EKzEQpLO+nkDx7YkclHIBKKACFMACHEAAt2QdkWQdm2QY2ZRlIya6j3fLWUz8qOQAUPxnlPH23YqT26SdH/DU9V/xLUM7KHBSQfZLR0Li3+OjIDm0pDph/FdcZfRXXBVyKA+xfxXUGX8V1CF/FdWhfxXXkX8U1Fqen76H6HR2/KIh+04kM23JPYJUMhy/NAoX1HExtn5p15J+adaaiYKs0p5a/3dLMfo44HsVp44hinXOe5pAjtTrnyGuWM/8QrrE+3msvwtrXQtjrOtOLOpM+PwuSqk7++Vlgour4Tm+vKbji4RndxKMc8rigARwrilOrEI4oj6B4VXEmCqMsR+xJE+y1yfbaZHttKvbaSHttsr02wl4bYa9Nstcm22sz2eu+u2jQXgGJr642ZK9A41dXG2GvoNBXVxu0V0Dxq6vNDJf2m1laz29maRG/Sd4KPK1rNrO0Rt/M8sJ8M8ur8c2Ml+CbWVp3b5KpNmCqnib+osu5pAX0Jhkq8LRU3rCfQuK4KN7M8kp4M8vL3w266f6DU80MF7qbWVrdbmZ5SbuZ4Tp2M0uL102yPeCyOPtcnHpBupnlVehmlpaem1lab27Q7xzlBd5mhqu6zSwt5TbJ7oCnRdtmllZqG2F3oNCabDPLC7HNjFdfd2RcWTXr8OVUR2jGI21n+ES3RZcEFJ/dtsklgaentC26JCB6HtsGlwQWnry26JKOxmesp3ZkvbCj2Ak7xz7YqXXBjrgHdsU7YGfW/zqy7teQu0mbXbLNLtlWXLKVLtlml2yFS7bCJdvkkm12yTa5ZJtcsg0u2WaXbLNLthWXbKVLttol2+ySrXDJVrhkO0tPBtsZjjnbWRpzjkiMOUeexpwjjWPOEdGYs53lMWcbrLfN1ttWrLeV1ttm622r1tsK622z9bbZettsva203nayXk+zydnbVLK3kdnb5Oyx9YIisrcR9WMTGwc+oJlMKT2gYU6Wqh/QsJjNNT2gYc42mx/QsBANNz2gIQ7Wm17PY65MWL2exxLZce31PJbZmNPreczJoguf55JmszZOjm1c1VkTc8U1iWqvca6oJnBtNUFXWTZ1f+4W2iU/jqPU4gRs9MbJ7Z0fiJDwfZey+ZtGPYBx7gZMqEWPO4TCFwJR12Bc9Q8m5k7CJOopjHN3YQL3GUXoc7649zB+qDREP2JSpb5WehSTa9WZ+xbjlWrLvUzhoqsp0ian5k7H+KGoiO7HpEpUKh2RybWopC7JhNjI+StwTxKl3kl+BS5Lqo+qfQUuq9RT6a/AZY37K/UVuKxQrwUSdFxIqe9CSXVfqOceDFXqxFDS/Rim4K4MNerNUKIODaS5rCXcraFEPRtKqlmgnlsGqtQ4UOIGgBq3AdSqzYC7u/AYP9iDeMCff6PPxF0fStT7BelwFEUfGNTcDaJMPSFK3BmidiDI3CWCtNCUOkaUVN+Ieu4eUaUeEiXuJFHjfhK0XmaZe0uUvlJ6os9Etd4GKj0npjjQSrj/RKneFLgXBUl0pKBu5G+4O0XpK2ETnSqq9bBVulZMcSBsqYNFLZjL4Asz/+bMeGTPDR3FjaaTUDrtK4HoHMbliabEeCJDdCLj8kRhD9hVjdMpoyjPC9G70pTOiZI8Y9k+dCUQncu4PJFt8bhSjE7lgjyX7X+4UozO5YI817Rl4CoTOk/B8izlQ2dXAtF5jKsTfURTODHkf/L8IzZzQPHhlHN8OOXUHk45kn/Z/GNovsDo75l/hOa6Jxe7jssGRLuj66Bdx9xPgs0C/ZcFXedU+hz2TqGfo6DrnKpyjmEMsFzO6SwGr1VKfab9iGb/J0guPy7LXyE5OskyabgKcGTEd8aEugUo3oYL/gj6tKD7cPQQjrwe7Y78z6SMR3HzyYjSJpMyOONMoBufEKLsVNyYVM5Y4fcZPWQE+Sxom/PAOTaes83v8h5FDNk2RNk2LrOdXvqcMlT4fUYPGUG28d1FygNnW767OElqy/OR0DAAsruTog6F3EpdcorifYU/VDiGB/m2kuEUqCDmaIlJz1FSIFKqCxeSjJIab055Bule0gdJITpAtzJ7HBmURFx8cpUCAxJGBjGHBjUdG0iRggPavcYPGmN8AG91PlOEUMsh4n3eRxFDaNJAjbkMSdowPmWw8PuMHjKCEBS0zXngrBvP2U5bh4+IQ8bzuDIJMut5G/KUKxPuBXsQDLJvbCsywwFwIUcg7QY+Ig4RyKPhJMgI5J3FU85MuBfsQTCIgLGtyAxHwIUUgU8p7zsyNJdlt17vlkKeGfw0K+9C744Wdi/jEQ1eP+XsfqIx2X4KepWuvyNdPLJlTUe23RNQ/obryHFlEyhu9nQcP+06IvqA68joA65xtiNmOtVZzlUOVPkpx6XgTiCKkHEKk3MRKxNzwFzKUTONQmec42cCBzEvBVxVlgKuDi4FmMqB1W+dTz/Kb51rgUJdeeu8ooqw1986ryTIRVB561yrXBy1t86lfFUVqIBIlcVUeYd6X1jXoRCuc+Svc7ivKzG+loG91tG8ziG8FnG7FsHasT4e5XvuKzfYyxvs852k/dSuiHv03dSO7MmKoW08yne9zXdXazAs0MkONpikilh9rcGkBLmIDzYYVjmohxsMyX1VOBgWWUnqn0zQCQ5mq1KLap9M0DLVrconE6S6rQoHA5PrYRlC7kdbt7hSMSGcxRcUTgpCWUl01Afb67PX9TWD68vQbn+Ul8z7tEjDXJ42LMbsUWXxuz+0+N1/ffG7zxP+PZeL4r2aUQtJXomnzXual8r7ylJ5f3CpvA8zrT2it0qv6gpdiWV5QUoE1xWr9n1t1b4/vGrfx0nUnpU/7nIlEJ3duDx5UeHceU2+r6zJ9wfX5HtsZ3tU+v/aum7USRzZsvt0V/T9/8vrQviTmb/EGPEQyfmd1uIlxTlX+nf2gRellZ5PanHdO6dYmz9FXC6otHJBqZU1d62KeW1M8WV+0VVis/vJ0/yTu3hSkcLrxhDe/VuPp3YUt7qMyCqgI7HrZeRpt8tI4y6XEdHelZF5j++svO3oJG5f2aGLWXlzZTyySbqjUkKIrGAAlpnLPtqrqVJ7AqvLjuKVunzxLl88Dr+A4zICUBhoAbYNDo58Y4Mzi6qzq3hUyhcQ1SETbH/HsdWf3UjsxMrChl+A4hvaziG3QO3NbEf8QXdX/H1tZ/ZNe0f2QrYhnxV5Wf8esuojoRUaAKA4xF7F5o5QGHVxMGx+aR8xc2qIeh8xi7lJpn3EzLlx5n3ELMRmmvYRE4cGa4gajnFqPc65/aZHeFPBFn6Zk3Jzxp3LjCr3x61b71xmMbdzuXOZNWrxeecyC9z2cajMiFygMlQmlf0AdxWfxEJnZ9C7ilnMHpF2FTPXbpF3FbNAvpF2FRNPDlKE33OYwEsMkaEYJ1dxztbiivIX/GL11PzSF6uZk7/oL1azmP0lfbGaOftL/mI1C9Ff0heriYO/GKL2a5zar3P2l/SsfCr2wi9zUvYX/EY2o8r9sb/ob2SzmP1FfiObNfKX/I1sFthfcOMAI/KXysYBUtlf8EPZJ7HQ2V/0h7JZzP6SPpTNXPtL/lA2C+Qv6UPZxJO/FOH3HCbwF0PkL8bJX5yzv7gi/SWs9KDLRIG9JqrsOFGVvhOTCPeJCdiDopqcKMrJj6JMrhRF9qb4jATKMArsA1FlNyA1eZZ+MFMqVFAvaz9LLpbWp7VwMCfJ1w6sT+skwuPq69M6BftdZX1ay8n70gMdLbAPHnqgI9MkT0wL4yeqyiV/PLAwrpMIr9QL41qt+GZlYVzL7KF6YVyq2U+D/Hst3OitUWCHjSr7LKnJbUkXnjstBo2vbe03DBixW4nY7DVi8RV509BQoxK/G2+YvgVv3L0z8mKakcaPwhf8WyYWVsIxXkHc/UG2/R+tLWT3l9hOQkx3f4LtLKSxv71GGAK0V+7BWvcvjdxjddujh5ToISfaQqL9Bzy2mGhCPNElzMnF9r2s4I/+/b//H63X5Vs=",Xfe="eJyFnVtzG0mOhf+Kgk+7Ee5ZSdbN/aa+ebzuMdvupmjORD9QUlnmmmJpSMoSZ2L++9YNwMEBkn5xuL6TdUkkgLxUFvXv0Y/1/X212o6+H1397XEzv6sOTl6+Onx1cHry6uXJ6MXol3q1fTe/r5oCfyzuq813H+r7+aoVHpdLFA5UmN8vljuUGjitFnef27tIqTfb+XJxc7m6WzbFDpvjzS+L5+r2t8X25vPo++36sXox+vHzfD2/2Vbr36v21J+ft9XqtrrVGzWP9sMP9fPo+398d3R28eK746OLF0eHh4cvLl5d/PliNGkKr5eLVfVbvVlsF/Vq9P13jQzCH58XN19W1WYz+v604VfVetMVGx0eHv+luVBzk3f1dnHT1uTH+mG3bitx8F83/31w9Ori9EX773n376v231eH3b8vu3/PDy5v6+vq4PfdZlvdbw7erG7q9UO9nm+r278cHFwulwcf2qs1dqs21fprQ3szLjYH84Pten5b3c/XXw7qTwe/Llb1dvdQfffXqjnr8vXBfHX7P/X6YNGcvHm83ixuF/P1otr8pXncn5vb3C5Wd7/ffK66Buie4vdtc8p8fStqU/DH+cNfhzY5Ozt+MfooRyetJS43N62p14148fLF6KdKjxsjn78Y/b69/et09P3xRfffq+a/Fyd9e/2t2q4XN41B//Hv0fRjU6S93LvmQTYP88aO/3nR45cvX/a4er5Zzu+Vnxxe9Pyfj3VjqeulKqeHw4VWj/fXbUPdraJ2Wy+X87XyC7nLQ7W+ab1chPPz4Tbz+0baNNaJT9Y9QdfiUXuYr6vVsvpUkvxp+njzTXvFzRdTzk6Gs5aPG6Vqs5smOOfxFp93D5+rVSzeVGVRW02OpZKb5XzzOT7Nv6p1HWm9qiLcPiUlt5/XVVL2U/24Tujia1J2s3hOYPW1Stq2ym26WsADa5Vv6mW9SixR3S+8pC2wbNNAoNU/H+fLiO/WVRPIVs2TkxNxmmrTpRpRXh0fDW0P3nd83LNLRWdn5z36IaIf44k/Wamj4fo/21OenvXol3ji64j+Gh3sjaEmtXXof+OJb+ND/GqhJyf+LZ74LqJxfPrfYqn30Tgf4om/x+f6I15rEtGVtZq05zSW+hjRLN7x79Gq101n9qXaurShnnndaD5O+TyfU07OXklOuVksbhbrm0fLohocj23S3jQ9T5J5u/zmHka9eB6vdB1L3ST5N5ZK7vwpnngX0edopEVE/xdP/BJLWQhr5k+slSSdJO09RPTPWEfLDRpCm/hcST57jOhr9LinWCrJpLvYHP8ydHFo/uUd4VhbHTpTX556uJMj8MbtYnlb7Opv66fEzq53tp5g243TzDmOJOw/tQNDzLNW56zv+LSs14uEb6rCVW4e1003fmMGPJLad2GzWXQD1yT996MWZ01z8sdFo9zX23zk0Mrdhb8hk+kl7X1aJCwZPzUDuXQ4cDu/u6uSnrvnOBSjAUfbdtW6gtg/tbHQ/G49f4CkJqdeN9OHKqmlmfd6vtlj4f1qYfylDeD1bs7Q22a5XDxsFptEauq6/Vw/urFi6Padc1vLredfk3iY3zxuE9zn8k/L6jlqhci6n9+s6+TG1+squ/FtvZ3fuIgzadG0JBrAEhrGoT1sdduYNBujPq7u5uvH++X8MblNfdcMM78kl5tjPaBd7p3P6uDi0kY9x+eDz9fr20/NMM+NC22A4vtYG394rjcY2w1eHh3qDe6bPPe4dHeQzDRPRqO3bchvNkn3tSyMzevCc9bJILqJzmZC3Hh90mpvQoNax+z9zzp/7zXWMaVNapfzbWdjo/AEOoq+XXxdgDvbKf7JbLichIY9duGkSXKSdRYUg9pVdzMvChKoaryk3c8FiuFyQ8wpGuwc/3TWEnSCzQHCTWzG0GQImIL4KSZV9PxMxWHNI7kV5RwbFXo/sFrmdnmXPYCFR8lHfUq1cX52NZtIla7m0yqYMyZK8xBXTeCUEW3wSnc/H+6yrP9Vre6STPKhEFGvs0qac+wNkn2ee1nqRtaFJr3hutrsJ1pOxyR/fK7XSa3GdHczA0WBTvOIX0iyLZhtQjcwi/muzS1vbB67Mc46eV7vgmbFEqe0Kknw/nG5XTwsd8lz+QqCk/vmkI6vGW1tF/Pl7eJTMsHalVPDO38fc9jEWSw29rrZnl6nLN0U0t2qlAapQSGnzFM/fkMXwsW3ZsCAK3A6AVrXX6oVToM0Oa6ru8XGD3wtRAsjrzcxLs50LvLYRLWbjZixCyPIdcEyNceSxmXBpf7uLXZ68kpGrt06l18F01r+vLURiiXZYgJcZnnr5fHgvdtCkqmKvWNJuCwNH/Z4pTewzZZLoVG697jUIqWuh3Ou9iOlO5fjeLx3WMI9powLquU2We7ZuiRtOfGp3pMR40hPzrt/TGrin8hMlY4zLRbI9DZP9SOc81PM440DrxtHhkfTbiRMYaRtloWO5G06yNAZhm+4V7JuoK90spxYnpC9KYT+m1KI/0pPLWZojPZ5voSeQWK8nZnQMrc2xb6x88qPmszTvtF+hUioSt3znc+lWKGhVbNG9fnMeDbcVQfOZzjqYE2WyF541BRalgnn+XiDks2pZvPbxU2WZ38q9GfrvbV559vHHpdGuzbc3OvWe+91WfCFy2KOzmcDY38dy8NJv2kjkUJvX0oUX9Lxs47H3EDArrY3FPwj2PLu3jst67u2vVd1Moqvy7n0MUoSys2lCpF8t3fOUEFHbjYvuO8q7cbh9WHoISzll2L858f2VeSfL0Zvq/Xqt/li3b5A/sfosn1RPXrx3cnhny+Goz57ONQ/p0dDTkf42h/1WcUhrBgK4+bo9FSP5BEAgXM4rk3laB//DrnM45TBZI71i0MO9YGD6L07+qM5Ojo60kMxmmOu/qBM3KUm0QCTggEmqQEm0QCTogEmiQFk6OdYl1GQXLWVeKmH0+bwlbbprBUPVZxJnZDBwwOGfQHOSF+bw/MTOXpq73YsRzt/JDcDBPca6FAIA0ARRYFyCgXjHA+ivE4QRYbyNDxEhRhRRH6iPHMWFaPHqERuozz3HZXZgVSgMFJOsST8fUQYVco4tExI40vkSbw8R5ryfRZMYk6lggUL0adyyYIhDlXwwSgYI1IYhKUgjE1lHKAqJFEqWhqqIkK8CoKgFbRLEIWv8hjDQyhhDCuiGFZOMWycY1iU1wmiGFaexrCoEMOKyAOVZx6oYvRAlcgDleceqDJ7oAoUw8ophoW/jwhjWBnHsAlpDIs8iZfnGFa+z4JJDKtUsGAhhlUuWTDEsAo+hgVjDAuDGBaEMayMY1iFJIZFS2NYRIhhQRDDgnYJohhWHmMY2wkD2XOKZi9SSJPIce3k1yVOEe7FNMxdEYh1z8ldvZj5rC8RHdfr5L1ezF3Yl2E/9iqlAy9STnDi+wLH7OAFThGkpnnClZkUbskZw4vfbIIkd3h9XxMUsogvs7cJQj7xqk8qTsPM4gRIL45jjvECJxqvJtnGFUhTjisBecdxSD6O70qc0pAXYy4ygpkIKeUhlCgLOYlzEIivc0r5B6U0+0AByD1Iye1Rypwe9ejyqJLDo5S7O5ZgZ0eNsg1KlGtAep9SzDOIOcs4Lc0xUGKS3orzC0rfMHSSW1AtG7qQV7DEHkOHnIKazyigYD4BDNkEKOYSxJxJUEvyCMhpFgEdcghQyCBAdzml7IFSzB1D42DiUERZQzmlDOOcL0R5nSDKFMrTNCEq5AhF5LfKM6dVMXqsSuSuynNfVZkdVQVKB8opFwh/HxFmAWWcAkxI41/kSbw8R77yfRZMYl6lggUL0a5yyYIhzlXwQS4YI1wYhLcgjG1lHNgqJFEtWhrSIkI8C4JgFrRLEIWx8hjDYjgMYmMUxSZQGIPAcazS64xRJJuQhrLKEMvGyBVNyHzR1OiMppE3mpC7o+nsj6ZQSJtAMa3C+4RhVBvksAYljWvVJ8ktOLJN2GvOJLZNK5mzEN2mF80Z4tsUH+DKMcIVQogrwxg3yEFuShLlKqZhrirEuTIIdGW7jFGomxBjXWyFsW6MYt0EinUQONZVep0xinUT0lhXGWLdGDmnCZlzmhqd0zRyThNy5zSdndMUinUTKNZVeJ8wjHWDHOugpLGu+iS5Bce6CXvNmcS6aSVzFmLd9KI5Q6yb4mNdOca6Qoh1ZRjrBjnWTUliXcU01lWFWFfWxvopheguY9pMLGBD9Np6+CjbAkoIxblginLFHOOD8DoSim/BaXQPIsS2EHJFwZkjihbdUBRyQsG5C4rKDiicolkwxfKA3weCcSyIo1h5GsODOgmX5vgVvMdoSeyKkhutELeiFowWYla4j9iBYrwOCKJ1IBirgjhShSdxOkhplA4axOhAoDceyC4S6okFx3548BgMTkUUncopPI1zfIryOkEUocrTEBUVYlQR+ZvyzOFUjB6nErmc8tznVGanU4FCVTnFqvD3EWG0KuNwNSGNV5En8fIcscr3WTCJWZUKFixErcolC4a4VcEHrmCMXGEQuoIwdpVx8KqQRK9oafiKCPErCAJY0C5BFMLKQwz/0NDL5qivcnck5wKSeAPk2hc43AGotCogbTFg2ljAhnYCIs5vaNJZVo+sIRS5xwXumkapPC4g8j9QtCLAtCLAhor05KfB7id25DPmT2h3QK4iwKEiQKUigPRxgenjAhseF4jY3dCVO2rj5KUezTS4fsLgABSywLCb11lGEZlHOdlIeWYoFaO1VCKTKWe7qcDGU8FbUDGZUfhVRGBQQbNoLDat8sS+3XcA3r6C2L7C2b7CU/uKmNhXJLav8GBfEYJ9RSD7Cmb7DvwqIrTvgGbRWMG+woN9fxlM2+fsX9CqgMSggJwtgcMdgIoFAanxgKndgA0mAyLWMtSOwY60PnNNpoakBoB8fjWO+dWo5ldDlkWNWRY1JlnUiNTAUP/jUC++uzgUUju9jnWqCxWo0wrUsQI1dxCmJFWrZWAHKNZj+NUqqcj/Du51ZkdSEUDSOIBc3YBD3YBK3QBpDYBp4wAbGgeIVKpHb0f9MPylHelow5AfWhjHoYVRHVoYoqYAxQYdxqQpAOkIQ1F7dHyqR/LUgGRMjQgrAhwqglQ/5HBY6gdIawFMm8NYrWOkt+j0gJJB3FtyeqB+EPc2cXpQaHj3Fp0ekB/LtehRQ6A78qHaoSRUOx5CtaM+VDuUhmqnUKh2jLJQx1wWasnOWX4X/WMXG91NtjAuSKAQITWLFioSA4cKUAyRmocTFeLIIpmCjFSKN69WJYtxFJJKAclqEptU5FstlkUslaDgJZXjmGQOaS9DdJNAgU5qFvNUJIY/FaBMQGqeFKgQ5weSKVWQSlnDq5BASKBcQmqWVqhIzDBUgJINqXneoUKcgkjmbESyT0xe3JVcidMVqSEOfh3160r9EkJ3JMGGyK0lmdAtsRweyuFUB5+/jmRhRUVYUzHm5uyK3UqK3a17/6BPvfNj+V+pegPFb1iGK4VPWALPauu+7hgeFb/uGOrtv+7wxYIF8q87vJbZAj/boHqyVbLPNgZJJpfZHUTbxeJ8B+XJHZzzQROQQA3BatYcvgw2ilegabwwK54SmonkpLF8idSgIXxTGwXjFsN3KDAkVzSuIjKr8cygoqIphYERBc2SYsFwKiQmEy0zlmi7WE82kPJgmncjXA7tjnxv2iG/HNqhpFfteOhKO+r7zw5Rf9gxWg7tmFsO7YjvDN9J8F4miOqinCqkPKuVirFqKlH9lHMlVeCaquCrq5jqjOuGjKjOYd2QeVbnbN2QJapzXDdkgevM64aMuc4uyi+LAtffq2wFr6a28EUSi/gCbBevBut4OdjIy2QpL5K95B3IZYLIRsrJOsozu6gYLaIS2UI5W0EFrr8KvuaKfZ3HrrrjWNNxrOS4UL9xWrVxrNU4qdA4qcs4VGOc16DtpfqF2zF2UIiS177joVs61aOpu+pHV3LmStqKryHsKnoaE+24kGjHhUQ73pdox+VEOy4k2nEp0Y5LiXacJ9pxIdEqhzYJI+PAs9bBkTHZcxpv9zGeOIsncrNlI+VBcl8TQQN6Tq3oRWpKL2bt6UvERvU6tawXuXm9ym3sVd/QXqPWDp/7nSTW43bf97FfVuSq0CrTwnN8LFxnVrgOe0Xxg7dBh09FwDGQklugRE6BUuYSqEeHQJXcASV2BtTYFVDzjoAKuQF9i3US7MQuUP4SKxa4Si0/Te/+Mb3CLL0CN3vh66RBlQ8LoMUVUXMrp7ZWnjW0irGVVaImVs7tqwI3rgq+ZRVTs+KXNSfeDNyghe9qSL2K9pzG232MJ87iidx82Tcog+RX1bAJWaGWZJkalOWsXblMbF4uQa3MMjc269zmrPumZ5U8gGRwBFbIH4KcuQUVuiq22LT4RB+LV5sVr8aew3J0IP3UAFzHGDmNCeQuJmSOYmp0EdPIOUxgtzCFHcIU7wrGyQnctzgnZBFu+NKXOCxfJdadJvf8mJw7S87lRk2/Vhk0Wd2B1lREjamc2lJ51pQqxpZUiRpSObejCtyMKvhWVEyNiCt6J94M3ISFFT1Sr6I9p/F2H+OJs3giN162wjdIcZI+LkzSx4VJ+njfJH1cnqSPC5P0cWmSPi5N0sf5JH1cmqTjTt0TbwZuu8I+XVKvoj2n8XYf44mzeCK3XbantZd+G5qtX479DVsMkDQWINdOwMNe1d+wdQBpwwDTNgE2NAcQaQlDtvmpO/JvDDvkNz91KHlz2PHwurCj/h1hh+idX8foRV/H3Nu9jvhNQy2SzU/DZuIW6T6igb0f4ZbZ7shvme1QsmW242HLbEf9ltkOpVtmO4W2zHaMtsx2zG2Z/TDqN0mc2JHfs9ihZFtix8OOxI76zYgdoqcGhXYodkzeUwPy+w8/DJF9ZkcS1IhcPJswcdeZxPpOCvWdpPWdxPpyK4GS1HdCmzE/QCsZaRPQhR61uad/u/JhyDFndqQb2AzhrrSeykIOtL4iMonyzC4qRuOoRBZSnptJZbaVCuQgyslLcGHtjBD5S2FhjdRJvDa7j/J9tkocSaWCrQoupXLJVsG5VPAehmuHFx6Br+FCIfkRe122UDhI8vYFXE8RmVN5Zk4VozlVInMqz82pMptTBXI95eR6wsH1FJHrGc9cT9RJvDa7nvJ9tkpcT6WCrQqup3LJVsH1VPCuh5v1LzwC18PN+uRH7HrZZn2RwvZAeYh8e2CupgYubg/MC7Cx924PzAsFw+fbA3OVHTbsEDlLBXbefTtE0jKT0j2DO3v12zbPXNsX2Gvzkpv7QvttHl3ey+T4YevMRSZgEISdM6lfh4Ao7pvpC/wxGqYZL/VIpxmGdJphyE8zjOM0w6hOMwzZNMOYTTOMyTTDiE4zFLXRfHShRzr6NuRH38Zx9G1UR9+GePRtio2+jen3CIZ0aqHIvqnojuSpAYndAbmKAA8R0FHv9h0iN+6Y2h0uONgdiM8bLer/wrVMWXvST5f6rUotac84V103GQOSxILIfcFjPGy97ilsHIbC+mGPIdpW3TH7sEfZ8HfPZSbbosVIpvzdkV896RCtW7SsdgasYwvXhebEPcNApUaAyC9B0boCE78EJK1qSOe31ohrV611rP1aGhGR6xJMsL+NLtmtpe0+4xM70i7BkO8HjKPrG1XXN8Rp3hQLCmOW0I1JFlfy5Cy380exvXexXXGz1ZDRwmYr5pSP881WLMbMHDZbMeccHTdbseCzddhsRRzydpgGMM8yeDYNYIlyeWkawDJn9TANYE75Xfg8tjRneuWU7pVnSULFmPhVouyvnLsAFbgfUMF3BoqpRxBO3YJh1zcIhhStiHoJ5dRVGI9f7ZgYOw2TYs+hGnUfyrkPUYE7EhG4NxEOXYoiyqzKuXMRoY6twt2M8n1ulHQ4KlGvozzvelTm/kcF6oSUU08knLsj4etoDe6YlFPvZDzrokRN+imRoLNSRD2W8qzbUjH2XSpRB6Y878VU5q5MBe7PVPCdmuCn2BK7BBWcLevowg5b6Q3yHba5yl3fnh22eZGkG8x32OZq6BILO2xzmbrHfIdtqmJXmS9Y5GrabRYXLPIC3IXuXbDIC4XuNF+wyFXuWp06L3lY6Ga9yp2tV9Nc6YskHa8vwN2vV0Mn7OXQFXuZOmQvcrfsVO6cSfRdtP+CEro2L3B37VXutEnNum5fJOnAqUDSjfsS/pNcVu33HlI5dOxODt27U7GT9wL3VV4NHb7/ZLPU9qHz9+q33TobCPgCPBzwamFQ4AuFoYGXeYDgVR4mODUMFpy6LtkzDBy8ysMHUtNBhCuTDSVcARxQeIGHFV5NBxe+SDLE8AV4oOHVwnDDFwqDDi+HoYeXaQDixKdSS++Kwt4QiAOTyTAaObEjvx49wXEHoGRdekIjDKC+N5i4sQQwWkaewKgBiM/wsn6O1QjfTjCnCuXfTrAYqxa+nWDOlYzfTrDgqxu+nRh4+OYg5VT7/JuDVMzsUPzmINXJIoVvDlKVbZN+c5BqZCXafp9QslC2/T6RMusUtt8nKlkm3X6faGyVZPt9opBFcG86I7JF2JvOPLNCtjedJap/3JvOAtec96Yzpjone7oLClmgtKe7IGf22LOnu1CCrFPc013Q2VaFPd0FlSznNjMHRtaKm5mDkFko3cwcNLJKspk5KGyJsJk5cKq9/pL0Zcao9iZQ7U3Iam9qrL1pVHsTuPamcO1N8bU3TrUffqn3MhKquWCqt+Cs1qLFOotCNRbM9RXOtRXu6yrU1/RqqOXwS61XWEVkulcTmF9fAAFXFQDrWgIwWxwAaBsYAcoORkC6OGCs/Y3jIzvyW0w75IfsJoydTWgvSIeSxux4aMiO+kbsULrXoFOoaTvmd3J0KLYd7E/tDrXtgKkRgPm3rMbxdxKN6nq4IZs3G7N2gztJuwHSX0pUJBOkfurWk2Hz7fErQVSHKqmrLTgAyqtapVV16wl44WiCKjFBlZlAVwmGH99oWbs2cGZHunXDkP9ZLeP4G0JG9eexDNlvYhmjnxpsWe2NbL/oCMxHOgg4ozKqywSGeKUQrmErAsZ0URDK6eRfke3GtmI43TZvaufY5xrqOrEG5L3EOHqJUfUGQ1RDUMxPjNm6kjH5SdGOTCUx9603dYkZmAY3MGouEzAxA9bEDMwSM0DzboAS4IA0MRvrFrHtyO+Sn4b0Cjzskp9iegWU7pKfuvQKTF3MkD62Ilthno7CsvJ0FNaSpyG3Ag/LD1PMrYBojWw6iovC0xGvBE8xsxqSWHh5bqTPrP2a5XRIrHZGFWupaRVRXssq9IZTTqtQ2HeSU5dVgSWV16R6puGycCctfA8+denPWO2uWse6ZwunU859RmNz5uui01FcDJ2OwgrodBSWPaeY+awRMfFZY7eJ71RP08QHyP95AePhs6QpJj5A/PcETLE/JWDM/oqAMfkDAkraBb7zl3qk6doQpuWOzny+nCX5cpbky1kpX87yfDlL8uUsy5ezLF/OYr6cJflyNsIfMZ1hvgSUvD2ZUb4E6t+CzJJ8CQrtc5hhvgTkf2x0NuTLYZQzw4SJTFsAGOV+E3DXqlH/w8ozlzOBwYdQBvVLKEP+p5VnkDX78JqNwnh0NqRNuEyVVFYTp2OFylZpZf2IFEpHI1SJEarMCDYi7UepsyF79u8nZpg9AdEfAJkN2fPoSK9rg0dgvrogYAwb9XtvZkkCxWvQ67sZZlAsp1MORTx4nFEOtaZ/9IZ6pHnHLGRRFMIsY4ZpFFCopEk00Zi5PIoF/VxrpuvnkFrCy4EgcIbMXw8ENcmV4QVBEELWjK8IgkL5M7wkYAEyafjWjXmWU7Nv3Vii7Fr61o1lzrPhWzfmlHGFY9pVxulIBU7AKqSJSdWYnVSiVKSc85EKISmpQulZOeVo4RSthn22Fp5VO+RtFTh5m7DPUEkaNynJ5SoWrBiyugpFK4b8LgIkeUWU6ZVzuhcBc74yTvwqpNlf1dgFqET9gPJCZ6A69wgqcLegAvUNwkMHIULSS4j0mNg89BcqpJ2GqrHnUIm6D+WFPkR17khUCL2JKtSl0EtFybXZW8VM476l+F4xK5D0MNmbxUwL/Uz6bjETqbfJ3i4mGvQ5SKnbQSnreVCPnQ+q1P+glHdBWIJ7IdSoI0KJ+iKQsDtCzIkWNe6UUEvTLRaIGRdVyqsocWpFLWRXFKmbQslWkYJGWcMpvsMCqXCt0G2hxj2X075hzaT/cmrShaFetnboyFDbZ+3QnYEGPRpS6tRQ4n4NNOzaEHPvhlrawWGB2MehSt0cSoWeDotwZ4ca93eoUZcHUuj1QEs6PlAf8wYK3R9qaQ+IBWIniCr1gygVukIswr0haqFDRNH3iU3Ydn9fsu8F2qN241r/YlFSHhYQBKWG5IelBEEpt9sHijoO5eGRoTRQKCvbR6CgICiluwWgmDIo5/629VDO/W3roRz8dd2hFPx13aEM/gnPoRD+Cc++1DV6br+4ez245LEdiScCSt6yXZPfAfVv2a4TPwOF3r9dO7cCNniTka9arZtRvxYKRxpNhnBc1FNxsV2C6ALK41Xw2w9GdJXs2w+R5M8Ru+sY5CuZEq/Vd5L9Hy24vV7K3y3os5hTvdRW0H7uqTvyOwM6lO0MUM/Toyd39OxK7vyRr1puZenG8fkU0UMqT5/UpRqPniJ6jifuEkRVKHuLDDmwHoqoHsrTeogK9cAPkwg9xxN3CaJ6lP3VDY9cZRznGjkxr1bI3gl/KvDnwnV2Jc71dWKsNHQKdzmlCqOUVpc7n0CfUvqcXmGXU6okSkkVbdzq6oiYK4laXksogdUE/JTj5/wiuwLmqqIW6ypd912CqI7K0/q5YYFHTxE9xxN3CaK6KI/10LHFXcaoJiakVfFjF2JPCXtOzt1ljOpjQqyQDoLuMkYVMiGtkB9kEXtK2HNy7i5jVCETQoU+jWS2r0d+Z0eHbG6vKNns0fGw2aOjfrNHh2hLR8fohw875n74sCN+l0eLmmhaVptNN5VU+Ekt2B4tdITWHfmR5CcadfQTy7vBNnagk1IlYhkj/nW8Ynwbr1BfxiuxN+6KbLqrSN63KxCT9ESmHvNIfA0U+2ooTuqiWqiQKr5Wiqlqyql+yl0llfqaxs9JU+5rXfiYNBUTC5Q/JU11b43Sh6SpSpbJPyNNNWcl/VNgeuDsEf78VwsXLi0t4tB0URgOLdJxwyL2Q4skny+SlNgeWbR3Rz5DdcjWywzFDNXxkKF66lbFFPvE1SFKXB2jxNWy2h/FZ64LD1inD1jHJwnrS6Ykz1j7/XId8pnUdydJR5J3IV/il8bD9QpfGucqteC+L43zItFse740zkuQjUtfGucy+0D86jcX9poldZLyV795gb3VKnhR6avfXCbfKnz1m6q7kiOx85W/Be0LLIdRU3+XpVul61H8OnUQ5GfYDUleOtEje85kzJiPFleYNocrxbn6qjBXX5Xn6iucYg8XjpPnVWHyvCpPnlfeRHj5QqOxwLf6RqOtcHVwuJWgXSzFl1ceLlyPcB2udiPqWi5+qEc+CGu+ZE+xOYfrxgWa2rWwP5Fvk7ZwL4XudbhhYbWhjqsKyXX4/uVVhV6nvnx4hHQNoObZfrgC37w02+9VHDAM940T19rNUv2JfLt0ltpL9B0h3JIUuDMpu+LV+DlYjo/jBkbDgyQT3dpPaulcvm0+qe01SX9wP8yIxx7t4ol8s+yvyg4SxvtwL3wbcOzRLp7I90pTQCc9uAs8xHMf8tOG1xCFVWove03OWFaf5Fvdi1SQ58hV/0kCq8l2di4CdcoL+E3urNKudpZpMz/L7qMGFv1O+E7NjbXHUnvM9C0b7TfQHuvsM80+u5SN8m2LwP+HL6HQ5Ubtm7LTw4ibB5xvc22pTu6xDwuv0dJVUsIP/pzmYyTWYZ0/p/6kS6bJRCHV3MMmJboJ7mnEfruB1/SGmSZvu3LVP05S4mF+U+Wm6ax9ETG1RyzxVWveWFf3pZwoudPTuiNd2zOU3aIVdBvHsV5M39n2lZOG49u6d2QXHtEDlN6ReZUfJez5G56Hf79yeB73ruvCI3qe0rsur/LzhB9AlOdJf7JLnsqJ+Gxe4Cf0av6c+c9eHWc3pmcefLRL0ER81CjWFTWP/Vqa13D9ySu6fuaxrZx5TpuDlMtqmae6TubwH2o3Jbo6QTixtYj2t6eEdH96ypH2t+BfeSI2JQwG6pUmzLsFz37E1B3porYhaQpAfseEcdwxYVR3TBiyfRHGbF+EMdkXYUTMbUgi4EyJze66Iz/h65C2BaD4Z6c6HqaFPcWFIMP+r1F1iP4aVcfor1G1rNZQ6o78y4UOJdtUOh62qXTUb1PpULpNpVNom0rHpEsGpLZXpHHeG/9phK+CntChAPlXQU/BoYCHkfUTOhQgWlx6cg4FzL0KekKHMuQd6mmEK29Po7Dc9hQaB3hagTpWIF9CexrFdbOnUVgsexqFFbKn2DjPLjKeY2Q8x8h4LkTGcxoZz3lkPMfIeE4i4zmJjF1ojl2s2I5HDIS5eLLlNip40p//+X+DG1I7",$fe="eJx9WFlv2zgQ/iuGnnYBt5DkS85bmk13g27SoEkPbNEHWqIlIhSpklSuov99R7JIkSLtFyGZjxzN8c0h/4oueF1jpqKz6Mt1K1GJZ4s4S+PZYrvdbqJ59J4zdYNqDAfuXuodp52spdSToZrQl6n0KyZl1Sm/xgVpa5BcKURJfs5KCgdj+F++J8+4uCUqr6IzJVo8jy4qJFCusLjD3d27BucE0cGYd+/4c3T2/U2SxfM36XYxT+JtDI8k/jGPPrMCC0oYvuWSKMJZdPYmiWMLuK9I/sCwlNHZCuRfsJD9sSiOk7dxnMFbbrgieefGBW9eROfA7I/8z1myzVbz7rnpn9vuCW/unpvZecF3eHb3IhWu5eyK5Vw0XCCFi7ezc0pnvRo5E1hi8QhCeM0lHCoIK+/yCvdR67zrfd2THPA7VfzzNTrbpv2fX+BPeH8fm2usBMnBg++/oq/forO08+QGNMgGgeG/5wfxYrE4iPFzTlFt5JtkkLeMPIL/EFoNreJBE2vrXReako3YcqvVEXCTKWJdzPS7Gizyjk/mZZvsAKC66d7FCgMtF4NC2eaVqpDyLW+QwIzi/TGoD6tvPQL7BJEPNVKVb39DW2mkJnY5FALyD9eEhU6DL4SPrqTaS0mRrHyDXrHgvpQz7AvVU+CkqgQOnN3zVgSkkFVfKslzQIgfMfPFOBxWRiyDjcs5p5wFIoFr4kImprQrP59WP1ubiVpcCgxlNLq5XC4PwM8Wy77EvSs5ZyU0EpuFaXqAzmlTjVlerzcH8TuskH/4oiLj0WQQ/oWpdXadJAfxZSOJ7exmPfD01lYSD8K/kU0288JLS7Mh+hW337dINCPA5MRX8QE1jXU8Wx/E/6J6V4zyLBtCdd36Km4Cso+QTOG4N6T5dvRusxxsu6/scK5Wgw2fKovZ20HxHSnrQDjv0WjEejvw7/MkxmMD6ZQkvnEfa1xayperg/ibZfN2kN1K4lvxHw4lZAfD6QErpy1lOt2QF4H3XATa8HDP7VnrVWY6SoNZQfKWokBRt90Ak7mt2GACwTVE8bNPE+Tw3VTIzkmQqRuLqsvtUGaFw3cTcjzJxSod3tjYSnQgS4fvpgyc8KaDZuLwXR8FtYlv8YPD9rHBuGxfbQYG1q1vL2v9+3zC9nF0EF+BqoLBFBbbjRfSYbsJprLYboxtpx1Fj23esXoMhqlx7rB9uR2OPxP/aCMDmX61/Vhm8cha7HA91bzbWUR1z0/m8tLUKSyJ1qWNHqeXrTUf16lb76Or6XIzTmWFA4mHyeLOkUS3+H23UpJQPAnbE0bUS2CSUi6IdWM13Mhpu/OlBUE1t/YbA1QYCeWLYVsrRh+SeDm0RCQEf9pxa3Xpds4RcpJhqNVDbXPkzqTpOJcK/mT1VO17gUtn57C3J3cpMlUucW77Px3hRwZ83VJFGvriJ6YRHJboLmnWPUNXWAC7FbQg+/0IrjUL4RMFBxhYkEdSBLxiXB0xD8TkEZorywPXoP0I/jxhXGzWKEoJUFgeiTvs3srq2eO9Hq2Aeq92S9eDIgeYwIeawKoVY+KyVOumuBmpY0r+CgrgQVn7ohl9n6aIoc4TJjB0lEDWvmaGa05ETrGfPRd3lm1jI64b9SKtBJlbhAFTgEhuqWoUvlhCFdwRBW613cNWqnGYyDAdj+OQfdnugpBWHUa14jAKbbN2tlDrfR6mXUT9p7F3peyGvHNBb0UCl933GHgmyN6Hc/0R6+KZxiG7Ba6ReJjg6RiAos0DpTRsHWNz1s284Mr58DI+UF52N8B7vyIGzP4+nGJcWLXiNMtiR0/0S0BPtExAj3ZNwE42zh11e6duTZS/YlZaK6DebfrkOsb4aURMnsqiA+viHpPowDrwsoX1y6moRTZ20cMXtmpOgFYf8sGd8kFrRw4ptuCQagu2lJvwmpXEUu2DNSlOoEf12vY4aXOZkG6WY8OC4hzrwHRcjVhWepjd4KdYKK7jrx5H89WjRxPWoycydlS3jZ/I2VS/G9yp9gB6PG1T1aY4YAp3LfPHPPqABbtFRHS/jf34/T82FAfb",Yfe="eJxtmNtu20YQhl+F4FULyMGeD7pz3AY1ChtG7NpFA18w1NomIlECSRcxgrx7SVk7+wOdG8H5OJydf2Z2d5gf9cV+t0v9VK/r+6vXsXlOlbHe28paq229qj/t++m62aXZ4J/m8PRb1z9/baZxefK63Z6eXN5dVMvTCh83u277xr/6kLrnl2XNq7TpXnczuZyabdee98/b2VzM/x4/dd/T5qab2pd6PQ2vaVVfvDRD005puE3Lu7eH1HbN9hTjx4/77/X6y5lcnUmjVzHIVVDicVX/1W/SsO36dLMfu6nb9/X6TAoBD+5euvZbn8axXtuZ36dhPJrVQqgPQoh5hev91LWLkIv94W1Ygq9+aX+tZAx2tfz64284/sblN/rqfLP/mqrbt3FKu7G67Nv9cNgPzZQ2H6rz7bb6vLgZq89pTMO/M/xfEqturJpqSM/d7GJIm2oamk3aNcO3av80O5xh3yyKmm1193ZIT02bqovTKjP+MAf++7zsZvZ3276kYyWWXB0z99S18/PbafPHQ71W4fjn/fxnFO+ZvkrT0LVzTr78qB/+nk38bHM9exgP8zr1z9U7jt6840YW5uSJKcZOCaBBnKgm5mU8MVNYyMwWFvO7Ukagkmgg6sDWQ5yFFqjzUrLEaQ3BEmiwNsMSaZS0vgWfOkPHWQowNeTUc0kumnxZvsgPxlGai6VTGUqAVCTQ6QkWnc77DKEiLktSUBJKqHIQZ86d8gCpHYoiEzMsb1ubYy8vW50DChB5ZhGqrijD0EqUIeiaEHIfCg5Kpuu0ApiToaGPSY0uaQsyr65L2oKi1yFt1PLaQ3lzfXTgXodGoJYzglndSLDMPg1sTPJpQJHJigw0QrGERqD9YhyTOgONQDUyuF1zaxuokc/BW2ztXCMrGZ9WMW1oQZHIXWNBkSCfRZEL5BMUiZw6CzVSFCfUSGZFNjIldoKDkonTKQiJIGzWmFd3BizJJ9SINoLDriOfUCOZS+zg+KGD1qGiLNMLxtJD1/ns00ON6EzyUCM6vbxhoBKaqbG3DFQCNiL1iHccBPV0DHhQH/JW8EW90dkyFKGywCJU0WkVSvSGeiSUODWFFD0HYdPQVoiRgfPMA+/nnRgiAyNYSjpWNQcNSMrtFCUH4ZIRpSCWocFCSuhCEY6hoUClc0WC52BJlCYYLQdhN+hygRRRlo5BKRRLS6oihSqh+ZzzRGG1Mo4Iz1LoP0qsxDGFzk0JE42ji0jCPejomJKCuwil4m5CiRMEUMVSzVLDUstSx1Juc0oVWMpqY295qVltmtWmWW2a1aZZbZrVplltmtWmWW2G1WZYbYbVZlhthtVmWG2G1WZYbYbVZlhtltVmWW2W1WZZbZbVZlltltVmWW2W1QYjQCh7E2aAQHeGhCFgPoNoy8KNb2wxBhmGKBxoUZXlLGsLI6AsftEDHV0wIURVbANLcTKlGGBIKPOAxCmhePCKUwFzAmpDFRQvjA9R06Hq8TONvshgKDCuRAZTXigUxjxNFfKRo3CLhnIJBMFRvMZpqpNBMlQJzGT5WFQMVQI/AikPMIhEU1aDjqJvQwmjSHB05cC9jbYwc5UtAHNLhDw41ha+lEqF4JaH3gmB61SYcqInxTDmQK8v08vjqv4zDf1N0w3Lf4A8/vwPpfK11w==";var Jfe={Courier:Ufe,"Courier-Bold":Ffe,"Courier-Oblique":zfe,"Courier-BoldOblique":Bfe,Helvetica:Vfe,"Helvetica-Bold":qfe,"Helvetica-Oblique":Wfe,"Helvetica-BoldOblique":Hfe,"Times-Roman":Xfe,"Times-Bold":Kfe,"Times-Italic":Zfe,"Times-BoldItalic":Gfe,Symbol:$fe,ZapfDingbats:Yfe},b1;(function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"})(b1||(b1={}));var jD={},Qfe=function(){function e(){var t=this;this.getWidthOfGlyph=function(n){return t.CharWidths[n]},this.getXAxisKerningForPair=function(n,r){return(t.KernPairXAmounts[n]||{})[r]}}return e.load=function(t){var n=jD[t];if(n)return n;var r=_q(Jfe[t]),i=Object.assign(new e,JSON.parse(r));return i.CharWidths=i.CharMetrics.reduce(function(o,s){return o[s.N]=s.WX,o},{}),i.KernPairXAmounts=i.KernPairs.reduce(function(o,s){var a=s[0],l=s[1],c=s[2];return o[a]||(o[a]={}),o[a][l]=c,o},{}),jD[t]=i,i},e}();const ehe="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";var the=_q(ehe),f3=JSON.parse(the),h3=function(){function e(t,n){var r=this;this.canEncodeUnicodeCodePoint=function(i){return i in r.unicodeMappings},this.encodeUnicodeCodePoint=function(i){var o=r.unicodeMappings[i];if(!o){var s=String.fromCharCode(i),a="0x"+Mfe(i.toString(16),4,"0"),l=r.name+' cannot encode "'+s+'" ('+a+")";throw new Error(l)}return{code:o[0],name:o[1]}},this.name=t,this.supportedCodePoints=Object.keys(n).map(Number).sort(function(i,o){return i-o}),this.unicodeMappings=n}return e}(),c2={Symbol:new h3("Symbol",f3.symbol),ZapfDingbats:new h3("ZapfDingbats",f3.zapfdingbats),WinAnsi:new h3("WinAnsi",f3.win1252)},j5=function(e){return Object.keys(e).map(function(t){return e[t]})},nhe=j5(b1),DD=function(e){return nhe.includes(e)},u2=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},Qr=function(e){return"`"+e+"`"},rhe=function(e){return"'"+e+"'"},ID=function(e){var t=typeof e;return t==="string"?rhe(e):t==="undefined"?Qr(e):e},ihe=function(e,t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i];r[i]=ID(s)}var a=r.join(" or ");return Qr(t)+" must be one of "+a+", but was actually "+ID(e)},Zu=function(e,t,n){Array.isArray(n)||(n=j5(n));for(var r=0,i=n.length;r<i;r++)if(e===n[r])return;throw new TypeError(ihe(e,t,n))},ks=function(e,t,n){Array.isArray(n)||(n=j5(n)),Zu(e,t,n.concat(void 0))},ohe=function(e,t,n){Array.isArray(n)||(n=j5(n));for(var r=0,i=e.length;r<i;r++)Zu(e[r],t,n)},she=function(e){return e===null?"null":e===void 0?"undefined":typeof e=="string"?"string":isNaN(e)?"NaN":typeof e=="number"?"number":typeof e=="boolean"?"boolean":typeof e=="symbol"?"symbol":typeof e=="bigint"?"bigint":e.constructor&&e.constructor.name?e.constructor.name:e.name?e.name:e.constructor?String(e.constructor):String(e)},ahe=function(e,t){return t==="null"?e===null:t==="undefined"?e===void 0:t==="string"?typeof e=="string":t==="number"?typeof e=="number"&&!isNaN(e):t==="boolean"?typeof e=="boolean":t==="symbol"?typeof e=="symbol":t==="bigint"?typeof e=="bigint":t===Date?e instanceof Date:t===Array?e instanceof Array:t===Uint8Array?e instanceof Uint8Array:t===ArrayBuffer?e instanceof ArrayBuffer:t===Function?e instanceof Function:e instanceof t[0]},lhe=function(e,t,n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i];s==="null"&&(r[i]=Qr("null")),s==="undefined"&&(r[i]=Qr("undefined")),s==="string"?r[i]=Qr("string"):s==="number"?r[i]=Qr("number"):s==="boolean"?r[i]=Qr("boolean"):s==="symbol"?r[i]=Qr("symbol"):s==="bigint"?r[i]=Qr("bigint"):s===Array?r[i]=Qr("Array"):s===Uint8Array?r[i]=Qr("Uint8Array"):s===ArrayBuffer?r[i]=Qr("ArrayBuffer"):r[i]=Qr(s[1])}var a=r.join(" or ");return Qr(t)+" must be of type "+a+", but was actually of type "+Qr(she(e))},ve=function(e,t,n){for(var r=0,i=n.length;r<i;r++)if(ahe(e,n[r]))return;throw new TypeError(lhe(e,t,n))},Ze=function(e,t,n){ve(e,t,n.concat("undefined"))},Sq=function(e,t,n){for(var r=0,i=e.length;r<i;r++)ve(e[r],t,n)},es=function(e,t,n,r){if(ve(e,t,["number"]),ve(n,"min",["number"]),ve(r,"max",["number"]),r=Math.max(n,r),e<n||e>r)throw new Error(Qr(t)+" must be at least "+n+" and at most "+r+", but was actually "+e)},ya=function(e,t,n,r){ve(e,t,["number","undefined"]),typeof e=="number"&&es(e,t,n,r)},kq=function(e,t,n){if(ve(e,t,["number"]),e%n!==0)throw new Error(Qr(t)+" must be a multiple of "+n+", but was actually "+e)},che=function(e,t){if(!Number.isInteger(e))throw new Error(Qr(t)+" must be an integer, but was actually "+e)},D5=function(e,t){if(![1,0].includes(Math.sign(e)))throw new Error(Qr(t)+" must be a positive number or 0, but was actually "+e)},qt=new Uint16Array(256);for(var d2=0;d2<256;d2++)qt[d2]=d2;qt[22]=Ft("");qt[24]=Ft("");qt[25]=Ft("");qt[26]=Ft("");qt[27]=Ft("");qt[28]=Ft("");qt[29]=Ft("");qt[30]=Ft("");qt[31]=Ft("");qt[127]=Ft("");qt[128]=Ft("");qt[129]=Ft("");qt[130]=Ft("");qt[131]=Ft("");qt[132]=Ft("");qt[133]=Ft("");qt[134]=Ft("");qt[135]=Ft("");qt[136]=Ft("");qt[137]=Ft("");qt[138]=Ft("");qt[139]=Ft("");qt[140]=Ft("");qt[141]=Ft("");qt[142]=Ft("");qt[143]=Ft("");qt[144]=Ft("");qt[145]=Ft("");qt[146]=Ft("");qt[147]=Ft("");qt[148]=Ft("");qt[149]=Ft("");qt[150]=Ft("");qt[151]=Ft("");qt[152]=Ft("");qt[153]=Ft("");qt[154]=Ft("");qt[155]=Ft("");qt[156]=Ft("");qt[157]=Ft("");qt[158]=Ft("");qt[159]=Ft("");qt[160]=Ft("");qt[173]=Ft("");var Cq=function(e){for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=qt[e[n]];return String.fromCodePoint.apply(String,t)},Rc=function(){function e(t){this.populate=t,this.value=void 0}return e.prototype.getValue=function(){return this.value},e.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},e.prototype.invalidate=function(){this.value=void 0},e.populatedBy=function(t){return new e(t)},e}(),Is=function(e){Ye(t,e);function t(n,r){var i=this,o="Method "+n+"."+r+"() not implemented";return i=e.call(this,o)||this,i}return t}(Error),xT=function(e){Ye(t,e);function t(n){var r=this,i="Cannot construct "+n+" - it has a private constructor";return r=e.call(this,i)||this,r}return t}(Error),i_=function(e){Ye(t,e);function t(n,r){var i=this,o=function(l){var c,u;return(c=l?.name)!==null&&c!==void 0?c:(u=l?.constructor)===null||u===void 0?void 0:u.name},s=Array.isArray(n)?n.map(o):[o(n)],a="Expected instance of "+s.join(" or ")+", "+("but got instance of "+(r&&o(r)));return i=e.call(this,a)||this,i}return t}(Error),uhe=function(e){Ye(t,e);function t(n){var r=this,i=n+" stream encoding not supported";return r=e.call(this,i)||this,r}return t}(Error),wT=function(e){Ye(t,e);function t(n,r){var i=this,o="Cannot call "+n+"."+r+"() more than once";return i=e.call(this,o)||this,i}return t}(Error);(function(e){Ye(t,e);function t(n){var r=this,i="Missing catalog (ref="+n+")";return r=e.call(this,i)||this,r}return t})(Error);var dhe=function(e){Ye(t,e);function t(){var n=this,r="Can't embed page with missing Contents";return n=e.call(this,r)||this,n}return t}(Error),fhe=function(e){Ye(t,e);function t(n){var r,i,o,s=this,a=(o=(i=(r=n?.contructor)===null||r===void 0?void 0:r.name)!==null&&i!==void 0?i:n?.name)!==null&&o!==void 0?o:n,l="Unrecognized stream type: "+a;return s=e.call(this,l)||this,s}return t}(Error),hhe=function(e){Ye(t,e);function t(){var n=this,r="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return n=e.call(this,r)||this,n}return t}(Error),phe=function(e){Ye(t,e);function t(n){var r=this,i="Attempted to convert PDFArray with "+n+" elements to rectangle, but must have exactly 4 elements.";return r=e.call(this,i)||this,r}return t}(Error),Nq=function(e){Ye(t,e);function t(n){var r=this,i='Attempted to convert "'+n+'" to a date, but it does not match the PDF date string format.';return r=e.call(this,i)||this,r}return t}(Error),OD=function(e){Ye(t,e);function t(n,r){var i=this,o="Invalid targetIndex specified: targetIndex="+n+" must be less than Count="+r;return i=e.call(this,o)||this,i}return t}(Error),LD=function(e){Ye(t,e);function t(n,r){var i=this,o="Failed to "+r+" at targetIndex="+n+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return i=e.call(this,o)||this,i}return t}(Error),o_=function(e){Ye(t,e);function t(n,r,i){var o=this,s="index should be at least "+r+" and at most "+i+", but was actually "+n;return o=e.call(this,s)||this,o}return t}(Error),_T=function(e){Ye(t,e);function t(){var n=this,r="Attempted to set invalid field value";return n=e.call(this,r)||this,n}return t}(Error),mhe=function(e){Ye(t,e);function t(){var n=this,r="Attempted to select multiple values for single-select field";return n=e.call(this,r)||this,n}return t}(Error),ghe=function(e){Ye(t,e);function t(n){var r=this,i="No /DA (default appearance) entry found for field: "+n;return r=e.call(this,i)||this,r}return t}(Error),vhe=function(e){Ye(t,e);function t(n){var r=this,i="No Tf operator found for DA of field: "+n;return r=e.call(this,i)||this,r}return t}(Error),MD=function(e){Ye(t,e);function t(n,r){var i=this,o="Failed to parse number "+("(line:"+n.line+" col:"+n.column+" offset="+n.offset+'): "'+r+'"');return i=e.call(this,o)||this,i}return t}(Error),Bd=function(e){Ye(t,e);function t(n,r){var i=this,o="Failed to parse PDF document "+("(line:"+n.line+" col:"+n.column+" offset="+n.offset+"): "+r);return i=e.call(this,o)||this,i}return t}(Error),yhe=function(e){Ye(t,e);function t(n,r,i){var o=this,s="Expected next byte to be "+r+" but it was actually "+i;return o=e.call(this,n,s)||this,o}return t}(Bd),bhe=function(e){Ye(t,e);function t(n,r){var i=this,o="Failed to parse PDF object starting with the following byte: "+r;return i=e.call(this,n,o)||this,i}return t}(Bd),xhe=function(e){Ye(t,e);function t(n){var r=this,i="Failed to parse invalid PDF object";return r=e.call(this,n,i)||this,r}return t}(Bd),whe=function(e){Ye(t,e);function t(n){var r=this,i="Failed to parse PDF stream";return r=e.call(this,n,i)||this,r}return t}(Bd),_he=function(e){Ye(t,e);function t(n){var r=this,i="Failed to parse PDF literal string due to unbalanced parenthesis";return r=e.call(this,n,i)||this,r}return t}(Bd),She=function(e){Ye(t,e);function t(n){var r=this,i="Parser stalled";return r=e.call(this,n,i)||this,r}return t}(Bd),khe=function(e){Ye(t,e);function t(n){var r=this,i="No PDF header found";return r=e.call(this,n,i)||this,r}return t}(Bd),Che=function(e){Ye(t,e);function t(n,r){var i=this,o="Did not find expected keyword '"+EU(r)+"'";return i=e.call(this,n,o)||this,i}return t}(Bd),S4;(function(e){e[e.Null=0]="Null",e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Newline=10]="Newline",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationPoint=33]="ExclamationPoint",e[e.Hash=35]="Hash",e[e.Percent=37]="Percent",e[e.LeftParen=40]="LeftParen",e[e.RightParen=41]="RightParen",e[e.Plus=43]="Plus",e[e.Minus=45]="Minus",e[e.Dash=45]="Dash",e[e.Period=46]="Period",e[e.ForwardSlash=47]="ForwardSlash",e[e.Zero=48]="Zero",e[e.One=49]="One",e[e.Two=50]="Two",e[e.Three=51]="Three",e[e.Four=52]="Four",e[e.Five=53]="Five",e[e.Six=54]="Six",e[e.Seven=55]="Seven",e[e.Eight=56]="Eight",e[e.Nine=57]="Nine",e[e.LessThan=60]="LessThan",e[e.GreaterThan=62]="GreaterThan",e[e.A=65]="A",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.LeftSquareBracket=91]="LeftSquareBracket",e[e.BackSlash=92]="BackSlash",e[e.RightSquareBracket=93]="RightSquareBracket",e[e.a=97]="a",e[e.b=98]="b",e[e.d=100]="d",e[e.e=101]="e",e[e.f=102]="f",e[e.i=105]="i",e[e.j=106]="j",e[e.l=108]="l",e[e.m=109]="m",e[e.n=110]="n",e[e.o=111]="o",e[e.r=114]="r",e[e.s=115]="s",e[e.t=116]="t",e[e.u=117]="u",e[e.x=120]="x",e[e.LeftCurly=123]="LeftCurly",e[e.RightCurly=125]="RightCurly",e[e.Tilde=126]="Tilde"})(S4||(S4={}));const ee=S4;var qc={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var l in a)n(a,l)&&(o[l]=a[l])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,l,c){if(s.subarray&&o.subarray){o.set(s.subarray(a,a+l),c);return}for(var u=0;u<l;u++)o[c+u]=s[a+u]},flattenChunks:function(o){var s,a,l,c,u,d;for(l=0,s=0,a=o.length;s<a;s++)l+=o[s].length;for(d=new Uint8Array(l),c=0,s=0,a=o.length;s<a;s++)u=o[s],d.set(u,c),c+=u.length;return d}},i={arraySet:function(o,s,a,l,c){for(var u=0;u<l;u++)o[c+u]=s[a+u]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(qc);var py={},zl={},im={},Nhe=qc,Ahe=4,FD=0,BD=1,Ehe=2;function om(e){for(var t=e.length;--t>=0;)e[t]=0}var The=0,Aq=1,Phe=2,Rhe=3,jhe=258,ST=29,my=256,x1=my+1+ST,l0=30,kT=19,Eq=2*x1+1,Pf=15,p3=16,Dhe=7,CT=256,Tq=16,Pq=17,Rq=18,k4=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],px=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ihe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],jq=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ohe=512,wc=new Array((x1+2)*2);om(wc);var pv=new Array(l0*2);om(pv);var w1=new Array(Ohe);om(w1);var _1=new Array(jhe-Rhe+1);om(_1);var NT=new Array(ST);om(NT);var s_=new Array(l0);om(s_);function m3(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var Dq,Iq,Oq;function g3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function Lq(e){return e<256?w1[e]:w1[256+(e>>>7)]}function S1(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function To(e,t,n){e.bi_valid>p3-n?(e.bi_buf|=t<<e.bi_valid&65535,S1(e,e.bi_buf),e.bi_buf=t>>p3-e.bi_valid,e.bi_valid+=n-p3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function xl(e,t,n){To(e,n[t*2],n[t*2+1])}function Mq(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function Lhe(e){e.bi_valid===16?(S1(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function Mhe(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,f,m,g=0;for(h=0;h<=Pf;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<Eq;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,g++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=s[u-a]),m=n[u*2],e.opt_len+=m*(h+f),o&&(e.static_len+=m*(i[u*2+1]+f)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}}function Fq(e,t,n){var r=new Array(Pf+1),i=0,o,s;for(o=1;o<=Pf;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=Mq(r[a]++,a))}}function Fhe(){var e,t,n,r,i,o=new Array(Pf+1);for(n=0,r=0;r<ST-1;r++)for(NT[r]=n,e=0;e<1<<k4[r];e++)_1[n++]=r;for(_1[n-1]=r,i=0,r=0;r<16;r++)for(s_[r]=i,e=0;e<1<<px[r];e++)w1[i++]=r;for(i>>=7;r<l0;r++)for(s_[r]=i<<7,e=0;e<1<<px[r]-7;e++)w1[256+i++]=r;for(t=0;t<=Pf;t++)o[t]=0;for(e=0;e<=143;)wc[e*2+1]=8,e++,o[8]++;for(;e<=255;)wc[e*2+1]=9,e++,o[9]++;for(;e<=279;)wc[e*2+1]=7,e++,o[7]++;for(;e<=287;)wc[e*2+1]=8,e++,o[8]++;for(Fq(wc,x1+1,o),e=0;e<l0;e++)pv[e*2+1]=5,pv[e*2]=Mq(e,5);Dq=new m3(wc,k4,my+1,x1,Pf),Iq=new m3(pv,px,0,l0,Pf),Oq=new m3(new Array(0),Ihe,0,kT,Dhe)}function Bq(e){var t;for(t=0;t<x1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<l0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<kT;t++)e.bl_tree[t*2]=0;e.dyn_ltree[CT*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function zq(e){e.bi_valid>8?S1(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Bhe(e,t,n,r){zq(e),S1(e,n),S1(e,~n),Nhe.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function zD(e,t,n,r){var i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function v3(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&zD(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!zD(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function UD(e,t,n){var r,i,o=0,s,a;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,r===0?xl(e,i,t):(s=_1[i],xl(e,s+my+1,t),a=k4[s],a!==0&&(i-=NT[s],To(e,i,a)),r--,s=Lq(r),xl(e,s,n),a=px[s],a!==0&&(r-=s_[s],To(e,r,a)));while(o<e.last_lit);xl(e,CT,t)}function C4(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(e.heap_len=0,e.heap_max=Eq,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)v3(e,n,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],v3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[c*2]=n[s*2]+n[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=c,e.heap[1]=c++,v3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],Mhe(e,t),Fq(n,l,e.bl_count)}function qD(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[Tq*2]++):a<=10?e.bl_tree[Pq*2]++:e.bl_tree[Rq*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function HD(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do xl(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(xl(e,o,e.bl_tree),a--),xl(e,Tq,e.bl_tree),To(e,a-3,2)):a<=10?(xl(e,Pq,e.bl_tree),To(e,a-3,3)):(xl(e,Rq,e.bl_tree),To(e,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function zhe(e){var t;for(qD(e,e.dyn_ltree,e.l_desc.max_code),qD(e,e.dyn_dtree,e.d_desc.max_code),C4(e,e.bl_desc),t=kT-1;t>=3&&e.bl_tree[jq[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function Uhe(e,t,n,r){var i;for(To(e,t-257,5),To(e,n-1,5),To(e,r-4,4),i=0;i<r;i++)To(e,e.bl_tree[jq[i]*2+1],3);HD(e,e.dyn_ltree,t-1),HD(e,e.dyn_dtree,n-1)}function qhe(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return FD;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return BD;for(n=32;n<my;n++)if(e.dyn_ltree[n*2]!==0)return BD;return FD}var WD=!1;function Hhe(e){WD||(Fhe(),WD=!0),e.l_desc=new g3(e.dyn_ltree,Dq),e.d_desc=new g3(e.dyn_dtree,Iq),e.bl_desc=new g3(e.bl_tree,Oq),e.bi_buf=0,e.bi_valid=0,Bq(e)}function Uq(e,t,n,r){To(e,(The<<1)+(r?1:0),3),Bhe(e,t,n)}function Whe(e){To(e,Aq<<1,3),xl(e,CT,wc),Lhe(e)}function Vhe(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===Ehe&&(e.strm.data_type=qhe(e)),C4(e,e.l_desc),C4(e,e.d_desc),s=zhe(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?Uq(e,t,n,r):e.strategy===Ahe||o===i?(To(e,(Aq<<1)+(r?1:0),3),UD(e,wc,pv)):(To(e,(Phe<<1)+(r?1:0),3),Uhe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),UD(e,e.dyn_ltree,e.dyn_dtree)),Bq(e),r&&zq(e)}function Khe(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(_1[n]+my+1)*2]++,e.dyn_dtree[Lq(t)*2]++),e.last_lit===e.lit_bufsize-1}im._tr_init=Hhe;im._tr_stored_block=Uq;im._tr_flush_block=Vhe;im._tr_tally=Khe;im._tr_align=Whe;function Ghe(e,t,n,r){for(var i=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}var qq=Ghe;function Zhe(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var Xhe=Zhe();function $he(e,t,n,r){var i=Xhe,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}var Hq=$he,AT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ao=qc,Ws=im,Wq=qq,wu=Hq,Yhe=AT,Ph=0,Jhe=1,Qhe=3,md=4,VD=5,wl=0,KD=1,Vs=-2,epe=-3,y3=-5,tpe=-1,npe=1,f2=2,rpe=3,ipe=4,ope=0,spe=2,I5=8,ape=9,lpe=15,cpe=8,upe=29,dpe=256,N4=dpe+1+upe,fpe=30,hpe=19,ppe=2*N4+1,mpe=15,fn=3,Xu=258,Oa=Xu+fn+1,gpe=32,O5=42,A4=69,mx=73,gx=91,vx=103,Rf=113,jg=666,ri=1,gy=2,ch=3,sm=4,vpe=3;function $u(e,t){return e.msg=Yhe[t],t}function GD(e){return(e<<1)-(e>4?9:0)}function Fu(e){for(var t=e.length;--t>=0;)e[t]=0}function _u(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(ao.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function Ii(e,t){Ws._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_u(e.strm)}function Cn(e,t){e.pending_buf[e.pending++]=t}function sg(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function ype(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,ao.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=Wq(e.adler,t,i,n):e.state.wrap===2&&(e.adler=wu(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function Vq(e,t){var n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-Oa?e.strstart-(e.w_size-Oa):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+Xu,f=c[r+s-1],m=c[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+s]!==m||c[i+s-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(o=Xu-(h-r),r=h-Xu,o>s){if(e.match_start=t,s=o,o>=a)break;f=c[r+s-1],m=c[r+s]}}while((t=d[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function uh(e){var t=e.w_size,n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Oa)){ao.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);o+=t}if(e.strm.avail_in===0)break;if(r=ype(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=fn)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+fn-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<fn)););}while(e.lookahead<Oa&&e.strm.avail_in!==0)}function bpe(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(uh(e),e.lookahead===0&&t===Ph)return ri;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Ii(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-Oa&&(Ii(e,!1),e.strm.avail_out===0))return ri}return e.insert=0,t===md?(Ii(e,!0),e.strm.avail_out===0?ch:sm):(e.strstart>e.block_start&&(Ii(e,!1),e.strm.avail_out===0),ri)}function b3(e,t){for(var n,r;;){if(e.lookahead<Oa){if(uh(e),e.lookahead<Oa&&t===Ph)return ri;if(e.lookahead===0)break}if(n=0,e.lookahead>=fn&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Oa&&(e.match_length=Vq(e,n)),e.match_length>=fn)if(r=Ws._tr_tally(e,e.strstart-e.match_start,e.match_length-fn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=fn){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Ws._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ii(e,!1),e.strm.avail_out===0))return ri}return e.insert=e.strstart<fn-1?e.strstart:fn-1,t===md?(Ii(e,!0),e.strm.avail_out===0?ch:sm):e.last_lit&&(Ii(e,!1),e.strm.avail_out===0)?ri:gy}function fp(e,t){for(var n,r,i;;){if(e.lookahead<Oa){if(uh(e),e.lookahead<Oa&&t===Ph)return ri;if(e.lookahead===0)break}if(n=0,e.lookahead>=fn&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=fn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Oa&&(e.match_length=Vq(e,n),e.match_length<=5&&(e.strategy===npe||e.match_length===fn&&e.strstart-e.match_start>4096)&&(e.match_length=fn-1)),e.prev_length>=fn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-fn,r=Ws._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-fn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+fn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=fn-1,e.strstart++,r&&(Ii(e,!1),e.strm.avail_out===0))return ri}else if(e.match_available){if(r=Ws._tr_tally(e,0,e.window[e.strstart-1]),r&&Ii(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ri}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ws._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<fn-1?e.strstart:fn-1,t===md?(Ii(e,!0),e.strm.avail_out===0?ch:sm):e.last_lit&&(Ii(e,!1),e.strm.avail_out===0)?ri:gy}function xpe(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=Xu){if(uh(e),e.lookahead<=Xu&&t===Ph)return ri;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=fn&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+Xu;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=Xu-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=fn?(n=Ws._tr_tally(e,1,e.match_length-fn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ws._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ii(e,!1),e.strm.avail_out===0))return ri}return e.insert=0,t===md?(Ii(e,!0),e.strm.avail_out===0?ch:sm):e.last_lit&&(Ii(e,!1),e.strm.avail_out===0)?ri:gy}function wpe(e,t){for(var n;;){if(e.lookahead===0&&(uh(e),e.lookahead===0)){if(t===Ph)return ri;break}if(e.match_length=0,n=Ws._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ii(e,!1),e.strm.avail_out===0))return ri}return e.insert=0,t===md?(Ii(e,!0),e.strm.avail_out===0?ch:sm):e.last_lit&&(Ii(e,!1),e.strm.avail_out===0)?ri:gy}function il(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Kp;Kp=[new il(0,0,0,0,bpe),new il(4,4,8,4,b3),new il(4,5,16,8,b3),new il(4,6,32,32,b3),new il(4,4,16,16,fp),new il(8,16,32,32,fp),new il(8,16,128,128,fp),new il(8,32,128,256,fp),new il(32,128,258,1024,fp),new il(32,258,258,4096,fp)];function _pe(e){e.window_size=2*e.w_size,Fu(e.head),e.max_lazy_match=Kp[e.level].max_lazy,e.good_match=Kp[e.level].good_length,e.nice_match=Kp[e.level].nice_length,e.max_chain_length=Kp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=fn-1,e.match_available=0,e.ins_h=0}function Spe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new ao.Buf16(ppe*2),this.dyn_dtree=new ao.Buf16((2*fpe+1)*2),this.bl_tree=new ao.Buf16((2*hpe+1)*2),Fu(this.dyn_ltree),Fu(this.dyn_dtree),Fu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new ao.Buf16(mpe+1),this.heap=new ao.Buf16(2*N4+1),Fu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new ao.Buf16(2*N4+1),Fu(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Kq(e){var t;return!e||!e.state?$u(e,Vs):(e.total_in=e.total_out=0,e.data_type=spe,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?O5:Rf,e.adler=t.wrap===2?0:1,t.last_flush=Ph,Ws._tr_init(t),wl)}function Gq(e){var t=Kq(e);return t===wl&&_pe(e.state),t}function kpe(e,t){return!e||!e.state||e.state.wrap!==2?Vs:(e.state.gzhead=t,wl)}function Zq(e,t,n,r,i,o){if(!e)return Vs;var s=1;if(t===tpe&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>ape||n!==I5||r<8||r>15||t<0||t>9||o<0||o>ipe)return $u(e,Vs);r===8&&(r=9);var a=new Spe;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+fn-1)/fn),a.window=new ao.Buf8(a.w_size*2),a.head=new ao.Buf16(a.hash_size),a.prev=new ao.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new ao.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,Gq(e)}function Cpe(e,t){return Zq(e,t,I5,lpe,cpe,ope)}function Npe(e,t){var n,r,i,o;if(!e||!e.state||t>VD||t<0)return e?$u(e,Vs):Vs;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===jg&&t!==md)return $u(e,e.avail_out===0?y3:Vs);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===O5)if(r.wrap===2)e.adler=0,Cn(r,31),Cn(r,139),Cn(r,8),r.gzhead?(Cn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Cn(r,r.gzhead.time&255),Cn(r,r.gzhead.time>>8&255),Cn(r,r.gzhead.time>>16&255),Cn(r,r.gzhead.time>>24&255),Cn(r,r.level===9?2:r.strategy>=f2||r.level<2?4:0),Cn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Cn(r,r.gzhead.extra.length&255),Cn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=wu(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=A4):(Cn(r,0),Cn(r,0),Cn(r,0),Cn(r,0),Cn(r,0),Cn(r,r.level===9?2:r.strategy>=f2||r.level<2?4:0),Cn(r,vpe),r.status=Rf);else{var s=I5+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=f2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=gpe),s+=31-s%31,r.status=Rf,sg(r,s),r.strstart!==0&&(sg(r,e.adler>>>16),sg(r,e.adler&65535)),e.adler=1}if(r.status===A4)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=wu(e.adler,r.pending_buf,r.pending-i,i)),_u(e),i=r.pending,r.pending===r.pending_buf_size));)Cn(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=wu(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=mx)}else r.status=mx;if(r.status===mx)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=wu(e.adler,r.pending_buf,r.pending-i,i)),_u(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,Cn(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=wu(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=gx)}else r.status=gx;if(r.status===gx)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=wu(e.adler,r.pending_buf,r.pending-i,i)),_u(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,Cn(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=wu(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=vx)}else r.status=vx;if(r.status===vx&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&_u(e),r.pending+2<=r.pending_buf_size&&(Cn(r,e.adler&255),Cn(r,e.adler>>8&255),e.adler=0,r.status=Rf)):r.status=Rf),r.pending!==0){if(_u(e),e.avail_out===0)return r.last_flush=-1,wl}else if(e.avail_in===0&&GD(t)<=GD(n)&&t!==md)return $u(e,y3);if(r.status===jg&&e.avail_in!==0)return $u(e,y3);if(e.avail_in!==0||r.lookahead!==0||t!==Ph&&r.status!==jg){var l=r.strategy===f2?wpe(r,t):r.strategy===rpe?xpe(r,t):Kp[r.level].func(r,t);if((l===ch||l===sm)&&(r.status=jg),l===ri||l===ch)return e.avail_out===0&&(r.last_flush=-1),wl;if(l===gy&&(t===Jhe?Ws._tr_align(r):t!==VD&&(Ws._tr_stored_block(r,0,0,!1),t===Qhe&&(Fu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),_u(e),e.avail_out===0))return r.last_flush=-1,wl}return t!==md?wl:r.wrap<=0?KD:(r.wrap===2?(Cn(r,e.adler&255),Cn(r,e.adler>>8&255),Cn(r,e.adler>>16&255),Cn(r,e.adler>>24&255),Cn(r,e.total_in&255),Cn(r,e.total_in>>8&255),Cn(r,e.total_in>>16&255),Cn(r,e.total_in>>24&255)):(sg(r,e.adler>>>16),sg(r,e.adler&65535)),_u(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?wl:KD)}function Ape(e){var t;return!e||!e.state?Vs:(t=e.state.status,t!==O5&&t!==A4&&t!==mx&&t!==gx&&t!==vx&&t!==Rf&&t!==jg?$u(e,Vs):(e.state=null,t===Rf?$u(e,epe):wl))}function Epe(e,t){var n=t.length,r,i,o,s,a,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==O5||r.lookahead))return Vs;for(s===1&&(e.adler=Wq(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Fu(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new ao.Buf8(r.w_size),ao.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,uh(r);r.lookahead>=fn;){i=r.strstart,o=r.lookahead-(fn-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+fn-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=fn-1,uh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=fn-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,r.wrap=s,wl}zl.deflateInit=Cpe;zl.deflateInit2=Zq;zl.deflateReset=Gq;zl.deflateResetKeep=Kq;zl.deflateSetHeader=kpe;zl.deflate=Npe;zl.deflateEnd=Ape;zl.deflateSetDictionary=Epe;zl.deflateInfo="pako deflate (from Nodeca project)";var Rh={},L5=qc,Xq=!0,$q=!0;try{String.fromCharCode.apply(null,[0])}catch{Xq=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$q=!1}var k1=new L5.Buf8(256);for(var fu=0;fu<256;fu++)k1[fu]=fu>=252?6:fu>=248?5:fu>=240?4:fu>=224?3:fu>=192?2:1;k1[254]=k1[254]=1;Rh.string2buf=function(e){var t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new L5.Buf8(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};function Yq(e,t){if(t<65534&&(e.subarray&&$q||!e.subarray&&Xq))return String.fromCharCode.apply(null,L5.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Rh.buf2binstring=function(e){return Yq(e,e.length)};Rh.binstring2buf=function(e){for(var t=new L5.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};Rh.buf2string=function(e,t){var n,r,i,o,s=t||e.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){a[r++]=i;continue}if(o=k1[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|e[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return Yq(a,r)};Rh.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+k1[e[n]]>t?n:t};function Tpe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Jq=Tpe,mv=zl,gv=qc,E4=Rh,T4=AT,Ppe=Jq,Qq=Object.prototype.toString,Rpe=0,x3=4,c0=0,ZD=1,XD=2,jpe=-1,Dpe=0,Ipe=8;function dh(e){if(!(this instanceof dh))return new dh(e);this.options=gv.assign({level:jpe,method:Ipe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Dpe,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ppe,this.strm.avail_out=0;var n=mv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c0)throw new Error(T4[n]);if(t.header&&mv.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=E4.string2buf(t.dictionary):Qq.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=mv.deflateSetDictionary(this.strm,r),n!==c0)throw new Error(T4[n]);this._dict_set=!0}}dh.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=t===~~t?t:t===!0?x3:Rpe,typeof e=="string"?n.input=E4.string2buf(e):Qq.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new gv.Buf8(r),n.next_out=0,n.avail_out=r),i=mv.deflate(n,o),i!==ZD&&i!==c0)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===x3||o===XD))&&(this.options.to==="string"?this.onData(E4.buf2binstring(gv.shrinkBuf(n.output,n.next_out))):this.onData(gv.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==ZD);return o===x3?(i=mv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===c0):(o===XD&&(this.onEnd(c0),n.avail_out=0),!0)};dh.prototype.onData=function(e){this.chunks.push(e)};dh.prototype.onEnd=function(e){e===c0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function ET(e,t){var n=new dh(t);if(n.push(e,!0),n.err)throw n.msg||T4[n.err];return n.result}function Ope(e,t){return t=t||{},t.raw=!0,ET(e,t)}function Lpe(e,t){return t=t||{},t.gzip=!0,ET(e,t)}py.Deflate=dh;py.deflate=ET;py.deflateRaw=Ope;py.gzip=Lpe;var vy={},Ha={},h2=30,Mpe=12,Fpe=function(t,n){var r,i,o,s,a,l,c,u,d,h,f,m,g,y,v,x,_,S,k,T,P,N,A,D,C;r=t.state,i=t.next_in,D=t.input,o=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,d=r.whave,h=r.wnext,f=r.window,m=r.hold,g=r.bits,y=r.lencode,v=r.distcode,x=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{g<15&&(m+=D[i++]<<g,g+=8,m+=D[i++]<<g,g+=8),S=y[m&x];t:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,k===0)C[s++]=S&65535;else if(k&16){T=S&65535,k&=15,k&&(g<k&&(m+=D[i++]<<g,g+=8),T+=m&(1<<k)-1,m>>>=k,g-=k),g<15&&(m+=D[i++]<<g,g+=8,m+=D[i++]<<g,g+=8),S=v[m&_];n:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,k&16){if(P=S&65535,k&=15,g<k&&(m+=D[i++]<<g,g+=8,g<k&&(m+=D[i++]<<g,g+=8)),P+=m&(1<<k)-1,P>c){t.msg="invalid distance too far back",r.mode=h2;break e}if(m>>>=k,g-=k,k=s-a,P>k){if(k=P-k,k>d&&r.sane){t.msg="invalid distance too far back",r.mode=h2;break e}if(N=0,A=f,h===0){if(N+=u-k,k<T){T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}}else if(h<k){if(N+=u+h-k,k-=h,k<T){T-=k;do C[s++]=f[N++];while(--k);if(N=0,h<T){k=h,T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}}}else if(N+=h-k,k<T){T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}for(;T>2;)C[s++]=A[N++],C[s++]=A[N++],C[s++]=A[N++],T-=3;T&&(C[s++]=A[N++],T>1&&(C[s++]=A[N++]))}else{N=s-P;do C[s++]=C[N++],C[s++]=C[N++],C[s++]=C[N++],T-=3;while(T>2);T&&(C[s++]=C[N++],T>1&&(C[s++]=C[N++]))}}else if(k&64){t.msg="invalid distance code",r.mode=h2;break e}else{S=v[(S&65535)+(m&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){r.mode=Mpe;break e}else{t.msg="invalid literal/length code",r.mode=h2;break e}else{S=y[(S&65535)+(m&(1<<k)-1)];continue t}break}}while(i<o&&s<l);T=g>>3,i-=T,g-=T<<3,m&=(1<<g)-1,t.next_in=i,t.next_out=s,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=m,r.bits=g},$D=qc,hp=15,YD=852,JD=592,QD=0,w3=1,eI=2,Bpe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],zpe=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Upe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],qpe=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Hpe=function(t,n,r,i,o,s,a,l){var c=l.bits,u=0,d=0,h=0,f=0,m=0,g=0,y=0,v=0,x=0,_=0,S,k,T,P,N,A=null,D=0,C,j=new $D.Buf16(hp+1),L=new $D.Buf16(hp+1),z=null,K=0,H,Z,W;for(u=0;u<=hp;u++)j[u]=0;for(d=0;d<i;d++)j[n[r+d]]++;for(m=c,f=hp;f>=1&&j[f]===0;f--);if(m>f&&(m=f),f===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<f&&j[h]===0;h++);for(m<h&&(m=h),v=1,u=1;u<=hp;u++)if(v<<=1,v-=j[u],v<0)return-1;if(v>0&&(t===QD||f!==1))return-1;for(L[1]=0,u=1;u<hp;u++)L[u+1]=L[u]+j[u];for(d=0;d<i;d++)n[r+d]!==0&&(a[L[n[r+d]]++]=d);if(t===QD?(A=z=a,C=19):t===w3?(A=Bpe,D-=257,z=zpe,K-=257,C=256):(A=Upe,z=qpe,C=-1),_=0,d=0,u=h,N=s,g=m,y=0,T=-1,x=1<<m,P=x-1,t===w3&&x>YD||t===eI&&x>JD)return 1;for(;;){H=u-y,a[d]<C?(Z=0,W=a[d]):a[d]>C?(Z=z[K+a[d]],W=A[D+a[d]]):(Z=96,W=0),S=1<<u-y,k=1<<g,h=k;do k-=S,o[N+(_>>y)+k]=H<<24|Z<<16|W|0;while(k!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,d++,--j[u]===0){if(u===f)break;u=n[r+a[d]]}if(u>m&&(_&P)!==T){for(y===0&&(y=m),N+=h,g=u-y,v=1<<g;g+y<f&&(v-=j[g+y],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===w3&&x>YD||t===eI&&x>JD)return 1;T=_&P,o[T]=m<<24|g<<16|N-s|0}}return _!==0&&(o[N+_]=u-y<<24|64<<16|0),l.bits=m,0},ts=qc,P4=qq,ol=Hq,Wpe=Fpe,vv=Hpe,Vpe=0,eH=1,tH=2,tI=4,Kpe=5,p2=6,fh=0,Gpe=1,Zpe=2,Qs=-2,nH=-3,rH=-4,Xpe=-5,nI=8,iH=1,rI=2,iI=3,oI=4,sI=5,aI=6,lI=7,cI=8,uI=9,dI=10,a_=11,lc=12,_3=13,fI=14,S3=15,hI=16,pI=17,mI=18,gI=19,m2=20,g2=21,vI=22,yI=23,bI=24,xI=25,wI=26,k3=27,_I=28,SI=29,ir=30,oH=31,$pe=32,Ype=852,Jpe=592,Qpe=15,e0e=Qpe;function kI(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function t0e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ts.Buf16(320),this.work=new ts.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function sH(e){var t;return!e||!e.state?Qs:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=iH,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new ts.Buf32(Ype),t.distcode=t.distdyn=new ts.Buf32(Jpe),t.sane=1,t.back=-1,fh)}function aH(e){var t;return!e||!e.state?Qs:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,sH(e))}function lH(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?Qs:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,aH(e))}function cH(e,t){var n,r;return e?(r=new t0e,e.state=r,r.window=null,n=lH(e,t),n!==fh&&(e.state=null),n):Qs}function n0e(e){return cH(e,e0e)}var CI=!0,C3,N3;function r0e(e){if(CI){var t;for(C3=new ts.Buf32(512),N3=new ts.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(vv(eH,e.lens,0,288,C3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;vv(tH,e.lens,0,32,N3,0,e.work,{bits:5}),CI=!1}e.lencode=C3,e.lenbits=9,e.distcode=N3,e.distbits=5}function uH(e,t,n,r){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new ts.Buf8(o.wsize)),r>=o.wsize?(ts.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),ts.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(ts.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function i0e(e,t){var n,r,i,o,s,a,l,c,u,d,h,f,m,g,y=0,v,x,_,S,k,T,P,N,A=new ts.Buf8(4),D,C,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return Qs;n=e.state,n.mode===lc&&(n.mode=_3),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,N=fh;e:for(;;)switch(n.mode){case iH:if(n.wrap===0){n.mode=_3;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,A[0]=c&255,A[1]=c>>>8&255,n.check=ol(n.check,A,2,0),c=0,u=0,n.mode=rI;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=ir;break}if((c&15)!==nI){e.msg="unknown compression method",n.mode=ir;break}if(c>>>=4,u-=4,P=(c&15)+8,n.wbits===0)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=ir;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=c&512?dI:lc,c=0,u=0;break;case rI:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==nI){e.msg="unknown compression method",n.mode=ir;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=ir;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=ol(n.check,A,2,0)),c=0,u=0,n.mode=iI;case iI:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=ol(n.check,A,4,0)),c=0,u=0,n.mode=oI;case oI:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=ol(n.check,A,2,0)),c=0,u=0,n.mode=sI;case sI:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=ol(n.check,A,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=aI;case aI:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),ts.arraySet(n.head.extra,r,o,f,P)),n.flags&512&&(n.check=ol(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=lI;case lI:if(n.flags&2048){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&(n.check=ol(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=cI;case cI:if(n.flags&4096){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&(n.check=ol(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.comment=null);n.mode=uI;case uI:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=ir;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=lc;break;case dI:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}e.adler=n.check=kI(c),c=0,u=0,n.mode=a_;case a_:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,Zpe;e.adler=n.check=1,n.mode=lc;case lc:if(t===Kpe||t===p2)break e;case _3:if(n.last){c>>>=u&7,u-=u&7,n.mode=k3;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=fI;break;case 1:if(r0e(n),n.mode=m2,t===p2){c>>>=2,u-=2;break e}break;case 2:n.mode=pI;break;case 3:e.msg="invalid block type",n.mode=ir}c>>>=2,u-=2;break;case fI:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ir;break}if(n.length=c&65535,c=0,u=0,n.mode=S3,t===p2)break e;case S3:n.mode=hI;case hI:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;ts.arraySet(i,r,o,f,s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=lc;break;case pI:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ir;break}n.have=0,n.mode=mI;case mI:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[j[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=vv(Vpe,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid code lengths set",n.mode=ir;break}n.have=0,n.mode=gI;case gI:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(_<16)c>>>=v,u-=v,n.lens[n.have++]=_;else{if(_===16){for(C=v+2;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=ir;break}P=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(_===17){for(C=v+3;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=3+(c&7),c>>>=3,u-=3}else{for(C=v+7;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ir;break}for(;f--;)n.lens[n.have++]=P}}if(n.mode===ir)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=ir;break}if(n.lenbits=9,D={bits:n.lenbits},N=vv(eH,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid literal/lengths set",n.mode=ir;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=vv(tH,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){e.msg="invalid distances set",n.mode=ir;break}if(n.mode=m2,t===p2)break e;case m2:n.mode=g2;case g2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,Wpe(e,h),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===lc&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(x&&!(x&240)){for(S=v,k=x,T=_;y=n.lencode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,n.length=_,x===0){n.mode=wI;break}if(x&32){n.back=-1,n.mode=lc;break}if(x&64){e.msg="invalid literal/length code",n.mode=ir;break}n.extra=x&15,n.mode=vI;case vI:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=yI;case yI:for(;y=n.distcode[c&(1<<n.distbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(!(x&240)){for(S=v,k=x,T=_;y=n.distcode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,x&64){e.msg="invalid distance code",n.mode=ir;break}n.offset=_,n.extra=x&15,n.mode=bI;case bI:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ir;break}n.mode=xI;case xI:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ir;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,m=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=g[m++];while(--f);n.length===0&&(n.mode=g2);break;case wI:if(l===0)break e;i[s++]=n.length,l--,n.mode=g2;break;case k3:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?ol(n.check,i,h,s-h):P4(n.check,i,h,s-h)),h=l,(n.flags?c:kI(c))!==n.check){e.msg="incorrect data check",n.mode=ir;break}c=0,u=0}n.mode=_I;case _I:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=ir;break}c=0,u=0}n.mode=SI;case SI:N=Gpe;break e;case ir:N=nH;break e;case oH:return rH;case $pe:default:return Qs}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<ir&&(n.mode<k3||t!==tI))&&uH(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?ol(n.check,i,h,e.next_out-h):P4(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===lc?128:0)+(n.mode===m2||n.mode===S3?256:0),(d===0&&h===0||t===tI)&&N===fh&&(N=Xpe),N}function o0e(e){if(!e||!e.state)return Qs;var t=e.state;return t.window&&(t.window=null),e.state=null,fh}function s0e(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?Qs:(n.head=t,t.done=!1,fh)}function a0e(e,t){var n=t.length,r,i,o;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==a_)?Qs:r.mode===a_&&(i=1,i=P4(i,t,n,0),i!==r.check)?nH:(o=uH(e,t,n,n),o?(r.mode=oH,rH):(r.havedict=1,fh))}Ha.inflateReset=aH;Ha.inflateReset2=lH;Ha.inflateResetKeep=sH;Ha.inflateInit=n0e;Ha.inflateInit2=cH;Ha.inflate=i0e;Ha.inflateEnd=o0e;Ha.inflateGetHeader=s0e;Ha.inflateSetDictionary=a0e;Ha.inflateInfo="pako inflate (from Nodeca project)";var dH={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function l0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var c0e=l0e,u0=Ha,yv=qc,yx=Rh,Pr=dH,R4=AT,u0e=Jq,d0e=c0e,fH=Object.prototype.toString;function hh(e){if(!(this instanceof hh))return new hh(e);this.options=yv.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u0e,this.strm.avail_out=0;var n=u0.inflateInit2(this.strm,t.windowBits);if(n!==Pr.Z_OK)throw new Error(R4[n]);if(this.header=new d0e,u0.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=yx.string2buf(t.dictionary):fH.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=u0.inflateSetDictionary(this.strm,t.dictionary),n!==Pr.Z_OK)))throw new Error(R4[n])}hh.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Pr.Z_FINISH:Pr.Z_NO_FLUSH,typeof e=="string"?n.input=yx.binstring2buf(e):fH.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new yv.Buf8(r),n.next_out=0,n.avail_out=r),o=u0.inflate(n,Pr.Z_NO_FLUSH),o===Pr.Z_NEED_DICT&&i&&(o=u0.inflateSetDictionary(this.strm,i)),o===Pr.Z_BUF_ERROR&&u===!0&&(o=Pr.Z_OK,u=!1),o!==Pr.Z_STREAM_END&&o!==Pr.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===Pr.Z_STREAM_END||n.avail_in===0&&(s===Pr.Z_FINISH||s===Pr.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=yx.utf8border(n.output,n.next_out),l=n.next_out-a,c=yx.buf2string(n.output,a),n.next_out=l,n.avail_out=r-l,l&&yv.arraySet(n.output,n.output,a,l,0),this.onData(c)):this.onData(yv.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==Pr.Z_STREAM_END);return o===Pr.Z_STREAM_END&&(s=Pr.Z_FINISH),s===Pr.Z_FINISH?(o=u0.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Pr.Z_OK):(s===Pr.Z_SYNC_FLUSH&&(this.onEnd(Pr.Z_OK),n.avail_out=0),!0)};hh.prototype.onData=function(e){this.chunks.push(e)};hh.prototype.onEnd=function(e){e===Pr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=yv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function TT(e,t){var n=new hh(t);if(n.push(e,!0),n.err)throw n.msg||R4[n.err];return n.result}function f0e(e,t){return t=t||{},t.raw=!0,TT(e,t)}vy.Inflate=hh;vy.inflate=TT;vy.inflateRaw=f0e;vy.ungzip=TT;var h0e=qc.assign,p0e=py,m0e=vy,g0e=dH,hH={};h0e(hH,p0e,m0e,g0e);var v0e=hH;const pH=W1(v0e);var M5=function(){function e(t,n){this.major=String(t),this.minor=String(n)}return e.prototype.toString=function(){var t=Pc(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},e.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},e.prototype.copyBytesInto=function(t,n){var r=n;return t[n++]=ee.Percent,t[n++]=ee.P,t[n++]=ee.D,t[n++]=ee.F,t[n++]=ee.Dash,n+=ji(this.major,t,n),t[n++]=ee.Period,n+=ji(this.minor,t,n),t[n++]=ee.Newline,t[n++]=ee.Percent,t[n++]=129,t[n++]=129,t[n++]=129,t[n++]=129,n-r},e.forVersion=function(t,n){return new e(t,n)},e}(),ho=function(){function e(){}return e.prototype.clone=function(t){throw new Is(this.constructor.name,"clone")},e.prototype.toString=function(){throw new Is(this.constructor.name,"toString")},e.prototype.sizeInBytes=function(){throw new Is(this.constructor.name,"sizeInBytes")},e.prototype.copyBytesInto=function(t,n){throw new Is(this.constructor.name,"copyBytesInto")},e}(),Ot=function(e){Ye(t,e);function t(n){var r=e.call(this)||this;return r.numberValue=n,r.stringValue=Uue(n),r}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(n,r){return r+=ji(this.stringValue,n,r),this.stringValue.length},t.of=function(n){return new t(n)},t}(ho),wn=function(e){Ye(t,e);function t(n){var r=e.call(this)||this;return r.array=[],r.context=n,r}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(n){this.array.push(n)},t.prototype.insert=function(n,r){this.array.splice(n,0,r)},t.prototype.indexOf=function(n){var r=this.array.indexOf(n);return r===-1?void 0:r},t.prototype.remove=function(n){this.array.splice(n,1)},t.prototype.set=function(n,r){this.array[n]=r},t.prototype.get=function(n){return this.array[n]},t.prototype.lookupMaybe=function(n){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(r=this.context).lookupMaybe.apply(r,mn([this.get(n)],i))},t.prototype.lookup=function(n){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return(r=this.context).lookup.apply(r,mn([this.get(n)],i))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new phe(this.size());var n=this.lookup(0,Ot).asNumber(),r=this.lookup(1,Ot).asNumber(),i=this.lookup(2,Ot).asNumber(),o=this.lookup(3,Ot).asNumber(),s=n,a=r,l=i-n,c=o-r;return{x:s,y:a,width:l,height:c}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(n){for(var r=t.withContext(n||this.context),i=0,o=this.size();i<o;i++)r.push(this.array[i]);return r},t.prototype.toString=function(){for(var n="[ ",r=0,i=this.size();r<i;r++)n+=this.get(r).toString(),n+=" ";return n+="]",n},t.prototype.sizeInBytes=function(){for(var n=3,r=0,i=this.size();r<i;r++)n+=this.get(r).sizeInBytes()+1;return n},t.prototype.copyBytesInto=function(n,r){var i=r;n[r++]=ee.LeftSquareBracket,n[r++]=ee.Space;for(var o=0,s=this.size();o<s;o++)r+=this.get(o).copyBytesInto(n,r),n[r++]=ee.Space;return n[r++]=ee.RightSquareBracket,r-i},t.prototype.scalePDFNumbers=function(n,r){for(var i=0,o=this.size();i<o;i++){var s=this.lookup(i);if(s instanceof Ot){var a=i%2===0?n:r;this.set(i,Ot.of(s.asNumber()*a))}}},t.withContext=function(n){return new t(n)},t}(ho),A3={},C1=function(e){Ye(t,e);function t(n,r){var i=this;if(n!==A3)throw new xT("PDFBool");return i=e.call(this)||this,i.value=r,i}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(n,r){return this.value?(n[r++]=ee.t,n[r++]=ee.r,n[r++]=ee.u,n[r++]=ee.e,4):(n[r++]=ee.f,n[r++]=ee.a,n[r++]=ee.l,n[r++]=ee.s,n[r++]=ee.e,5)},t.True=new t(A3,!0),t.False=new t(A3,!1),t}(ho),sa=new Uint8Array(256);sa[ee.LeftParen]=1;sa[ee.RightParen]=1;sa[ee.LessThan]=1;sa[ee.GreaterThan]=1;sa[ee.LeftSquareBracket]=1;sa[ee.RightSquareBracket]=1;sa[ee.LeftCurly]=1;sa[ee.RightCurly]=1;sa[ee.ForwardSlash]=1;sa[ee.Percent]=1;var Hc=new Uint8Array(256);Hc[ee.Null]=1;Hc[ee.Tab]=1;Hc[ee.Newline]=1;Hc[ee.FormFeed]=1;Hc[ee.CarriageReturn]=1;Hc[ee.Space]=1;var PT=new Uint8Array(256);for(var ag=0,y0e=256;ag<y0e;ag++)PT[ag]=Hc[ag]||sa[ag]?1:0;PT[ee.Hash]=1;var b0e=function(e){return e.replace(/#([\dABCDEF]{2})/g,function(t,n){return wue(n)})},x0e=function(e){return e>=ee.ExclamationPoint&&e<=ee.Tilde&&!PT[e]},NI={},AI=new Map,J=function(e){Ye(t,e);function t(n,r){var i=this;if(n!==NI)throw new xT("PDFName");i=e.call(this)||this;for(var o="/",s=0,a=r.length;s<a;s++){var l=r[s],c=Ft(l);o+=x0e(c)?l:"#"+E5(c)}return i.encodedName=o,i}return t.prototype.asBytes=function(){for(var n=[],r="",i=!1,o=function(d){d!==void 0&&n.push(d),i=!1},s=1,a=this.encodedName.length;s<a;s++){var l=this.encodedName[s],c=Ft(l),u=this.encodedName[s+1];i?c>=ee.Zero&&c<=ee.Nine||c>=ee.a&&c<=ee.f||c>=ee.A&&c<=ee.F?(r+=l,(r.length===2||!(u>="0"&&u<="9"||u>="a"&&u<="f"||u>="A"&&u<="F"))&&(o(parseInt(r,16)),r="")):o(c):c===ee.Hash?i=!0:o(c)}return new Uint8Array(n)},t.prototype.decodeText=function(){var n=this.asBytes();return String.fromCharCode.apply(String,Array.from(n))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(n,r){return r+=ji(this.encodedName,n,r),this.encodedName.length},t.of=function(n){var r=b0e(n),i=AI.get(r);return i||(i=new t(NI,r),AI.set(r,i)),i},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t}(ho),w0e=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(n,r){return n[r++]=ee.n,n[r++]=ee.u,n[r++]=ee.l,n[r++]=ee.l,4},t}(ho);const So=new w0e;var Vt=function(e){Ye(t,e);function t(n,r){var i=e.call(this)||this;return i.dict=n,i.context=r,i}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(n,r){this.dict.set(n,r)},t.prototype.get=function(n,r){r===void 0&&(r=!1);var i=this.dict.get(n);if(!(i===So&&!r))return i},t.prototype.has=function(n){var r=this.dict.get(n);return r!==void 0&&r!==So},t.prototype.lookupMaybe=function(n){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=i.includes(So),a=(r=this.context).lookupMaybe.apply(r,mn([this.get(n,s)],i));if(!(a===So&&!s))return a},t.prototype.lookup=function(n){for(var r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=i.includes(So),a=(r=this.context).lookup.apply(r,mn([this.get(n,s)],i));if(!(a===So&&!s))return a},t.prototype.delete=function(n){return this.dict.delete(n)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(n){n===void 0&&(n="");for(var r=this.keys(),i=J.of(this.context.addRandomSuffix(n,10));r.includes(i);)i=J.of(this.context.addRandomSuffix(n,10));return i},t.prototype.clone=function(n){for(var r=t.withContext(n||this.context),i=this.entries(),o=0,s=i.length;o<s;o++){var a=i[o],l=a[0],c=a[1];r.set(l,c)}return r},t.prototype.toString=function(){for(var n=`<<
`,r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],l=s[1];n+=a.toString()+" "+l.toString()+`
`}return n+=">>",n},t.prototype.sizeInBytes=function(){for(var n=5,r=this.entries(),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],l=s[1];n+=a.sizeInBytes()+l.sizeInBytes()+2}return n},t.prototype.copyBytesInto=function(n,r){var i=r;n[r++]=ee.LessThan,n[r++]=ee.LessThan,n[r++]=ee.Newline;for(var o=this.entries(),s=0,a=o.length;s<a;s++){var l=o[s],c=l[0],u=l[1];r+=c.copyBytesInto(n,r),n[r++]=ee.Space,r+=u.copyBytesInto(n,r),n[r++]=ee.Newline}return n[r++]=ee.GreaterThan,n[r++]=ee.GreaterThan,r-i},t.withContext=function(n){return new t(new Map,n)},t.fromMapWithContext=function(n,r){return new t(n,r)},t}(ho),ls=function(e){Ye(t,e);function t(n){var r=e.call(this)||this;return r.dict=n,r}return t.prototype.clone=function(n){throw new Is(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new Is(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new Is(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new Is(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var n=this.getContentsSize();this.dict.set(J.Length,Ot.of(n))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var n=this.dict.toString();return n+=`
stream
`,n+=this.getContentsString(),n+=`
endstream`,n},t.prototype.copyBytesInto=function(n,r){this.updateDict();var i=r;r+=this.dict.copyBytesInto(n,r),n[r++]=ee.Newline,n[r++]=ee.s,n[r++]=ee.t,n[r++]=ee.r,n[r++]=ee.e,n[r++]=ee.a,n[r++]=ee.m,n[r++]=ee.Newline;for(var o=this.getContents(),s=0,a=o.length;s<a;s++)n[r++]=o[s];return n[r++]=ee.Newline,n[r++]=ee.e,n[r++]=ee.n,n[r++]=ee.d,n[r++]=ee.s,n[r++]=ee.t,n[r++]=ee.r,n[r++]=ee.e,n[r++]=ee.a,n[r++]=ee.m,r-i},t}(ho),N1=function(e){Ye(t,e);function t(n,r){var i=e.call(this,n)||this;return i.contents=r,i}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(n){return t.of(this.dict.clone(n),this.contents.slice())},t.prototype.getContentsString=function(){return EU(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(n,r){return new t(n,r)},t}(ls),EI={},TI=new Map,Pn=function(e){Ye(t,e);function t(n,r,i){var o=this;if(n!==EI)throw new xT("PDFRef");return o=e.call(this)||this,o.objectNumber=r,o.generationNumber=i,o.tag=r+" "+i+" R",o}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(n,r){return r+=ji(this.tag,n,r),this.tag.length},t.of=function(n,r){r===void 0&&(r=0);var i=n+" "+r+" R",o=TI.get(i);return o||(o=new t(EI,n,r),TI.set(i,o)),o},t}(ho),ln=function(){function e(t,n){this.name=t,this.args=n||[]}return e.prototype.clone=function(t){for(var n=new Array(this.args.length),r=0,i=n.length;r<i;r++){var o=this.args[r];n[r]=o instanceof ho?o.clone(t):o}return e.of(this.name,n)},e.prototype.toString=function(){for(var t="",n=0,r=this.args.length;n<r;n++)t+=String(this.args[n])+" ";return t+=this.name,t},e.prototype.sizeInBytes=function(){for(var t=0,n=0,r=this.args.length;n<r;n++){var i=this.args[n];t+=(i instanceof ho?i.sizeInBytes():i.length)+1}return t+=this.name.length,t},e.prototype.copyBytesInto=function(t,n){for(var r=n,i=0,o=this.args.length;i<o;i++){var s=this.args[i];s instanceof ho?n+=s.copyBytesInto(t,n):n+=ji(s,t,n),t[n++]=ee.Space}return n+=ji(this.name,t,n),n-r},e.of=function(t,n){return new e(t,n)},e}(),j4;(function(e){e.NonStrokingColor="sc",e.NonStrokingColorN="scn",e.NonStrokingColorRgb="rg",e.NonStrokingColorGray="g",e.NonStrokingColorCmyk="k",e.NonStrokingColorspace="cs",e.StrokingColor="SC",e.StrokingColorN="SCN",e.StrokingColorRgb="RG",e.StrokingColorGray="G",e.StrokingColorCmyk="K",e.StrokingColorspace="CS",e.BeginMarkedContentSequence="BDC",e.BeginMarkedContent="BMC",e.EndMarkedContent="EMC",e.MarkedContentPointWithProps="DP",e.MarkedContentPoint="MP",e.DrawObject="Do",e.ConcatTransformationMatrix="cm",e.PopGraphicsState="Q",e.PushGraphicsState="q",e.SetFlatness="i",e.SetGraphicsStateParams="gs",e.SetLineCapStyle="J",e.SetLineDashPattern="d",e.SetLineJoinStyle="j",e.SetLineMiterLimit="M",e.SetLineWidth="w",e.SetTextMatrix="Tm",e.SetRenderingIntent="ri",e.AppendRectangle="re",e.BeginInlineImage="BI",e.BeginInlineImageData="ID",e.EndInlineImage="EI",e.ClipEvenOdd="W*",e.ClipNonZero="W",e.CloseAndStroke="s",e.CloseFillEvenOddAndStroke="b*",e.CloseFillNonZeroAndStroke="b",e.ClosePath="h",e.AppendBezierCurve="c",e.CurveToReplicateFinalPoint="y",e.CurveToReplicateInitialPoint="v",e.EndPath="n",e.FillEvenOddAndStroke="B*",e.FillEvenOdd="f*",e.FillNonZeroAndStroke="B",e.FillNonZero="f",e.LegacyFillNonZero="F",e.LineTo="l",e.MoveTo="m",e.ShadingFill="sh",e.StrokePath="S",e.BeginText="BT",e.EndText="ET",e.MoveText="Td",e.MoveTextSetLeading="TD",e.NextLine="T*",e.SetCharacterSpacing="Tc",e.SetFontAndSize="Tf",e.SetTextHorizontalScaling="Tz",e.SetTextLineHeight="TL",e.SetTextRenderingMode="Tr",e.SetTextRise="Ts",e.SetWordSpacing="Tw",e.ShowText="Tj",e.ShowTextAdjusted="TJ",e.ShowTextLine="'",e.ShowTextLineAndSpace='"',e.Type3D0="d0",e.Type3D1="d1",e.BeginCompatibilitySection="BX",e.EndCompatibilitySection="EX"})(j4||(j4={}));const gn=j4;var RT=function(e){Ye(t,e);function t(n,r){var i=e.call(this,n)||this;return i.computeContents=function(){var o=i.getUnencodedContents();return i.encode?pH.deflate(o):o},i.encode=r,r&&n.set(J.of("Filter"),J.of("FlateDecode")),i.contentsCache=Rc.populatedBy(i.computeContents),i}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new Is(this.constructor.name,"getUnencodedContents")},t}(ls),bv=function(e){Ye(t,e);function t(n,r,i){i===void 0&&(i=!0);var o=e.call(this,n,i)||this;return o.operators=r,o}return t.prototype.push=function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];(n=this.operators).push.apply(n,r)},t.prototype.clone=function(n){for(var r=new Array(this.operators.length),i=0,o=this.operators.length;i<o;i++)r[i]=this.operators[i].clone(n);var s=this,a=s.dict,l=s.encode;return t.of(a.clone(n),r,l)},t.prototype.getContentsString=function(){for(var n="",r=0,i=this.operators.length;r<i;r++)n+=this.operators[r]+`
`;return n},t.prototype.getUnencodedContents=function(){for(var n=new Uint8Array(this.getUnencodedContentsSize()),r=0,i=0,o=this.operators.length;i<o;i++)r+=this.operators[i].copyBytesInto(n,r),n[r++]=ee.Newline;return n},t.prototype.getUnencodedContentsSize=function(){for(var n=0,r=0,i=this.operators.length;r<i;r++)n+=this.operators[r].sizeInBytes()+1;return n},t.of=function(n,r,i){return i===void 0&&(i=!0),new t(n,r,i)},t}(RT),_0e=function(){function e(t){this.seed=t}return e.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},e.withSeed=function(t){return new e(t)},e}(),S0e=function(e,t){var n=e[0],r=t[0];return n.objectNumber-r.objectNumber},D4=function(){function e(){this.largestObjectNumber=0,this.header=M5.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=_0e.withSeed(1)}return e.prototype.assign=function(t,n){this.indirectObjects.set(t,n),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},e.prototype.nextRef=function(){return this.largestObjectNumber+=1,Pn.of(this.largestObjectNumber)},e.prototype.register=function(t){var n=this.nextRef();return this.assign(n,t),n},e.prototype.delete=function(t){return this.indirectObjects.delete(t)},e.prototype.lookupMaybe=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n.includes(So),o=t instanceof Pn?this.indirectObjects.get(t):t;if(!(!o||o===So&&!i)){for(var s=0,a=n.length;s<a;s++){var l=n[s];if(l===So){if(o===So)return o}else if(o instanceof l)return o}throw new i_(n,o)}},e.prototype.lookup=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t instanceof Pn?this.indirectObjects.get(t):t;if(n.length===0)return i;for(var o=0,s=n.length;o<s;o++){var a=n[o];if(a===So){if(i===So)return i}else if(i instanceof a)return i}throw new i_(n,i)},e.prototype.getObjectRef=function(t){for(var n=Array.from(this.indirectObjects.entries()),r=0,i=n.length;r<i;r++){var o=n[r],s=o[0],a=o[1];if(a===t)return s}},e.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(S0e)},e.prototype.obj=function(t){if(t instanceof ho)return t;if(t==null)return So;if(typeof t=="string")return J.of(t);if(typeof t=="number")return Ot.of(t);if(typeof t=="boolean")return t?C1.True:C1.False;if(Array.isArray(t)){for(var n=wn.withContext(this),r=0,i=t.length;r<i;r++)n.push(this.obj(t[r]));return n}else{for(var o=Vt.withContext(this),s=Object.keys(t),r=0,i=s.length;r<i;r++){var a=s[r],l=t[a];l!==void 0&&o.set(J.of(a),this.obj(l))}return o}},e.prototype.stream=function(t,n){return n===void 0&&(n={}),N1.of(this.obj(n),p4(t))},e.prototype.flateStream=function(t,n){return n===void 0&&(n={}),this.stream(pH.deflate(p4(t)),Ut(Ut({},n),{Filter:"FlateDecode"}))},e.prototype.contentStream=function(t,n){return n===void 0&&(n={}),bv.of(this.obj(n),t)},e.prototype.formXObject=function(t,n){return n===void 0&&(n={}),this.contentStream(t,Ut(Ut({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},n),{Type:"XObject",Subtype:"Form"}))},e.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),n=ln.of(gn.PushGraphicsState),r=bv.of(t,[n]);return this.pushGraphicsStateContentStreamRef=this.register(r),this.pushGraphicsStateContentStreamRef},e.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),n=ln.of(gn.PopGraphicsState),r=bv.of(t,[n]);return this.popGraphicsStateContentStreamRef=this.register(r),this.popGraphicsStateContentStreamRef},e.prototype.addRandomSuffix=function(t,n){return n===void 0&&(n=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,n))},e.create=function(){return new e},e}(),jc=function(e){Ye(t,e);function t(n,r,i){i===void 0&&(i=!0);var o=e.call(this,n,r)||this;return o.normalized=!1,o.autoNormalizeCTM=i,o}return t.prototype.clone=function(n){for(var r=t.fromMapWithContext(new Map,n||this.context,this.autoNormalizeCTM),i=this.entries(),o=0,s=i.length;o<s;o++){var a=i[o],l=a[0],c=a[1];r.set(l,c)}return r},t.prototype.Parent=function(){return this.lookupMaybe(J.Parent,Vt)},t.prototype.Contents=function(){return this.lookup(J.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(J.Annots,wn)},t.prototype.BleedBox=function(){return this.lookupMaybe(J.BleedBox,wn)},t.prototype.TrimBox=function(){return this.lookupMaybe(J.TrimBox,wn)},t.prototype.ArtBox=function(){return this.lookupMaybe(J.ArtBox,wn)},t.prototype.Resources=function(){var n=this.getInheritableAttribute(J.Resources);return this.context.lookupMaybe(n,Vt)},t.prototype.MediaBox=function(){var n=this.getInheritableAttribute(J.MediaBox);return this.context.lookup(n,wn)},t.prototype.CropBox=function(){var n=this.getInheritableAttribute(J.CropBox);return this.context.lookupMaybe(n,wn)},t.prototype.Rotate=function(){var n=this.getInheritableAttribute(J.Rotate);return this.context.lookupMaybe(n,Ot)},t.prototype.getInheritableAttribute=function(n){var r;return this.ascend(function(i){r||(r=i.get(n))}),r},t.prototype.setParent=function(n){this.set(J.Parent,n)},t.prototype.addContentStream=function(n){var r=this.normalizedEntries().Contents||this.context.obj([]);this.set(J.Contents,r),r.push(n)},t.prototype.wrapContentStreams=function(n,r){var i=this.Contents();return i instanceof wn?(i.insert(0,n),i.push(r),!0):!1},t.prototype.addAnnot=function(n){var r=this.normalizedEntries().Annots;r.push(n)},t.prototype.removeAnnot=function(n){var r=this.normalizedEntries().Annots,i=r.indexOf(n);i!==void 0&&r.remove(i)},t.prototype.setFontDictionary=function(n,r){var i=this.normalizedEntries().Font;i.set(n,r)},t.prototype.newFontDictionaryKey=function(n){var r=this.normalizedEntries().Font;return r.uniqueKey(n)},t.prototype.newFontDictionary=function(n,r){var i=this.newFontDictionaryKey(n);return this.setFontDictionary(i,r),i},t.prototype.setXObject=function(n,r){var i=this.normalizedEntries().XObject;i.set(n,r)},t.prototype.newXObjectKey=function(n){var r=this.normalizedEntries().XObject;return r.uniqueKey(n)},t.prototype.newXObject=function(n,r){var i=this.newXObjectKey(n);return this.setXObject(i,r),i},t.prototype.setExtGState=function(n,r){var i=this.normalizedEntries().ExtGState;i.set(n,r)},t.prototype.newExtGStateKey=function(n){var r=this.normalizedEntries().ExtGState;return r.uniqueKey(n)},t.prototype.newExtGState=function(n,r){var i=this.newExtGStateKey(n);return this.setExtGState(i,r),i},t.prototype.ascend=function(n){n(this);var r=this.Parent();r&&r.ascend(n)},t.prototype.normalize=function(){if(!this.normalized){var n=this.context,r=this.get(J.Contents),i=this.context.lookup(r);i instanceof ls&&this.set(J.Contents,n.obj([r])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var o=this.getInheritableAttribute(J.Resources),s=n.lookupMaybe(o,Vt)||n.obj({});this.set(J.Resources,s);var a=s.lookupMaybe(J.Font,Vt)||n.obj({});s.set(J.Font,a);var l=s.lookupMaybe(J.XObject,Vt)||n.obj({});s.set(J.XObject,l);var c=s.lookupMaybe(J.ExtGState,Vt)||n.obj({});s.set(J.ExtGState,c);var u=this.Annots()||n.obj([]);this.set(J.Annots,u),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var n=this.Annots(),r=this.Resources(),i=this.Contents();return{Annots:n,Resources:r,Contents:i,Font:r.lookup(J.Font,Vt),XObject:r.lookup(J.XObject,Vt),ExtGState:r.lookup(J.ExtGState,Vt)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(n,r){var i=new Map;return i.set(J.Type,J.Page),i.set(J.Parent,r),i.set(J.Resources,n.obj({})),i.set(J.MediaBox,n.obj([0,0,612,792])),new t(i,n,!1)},t.fromMapWithContext=function(n,r,i){return i===void 0&&(i=!0),new t(n,r,i)},t}(Vt),PI=function(){function e(t,n){var r=this;this.traversedObjects=new Map,this.copy=function(i){return i instanceof jc?r.copyPDFPage(i):i instanceof Vt?r.copyPDFDict(i):i instanceof wn?r.copyPDFArray(i):i instanceof ls?r.copyPDFStream(i):i instanceof Pn?r.copyPDFIndirectObject(i):i.clone()},this.copyPDFPage=function(i){for(var o=i.clone(),s=jc.InheritableEntries,a=0,l=s.length;a<l;a++){var c=J.of(s[a]),u=o.getInheritableAttribute(c);!o.get(c)&&u&&o.set(c,u)}return o.delete(J.of("Parent")),r.copyPDFDict(o)},this.copyPDFDict=function(i){if(r.traversedObjects.has(i))return r.traversedObjects.get(i);var o=i.clone(r.dest);r.traversedObjects.set(i,o);for(var s=i.entries(),a=0,l=s.length;a<l;a++){var c=s[a],u=c[0],d=c[1];o.set(u,r.copy(d))}return o},this.copyPDFArray=function(i){if(r.traversedObjects.has(i))return r.traversedObjects.get(i);var o=i.clone(r.dest);r.traversedObjects.set(i,o);for(var s=0,a=i.size();s<a;s++){var l=i.get(s);o.set(s,r.copy(l))}return o},this.copyPDFStream=function(i){if(r.traversedObjects.has(i))return r.traversedObjects.get(i);var o=i.clone(r.dest);r.traversedObjects.set(i,o);for(var s=i.dict.entries(),a=0,l=s.length;a<l;a++){var c=s[a],u=c[0],d=c[1];o.dict.set(u,r.copy(d))}return o},this.copyPDFIndirectObject=function(i){var o=r.traversedObjects.has(i);if(!o){var s=r.dest.nextRef();r.traversedObjects.set(i,s);var a=r.src.lookup(i);if(a){var l=r.copy(a);r.dest.assign(s,l)}}return r.traversedObjects.get(i)},this.src=t,this.dest=n}return e.for=function(t,n){return new e(t,n)},e}(),mH=function(){function e(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return e.prototype.addEntry=function(t,n){this.append({ref:t,offset:n,deleted:!1})},e.prototype.addDeletedEntry=function(t,n){this.append({ref:t,offset:n,deleted:!0})},e.prototype.toString=function(){for(var t=`xref
`,n=0,r=this.subsections.length;n<r;n++){var i=this.subsections[n];t+=i[0].ref.objectNumber+" "+i.length+`
`;for(var o=0,s=i.length;o<s;o++){var a=i[o];t+=ka(String(a.offset),10,"0"),t+=" ",t+=ka(String(a.ref.generationNumber),5,"0"),t+=" ",t+=a.deleted?"f":"n",t+=` 
`}}return t},e.prototype.sizeInBytes=function(){for(var t=5,n=0,r=this.subsections.length;n<r;n++){var i=this.subsections[n],o=i.length,s=i[0];t+=2,t+=String(s.ref.objectNumber).length,t+=String(o).length,t+=20*o}return t},e.prototype.copyBytesInto=function(t,n){var r=n;return t[n++]=ee.x,t[n++]=ee.r,t[n++]=ee.e,t[n++]=ee.f,t[n++]=ee.Newline,n+=this.copySubsectionsIntoBuffer(this.subsections,t,n),n-r},e.prototype.copySubsectionsIntoBuffer=function(t,n,r){for(var i=r,o=t.length,s=0;s<o;s++){var a=this.subsections[s],l=String(a[0].ref.objectNumber);r+=ji(l,n,r),n[r++]=ee.Space;var c=String(a.length);r+=ji(c,n,r),n[r++]=ee.Newline,r+=this.copyEntriesIntoBuffer(a,n,r)}return r-i},e.prototype.copyEntriesIntoBuffer=function(t,n,r){for(var i=t.length,o=0;o<i;o++){var s=t[o],a=ka(String(s.offset),10,"0");r+=ji(a,n,r),n[r++]=ee.Space;var l=ka(String(s.ref.generationNumber),5,"0");r+=ji(l,n,r),n[r++]=ee.Space,n[r++]=s.deleted?ee.f:ee.n,n[r++]=ee.Space,n[r++]=ee.Newline}return 20*i},e.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var n=this.subsections[this.chunkIdx],r=n[this.chunkLength-1];t.ref.objectNumber-r.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(n.push(t),this.chunkLength+=1)},e.create=function(){return new e({ref:Pn.of(0,65535),offset:0,deleted:!0})},e.createEmpty=function(){return new e},e}(),jT=function(){function e(t){this.lastXRefOffset=String(t)}return e.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},e.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},e.prototype.copyBytesInto=function(t,n){var r=n;return t[n++]=ee.s,t[n++]=ee.t,t[n++]=ee.a,t[n++]=ee.r,t[n++]=ee.t,t[n++]=ee.x,t[n++]=ee.r,t[n++]=ee.e,t[n++]=ee.f,t[n++]=ee.Newline,n+=ji(this.lastXRefOffset,t,n),t[n++]=ee.Newline,t[n++]=ee.Percent,t[n++]=ee.Percent,t[n++]=ee.E,t[n++]=ee.O,t[n++]=ee.F,n-r},e.forLastCrossRefSectionOffset=function(t){return new e(t)},e}(),k0e=function(){function e(t){this.dict=t}return e.prototype.toString=function(){return`trailer
`+this.dict.toString()},e.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},e.prototype.copyBytesInto=function(t,n){var r=n;return t[n++]=ee.t,t[n++]=ee.r,t[n++]=ee.a,t[n++]=ee.i,t[n++]=ee.l,t[n++]=ee.e,t[n++]=ee.r,t[n++]=ee.Newline,n+=this.dict.copyBytesInto(t,n),n-r},e.of=function(t){return new e(t)},e}(),gH=function(e){Ye(t,e);function t(n,r,i){i===void 0&&(i=!0);var o=e.call(this,n.obj({}),i)||this;return o.objects=r,o.offsets=o.computeObjectOffsets(),o.offsetsString=o.computeOffsetsString(),o.dict.set(J.of("Type"),J.of("ObjStm")),o.dict.set(J.of("N"),Ot.of(o.objects.length)),o.dict.set(J.of("First"),Ot.of(o.offsetsString.length)),o}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(n){return t.withContextAndObjects(n||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var n=this.offsetsString,r=0,i=this.objects.length;r<i;r++){var o=this.objects[r],s=o[1];n+=s+`
`}return n},t.prototype.getUnencodedContents=function(){for(var n=new Uint8Array(this.getUnencodedContentsSize()),r=ji(this.offsetsString,n,0),i=0,o=this.objects.length;i<o;i++){var s=this.objects[i],a=s[1];r+=a.copyBytesInto(n,r),n[r++]=ee.Newline}return n},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+t_(this.offsets)[1]+t_(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var n="",r=0,i=this.offsets.length;r<i;r++){var o=this.offsets[r],s=o[0],a=o[1];n+=s+" "+a+" "}return n},t.prototype.computeObjectOffsets=function(){for(var n=0,r=new Array(this.objects.length),i=0,o=this.objects.length;i<o;i++){var s=this.objects[i],a=s[0],l=s[1];r[i]=[a.objectNumber,n],n+=l.sizeInBytes()+1}return r},t.withContextAndObjects=function(n,r,i){return i===void 0&&(i=!0),new t(n,r,i)},t}(RT),vH=function(){function e(t,n){var r=this;this.parsedObjects=0,this.shouldWaitForTick=function(i){return r.parsedObjects+=i,r.parsedObjects%r.objectsPerTick===0},this.context=t,this.objectsPerTick=n}return e.prototype.serializeToBuffer=function(){return Zt(this,void 0,void 0,function(){var t,n,r,i,o,s,a,l,c,u,d,h,f,m,g,y,v;return Xt(this,function(x){switch(x.label){case 0:return[4,this.computeBufferSize()];case 1:t=x.sent(),n=t.size,r=t.header,i=t.indirectObjects,o=t.xref,s=t.trailerDict,a=t.trailer,l=0,c=new Uint8Array(n),l+=r.copyBytesInto(c,l),c[l++]=ee.Newline,c[l++]=ee.Newline,u=0,d=i.length,x.label=2;case 2:return u<d?(h=i[u],f=h[0],m=h[1],g=String(f.objectNumber),l+=ji(g,c,l),c[l++]=ee.Space,y=String(f.generationNumber),l+=ji(y,c,l),c[l++]=ee.Space,c[l++]=ee.o,c[l++]=ee.b,c[l++]=ee.j,c[l++]=ee.Newline,l+=m.copyBytesInto(c,l),c[l++]=ee.Newline,c[l++]=ee.e,c[l++]=ee.n,c[l++]=ee.d,c[l++]=ee.o,c[l++]=ee.b,c[l++]=ee.j,c[l++]=ee.Newline,c[l++]=ee.Newline,v=m instanceof gH?m.getObjectsCount():1,this.shouldWaitForTick(v)?[4,M0()]:[3,4]):[3,5];case 3:x.sent(),x.label=4;case 4:return u++,[3,2];case 5:return o&&(l+=o.copyBytesInto(c,l),c[l++]=ee.Newline),s&&(l+=s.copyBytesInto(c,l),c[l++]=ee.Newline,c[l++]=ee.Newline),l+=a.copyBytesInto(c,l),[2,c]}})})},e.prototype.computeIndirectObjectSize=function(t){var n=t[0],r=t[1],i=n.sizeInBytes()+3,o=r.sizeInBytes()+9;return i+o},e.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},e.prototype.computeBufferSize=function(){return Zt(this,void 0,void 0,function(){var t,n,r,i,o,s,a,l,c,u,d;return Xt(this,function(h){switch(h.label){case 0:t=M5.forVersion(1,7),n=t.sizeInBytes()+2,r=mH.create(),i=this.context.enumerateIndirectObjects(),o=0,s=i.length,h.label=1;case 1:return o<s?(a=i[o],l=a[0],r.addEntry(l,n),n+=this.computeIndirectObjectSize(a),this.shouldWaitForTick(1)?[4,M0()]:[3,3]):[3,4];case 2:h.sent(),h.label=3;case 3:return o++,[3,1];case 4:return c=n,n+=r.sizeInBytes()+1,u=k0e.of(this.createTrailerDict()),n+=u.sizeInBytes()+2,d=jT.forLastCrossRefSectionOffset(c),n+=d.sizeInBytes(),[2,{size:n,header:t,indirectObjects:i,xref:r,trailerDict:u,trailer:d}]}})})},e.forContext=function(t,n){return new e(t,n)},e}(),yH=function(e){Ye(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(n,r){for(var i=this.data.length,o=0;o<i;o++)n[r++]=this.data[o];return i},t.of=function(n){return new t(n)},t}(ho),Pu;(function(e){e[e.Deleted=0]="Deleted",e[e.Uncompressed=1]="Uncompressed",e[e.Compressed=2]="Compressed"})(Pu||(Pu={}));var C0e=function(e){Ye(t,e);function t(n,r,i){i===void 0&&(i=!0);var o=e.call(this,n,i)||this;return o.computeIndex=function(){for(var s=[],a=0,l=0,c=o.entries.length;l<c;l++){var u=o.entries[l],d=o.entries[l-1];l===0?s.push(u.ref.objectNumber):u.ref.objectNumber-d.ref.objectNumber>1&&(s.push(a),s.push(u.ref.objectNumber),a=0),a+=1}return s.push(a),s},o.computeEntryTuples=function(){for(var s=new Array(o.entries.length),a=0,l=o.entries.length;a<l;a++){var c=o.entries[a];if(c.type===Pu.Deleted){var u=c.type,d=c.nextFreeObjectNumber,h=c.ref;s[a]=[u,d,h.generationNumber]}if(c.type===Pu.Uncompressed){var u=c.type,f=c.offset,h=c.ref;s[a]=[u,f,h.generationNumber]}if(c.type===Pu.Compressed){var u=c.type,m=c.objectStreamRef,g=c.index;s[a]=[u,m.objectNumber,g]}}return s},o.computeMaxEntryByteWidths=function(){for(var s=o.entryTuplesCache.access(),a=[0,0,0],l=0,c=s.length;l<c;l++){var u=s[l],d=u[0],h=u[1],f=u[2],m=lx(d),g=lx(h),y=lx(f);m>a[0]&&(a[0]=m),g>a[1]&&(a[1]=g),y>a[2]&&(a[2]=y)}return a},o.entries=r||[],o.entryTuplesCache=Rc.populatedBy(o.computeEntryTuples),o.maxByteWidthsCache=Rc.populatedBy(o.computeMaxEntryByteWidths),o.indexCache=Rc.populatedBy(o.computeIndex),n.set(J.of("Type"),J.of("XRef")),o}return t.prototype.addDeletedEntry=function(n,r){var i=Pu.Deleted;this.entries.push({type:i,ref:n,nextFreeObjectNumber:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(n,r){var i=Pu.Uncompressed;this.entries.push({type:i,ref:n,offset:r}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(n,r,i){var o=Pu.Compressed;this.entries.push({type:o,ref:n,objectStreamRef:r,index:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(n){var r=this,i=r.dict,o=r.entries,s=r.encode;return t.of(i.clone(n),o.slice(),s)},t.prototype.getContentsString=function(){for(var n=this.entryTuplesCache.access(),r=this.maxByteWidthsCache.access(),i="",o=0,s=n.length;o<s;o++){for(var a=n[o],l=a[0],c=a[1],u=a[2],d=lp(cp(l)),h=lp(cp(c)),f=lp(cp(u)),m=r[0]-1;m>=0;m--)i+=(d[m]||0).toString(2);for(var m=r[1]-1;m>=0;m--)i+=(h[m]||0).toString(2);for(var m=r[2]-1;m>=0;m--)i+=(f[m]||0).toString(2)}return i},t.prototype.getUnencodedContents=function(){for(var n=this.entryTuplesCache.access(),r=this.maxByteWidthsCache.access(),i=new Uint8Array(this.getUnencodedContentsSize()),o=0,s=0,a=n.length;s<a;s++){for(var l=n[s],c=l[0],u=l[1],d=l[2],h=lp(cp(c)),f=lp(cp(u)),m=lp(cp(d)),g=r[0]-1;g>=0;g--)i[o++]=h[g]||0;for(var g=r[1]-1;g>=0;g--)i[o++]=f[g]||0;for(var g=r[2]-1;g>=0;g--)i[o++]=m[g]||0}return i},t.prototype.getUnencodedContentsSize=function(){var n=this.maxByteWidthsCache.access(),r=jue(n);return r*this.entries.length},t.prototype.updateDict=function(){e.prototype.updateDict.call(this);var n=this.maxByteWidthsCache.access(),r=this.indexCache.access(),i=this.dict.context;this.dict.set(J.of("W"),i.obj(n)),this.dict.set(J.of("Index"),i.obj(r))},t.create=function(n,r){r===void 0&&(r=!0);var i=new t(n,[],r);return i.addDeletedEntry(Pn.of(0,65535),0),i},t.of=function(n,r,i){return i===void 0&&(i=!0),new t(n,r,i)},t}(RT),N0e=function(e){Ye(t,e);function t(n,r,i,o){var s=e.call(this,n,r)||this;return s.encodeStreams=i,s.objectsPerStream=o,s}return t.prototype.computeBufferSize=function(){return Zt(this,void 0,void 0,function(){var n,r,i,o,s,a,l,c,m,g,u,v,d,h,y,f,m,g,y,v,x,_,S,k;return Xt(this,function(T){switch(T.label){case 0:n=this.context.largestObjectNumber+1,r=M5.forVersion(1,7),i=r.sizeInBytes()+2,o=C0e.create(this.createTrailerDict(),this.encodeStreams),s=[],a=[],l=[],c=this.context.enumerateIndirectObjects(),m=0,g=c.length,T.label=1;case 1:return m<g?(u=c[m],v=u[0],d=u[1],h=v===this.context.trailerInfo.Encrypt||d instanceof ls||d instanceof yH||v.generationNumber!==0,h?(s.push(u),o.addUncompressedEntry(v,i),i+=this.computeIndirectObjectSize(u),this.shouldWaitForTick(1)?[4,M0()]:[3,3]):[3,4]):[3,6];case 2:T.sent(),T.label=3;case 3:return[3,5];case 4:y=t_(a),f=t_(l),(!y||y.length%this.objectsPerStream===0)&&(y=[],a.push(y),f=Pn.of(n++),l.push(f)),o.addCompressedEntry(v,f,y.length),y.push(u),T.label=5;case 5:return m++,[3,1];case 6:m=0,g=a.length,T.label=7;case 7:return m<g?(y=a[m],v=l[m],x=gH.withContextAndObjects(this.context,y,this.encodeStreams),o.addUncompressedEntry(v,i),i+=this.computeIndirectObjectSize([v,x]),s.push([v,x]),this.shouldWaitForTick(y.length)?[4,M0()]:[3,9]):[3,10];case 8:T.sent(),T.label=9;case 9:return m++,[3,7];case 10:return _=Pn.of(n++),o.dict.set(J.of("Size"),Ot.of(n)),o.addUncompressedEntry(_,i),S=i,i+=this.computeIndirectObjectSize([_,o]),s.push([_,o]),k=jT.forLastCrossRefSectionOffset(S),i+=k.sizeInBytes(),[2,{size:i,header:r,indirectObjects:s,trailer:k}]}})})},t.forContext=function(n,r,i,o){return i===void 0&&(i=!0),o===void 0&&(o=50),new t(n,r,i,o)},t}(vH),Rt=function(e){Ye(t,e);function t(n){var r=e.call(this)||this;return r.value=n,r}return t.prototype.asBytes=function(){for(var n=this.value+(this.value.length%2===1?"0":""),r=n.length,i=new Uint8Array(n.length/2),o=0,s=0;o<r;){var a=parseInt(n.substring(o,o+2),16);i[s]=a,o+=2,s+=1}return i},t.prototype.decodeText=function(){var n=this.asBytes();return IU(n)?RU(n):Cq(n)},t.prototype.decodeDate=function(){var n=this.decodeText(),r=AU(n);if(!r)throw new Nq(n);return r},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(n,r){return n[r++]=ee.LessThan,r+=ji(this.value,n,r),n[r++]=ee.GreaterThan,this.value.length+2},t.of=function(n){return new t(n)},t.fromText=function(n){for(var r=Lue(n),i="",o=0,s=r.length;o<s;o++)i+=ay(r[o],4);return new t(i)},t}(ho),l_=function(){function e(t,n){this.encoding=t===b1.ZapfDingbats?c2.ZapfDingbats:t===b1.Symbol?c2.Symbol:c2.WinAnsi,this.font=Qfe.load(t),this.fontName=this.font.FontName,this.customName=n}return e.prototype.encodeText=function(t){for(var n=this.encodeTextAsGlyphs(t),r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=E5(n[i].code);return Rt.of(r.join(""))},e.prototype.widthOfTextAtSize=function(t,n){for(var r=this.encodeTextAsGlyphs(t),i=0,o=0,s=r.length;o<s;o++){var a=r[o].name,l=(r[o+1]||{}).name,c=this.font.getXAxisKerningForPair(a,l)||0;i+=this.widthOfGlyph(a)+c}var u=n/1e3;return i*u},e.prototype.heightOfFontAtSize=function(t,n){n===void 0&&(n={});var r=n.descender,i=r===void 0?!0:r,o=this.font,s=o.Ascender,a=o.Descender,l=o.FontBBox,c=s||l[3],u=a||l[1],d=c-u;return i||(d+=a||0),d/1e3*t},e.prototype.sizeOfFontAtHeight=function(t){var n=this.font,r=n.Ascender,i=n.Descender,o=n.FontBBox,s=r||o[3],a=i||o[1];return 1e3*t/(s-a)},e.prototype.embedIntoContext=function(t,n){var r=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===c2.WinAnsi?"WinAnsiEncoding":void 0});return n?(t.assign(n,r),n):t.register(r)},e.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},e.prototype.encodeTextAsGlyphs=function(t){for(var n=Array.from(t),r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=xue(n[i]);r[i]=this.encoding.encodeUnicodeCodePoint(s)}return r},e.for=function(t,n){return new e(t,n)},e}(),A0e=function(e,t){for(var n=new Array(e.length),r=0,i=e.length;r<i;r++){var o=e[r],s=RI(bx(t(o))),a=RI.apply(void 0,o.codePoints.map(T0e));n[r]=[s,a]}return E0e(n)},E0e=function(e){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+e.length+` beginbfchar
`+e.map(function(t){var n=t[0],r=t[1];return n+" "+r}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},RI=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"<"+e.join("")+">"},bx=function(e){return ay(e,4)},T0e=function(e){if(Mue(e))return bx(e);if(Fue(e)){var t=TU(e),n=PU(e);return""+bx(t)+bx(n)}var r=E5(e),i="0x"+r+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(i)},P0e=function(e){var t=0,n=function(r){t|=1<<r-1};return e.fixedPitch&&n(1),e.serif&&n(2),n(3),e.script&&n(4),e.nonsymbolic&&n(6),e.italic&&n(7),e.allCap&&n(17),e.smallCap&&n(18),e.forceBold&&n(19),t},R0e=function(e){var t=e["OS/2"]?e["OS/2"].sFamilyClass:0,n=P0e({fixedPitch:e.post.isFixedPitch,serif:1<=t&&t<=7,symbolic:!0,script:t===10,italic:e.head.macStyle.italic});return n},Tn=function(e){Ye(t,e);function t(n){var r=e.call(this)||this;return r.value=n,r}return t.prototype.asBytes=function(){for(var n=[],r="",i=!1,o=function(d){d!==void 0&&n.push(d),i=!1},s=0,a=this.value.length;s<a;s++){var l=this.value[s],c=Ft(l),u=this.value[s+1];i?c===ee.Newline||c===ee.CarriageReturn?o():c===ee.n?o(ee.Newline):c===ee.r?o(ee.CarriageReturn):c===ee.t?o(ee.Tab):c===ee.b?o(ee.Backspace):c===ee.f?o(ee.FormFeed):c===ee.LeftParen?o(ee.LeftParen):c===ee.RightParen?o(ee.RightParen):c===ee.Backspace?o(ee.BackSlash):c>=ee.Zero&&c<=ee.Seven?(r+=l,(r.length===3||!(u>="0"&&u<="7"))&&(o(parseInt(r,8)),r="")):o(c):c===ee.BackSlash?i=!0:o(c)}return new Uint8Array(n)},t.prototype.decodeText=function(){var n=this.asBytes();return IU(n)?RU(n):Cq(n)},t.prototype.decodeDate=function(){var n=this.decodeText(),r=AU(n);if(!r)throw new Nq(n);return r},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(n,r){return n[r++]=ee.LeftParen,r+=ji(this.value,n,r),n[r++]=ee.RightParen,this.value.length+2},t.of=function(n){return new t(n)},t.fromDate=function(n){var r=ka(String(n.getUTCFullYear()),4,"0"),i=ka(String(n.getUTCMonth()+1),2,"0"),o=ka(String(n.getUTCDate()),2,"0"),s=ka(String(n.getUTCHours()),2,"0"),a=ka(String(n.getUTCMinutes()),2,"0"),l=ka(String(n.getUTCSeconds()),2,"0");return new t("D:"+r+i+o+s+a+l+"Z")},t}(ho),DT=function(){function e(t,n,r,i){var o=this;this.allGlyphsInFontSortedById=function(){for(var s=new Array(o.font.characterSet.length),a=0,l=s.length;a<l;a++){var c=o.font.characterSet[a];s[a]=o.font.glyphForCodePoint(c)}return Rue(s.sort(Pue),function(u){return u.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=n,this.fontName=this.font.postscriptName||"Font",this.customName=r,this.fontFeatures=i,this.baseFontName="",this.glyphCache=Rc.populatedBy(this.allGlyphsInFontSortedById)}return e.for=function(t,n,r,i){return Zt(this,void 0,void 0,function(){var o;return Xt(this,function(s){switch(s.label){case 0:return[4,t.create(n)];case 1:return o=s.sent(),[2,new e(o,n,r,i)]}})})},e.prototype.encodeText=function(t){for(var n=this.font.layout(t,this.fontFeatures).glyphs,r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=ay(n[i].id,4);return Rt.of(r.join(""))},e.prototype.widthOfTextAtSize=function(t,n){for(var r=this.font.layout(t,this.fontFeatures).glyphs,i=0,o=0,s=r.length;o<s;o++)i+=r[o].advanceWidth*this.scale;var a=n/1e3;return i*a},e.prototype.heightOfFontAtSize=function(t,n){n===void 0&&(n={});var r=n.descender,i=r===void 0?!0:r,o=this.font,s=o.ascent,a=o.descent,l=o.bbox,c=(s||l.maxY)*this.scale,u=(a||l.minY)*this.scale,d=c-u;return i||(d-=Math.abs(a)||0),d/1e3*t},e.prototype.sizeOfFontAtHeight=function(t){var n=this.font,r=n.ascent,i=n.descent,o=n.bbox,s=(r||o.maxY)*this.scale,a=(i||o.minY)*this.scale;return 1e3*t/(s-a)},e.prototype.embedIntoContext=function(t,n){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,n)},e.prototype.embedFontDict=function(t,n){return Zt(this,void 0,void 0,function(){var r,i,o;return Xt(this,function(s){switch(s.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return r=s.sent(),i=this.embedUnicodeCmap(t),o=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[r],ToUnicode:i}),n?(t.assign(n,o),[2,n]):[2,t.register(o)]}})})},e.prototype.isCFF=function(){return this.font.cff},e.prototype.embedCIDFontDict=function(t){return Zt(this,void 0,void 0,function(){var n,r;return Xt(this,function(i){switch(i.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return n=i.sent(),r=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:Tn.of("Adobe"),Ordering:Tn.of("Identity"),Supplement:0},FontDescriptor:n,W:this.computeWidths()}),[2,t.register(r)]}})})},e.prototype.embedFontDescriptor=function(t){return Zt(this,void 0,void 0,function(){var n,r,i,o,s,a,l,c,u,d,h,f,m,g,y;return Xt(this,function(v){switch(v.label){case 0:return[4,this.embedFontStream(t)];case 1:return n=v.sent(),r=this.scale,i=this.font,o=i.italicAngle,s=i.ascent,a=i.descent,l=i.capHeight,c=i.xHeight,u=this.font.bbox,d=u.minX,h=u.minY,f=u.maxX,m=u.maxY,g=t.obj((y={Type:"FontDescriptor",FontName:this.baseFontName,Flags:R0e(this.font),FontBBox:[d*r,h*r,f*r,m*r],ItalicAngle:o,Ascent:s*r,Descent:a*r,CapHeight:(l||s)*r,XHeight:(c||0)*r,StemV:0},y[this.isCFF()?"FontFile3":"FontFile2"]=n,y)),[2,t.register(g)]}})})},e.prototype.serializeFont=function(){return Zt(this,void 0,void 0,function(){return Xt(this,function(t){return[2,this.fontData]})})},e.prototype.embedFontStream=function(t){return Zt(this,void 0,void 0,function(){var n,r,i;return Xt(this,function(o){switch(o.label){case 0:return i=(r=t).flateStream,[4,this.serializeFont()];case 1:return n=i.apply(r,[o.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(n)]}})})},e.prototype.embedUnicodeCmap=function(t){var n=A0e(this.glyphCache.access(),this.glyphId.bind(this)),r=t.flateStream(n);return t.register(r)},e.prototype.glyphId=function(t){return t?t.id:-1},e.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),n=[],r=[],i=0,o=t.length;i<o;i++){var s=t[i],a=t[i-1],l=this.glyphId(s),c=this.glyphId(a);i===0?n.push(l):l-c!==1&&(n.push(r),n.push(l),r=[]),r.push(s.advanceWidth*this.scale)}return n.push(r),n},e}(),j0e=function(e){Ye(t,e);function t(n,r,i,o){var s=e.call(this,n,r,i,o)||this;return s.subset=s.font.createSubset(),s.glyphs=[],s.glyphCache=Rc.populatedBy(function(){return s.glyphs}),s.glyphIdMap=new Map,s}return t.for=function(n,r,i,o){return Zt(this,void 0,void 0,function(){var s;return Xt(this,function(a){switch(a.label){case 0:return[4,n.create(r)];case 1:return s=a.sent(),[2,new t(s,r,i,o)]}})})},t.prototype.encodeText=function(n){for(var r=this.font.layout(n,this.fontFeatures).glyphs,i=new Array(r.length),o=0,s=r.length;o<s;o++){var a=r[o],l=this.subset.includeGlyph(a);this.glyphs[l-1]=a,this.glyphIdMap.set(a.id,l),i[o]=ay(l,4)}return this.glyphCache.invalidate(),Rt.of(i.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(n){return n?this.glyphIdMap.get(n.id):-1},t.prototype.serializeFont=function(){var n=this;return new Promise(function(r,i){var o=[];n.subset.encodeStream().on("data",function(s){return o.push(s)}).on("end",function(){return r(Tue(o))}).on("error",function(s){return i(s)})})},t}(DT),I4;(function(e){e.Source="Source",e.Data="Data",e.Alternative="Alternative",e.Supplement="Supplement",e.EncryptedPayload="EncryptedPayload",e.FormData="EncryptedPayload",e.Schema="Schema",e.Unspecified="Unspecified"})(I4||(I4={}));var D0e=function(){function e(t,n,r){r===void 0&&(r={}),this.fileData=t,this.fileName=n,this.options=r}return e.for=function(t,n,r){return r===void 0&&(r={}),new e(t,n,r)},e.prototype.embedIntoContext=function(t,n){return Zt(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u,d;return Xt(this,function(h){return r=this.options,i=r.mimeType,o=r.description,s=r.creationDate,a=r.modificationDate,l=r.afRelationship,c=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:i??void 0,Params:{Size:this.fileData.length,CreationDate:s?Tn.fromDate(s):void 0,ModDate:a?Tn.fromDate(a):void 0}}),u=t.register(c),d=t.obj({Type:"Filespec",F:Tn.of(this.fileName),UF:Rt.fromText(this.fileName),EF:{F:u},Desc:o?Rt.fromText(o):void 0,AFRelationship:l??void 0}),n?(t.assign(n,d),[2,n]):[2,t.register(d)]})})},e}(),jI=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],d0;(function(e){e.DeviceGray="DeviceGray",e.DeviceRGB="DeviceRGB",e.DeviceCMYK="DeviceCMYK"})(d0||(d0={}));var I0e={1:d0.DeviceGray,3:d0.DeviceRGB,4:d0.DeviceCMYK},bH=function(){function e(t,n,r,i,o){this.imageData=t,this.bitsPerComponent=n,this.width=r,this.height=i,this.colorSpace=o}return e.for=function(t){return Zt(this,void 0,void 0,function(){var n,r,i,o,s,a,l,c,u,d;return Xt(this,function(h){if(n=new DataView(t.buffer),r=n.getUint16(0),r!==65496)throw new Error("SOI not found in JPEG");for(i=2;i<n.byteLength&&(o=n.getUint16(i),i+=2,!jI.includes(o));)i+=n.getUint16(i);if(!jI.includes(o))throw new Error("Invalid JPEG");if(i+=2,s=n.getUint8(i++),a=n.getUint16(i),i+=2,l=n.getUint16(i),i+=2,c=n.getUint8(i++),u=I0e[c],!u)throw new Error("Unknown JPEG channel.");return d=u,[2,new e(t,s,l,a,d)]})})},e.prototype.embedIntoContext=function(t,n){return Zt(this,void 0,void 0,function(){var r;return Xt(this,function(i){return r=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===d0.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),n?(t.assign(n,r),[2,n]):[2,t.register(r)]})})},e}(),Wc={};(function(e){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function n(o,s){return Object.prototype.hasOwnProperty.call(o,s)}e.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var a=s.shift();if(a){if(typeof a!="object")throw new TypeError(a+"must be non-object");for(var l in a)n(a,l)&&(o[l]=a[l])}}return o},e.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var r={arraySet:function(o,s,a,l,c){if(s.subarray&&o.subarray){o.set(s.subarray(a,a+l),c);return}for(var u=0;u<l;u++)o[c+u]=s[a+u]},flattenChunks:function(o){var s,a,l,c,u,d;for(l=0,s=0,a=o.length;s<a;s++)l+=o[s].length;for(d=new Uint8Array(l),c=0,s=0,a=o.length;s<a;s++)u=o[s],d.set(u,c),c+=u.length;return d}},i={arraySet:function(o,s,a,l,c){for(var u=0;u<l;u++)o[c+u]=s[a+u]},flattenChunks:function(o){return[].concat.apply([],o)}};e.setTyped=function(o){o?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,i))},e.setTyped(t)})(Wc);var yy={},Ul={},am={},O0e=Wc,L0e=4,DI=0,II=1,M0e=2;function lm(e){for(var t=e.length;--t>=0;)e[t]=0}var F0e=0,xH=1,B0e=2,z0e=3,U0e=258,IT=29,by=256,A1=by+1+IT,f0=30,OT=19,wH=2*A1+1,jf=15,E3=16,q0e=7,LT=256,_H=16,SH=17,kH=18,O4=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],xx=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H0e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],CH=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W0e=512,_c=new Array((A1+2)*2);lm(_c);var xv=new Array(f0*2);lm(xv);var E1=new Array(W0e);lm(E1);var T1=new Array(U0e-z0e+1);lm(T1);var MT=new Array(IT);lm(MT);var c_=new Array(f0);lm(c_);function T3(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}var NH,AH,EH;function P3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function TH(e){return e<256?E1[e]:E1[256+(e>>>7)]}function P1(e,t){e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255}function Po(e,t,n){e.bi_valid>E3-n?(e.bi_buf|=t<<e.bi_valid&65535,P1(e,e.bi_buf),e.bi_buf=t>>E3-e.bi_valid,e.bi_valid+=n-E3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function _l(e,t,n){Po(e,n[t*2],n[t*2+1])}function PH(e,t){var n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1}function V0e(e){e.bi_valid===16?(P1(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function K0e(e,t){var n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length,c,u,d,h,f,m,g=0;for(h=0;h<=jf;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<wH;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,g++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=s[u-a]),m=n[u*2],e.opt_len+=m*(h+f),o&&(e.static_len+=m*(i[u*2+1]+f)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}}function RH(e,t,n){var r=new Array(jf+1),i=0,o,s;for(o=1;o<=jf;o++)r[o]=i=i+n[o-1]<<1;for(s=0;s<=t;s++){var a=e[s*2+1];a!==0&&(e[s*2]=PH(r[a]++,a))}}function G0e(){var e,t,n,r,i,o=new Array(jf+1);for(n=0,r=0;r<IT-1;r++)for(MT[r]=n,e=0;e<1<<O4[r];e++)T1[n++]=r;for(T1[n-1]=r,i=0,r=0;r<16;r++)for(c_[r]=i,e=0;e<1<<xx[r];e++)E1[i++]=r;for(i>>=7;r<f0;r++)for(c_[r]=i<<7,e=0;e<1<<xx[r]-7;e++)E1[256+i++]=r;for(t=0;t<=jf;t++)o[t]=0;for(e=0;e<=143;)_c[e*2+1]=8,e++,o[8]++;for(;e<=255;)_c[e*2+1]=9,e++,o[9]++;for(;e<=279;)_c[e*2+1]=7,e++,o[7]++;for(;e<=287;)_c[e*2+1]=8,e++,o[8]++;for(RH(_c,A1+1,o),e=0;e<f0;e++)xv[e*2+1]=5,xv[e*2]=PH(e,5);NH=new T3(_c,O4,by+1,A1,jf),AH=new T3(xv,xx,0,f0,jf),EH=new T3(new Array(0),H0e,0,OT,q0e)}function jH(e){var t;for(t=0;t<A1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<f0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<OT;t++)e.bl_tree[t*2]=0;e.dyn_ltree[LT*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function DH(e){e.bi_valid>8?P1(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z0e(e,t,n,r){DH(e),P1(e,n),P1(e,~n),O0e.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function OI(e,t,n,r){var i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function R3(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&OI(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!OI(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function LI(e,t,n){var r,i,o=0,s,a;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+o*2]<<8|e.pending_buf[e.d_buf+o*2+1],i=e.pending_buf[e.l_buf+o],o++,r===0?_l(e,i,t):(s=T1[i],_l(e,s+by+1,t),a=O4[s],a!==0&&(i-=MT[s],Po(e,i,a)),r--,s=TH(r),_l(e,s,n),a=xx[s],a!==0&&(r-=c_[s],Po(e,r,a)));while(o<e.last_lit);_l(e,LT,t)}function L4(e,t){var n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,s,a,l=-1,c;for(e.heap_len=0,e.heap_max=wH,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)R3(e,n,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[c*2]=n[s*2]+n[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=c,e.heap[1]=c++,R3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],K0e(e,t),RH(n,l,e.bl_count)}function MI(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[_H*2]++):a<=10?e.bl_tree[SH*2]++:e.bl_tree[kH*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))}function FI(e,t,n){var r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do _l(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(_l(e,o,e.bl_tree),a--),_l(e,_H,e.bl_tree),Po(e,a-3,2)):a<=10?(_l(e,SH,e.bl_tree),Po(e,a-3,3)):(_l(e,kH,e.bl_tree),Po(e,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}}function X0e(e){var t;for(MI(e,e.dyn_ltree,e.l_desc.max_code),MI(e,e.dyn_dtree,e.d_desc.max_code),L4(e,e.bl_desc),t=OT-1;t>=3&&e.bl_tree[CH[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t}function $0e(e,t,n,r){var i;for(Po(e,t-257,5),Po(e,n-1,5),Po(e,r-4,4),i=0;i<r;i++)Po(e,e.bl_tree[CH[i]*2+1],3);FI(e,e.dyn_ltree,t-1),FI(e,e.dyn_dtree,n-1)}function Y0e(e){var t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return DI;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return II;for(n=32;n<by;n++)if(e.dyn_ltree[n*2]!==0)return II;return DI}var BI=!1;function J0e(e){BI||(G0e(),BI=!0),e.l_desc=new P3(e.dyn_ltree,NH),e.d_desc=new P3(e.dyn_dtree,AH),e.bl_desc=new P3(e.bl_tree,EH),e.bi_buf=0,e.bi_valid=0,jH(e)}function IH(e,t,n,r){Po(e,(F0e<<1)+(r?1:0),3),Z0e(e,t,n)}function Q0e(e){Po(e,xH<<1,3),_l(e,LT,_c),V0e(e)}function eme(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===M0e&&(e.strm.data_type=Y0e(e)),L4(e,e.l_desc),L4(e,e.d_desc),s=X0e(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?IH(e,t,n,r):e.strategy===L0e||o===i?(Po(e,(xH<<1)+(r?1:0),3),LI(e,_c,xv)):(Po(e,(B0e<<1)+(r?1:0),3),$0e(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),LI(e,e.dyn_ltree,e.dyn_dtree)),jH(e),r&&DH(e)}function tme(e,t,n){return e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(T1[n]+by+1)*2]++,e.dyn_dtree[TH(t)*2]++),e.last_lit===e.lit_bufsize-1}am._tr_init=J0e;am._tr_stored_block=IH;am._tr_flush_block=eme;am._tr_tally=tme;am._tr_align=Q0e;function nme(e,t,n,r){for(var i=e&65535|0,o=e>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0}var OH=nme;function rme(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t}var ime=rme();function ome(e,t,n,r){var i=ime,o=r+n;e^=-1;for(var s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1}var LH=ome,FT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},lo=Wc,Ks=am,MH=OH,Su=LH,sme=FT,jh=0,ame=1,lme=3,gd=4,zI=5,Sl=0,UI=1,Gs=-2,cme=-3,j3=-5,ume=-1,dme=1,v2=2,fme=3,hme=4,pme=0,mme=2,F5=8,gme=9,vme=15,yme=8,bme=29,xme=256,M4=xme+1+bme,wme=30,_me=19,Sme=2*M4+1,kme=15,hn=3,Yu=258,La=Yu+hn+1,Cme=32,B5=42,F4=69,wx=73,_x=91,Sx=103,Df=113,Dg=666,ii=1,xy=2,ph=3,cm=4,Nme=3;function Ju(e,t){return e.msg=sme[t],t}function qI(e){return(e<<1)-(e>4?9:0)}function Bu(e){for(var t=e.length;--t>=0;)e[t]=0}function ku(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(lo.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))}function Oi(e,t){Ks._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ku(e.strm)}function Nn(e,t){e.pending_buf[e.pending++]=t}function lg(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255}function Ame(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,lo.arraySet(t,e.input,e.next_in,i,n),e.state.wrap===1?e.adler=MH(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Su(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function FH(e,t){var n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-La?e.strstart-(e.w_size-La):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+Yu,f=c[r+s-1],m=c[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+s]!==m||c[i+s-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(o=Yu-(h-r),r=h-Yu,o>s){if(e.match_start=t,s=o,o>=a)break;f=c[r+s-1],m=c[r+s]}}while((t=d[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead}function mh(e){var t=e.w_size,n,r,i,o,s;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-La)){lo.arraySet(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);o+=t}if(e.strm.avail_in===0)break;if(r=Ame(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=hn)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+hn-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<hn)););}while(e.lookahead<La&&e.strm.avail_in!==0)}function Eme(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(mh(e),e.lookahead===0&&t===jh)return ii;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Oi(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-La&&(Oi(e,!1),e.strm.avail_out===0))return ii}return e.insert=0,t===gd?(Oi(e,!0),e.strm.avail_out===0?ph:cm):(e.strstart>e.block_start&&(Oi(e,!1),e.strm.avail_out===0),ii)}function D3(e,t){for(var n,r;;){if(e.lookahead<La){if(mh(e),e.lookahead<La&&t===jh)return ii;if(e.lookahead===0)break}if(n=0,e.lookahead>=hn&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+hn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-La&&(e.match_length=FH(e,n)),e.match_length>=hn)if(r=Ks._tr_tally(e,e.strstart-e.match_start,e.match_length-hn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=hn){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+hn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=Ks._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Oi(e,!1),e.strm.avail_out===0))return ii}return e.insert=e.strstart<hn-1?e.strstart:hn-1,t===gd?(Oi(e,!0),e.strm.avail_out===0?ph:cm):e.last_lit&&(Oi(e,!1),e.strm.avail_out===0)?ii:xy}function pp(e,t){for(var n,r,i;;){if(e.lookahead<La){if(mh(e),e.lookahead<La&&t===jh)return ii;if(e.lookahead===0)break}if(n=0,e.lookahead>=hn&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+hn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=hn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-La&&(e.match_length=FH(e,n),e.match_length<=5&&(e.strategy===dme||e.match_length===hn&&e.strstart-e.match_start>4096)&&(e.match_length=hn-1)),e.prev_length>=hn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-hn,r=Ks._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-hn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+hn-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=hn-1,e.strstart++,r&&(Oi(e,!1),e.strm.avail_out===0))return ii}else if(e.match_available){if(r=Ks._tr_tally(e,0,e.window[e.strstart-1]),r&&Oi(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return ii}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Ks._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<hn-1?e.strstart:hn-1,t===gd?(Oi(e,!0),e.strm.avail_out===0?ph:cm):e.last_lit&&(Oi(e,!1),e.strm.avail_out===0)?ii:xy}function Tme(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=Yu){if(mh(e),e.lookahead<=Yu&&t===jh)return ii;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=hn&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+Yu;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=Yu-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=hn?(n=Ks._tr_tally(e,1,e.match_length-hn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ks._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Oi(e,!1),e.strm.avail_out===0))return ii}return e.insert=0,t===gd?(Oi(e,!0),e.strm.avail_out===0?ph:cm):e.last_lit&&(Oi(e,!1),e.strm.avail_out===0)?ii:xy}function Pme(e,t){for(var n;;){if(e.lookahead===0&&(mh(e),e.lookahead===0)){if(t===jh)return ii;break}if(e.match_length=0,n=Ks._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Oi(e,!1),e.strm.avail_out===0))return ii}return e.insert=0,t===gd?(Oi(e,!0),e.strm.avail_out===0?ph:cm):e.last_lit&&(Oi(e,!1),e.strm.avail_out===0)?ii:xy}function sl(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}var Gp;Gp=[new sl(0,0,0,0,Eme),new sl(4,4,8,4,D3),new sl(4,5,16,8,D3),new sl(4,6,32,32,D3),new sl(4,4,16,16,pp),new sl(8,16,32,32,pp),new sl(8,16,128,128,pp),new sl(8,32,128,256,pp),new sl(32,128,258,1024,pp),new sl(32,258,258,4096,pp)];function Rme(e){e.window_size=2*e.w_size,Bu(e.head),e.max_lazy_match=Gp[e.level].max_lazy,e.good_match=Gp[e.level].good_length,e.nice_match=Gp[e.level].nice_length,e.max_chain_length=Gp[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=hn-1,e.match_available=0,e.ins_h=0}function jme(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=F5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new lo.Buf16(Sme*2),this.dyn_dtree=new lo.Buf16((2*wme+1)*2),this.bl_tree=new lo.Buf16((2*_me+1)*2),Bu(this.dyn_ltree),Bu(this.dyn_dtree),Bu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new lo.Buf16(kme+1),this.heap=new lo.Buf16(2*M4+1),Bu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new lo.Buf16(2*M4+1),Bu(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function BH(e){var t;return!e||!e.state?Ju(e,Gs):(e.total_in=e.total_out=0,e.data_type=mme,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?B5:Df,e.adler=t.wrap===2?0:1,t.last_flush=jh,Ks._tr_init(t),Sl)}function zH(e){var t=BH(e);return t===Sl&&Rme(e.state),t}function Dme(e,t){return!e||!e.state||e.state.wrap!==2?Gs:(e.state.gzhead=t,Sl)}function UH(e,t,n,r,i,o){if(!e)return Gs;var s=1;if(t===ume&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>gme||n!==F5||r<8||r>15||t<0||t>9||o<0||o>hme)return Ju(e,Gs);r===8&&(r=9);var a=new jme;return e.state=a,a.strm=e,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+hn-1)/hn),a.window=new lo.Buf8(a.w_size*2),a.head=new lo.Buf16(a.hash_size),a.prev=new lo.Buf16(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new lo.Buf8(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=o,a.method=n,zH(e)}function Ime(e,t){return UH(e,t,F5,vme,yme,pme)}function Ome(e,t){var n,r,i,o;if(!e||!e.state||t>zI||t<0)return e?Ju(e,Gs):Gs;if(r=e.state,!e.output||!e.input&&e.avail_in!==0||r.status===Dg&&t!==gd)return Ju(e,e.avail_out===0?j3:Gs);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===B5)if(r.wrap===2)e.adler=0,Nn(r,31),Nn(r,139),Nn(r,8),r.gzhead?(Nn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Nn(r,r.gzhead.time&255),Nn(r,r.gzhead.time>>8&255),Nn(r,r.gzhead.time>>16&255),Nn(r,r.gzhead.time>>24&255),Nn(r,r.level===9?2:r.strategy>=v2||r.level<2?4:0),Nn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Nn(r,r.gzhead.extra.length&255),Nn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Su(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=F4):(Nn(r,0),Nn(r,0),Nn(r,0),Nn(r,0),Nn(r,0),Nn(r,r.level===9?2:r.strategy>=v2||r.level<2?4:0),Nn(r,Nme),r.status=Df);else{var s=F5+(r.w_bits-8<<4)<<8,a=-1;r.strategy>=v2||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,s|=a<<6,r.strstart!==0&&(s|=Cme),s+=31-s%31,r.status=Df,lg(r,s),r.strstart!==0&&(lg(r,e.adler>>>16),lg(r,e.adler&65535)),e.adler=1}if(r.status===F4)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(r.gzhead.extra.length&65535)&&!(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Su(e.adler,r.pending_buf,r.pending-i,i)),ku(e),i=r.pending,r.pending===r.pending_buf_size));)Nn(r,r.gzhead.extra[r.gzindex]&255),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(e.adler=Su(e.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=wx)}else r.status=wx;if(r.status===wx)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Su(e.adler,r.pending_buf,r.pending-i,i)),ku(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,Nn(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Su(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.gzindex=0,r.status=_x)}else r.status=_x;if(r.status===_x)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(e.adler=Su(e.adler,r.pending_buf,r.pending-i,i)),ku(e),i=r.pending,r.pending===r.pending_buf_size)){o=1;break}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,Nn(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>i&&(e.adler=Su(e.adler,r.pending_buf,r.pending-i,i)),o===0&&(r.status=Sx)}else r.status=Sx;if(r.status===Sx&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&ku(e),r.pending+2<=r.pending_buf_size&&(Nn(r,e.adler&255),Nn(r,e.adler>>8&255),e.adler=0,r.status=Df)):r.status=Df),r.pending!==0){if(ku(e),e.avail_out===0)return r.last_flush=-1,Sl}else if(e.avail_in===0&&qI(t)<=qI(n)&&t!==gd)return Ju(e,j3);if(r.status===Dg&&e.avail_in!==0)return Ju(e,j3);if(e.avail_in!==0||r.lookahead!==0||t!==jh&&r.status!==Dg){var l=r.strategy===v2?Pme(r,t):r.strategy===fme?Tme(r,t):Gp[r.level].func(r,t);if((l===ph||l===cm)&&(r.status=Dg),l===ii||l===ph)return e.avail_out===0&&(r.last_flush=-1),Sl;if(l===xy&&(t===ame?Ks._tr_align(r):t!==zI&&(Ks._tr_stored_block(r,0,0,!1),t===lme&&(Bu(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),ku(e),e.avail_out===0))return r.last_flush=-1,Sl}return t!==gd?Sl:r.wrap<=0?UI:(r.wrap===2?(Nn(r,e.adler&255),Nn(r,e.adler>>8&255),Nn(r,e.adler>>16&255),Nn(r,e.adler>>24&255),Nn(r,e.total_in&255),Nn(r,e.total_in>>8&255),Nn(r,e.total_in>>16&255),Nn(r,e.total_in>>24&255)):(lg(r,e.adler>>>16),lg(r,e.adler&65535)),ku(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Sl:UI)}function Lme(e){var t;return!e||!e.state?Gs:(t=e.state.status,t!==B5&&t!==F4&&t!==wx&&t!==_x&&t!==Sx&&t!==Df&&t!==Dg?Ju(e,Gs):(e.state=null,t===Df?Ju(e,cme):Sl))}function Mme(e,t){var n=t.length,r,i,o,s,a,l,c,u;if(!e||!e.state||(r=e.state,s=r.wrap,s===2||s===1&&r.status!==B5||r.lookahead))return Gs;for(s===1&&(e.adler=MH(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(s===0&&(Bu(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new lo.Buf8(r.w_size),lo.arraySet(u,t,n-r.w_size,r.w_size,0),t=u,n=r.w_size),a=e.avail_in,l=e.next_in,c=e.input,e.avail_in=n,e.next_in=0,e.input=t,mh(r);r.lookahead>=hn;){i=r.strstart,o=r.lookahead-(hn-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+hn-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--o);r.strstart=i,r.lookahead=hn-1,mh(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=hn-1,r.match_available=0,e.next_in=l,e.input=c,e.avail_in=a,r.wrap=s,Sl}Ul.deflateInit=Ime;Ul.deflateInit2=UH;Ul.deflateReset=zH;Ul.deflateResetKeep=BH;Ul.deflateSetHeader=Dme;Ul.deflate=Ome;Ul.deflateEnd=Lme;Ul.deflateSetDictionary=Mme;Ul.deflateInfo="pako deflate (from Nodeca project)";var Dh={},z5=Wc,qH=!0,HH=!0;try{String.fromCharCode.apply(null,[0])}catch{qH=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{HH=!1}var R1=new z5.Buf8(256);for(var hu=0;hu<256;hu++)R1[hu]=hu>=252?6:hu>=248?5:hu>=240?4:hu>=224?3:hu>=192?2:1;R1[254]=R1[254]=1;Dh.string2buf=function(e){var t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new z5.Buf8(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};function WH(e,t){if(t<65534&&(e.subarray&&HH||!e.subarray&&qH))return String.fromCharCode.apply(null,z5.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}Dh.buf2binstring=function(e){return WH(e,e.length)};Dh.binstring2buf=function(e){for(var t=new z5.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t};Dh.buf2string=function(e,t){var n,r,i,o,s=t||e.length,a=new Array(s*2);for(r=0,n=0;n<s;){if(i=e[n++],i<128){a[r++]=i;continue}if(o=R1[i],o>4){a[r++]=65533,n+=o-1;continue}for(i&=o===2?31:o===3?15:7;o>1&&n<s;)i=i<<6|e[n++]&63,o--;if(o>1){a[r++]=65533;continue}i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|i&1023)}return WH(a,r)};Dh.utf8border=function(e,t){var n;for(t=t||e.length,t>e.length&&(t=e.length),n=t-1;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+R1[e[n]]>t?n:t};function Fme(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var VH=Fme,wv=Ul,_v=Wc,B4=Dh,z4=FT,Bme=VH,KH=Object.prototype.toString,zme=0,I3=4,h0=0,HI=1,WI=2,Ume=-1,qme=0,Hme=8;function gh(e){if(!(this instanceof gh))return new gh(e);this.options=_v.assign({level:Ume,method:Hme,chunkSize:16384,windowBits:15,memLevel:8,strategy:qme,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Bme,this.strm.avail_out=0;var n=wv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==h0)throw new Error(z4[n]);if(t.header&&wv.deflateSetHeader(this.strm,t.header),t.dictionary){var r;if(typeof t.dictionary=="string"?r=B4.string2buf(t.dictionary):KH.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=wv.deflateSetDictionary(this.strm,r),n!==h0)throw new Error(z4[n]);this._dict_set=!0}}gh.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i,o;if(this.ended)return!1;o=t===~~t?t:t===!0?I3:zme,typeof e=="string"?n.input=B4.string2buf(e):KH.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new _v.Buf8(r),n.next_out=0,n.avail_out=r),i=wv.deflate(n,o),i!==HI&&i!==h0)return this.onEnd(i),this.ended=!0,!1;(n.avail_out===0||n.avail_in===0&&(o===I3||o===WI))&&(this.options.to==="string"?this.onData(B4.buf2binstring(_v.shrinkBuf(n.output,n.next_out))):this.onData(_v.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||n.avail_out===0)&&i!==HI);return o===I3?(i=wv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===h0):(o===WI&&(this.onEnd(h0),n.avail_out=0),!0)};gh.prototype.onData=function(e){this.chunks.push(e)};gh.prototype.onEnd=function(e){e===h0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_v.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function BT(e,t){var n=new gh(t);if(n.push(e,!0),n.err)throw n.msg||z4[n.err];return n.result}function Wme(e,t){return t=t||{},t.raw=!0,BT(e,t)}function Vme(e,t){return t=t||{},t.gzip=!0,BT(e,t)}yy.Deflate=gh;yy.deflate=BT;yy.deflateRaw=Wme;yy.gzip=Vme;var wy={},Wa={},y2=30,Kme=12,Gme=function(t,n){var r,i,o,s,a,l,c,u,d,h,f,m,g,y,v,x,_,S,k,T,P,N,A,D,C;r=t.state,i=t.next_in,D=t.input,o=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(n-t.avail_out),l=s+(t.avail_out-257),c=r.dmax,u=r.wsize,d=r.whave,h=r.wnext,f=r.window,m=r.hold,g=r.bits,y=r.lencode,v=r.distcode,x=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{g<15&&(m+=D[i++]<<g,g+=8,m+=D[i++]<<g,g+=8),S=y[m&x];t:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,k===0)C[s++]=S&65535;else if(k&16){T=S&65535,k&=15,k&&(g<k&&(m+=D[i++]<<g,g+=8),T+=m&(1<<k)-1,m>>>=k,g-=k),g<15&&(m+=D[i++]<<g,g+=8,m+=D[i++]<<g,g+=8),S=v[m&_];n:for(;;){if(k=S>>>24,m>>>=k,g-=k,k=S>>>16&255,k&16){if(P=S&65535,k&=15,g<k&&(m+=D[i++]<<g,g+=8,g<k&&(m+=D[i++]<<g,g+=8)),P+=m&(1<<k)-1,P>c){t.msg="invalid distance too far back",r.mode=y2;break e}if(m>>>=k,g-=k,k=s-a,P>k){if(k=P-k,k>d&&r.sane){t.msg="invalid distance too far back",r.mode=y2;break e}if(N=0,A=f,h===0){if(N+=u-k,k<T){T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}}else if(h<k){if(N+=u+h-k,k-=h,k<T){T-=k;do C[s++]=f[N++];while(--k);if(N=0,h<T){k=h,T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}}}else if(N+=h-k,k<T){T-=k;do C[s++]=f[N++];while(--k);N=s-P,A=C}for(;T>2;)C[s++]=A[N++],C[s++]=A[N++],C[s++]=A[N++],T-=3;T&&(C[s++]=A[N++],T>1&&(C[s++]=A[N++]))}else{N=s-P;do C[s++]=C[N++],C[s++]=C[N++],C[s++]=C[N++],T-=3;while(T>2);T&&(C[s++]=C[N++],T>1&&(C[s++]=C[N++]))}}else if(k&64){t.msg="invalid distance code",r.mode=y2;break e}else{S=v[(S&65535)+(m&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){r.mode=Kme;break e}else{t.msg="invalid literal/length code",r.mode=y2;break e}else{S=y[(S&65535)+(m&(1<<k)-1)];continue t}break}}while(i<o&&s<l);T=g>>3,i-=T,g-=T<<3,m&=(1<<g)-1,t.next_in=i,t.next_out=s,t.avail_in=i<o?5+(o-i):5-(i-o),t.avail_out=s<l?257+(l-s):257-(s-l),r.hold=m,r.bits=g},VI=Wc,mp=15,KI=852,GI=592,ZI=0,O3=1,XI=2,Zme=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Xme=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],$me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Yme=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],Jme=function(t,n,r,i,o,s,a,l){var c=l.bits,u=0,d=0,h=0,f=0,m=0,g=0,y=0,v=0,x=0,_=0,S,k,T,P,N,A=null,D=0,C,j=new VI.Buf16(mp+1),L=new VI.Buf16(mp+1),z=null,K=0,H,Z,W;for(u=0;u<=mp;u++)j[u]=0;for(d=0;d<i;d++)j[n[r+d]]++;for(m=c,f=mp;f>=1&&j[f]===0;f--);if(m>f&&(m=f),f===0)return o[s++]=1<<24|64<<16|0,o[s++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<f&&j[h]===0;h++);for(m<h&&(m=h),v=1,u=1;u<=mp;u++)if(v<<=1,v-=j[u],v<0)return-1;if(v>0&&(t===ZI||f!==1))return-1;for(L[1]=0,u=1;u<mp;u++)L[u+1]=L[u]+j[u];for(d=0;d<i;d++)n[r+d]!==0&&(a[L[n[r+d]]++]=d);if(t===ZI?(A=z=a,C=19):t===O3?(A=Zme,D-=257,z=Xme,K-=257,C=256):(A=$me,z=Yme,C=-1),_=0,d=0,u=h,N=s,g=m,y=0,T=-1,x=1<<m,P=x-1,t===O3&&x>KI||t===XI&&x>GI)return 1;for(;;){H=u-y,a[d]<C?(Z=0,W=a[d]):a[d]>C?(Z=z[K+a[d]],W=A[D+a[d]]):(Z=96,W=0),S=1<<u-y,k=1<<g,h=k;do k-=S,o[N+(_>>y)+k]=H<<24|Z<<16|W|0;while(k!==0);for(S=1<<u-1;_&S;)S>>=1;if(S!==0?(_&=S-1,_+=S):_=0,d++,--j[u]===0){if(u===f)break;u=n[r+a[d]]}if(u>m&&(_&P)!==T){for(y===0&&(y=m),N+=h,g=u-y,v=1<<g;g+y<f&&(v-=j[g+y],!(v<=0));)g++,v<<=1;if(x+=1<<g,t===O3&&x>KI||t===XI&&x>GI)return 1;T=_&P,o[T]=m<<24|g<<16|N-s|0}}return _!==0&&(o[N+_]=u-y<<24|64<<16|0),l.bits=m,0},ns=Wc,U4=OH,al=LH,Qme=Gme,Sv=Jme,ege=0,GH=1,ZH=2,$I=4,tge=5,b2=6,vh=0,nge=1,rge=2,ea=-2,XH=-3,$H=-4,ige=-5,YI=8,YH=1,JI=2,QI=3,eO=4,tO=5,nO=6,rO=7,iO=8,oO=9,sO=10,u_=11,cc=12,L3=13,aO=14,M3=15,lO=16,cO=17,uO=18,dO=19,x2=20,w2=21,fO=22,hO=23,pO=24,mO=25,gO=26,F3=27,vO=28,yO=29,or=30,JH=31,oge=32,sge=852,age=592,lge=15,cge=lge;function bO(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function uge(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ns.Buf16(320),this.work=new ns.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function QH(e){var t;return!e||!e.state?ea:(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=YH,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new ns.Buf32(sge),t.distcode=t.distdyn=new ns.Buf32(age),t.sane=1,t.back=-1,vh)}function eW(e){var t;return!e||!e.state?ea:(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,QH(e))}function tW(e,t){var n,r;return!e||!e.state||(r=e.state,t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?ea:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,eW(e))}function nW(e,t){var n,r;return e?(r=new uge,e.state=r,r.window=null,n=tW(e,t),n!==vh&&(e.state=null),n):ea}function dge(e){return nW(e,cge)}var xO=!0,B3,z3;function fge(e){if(xO){var t;for(B3=new ns.Buf32(512),z3=new ns.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Sv(GH,e.lens,0,288,B3,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Sv(ZH,e.lens,0,32,z3,0,e.work,{bits:5}),xO=!1}e.lencode=B3,e.lenbits=9,e.distcode=z3,e.distbits=5}function rW(e,t,n,r){var i,o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new ns.Buf8(o.wsize)),r>=o.wsize?(ns.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),ns.arraySet(o.window,t,n-r,i,o.wnext),r-=i,r?(ns.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}function hge(e,t){var n,r,i,o,s,a,l,c,u,d,h,f,m,g,y=0,v,x,_,S,k,T,P,N,A=new ns.Buf8(4),D,C,j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return ea;n=e.state,n.mode===cc&&(n.mode=L3),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,N=vh;e:for(;;)switch(n.mode){case YH:if(n.wrap===0){n.mode=L3;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.check=0,A[0]=c&255,A[1]=c>>>8&255,n.check=al(n.check,A,2,0),c=0,u=0,n.mode=JI;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=or;break}if((c&15)!==YI){e.msg="unknown compression method",n.mode=or;break}if(c>>>=4,u-=4,P=(c&15)+8,n.wbits===0)n.wbits=P;else if(P>n.wbits){e.msg="invalid window size",n.mode=or;break}n.dmax=1<<P,e.adler=n.check=1,n.mode=c&512?sO:cc,c=0,u=0;break;case JI:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==YI){e.msg="unknown compression method",n.mode=or;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=or;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=al(n.check,A,2,0)),c=0,u=0,n.mode=QI;case QI:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=al(n.check,A,4,0)),c=0,u=0,n.mode=eO;case eO:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=al(n.check,A,2,0)),c=0,u=0,n.mode=tO;case tO:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&(A[0]=c&255,A[1]=c>>>8&255,n.check=al(n.check,A,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=nO;case nO:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),ns.arraySet(n.head.extra,r,o,f,P)),n.flags&512&&(n.check=al(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=rO;case rO:if(n.flags&2048){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&(n.check=al(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=iO;case iO:if(n.flags&4096){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&(n.check=al(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.comment=null);n.mode=oO;case oO:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=or;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=cc;break;case sO:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}e.adler=n.check=bO(c),c=0,u=0,n.mode=u_;case u_:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,rge;e.adler=n.check=1,n.mode=cc;case cc:if(t===tge||t===b2)break e;case L3:if(n.last){c>>>=u&7,u-=u&7,n.mode=F3;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=aO;break;case 1:if(fge(n),n.mode=x2,t===b2){c>>>=2,u-=2;break e}break;case 2:n.mode=cO;break;case 3:e.msg="invalid block type",n.mode=or}c>>>=2,u-=2;break;case aO:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=or;break}if(n.length=c&65535,c=0,u=0,n.mode=M3,t===b2)break e;case M3:n.mode=lO;case lO:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;ns.arraySet(i,r,o,f,s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=cc;break;case cO:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=or;break}n.have=0,n.mode=uO;case uO:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[j[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=Sv(ege,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid code lengths set",n.mode=or;break}n.have=0,n.mode=dO;case dO:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(_<16)c>>>=v,u-=v,n.lens[n.have++]=_;else{if(_===16){for(C=v+2;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=or;break}P=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(_===17){for(C=v+3;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=3+(c&7),c>>>=3,u-=3}else{for(C=v+7;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=or;break}for(;f--;)n.lens[n.have++]=P}}if(n.mode===or)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=or;break}if(n.lenbits=9,D={bits:n.lenbits},N=Sv(GH,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid literal/lengths set",n.mode=or;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=Sv(ZH,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){e.msg="invalid distances set",n.mode=or;break}if(n.mode=x2,t===b2)break e;case x2:n.mode=w2;case w2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,Qme(e,h),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===cc&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(x&&!(x&240)){for(S=v,k=x,T=_;y=n.lencode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,n.length=_,x===0){n.mode=gO;break}if(x&32){n.back=-1,n.mode=cc;break}if(x&64){e.msg="invalid literal/length code",n.mode=or;break}n.extra=x&15,n.mode=fO;case fO:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=hO;case hO:for(;y=n.distcode[c&(1<<n.distbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(!(x&240)){for(S=v,k=x,T=_;y=n.distcode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,x&64){e.msg="invalid distance code",n.mode=or;break}n.offset=_,n.extra=x&15,n.mode=pO;case pO:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=or;break}n.mode=mO;case mO:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=or;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,m=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=g[m++];while(--f);n.length===0&&(n.mode=w2);break;case gO:if(l===0)break e;i[s++]=n.length,l--,n.mode=w2;break;case F3:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?al(n.check,i,h,s-h):U4(n.check,i,h,s-h)),h=l,(n.flags?c:bO(c))!==n.check){e.msg="incorrect data check",n.mode=or;break}c=0,u=0}n.mode=vO;case vO:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=or;break}c=0,u=0}n.mode=yO;case yO:N=nge;break e;case or:N=XH;break e;case JH:return $H;case oge:default:return ea}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<or&&(n.mode<F3||t!==$I))&&rW(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?al(n.check,i,h,e.next_out-h):U4(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===cc?128:0)+(n.mode===x2||n.mode===M3?256:0),(d===0&&h===0||t===$I)&&N===vh&&(N=ige),N}function pge(e){if(!e||!e.state)return ea;var t=e.state;return t.window&&(t.window=null),e.state=null,vh}function mge(e,t){var n;return!e||!e.state||(n=e.state,!(n.wrap&2))?ea:(n.head=t,t.done=!1,vh)}function gge(e,t){var n=t.length,r,i,o;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==u_)?ea:r.mode===u_&&(i=1,i=U4(i,t,n,0),i!==r.check)?XH:(o=rW(e,t,n,n),o?(r.mode=JH,$H):(r.havedict=1,vh))}Wa.inflateReset=eW;Wa.inflateReset2=tW;Wa.inflateResetKeep=QH;Wa.inflateInit=dge;Wa.inflateInit2=nW;Wa.inflate=hge;Wa.inflateEnd=pge;Wa.inflateGetHeader=mge;Wa.inflateSetDictionary=gge;Wa.inflateInfo="pako inflate (from Nodeca project)";var iW={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};function vge(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yge=vge,p0=Wa,kv=Wc,kx=Dh,Rr=iW,q4=FT,bge=VH,xge=yge,oW=Object.prototype.toString;function yh(e){if(!(this instanceof yh))return new yh(e);this.options=kv.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new bge,this.strm.avail_out=0;var n=p0.inflateInit2(this.strm,t.windowBits);if(n!==Rr.Z_OK)throw new Error(q4[n]);if(this.header=new xge,p0.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=kx.string2buf(t.dictionary):oW.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=p0.inflateSetDictionary(this.strm,t.dictionary),n!==Rr.Z_OK)))throw new Error(q4[n])}yh.prototype.push=function(e,t){var n=this.strm,r=this.options.chunkSize,i=this.options.dictionary,o,s,a,l,c,u=!1;if(this.ended)return!1;s=t===~~t?t:t===!0?Rr.Z_FINISH:Rr.Z_NO_FLUSH,typeof e=="string"?n.input=kx.binstring2buf(e):oW.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(n.avail_out===0&&(n.output=new kv.Buf8(r),n.next_out=0,n.avail_out=r),o=p0.inflate(n,Rr.Z_NO_FLUSH),o===Rr.Z_NEED_DICT&&i&&(o=p0.inflateSetDictionary(this.strm,i)),o===Rr.Z_BUF_ERROR&&u===!0&&(o=Rr.Z_OK,u=!1),o!==Rr.Z_STREAM_END&&o!==Rr.Z_OK)return this.onEnd(o),this.ended=!0,!1;n.next_out&&(n.avail_out===0||o===Rr.Z_STREAM_END||n.avail_in===0&&(s===Rr.Z_FINISH||s===Rr.Z_SYNC_FLUSH))&&(this.options.to==="string"?(a=kx.utf8border(n.output,n.next_out),l=n.next_out-a,c=kx.buf2string(n.output,a),n.next_out=l,n.avail_out=r-l,l&&kv.arraySet(n.output,n.output,a,l,0),this.onData(c)):this.onData(kv.shrinkBuf(n.output,n.next_out))),n.avail_in===0&&n.avail_out===0&&(u=!0)}while((n.avail_in>0||n.avail_out===0)&&o!==Rr.Z_STREAM_END);return o===Rr.Z_STREAM_END&&(s=Rr.Z_FINISH),s===Rr.Z_FINISH?(o=p0.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Rr.Z_OK):(s===Rr.Z_SYNC_FLUSH&&(this.onEnd(Rr.Z_OK),n.avail_out=0),!0)};yh.prototype.onData=function(e){this.chunks.push(e)};yh.prototype.onEnd=function(e){e===Rr.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kv.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function zT(e,t){var n=new yh(t);if(n.push(e,!0),n.err)throw n.msg||q4[n.err];return n.result}function wge(e,t){return t=t||{},t.raw=!0,zT(e,t)}wy.Inflate=yh;wy.inflate=zT;wy.inflateRaw=wge;wy.ungzip=zT;var _ge=Wc.assign,Sge=yy,kge=wy,Cge=iW,sW={};_ge(sW,Sge,kge,Cge);var Nge=sW;const Age=W1(Nge);var He={};He.toRGBA8=function(e){var t=e.width,n=e.height;if(e.tabs.acTL==null)return[He.toRGBA8.decodeImage(e.data,t,n,e).buffer];var r=[];e.frames[0].data==null&&(e.frames[0].data=e.data);for(var i=t*n*4,o=new Uint8Array(i),s=new Uint8Array(i),a=new Uint8Array(i),l=0;l<e.frames.length;l++){var c=e.frames[l],u=c.rect.x,d=c.rect.y,h=c.rect.width,f=c.rect.height,m=He.toRGBA8.decodeImage(c.data,h,f,e);if(l!=0)for(var g=0;g<i;g++)a[g]=o[g];if(c.blend==0?He._copyTile(m,h,f,o,t,n,u,d,0):c.blend==1&&He._copyTile(m,h,f,o,t,n,u,d,1),r.push(o.buffer.slice(0)),c.dispose!=0){if(c.dispose==1)He._copyTile(s,h,f,o,t,n,u,d,0);else if(c.dispose==2)for(var g=0;g<i;g++)o[g]=a[g]}}return r};He.toRGBA8.decodeImage=function(e,t,n,r){var i=t*n,o=He.decode._getBPP(r),s=Math.ceil(t*o/8),a=new Uint8Array(i*4),l=new Uint32Array(a.buffer),c=r.ctype,u=r.depth,d=He._bin.readUshort;if(c==6){var h=i<<2;if(u==8)for(var f=0;f<h;f+=4)a[f]=e[f],a[f+1]=e[f+1],a[f+2]=e[f+2],a[f+3]=e[f+3];if(u==16)for(var f=0;f<h;f++)a[f]=e[f<<1]}else if(c==2){var m=r.tabs.tRNS;if(m==null){if(u==8)for(var f=0;f<i;f++){var g=f*3;l[f]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g]}if(u==16)for(var f=0;f<i;f++){var g=f*6;l[f]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g]}}else{var y=m[0],v=m[1],x=m[2];if(u==8)for(var f=0;f<i;f++){var _=f<<2,g=f*3;l[f]=255<<24|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==y&&e[g+1]==v&&e[g+2]==x&&(a[_+3]=0)}if(u==16)for(var f=0;f<i;f++){var _=f<<2,g=f*6;l[f]=255<<24|e[g+4]<<16|e[g+2]<<8|e[g],d(e,g)==y&&d(e,g+2)==v&&d(e,g+4)==x&&(a[_+3]=0)}}}else if(c==3){var S=r.tabs.PLTE,k=r.tabs.tRNS,T=k?k.length:0;if(u==1)for(var P=0;P<n;P++)for(var N=P*s,A=P*t,f=0;f<t;f++){var _=A+f<<2,D=e[N+(f>>3)]>>7-((f&7)<<0)&1,C=3*D;a[_]=S[C],a[_+1]=S[C+1],a[_+2]=S[C+2],a[_+3]=D<T?k[D]:255}if(u==2)for(var P=0;P<n;P++)for(var N=P*s,A=P*t,f=0;f<t;f++){var _=A+f<<2,D=e[N+(f>>2)]>>6-((f&3)<<1)&3,C=3*D;a[_]=S[C],a[_+1]=S[C+1],a[_+2]=S[C+2],a[_+3]=D<T?k[D]:255}if(u==4)for(var P=0;P<n;P++)for(var N=P*s,A=P*t,f=0;f<t;f++){var _=A+f<<2,D=e[N+(f>>1)]>>4-((f&1)<<2)&15,C=3*D;a[_]=S[C],a[_+1]=S[C+1],a[_+2]=S[C+2],a[_+3]=D<T?k[D]:255}if(u==8)for(var f=0;f<i;f++){var _=f<<2,D=e[f],C=3*D;a[_]=S[C],a[_+1]=S[C+1],a[_+2]=S[C+2],a[_+3]=D<T?k[D]:255}}else if(c==4){if(u==8)for(var f=0;f<i;f++){var _=f<<2,j=f<<1,L=e[j];a[_]=L,a[_+1]=L,a[_+2]=L,a[_+3]=e[j+1]}if(u==16)for(var f=0;f<i;f++){var _=f<<2,j=f<<2,L=e[j];a[_]=L,a[_+1]=L,a[_+2]=L,a[_+3]=e[j+2]}}else if(c==0)for(var y=r.tabs.tRNS?r.tabs.tRNS:-1,P=0;P<n;P++){var z=P*s,K=P*t;if(u==1)for(var H=0;H<t;H++){var L=255*(e[z+(H>>>3)]>>>7-(H&7)&1),Z=L==y*255?0:255;l[K+H]=Z<<24|L<<16|L<<8|L}else if(u==2)for(var H=0;H<t;H++){var L=85*(e[z+(H>>>2)]>>>6-((H&3)<<1)&3),Z=L==y*85?0:255;l[K+H]=Z<<24|L<<16|L<<8|L}else if(u==4)for(var H=0;H<t;H++){var L=17*(e[z+(H>>>1)]>>>4-((H&1)<<2)&15),Z=L==y*17?0:255;l[K+H]=Z<<24|L<<16|L<<8|L}else if(u==8)for(var H=0;H<t;H++){var L=e[z+H],Z=L==y?0:255;l[K+H]=Z<<24|L<<16|L<<8|L}else if(u==16)for(var H=0;H<t;H++){var L=e[z+(H<<1)],Z=d(e,z+(H<<f))==y?0:255;l[K+H]=Z<<24|L<<16|L<<8|L}}return a};He.decode=function(e){for(var t=new Uint8Array(e),n=8,r=He._bin,i=r.readUshort,o=r.readUint,s={tabs:{},frames:[]},a=new Uint8Array(t.length),l=0,c,u=0,d=[137,80,78,71,13,10,26,10],h=0;h<8;h++)if(t[h]!=d[h])throw"The input is not a PNG file!";for(;n<t.length;){var f=r.readUint(t,n);n+=4;var m=r.readASCII(t,n,4);if(n+=4,m=="IHDR")He.decode._IHDR(t,n,s);else if(m=="IDAT"){for(var h=0;h<f;h++)a[l+h]=t[n+h];l+=f}else if(m=="acTL")s.tabs[m]={num_frames:o(t,n),num_plays:o(t,n+4)},c=new Uint8Array(t.length);else if(m=="fcTL"){if(u!=0){var g=s.frames[s.frames.length-1];g.data=He.decode._decompress(s,c.slice(0,u),g.rect.width,g.rect.height),u=0}var y={x:o(t,n+12),y:o(t,n+16),width:o(t,n+4),height:o(t,n+8)},v=i(t,n+22);v=i(t,n+20)/(v==0?100:v);var x={rect:y,delay:Math.round(v*1e3),dispose:t[n+24],blend:t[n+25]};s.frames.push(x)}else if(m=="fdAT"){for(var h=0;h<f-4;h++)c[u+h]=t[n+h+4];u+=f-4}else if(m=="pHYs")s.tabs[m]=[r.readUint(t,n),r.readUint(t,n+4),t[n+8]];else if(m=="cHRM"){s.tabs[m]=[];for(var h=0;h<8;h++)s.tabs[m].push(r.readUint(t,n+h*4))}else if(m=="tEXt"){s.tabs[m]==null&&(s.tabs[m]={});var _=r.nextZero(t,n),S=r.readASCII(t,n,_-n),k=r.readASCII(t,_+1,n+f-_-1);s.tabs[m][S]=k}else if(m=="iTXt"){s.tabs[m]==null&&(s.tabs[m]={});var _=0,T=n;_=r.nextZero(t,T);var S=r.readASCII(t,T,_-T);T=_+1,t[T],t[T+1],T+=2,_=r.nextZero(t,T),r.readASCII(t,T,_-T),T=_+1,_=r.nextZero(t,T),r.readUTF8(t,T,_-T),T=_+1;var k=r.readUTF8(t,T,f-(T-n));s.tabs[m][S]=k}else if(m=="PLTE")s.tabs[m]=r.readBytes(t,n,f);else if(m=="hIST"){var P=s.tabs.PLTE.length/3;s.tabs[m]=[];for(var h=0;h<P;h++)s.tabs[m].push(i(t,n+h*2))}else if(m=="tRNS")s.ctype==3?s.tabs[m]=r.readBytes(t,n,f):s.ctype==0?s.tabs[m]=i(t,n):s.ctype==2&&(s.tabs[m]=[i(t,n),i(t,n+2),i(t,n+4)]);else if(m=="gAMA")s.tabs[m]=r.readUint(t,n)/1e5;else if(m=="sRGB")s.tabs[m]=t[n];else if(m=="bKGD")s.ctype==0||s.ctype==4?s.tabs[m]=[i(t,n)]:s.ctype==2||s.ctype==6?s.tabs[m]=[i(t,n),i(t,n+2),i(t,n+4)]:s.ctype==3&&(s.tabs[m]=t[n]);else if(m=="IEND")break;n+=f,r.readUint(t,n),n+=4}if(u!=0){var g=s.frames[s.frames.length-1];g.data=He.decode._decompress(s,c.slice(0,u),g.rect.width,g.rect.height),u=0}return s.data=He.decode._decompress(s,a,s.width,s.height),delete s.compress,delete s.interlace,delete s.filter,s};He.decode._decompress=function(e,t,n,r){var i=He.decode._getBPP(e),o=Math.ceil(n*i/8),s=new Uint8Array((o+1+e.interlace)*r);return t=He.decode._inflate(t,s),e.interlace==0?t=He.decode._filterZero(t,e,0,n,r):e.interlace==1&&(t=He.decode._readInterlace(t,e)),t};He.decode._inflate=function(e,t){var n=He.inflateRaw(new Uint8Array(e.buffer,2,e.length-6),t);return n};He.inflateRaw=function(){var e={};return e.H={},e.H.N=function(t,n){var r=Uint8Array,i=0,o=0,s=0,a=0,l=0,c=0,u=0,d=0,h=0,f,m;if(t[0]==3&&t[1]==0)return n||new r(0);var g=e.H,y=g.b,v=g.e,x=g.R,_=g.n,S=g.A,k=g.Z,T=g.m,P=n==null;for(P&&(n=new r(t.length>>>2<<3));i==0;){if(i=y(t,h,1),o=y(t,h+1,2),h+=3,o==0){h&7&&(h+=8-(h&7));var N=(h>>>3)+4,A=t[N-4]|t[N-3]<<8;P&&(n=e.H.W(n,d+A)),n.set(new r(t.buffer,t.byteOffset+N,A),d),h=N+A<<3,d+=A;continue}if(P&&(n=e.H.W(n,d+(1<<17))),o==1&&(f=T.J,m=T.h,c=511,u=31),o==2){s=v(t,h,5)+257,a=v(t,h+5,5)+1,l=v(t,h+10,4)+4,h+=14;for(var D=1,C=0;C<38;C+=2)T.Q[C]=0,T.Q[C+1]=0;for(var C=0;C<l;C++){var j=v(t,h+C*3,3);T.Q[(T.X[C]<<1)+1]=j,j>D&&(D=j)}h+=3*l,_(T.Q,D),S(T.Q,D,T.u),f=T.w,m=T.d,h=x(T.u,(1<<D)-1,s+a,t,h,T.v);var L=g.V(T.v,0,s,T.C);c=(1<<L)-1;var z=g.V(T.v,s,a,T.D);u=(1<<z)-1,_(T.C,L),S(T.C,L,f),_(T.D,z),S(T.D,z,m)}for(;;){var K=f[k(t,h)&c];h+=K&15;var H=K>>>4;if(!(H>>>8))n[d++]=H;else{if(H==256)break;var Z=d+H-254;if(H>264){var W=T.q[H-257];Z=d+(W>>>3)+v(t,h,W&7),h+=W&7}var Y=m[k(t,h)&u];h+=Y&15;var le=Y>>>4,fe=T.c[le],M=(fe>>>4)+y(t,h,fe&15);for(h+=fe&15;d<Z;)n[d]=n[d++-M],n[d]=n[d++-M],n[d]=n[d++-M],n[d]=n[d++-M];d=Z}}}return n.length==d?n:n.slice(0,d)},e.H.W=function(t,n){var r=t.length;if(n<=r)return t;var i=new Uint8Array(r<<1);return i.set(t,0),i},e.H.R=function(t,n,r,i,o,s){for(var a=e.H.e,l=e.H.Z,c=0;c<r;){var u=t[l(i,o)&n];o+=u&15;var d=u>>>4;if(d<=15)s[c]=d,c++;else{var h=0,f=0;d==16?(f=3+a(i,o,2),o+=2,h=s[c-1]):d==17?(f=3+a(i,o,3),o+=3):d==18&&(f=11+a(i,o,7),o+=7);for(var m=c+f;c<m;)s[c]=h,c++}}return o},e.H.V=function(t,n,r,i){for(var o=0,s=0,a=i.length>>>1;s<r;){var l=t[s+n];i[s<<1]=0,i[(s<<1)+1]=l,l>o&&(o=l),s++}for(;s<a;)i[s<<1]=0,i[(s<<1)+1]=0,s++;return o},e.H.n=function(t,n){for(var r=e.H.m,i=t.length,o,s,a,l,c,u=r.j,l=0;l<=n;l++)u[l]=0;for(l=1;l<i;l+=2)u[t[l]]++;var d=r.K;for(o=0,u[0]=0,s=1;s<=n;s++)o=o+u[s-1]<<1,d[s]=o;for(a=0;a<i;a+=2)c=t[a+1],c!=0&&(t[a]=d[c],d[c]++)},e.H.A=function(t,n,r){for(var i=t.length,o=e.H.m,s=o.r,a=0;a<i;a+=2)if(t[a+1]!=0)for(var l=a>>1,c=t[a+1],u=l<<4|c,d=n-c,h=t[a]<<d,f=h+(1<<d);h!=f;){var m=s[h]>>>15-n;r[m]=u,h++}},e.H.l=function(t,n){for(var r=e.H.m.r,i=15-n,o=0;o<t.length;o+=2){var s=t[o]<<n-t[o+1];t[o]=r[s]>>>i}},e.H.M=function(t,n,r){r=r<<(n&7);var i=n>>>3;t[i]|=r,t[i+1]|=r>>>8},e.H.I=function(t,n,r){r=r<<(n&7);var i=n>>>3;t[i]|=r,t[i+1]|=r>>>8,t[i+2]|=r>>>16},e.H.e=function(t,n,r){return(t[n>>>3]|t[(n>>>3)+1]<<8)>>>(n&7)&(1<<r)-1},e.H.b=function(t,n,r){return(t[n>>>3]|t[(n>>>3)+1]<<8|t[(n>>>3)+2]<<16)>>>(n&7)&(1<<r)-1},e.H.Z=function(t,n){return(t[n>>>3]|t[(n>>>3)+1]<<8|t[(n>>>3)+2]<<16)>>>(n&7)},e.H.i=function(t,n){return(t[n>>>3]|t[(n>>>3)+1]<<8|t[(n>>>3)+2]<<16|t[(n>>>3)+3]<<24)>>>(n&7)},e.H.m=function(){var t=Uint16Array,n=Uint32Array;return{K:new t(16),j:new t(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new t(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new t(512),_:[],h:new t(32),$:[],w:new t(32768),C:[],v:[],d:new t(32768),D:[],u:new t(512),Q:[],r:new t(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new t(65536),g:new t(32768)}}(),function(){for(var t=e.H.m,n=32768,r=0;r<n;r++){var i=r;i=(i&2863311530)>>>1|(i&1431655765)<<1,i=(i&3435973836)>>>2|(i&858993459)<<2,i=(i&4042322160)>>>4|(i&252645135)<<4,i=(i&4278255360)>>>8|(i&16711935)<<8,t.r[r]=(i>>>16|i<<16)>>>17}function o(s,a,l){for(;a--!=0;)s.push(0,l)}for(var r=0;r<32;r++)t.q[r]=t.S[r]<<3|t.T[r],t.c[r]=t.p[r]<<4|t.z[r];o(t._,144,8),o(t._,112,9),o(t._,24,7),o(t._,8,8),e.H.n(t._,9),e.H.A(t._,9,t.J),e.H.l(t._,9),o(t.$,32,5),e.H.n(t.$,5),e.H.A(t.$,5,t.h),e.H.l(t.$,5),o(t.Q,19,0),o(t.C,286,0),o(t.D,30,0),o(t.v,320,0)}(),e.H.N}();He.decode._readInterlace=function(e,t){for(var n=t.width,r=t.height,i=He.decode._getBPP(t),o=i>>3,s=Math.ceil(n*i/8),a=new Uint8Array(r*s),l=0,c=[0,0,4,0,2,0,1],u=[0,4,0,2,0,1,0],d=[8,8,8,4,4,2,2],h=[8,8,4,4,2,2,1],f=0;f<7;){for(var m=d[f],g=h[f],y=0,v=0,x=c[f];x<r;)x+=m,v++;for(var _=u[f];_<n;)_+=g,y++;var S=Math.ceil(y*i/8);He.decode._filterZero(e,t,l,y,v);for(var k=0,T=c[f];T<r;){for(var P=u[f],N=l+k*S<<3;P<n;){if(i==1){var A=e[N>>3];A=A>>7-(N&7)&1,a[T*s+(P>>3)]|=A<<7-((P&7)<<0)}if(i==2){var A=e[N>>3];A=A>>6-(N&7)&3,a[T*s+(P>>2)]|=A<<6-((P&3)<<1)}if(i==4){var A=e[N>>3];A=A>>4-(N&7)&15,a[T*s+(P>>1)]|=A<<4-((P&1)<<2)}if(i>=8)for(var D=T*s+P*o,C=0;C<o;C++)a[D+C]=e[(N>>3)+C];N+=i,P+=g}k++,T+=m}y*v!=0&&(l+=v*(1+S)),f=f+1}return a};He.decode._getBPP=function(e){var t=[1,null,3,1,2,null,4][e.ctype];return t*e.depth};He.decode._filterZero=function(e,t,n,r,i){var o=He.decode._getBPP(t),s=Math.ceil(r*o/8),a=He.decode._paeth;o=Math.ceil(o/8);var l=0,c=1,u=e[n],d=0;if(u>1&&(e[n]=[0,0,1][u-2]),u==3)for(d=o;d<s;d++)e[d+1]=e[d+1]+(e[d+1-o]>>>1)&255;for(var h=0;h<i;h++)if(l=n+h*s,c=l+h+1,u=e[c-1],d=0,u==0)for(;d<s;d++)e[l+d]=e[c+d];else if(u==1){for(;d<o;d++)e[l+d]=e[c+d];for(;d<s;d++)e[l+d]=e[c+d]+e[l+d-o]}else if(u==2)for(;d<s;d++)e[l+d]=e[c+d]+e[l+d-s];else if(u==3){for(;d<o;d++)e[l+d]=e[c+d]+(e[l+d-s]>>>1);for(;d<s;d++)e[l+d]=e[c+d]+(e[l+d-s]+e[l+d-o]>>>1)}else{for(;d<o;d++)e[l+d]=e[c+d]+a(0,e[l+d-s],0);for(;d<s;d++)e[l+d]=e[c+d]+a(e[l+d-o],e[l+d-s],e[l+d-o-s])}return e};He.decode._paeth=function(e,t,n){var r=e+t-n,i=r-e,o=r-t,s=r-n;return i*i<=o*o&&i*i<=s*s?e:o*o<=s*s?t:n};He.decode._IHDR=function(e,t,n){var r=He._bin;n.width=r.readUint(e,t),t+=4,n.height=r.readUint(e,t),t+=4,n.depth=e[t],t++,n.ctype=e[t],t++,n.compress=e[t],t++,n.filter=e[t],t++,n.interlace=e[t],t++};He._bin={nextZero:function(e,t){for(;e[t]!=0;)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=n&255},readUint:function(e,t){return e[t]*(256*256*256)+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var r="",i,o=0;o<n;o++)r+="%"+He._bin.pad(e[t+o].toString(16));try{i=decodeURIComponent(r)}catch{return He._bin.readASCII(e,t,n)}return i}};He._copyTile=function(e,t,n,r,i,o,s,a,l){for(var c=Math.min(t,i),u=Math.min(n,o),d=0,h=0,f=0;f<u;f++)for(var m=0;m<c;m++)if(s>=0&&a>=0?(d=f*t+m<<2,h=(a+f)*i+s+m<<2):(d=(-a+f)*t-s+m<<2,h=f*i+m<<2),l==0)r[h]=e[d],r[h+1]=e[d+1],r[h+2]=e[d+2],r[h+3]=e[d+3];else if(l==1){var g=e[d+3]*.00392156862745098,y=e[d]*g,v=e[d+1]*g,x=e[d+2]*g,_=r[h+3]*(1/255),S=r[h]*_,k=r[h+1]*_,T=r[h+2]*_,P=1-g,N=g+_*P,A=N==0?0:1/N;r[h+3]=255*N,r[h+0]=(y+S*P)*A,r[h+1]=(v+k*P)*A,r[h+2]=(x+T*P)*A}else if(l==2){var g=e[d+3],y=e[d],v=e[d+1],x=e[d+2],_=r[h+3],S=r[h],k=r[h+1],T=r[h+2];g==_&&y==S&&v==k&&x==T?(r[h]=0,r[h+1]=0,r[h+2]=0,r[h+3]=0):(r[h]=y,r[h+1]=v,r[h+2]=x,r[h+3]=g)}else if(l==3){var g=e[d+3],y=e[d],v=e[d+1],x=e[d+2],_=r[h+3],S=r[h],k=r[h+1],T=r[h+2];if(g==_&&y==S&&v==k&&x==T)continue;if(g<220&&_>20)return!1}return!0};He.encode=function(e,t,n,r,i,o,s){r==null&&(r=0),s==null&&(s=!1);var a=He.encode.compress(e,t,n,r,[!1,!1,!1,0,s]);return He.encode.compressPNG(a,-1),He.encode._main(a,t,n,i,o)};He.encodeLL=function(e,t,n,r,i,o,s,a){for(var l={ctype:0+(r==1?0:2)+(i==0?0:4),depth:o,frames:[]},c=(r+i)*o,u=c*t,d=0;d<e.length;d++)l.frames.push({rect:{x:0,y:0,width:t,height:n},img:new Uint8Array(e[d]),blend:0,dispose:1,bpp:Math.ceil(c/8),bpl:Math.ceil(u/8)});He.encode.compressPNG(l,0,!0);var h=He.encode._main(l,t,n,s,a);return h};He.encode._main=function(e,t,n,r,i){i==null&&(i={});var o=He.crc.crc,s=He._bin.writeUint,a=He._bin.writeUshort,l=He._bin.writeASCII,c=8,u=e.frames.length>1,d=!1,h=33+(u?20:0);if(i.sRGB!=null&&(h+=13),i.pHYs!=null&&(h+=21),e.ctype==3){for(var f=e.plte.length,m=0;m<f;m++)e.plte[m]>>>24!=255&&(d=!0);h+=8+f*3+4+(d?8+f*1+4:0)}for(var g=0;g<e.frames.length;g++){var y=e.frames[g];u&&(h+=38),h+=y.cimg.length+12,g!=0&&(h+=4)}h+=12;for(var v=new Uint8Array(h),x=[137,80,78,71,13,10,26,10],m=0;m<8;m++)v[m]=x[m];if(s(v,c,13),c+=4,l(v,c,"IHDR"),c+=4,s(v,c,t),c+=4,s(v,c,n),c+=4,v[c]=e.depth,c++,v[c]=e.ctype,c++,v[c]=0,c++,v[c]=0,c++,v[c]=0,c++,s(v,c,o(v,c-17,17)),c+=4,i.sRGB!=null&&(s(v,c,1),c+=4,l(v,c,"sRGB"),c+=4,v[c]=i.sRGB,c++,s(v,c,o(v,c-5,5)),c+=4),i.pHYs!=null&&(s(v,c,9),c+=4,l(v,c,"pHYs"),c+=4,s(v,c,i.pHYs[0]),c+=4,s(v,c,i.pHYs[1]),c+=4,v[c]=i.pHYs[2],c++,s(v,c,o(v,c-13,13)),c+=4),u&&(s(v,c,8),c+=4,l(v,c,"acTL"),c+=4,s(v,c,e.frames.length),c+=4,s(v,c,i.loop!=null?i.loop:0),c+=4,s(v,c,o(v,c-12,12)),c+=4),e.ctype==3){var f=e.plte.length;s(v,c,f*3),c+=4,l(v,c,"PLTE"),c+=4;for(var m=0;m<f;m++){var _=m*3,S=e.plte[m],k=S&255,T=S>>>8&255,P=S>>>16&255;v[c+_+0]=k,v[c+_+1]=T,v[c+_+2]=P}if(c+=f*3,s(v,c,o(v,c-f*3-4,f*3+4)),c+=4,d){s(v,c,f),c+=4,l(v,c,"tRNS"),c+=4;for(var m=0;m<f;m++)v[c+m]=e.plte[m]>>>24&255;c+=f,s(v,c,o(v,c-f-4,f+4)),c+=4}}for(var N=0,g=0;g<e.frames.length;g++){var y=e.frames[g];u&&(s(v,c,26),c+=4,l(v,c,"fcTL"),c+=4,s(v,c,N++),c+=4,s(v,c,y.rect.width),c+=4,s(v,c,y.rect.height),c+=4,s(v,c,y.rect.x),c+=4,s(v,c,y.rect.y),c+=4,a(v,c,r[g]),c+=2,a(v,c,1e3),c+=2,v[c]=y.dispose,c++,v[c]=y.blend,c++,s(v,c,o(v,c-30,30)),c+=4);var A=y.cimg,f=A.length;s(v,c,f+(g==0?0:4)),c+=4;var D=c;l(v,c,g==0?"IDAT":"fdAT"),c+=4,g!=0&&(s(v,c,N++),c+=4),v.set(A,c),c+=f,s(v,c,o(v,D,c-D)),c+=4}return s(v,c,0),c+=4,l(v,c,"IEND"),c+=4,s(v,c,o(v,c-4,4)),c+=4,v.buffer};He.encode.compressPNG=function(e,t,n){for(var r=0;r<e.frames.length;r++){var i=e.frames[r];i.rect.width;var o=i.rect.height,s=new Uint8Array(o*i.bpl+o);i.cimg=He.encode._filterZero(i.img,o,i.bpp,i.bpl,s,t,n)}};He.encode.compress=function(e,t,n,r,i){for(var o=i[0],s=i[1],a=i[2],l=i[3],c=i[4],u=6,d=8,h=255,f=0;f<e.length;f++)for(var m=new Uint8Array(e[f]),g=m.length,y=0;y<g;y+=4)h&=m[y+3];var v=h!=255,x=He.encode.framize(e,t,n,o,s,a),_={},S=[],k=[];if(r!=0){for(var T=[],y=0;y<x.length;y++)T.push(x[y].img.buffer);for(var P=He.encode.concatRGBA(T),N=He.quantize(P,r),A=0,D=new Uint8Array(N.abuf),y=0;y<x.length;y++){var C=x[y].img,j=C.length;k.push(new Uint8Array(N.inds.buffer,A>>2,j>>2));for(var f=0;f<j;f+=4)C[f]=D[A+f],C[f+1]=D[A+f+1],C[f+2]=D[A+f+2],C[f+3]=D[A+f+3];A+=j}for(var y=0;y<N.plte.length;y++)S.push(N.plte[y].est.rgba)}else for(var f=0;f<x.length;f++){var L=x[f],z=new Uint32Array(L.img.buffer),K=L.rect.width,g=z.length,H=new Uint8Array(g);k.push(H);for(var y=0;y<g;y++){var Z=z[y];if(y!=0&&Z==z[y-1])H[y]=H[y-1];else if(y>K&&Z==z[y-K])H[y]=H[y-K];else{var W=_[Z];if(W==null&&(_[Z]=W=S.length,S.push(Z),S.length>=300))break;H[y]=W}}}var Y=S.length;Y<=256&&c==!1&&(Y<=2?d=1:Y<=4?d=2:Y<=16?d=4:d=8,d=Math.max(d,l));for(var f=0;f<x.length;f++){var L=x[f];L.rect.x,L.rect.y;var K=L.rect.width,le=L.rect.height,fe=L.img;new Uint32Array(fe.buffer);var M=4*K,$=4;if(Y<=256&&c==!1){M=Math.ceil(d*K/8);for(var Q=new Uint8Array(M*le),ie=k[f],oe=0;oe<le;oe++){var y=oe*M,de=oe*K;if(d==8)for(var pe=0;pe<K;pe++)Q[y+pe]=ie[de+pe];else if(d==4)for(var pe=0;pe<K;pe++)Q[y+(pe>>1)]|=ie[de+pe]<<4-(pe&1)*4;else if(d==2)for(var pe=0;pe<K;pe++)Q[y+(pe>>2)]|=ie[de+pe]<<6-(pe&3)*2;else if(d==1)for(var pe=0;pe<K;pe++)Q[y+(pe>>3)]|=ie[de+pe]<<7-(pe&7)*1}fe=Q,u=3,$=1}else if(v==!1&&x.length==1){for(var Q=new Uint8Array(K*le*3),ae=K*le,y=0;y<ae;y++){var C=y*3,ue=y*4;Q[C]=fe[ue],Q[C+1]=fe[ue+1],Q[C+2]=fe[ue+2]}fe=Q,u=2,$=3,M=3*K}L.img=fe,L.bpl=M,L.bpp=$}return{ctype:u,depth:d,plte:S,frames:x}};He.encode.framize=function(e,t,n,r,i,o){for(var s=[],a=0;a<e.length;a++){var l=new Uint8Array(e[a]),c=new Uint32Array(l.buffer),u,d=0,h=0,f=t,m=n,g=r?1:0;if(a!=0){for(var y=o||r||a==1||s[a-2].dispose!=0?1:2,v=0,x=1e9,_=0;_<y;_++){for(var L=new Uint8Array(e[a-1-_]),S=new Uint32Array(e[a-1-_]),k=t,T=n,P=-1,N=-1,A=0;A<n;A++)for(var D=0;D<t;D++){var C=A*t+D;c[C]!=S[C]&&(D<k&&(k=D),D>P&&(P=D),A<T&&(T=A),A>N&&(N=A))}P==-1&&(k=T=P=N=0),i&&((k&1)==1&&k--,(T&1)==1&&T--);var j=(P-k+1)*(N-T+1);j<x&&(x=j,v=_,d=k,h=T,f=P-k+1,m=N-T+1)}var L=new Uint8Array(e[a-1-v]);v==1&&(s[a-1].dispose=2),u=new Uint8Array(f*m*4),He._copyTile(L,t,n,u,f,m,-d,-h,0),g=He._copyTile(l,t,n,u,f,m,-d,-h,3)?1:0,g==1?He.encode._prepareDiff(l,t,n,u,{x:d,y:h,width:f,height:m}):He._copyTile(l,t,n,u,f,m,-d,-h,0)}else u=l.slice(0);s.push({rect:{x:d,y:h,width:f,height:m},img:u,blend:g,dispose:0})}if(r)for(var a=0;a<s.length;a++){var z=s[a];if(z.blend!=1){var K=z.rect,H=s[a-1].rect,Z=Math.min(K.x,H.x),W=Math.min(K.y,H.y),Y=Math.max(K.x+K.width,H.x+H.width),le=Math.max(K.y+K.height,H.y+H.height),fe={x:Z,y:W,width:Y-Z,height:le-W};s[a-1].dispose=1,a-1!=0&&He.encode._updateFrame(e,t,n,s,a-1,fe,i),He.encode._updateFrame(e,t,n,s,a,fe,i)}}var M=0;if(e.length!=1)for(var C=0;C<s.length;C++){var z=s[C];M+=z.rect.width*z.rect.height}return s};He.encode._updateFrame=function(e,t,n,r,i,o,s){for(var a=Uint8Array,l=Uint32Array,c=new a(e[i-1]),u=new l(e[i-1]),d=i+1<e.length?new a(e[i+1]):null,h=new a(e[i]),f=new l(h.buffer),m=t,g=n,y=-1,v=-1,x=0;x<o.height;x++)for(var _=0;_<o.width;_++){var S=o.x+_,k=o.y+x,T=k*t+S,P=f[T];P==0||r[i-1].dispose==0&&u[T]==P&&(d==null||d[T*4+3]!=0)||(S<m&&(m=S),S>y&&(y=S),k<g&&(g=k),k>v&&(v=k))}y==-1&&(m=g=y=v=0),s&&((m&1)==1&&m--,(g&1)==1&&g--),o={x:m,y:g,width:y-m+1,height:v-g+1};var N=r[i];N.rect=o,N.blend=1,N.img=new Uint8Array(o.width*o.height*4),r[i-1].dispose==0?(He._copyTile(c,t,n,N.img,o.width,o.height,-o.x,-o.y,0),He.encode._prepareDiff(h,t,n,N.img,o)):He._copyTile(h,t,n,N.img,o.width,o.height,-o.x,-o.y,0)};He.encode._prepareDiff=function(e,t,n,r,i){He._copyTile(e,t,n,r,i.width,i.height,-i.x,-i.y,2)};He.encode._filterZero=function(e,t,n,r,i,o,s){var a=[],l=[0,1,2,3,4];o!=-1?l=[o]:(t*r>5e5||n==1)&&(l=[0]);var c;s&&(c={level:0});for(var u=s&&UZIP!=null?UZIP:Age,d=0;d<l.length;d++){for(var h=0;h<t;h++)He.encode._filterLine(i,e,h,r,n,l[d]);a.push(u.deflate(i,c))}for(var f,m=1e9,d=0;d<a.length;d++)a[d].length<m&&(f=d,m=a[d].length);return a[f]};He.encode._filterLine=function(e,t,n,r,i,o){var s=n*r,a=s+n,l=He.decode._paeth;if(e[a]=o,a++,o==0)if(r<500)for(var c=0;c<r;c++)e[a+c]=t[s+c];else e.set(new Uint8Array(t.buffer,s,r),a);else if(o==1){for(var c=0;c<i;c++)e[a+c]=t[s+c];for(var c=i;c<r;c++)e[a+c]=t[s+c]-t[s+c-i]+256&255}else if(n==0){for(var c=0;c<i;c++)e[a+c]=t[s+c];if(o==2)for(var c=i;c<r;c++)e[a+c]=t[s+c];if(o==3)for(var c=i;c<r;c++)e[a+c]=t[s+c]-(t[s+c-i]>>1)+256&255;if(o==4)for(var c=i;c<r;c++)e[a+c]=t[s+c]-l(t[s+c-i],0,0)+256&255}else{if(o==2)for(var c=0;c<r;c++)e[a+c]=t[s+c]+256-t[s+c-r]&255;if(o==3){for(var c=0;c<i;c++)e[a+c]=t[s+c]+256-(t[s+c-r]>>1)&255;for(var c=i;c<r;c++)e[a+c]=t[s+c]+256-(t[s+c-r]+t[s+c-i]>>1)&255}if(o==4){for(var c=0;c<i;c++)e[a+c]=t[s+c]+256-l(0,t[s+c-r],0)&255;for(var c=i;c<r;c++)e[a+c]=t[s+c]+256-l(t[s+c-i],t[s+c-r],t[s+c-i-r])&255}}};He.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n&1?n=3988292384^n>>>1:n=n>>>1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=He.crc.table[(e^t[n+i])&255]^e>>>8;return e},crc:function(e,t,n){return He.crc.update(4294967295,e,t,n)^4294967295}};He.quantize=function(e,t){var n=new Uint8Array(e),r=n.slice(0),i=new Uint32Array(r.buffer),o=He.quantize.getKDtree(r,t),s=o[0],a=o[1];He.quantize.planeDst;for(var l=n,c=i,u=l.length,d=new Uint8Array(n.length>>2),h=0;h<u;h+=4){var f=l[h]*.00392156862745098,m=l[h+1]*(1/255),g=l[h+2]*(1/255),y=l[h+3]*(1/255),v=He.quantize.getNearest(s,f,m,g,y);d[h>>2]=v.ind,c[h>>2]=v.est.rgba}return{abuf:r.buffer,inds:d,plte:a}};He.quantize.getKDtree=function(e,t,n){n==null&&(n=1e-4);var r=new Uint32Array(e.buffer),i={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};i.bst=He.quantize.stats(e,i.i0,i.i1),i.est=He.quantize.estats(i.bst);for(var o=[i];o.length<t;){for(var s=0,a=0,l=0;l<o.length;l++)o[l].est.L>s&&(s=o[l].est.L,a=l);if(s<n)break;var c=o[a],u=He.quantize.splitPixels(e,r,c.i0,c.i1,c.est.e,c.est.eMq255),d=c.i0>=u||c.i1<=u;if(d){c.est.L=0;continue}var h={i0:c.i0,i1:u,bst:null,est:null,tdst:0,left:null,right:null};h.bst=He.quantize.stats(e,h.i0,h.i1),h.est=He.quantize.estats(h.bst);var f={i0:u,i1:c.i1,bst:null,est:null,tdst:0,left:null,right:null};f.bst={R:[],m:[],N:c.bst.N-h.bst.N};for(var l=0;l<16;l++)f.bst.R[l]=c.bst.R[l]-h.bst.R[l];for(var l=0;l<4;l++)f.bst.m[l]=c.bst.m[l]-h.bst.m[l];f.est=He.quantize.estats(f.bst),c.left=h,c.right=f,o[a]=h,o.push(f)}o.sort(function(m,g){return g.bst.N-m.bst.N});for(var l=0;l<o.length;l++)o[l].ind=l;return[i,o]};He.quantize.getNearest=function(e,t,n,r,i){if(e.left==null)return e.tdst=He.quantize.dist(e.est.q,t,n,r,i),e;var o=He.quantize.planeDst(e.est,t,n,r,i),s=e.left,a=e.right;o>0&&(s=e.right,a=e.left);var l=He.quantize.getNearest(s,t,n,r,i);if(l.tdst<=o*o)return l;var c=He.quantize.getNearest(a,t,n,r,i);return c.tdst<l.tdst?c:l};He.quantize.planeDst=function(e,t,n,r,i){var o=e.e;return o[0]*t+o[1]*n+o[2]*r+o[3]*i-e.eMq};He.quantize.dist=function(e,t,n,r,i){var o=t-e[0],s=n-e[1],a=r-e[2],l=i-e[3];return o*o+s*s+a*a+l*l};He.quantize.splitPixels=function(e,t,n,r,i,o){var s=He.quantize.vecDot;for(r-=4;n<r;){for(;s(e,n,i)<=o;)n+=4;for(;s(e,r,i)>o;)r-=4;if(n>=r)break;var a=t[n>>2];t[n>>2]=t[r>>2],t[r>>2]=a,n+=4,r-=4}for(;s(e,n,i)>o;)n-=4;return n+4};He.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]};He.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=n-t>>2,s=t;s<n;s+=4){var a=e[s]*.00392156862745098,l=e[s+1]*(1/255),c=e[s+2]*(1/255),u=e[s+3]*(1/255);i[0]+=a,i[1]+=l,i[2]+=c,i[3]+=u,r[0]+=a*a,r[1]+=a*l,r[2]+=a*c,r[3]+=a*u,r[5]+=l*l,r[6]+=l*c,r[7]+=l*u,r[10]+=c*c,r[11]+=c*u,r[15]+=u*u}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:o}};He.quantize.estats=function(e){var t=e.R,n=e.m,r=e.N,i=n[0],o=n[1],s=n[2],a=n[3],l=r==0?0:1/r,c=[t[0]-i*i*l,t[1]-i*o*l,t[2]-i*s*l,t[3]-i*a*l,t[4]-o*i*l,t[5]-o*o*l,t[6]-o*s*l,t[7]-o*a*l,t[8]-s*i*l,t[9]-s*o*l,t[10]-s*s*l,t[11]-s*a*l,t[12]-a*i*l,t[13]-a*o*l,t[14]-a*s*l,t[15]-a*a*l],u=c,d=He.M4,h=[.5,.5,.5,.5],f=0,m=0;if(r!=0)for(var g=0;g<10&&(h=d.multVec(u,h),m=Math.sqrt(d.dot(h,h)),h=d.sml(1/m,h),!(Math.abs(m-f)<1e-9));g++)f=m;var y=[i*l,o*l,s*l,a*l],v=d.dot(d.sml(255,y),h);return{Cov:c,q:y,e:h,L:f,eMq255:v,eMq:d.dot(h,y),rgba:(Math.round(255*y[3])<<24|Math.round(255*y[2])<<16|Math.round(255*y[1])<<8|Math.round(255*y[0])<<0)>>>0}};He.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}};He.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;for(var r=new Uint8Array(t),i=0,n=0;n<e.length;n++){for(var o=new Uint8Array(e[n]),s=o.length,a=0;a<s;a+=4){var l=o[a],c=o[a+1],u=o[a+2],d=o[a+3];d==0&&(l=c=u=0),r[i+a]=l,r[i+a+1]=c,r[i+a+2]=u,r[i+a+3]=d}i+=s}return r.buffer};var Ege=function(e){if(e===0)return bf.Greyscale;if(e===2)return bf.Truecolour;if(e===3)return bf.IndexedColour;if(e===4)return bf.GreyscaleWithAlpha;if(e===6)return bf.TruecolourWithAlpha;throw new Error("Unknown color type: "+e)},Tge=function(e){for(var t=Math.floor(e.length/4),n=new Uint8Array(t*3),r=new Uint8Array(t*1),i=0,o=0,s=0;i<e.length;)n[o++]=e[i++],n[o++]=e[i++],n[o++]=e[i++],r[s++]=e[i++];return{rgbChannel:n,alphaChannel:r}},bf;(function(e){e.Greyscale="Greyscale",e.Truecolour="Truecolour",e.IndexedColour="IndexedColour",e.GreyscaleWithAlpha="GreyscaleWithAlpha",e.TruecolourWithAlpha="TruecolourWithAlpha"})(bf||(bf={}));var Pge=function(){function e(t){var n=He.decode(t),r=He.toRGBA8(n);if(r.length>1)throw new Error("Animated PNGs are not supported");var i=new Uint8Array(r[0]),o=Tge(i),s=o.rgbChannel,a=o.alphaChannel;this.rgbChannel=s;var l=a.some(function(c){return c<255});l&&(this.alphaChannel=a),this.type=Ege(n.ctype),this.width=n.width,this.height=n.height,this.bitsPerComponent=8}return e.load=function(t){return new e(t)},e}(),aW=function(){function e(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return e.for=function(t){return Zt(this,void 0,void 0,function(){var n;return Xt(this,function(r){return n=Pge.load(t),[2,new e(n)]})})},e.prototype.embedIntoContext=function(t,n){return Zt(this,void 0,void 0,function(){var r,i;return Xt(this,function(o){return r=this.embedAlphaChannel(t),i=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:r}),n?(t.assign(n,i),[2,n]):[2,t.register(i)]})})},e.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var n=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(n)}},e}(),lW=function(){function e(t,n,r){this.bytes=t,this.start=n||0,this.pos=this.start,this.end=n&&r?n+r:this.bytes.length}return Object.defineProperty(e.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},e.prototype.getUint16=function(){var t=this.getByte(),n=this.getByte();return t===-1||n===-1?-1:(t<<8)+n},e.prototype.getInt32=function(){var t=this.getByte(),n=this.getByte(),r=this.getByte(),i=this.getByte();return(t<<24)+(n<<16)+(r<<8)+i},e.prototype.getBytes=function(t,n){n===void 0&&(n=!1);var r=this.bytes,i=this.pos,o=this.end;if(t){var a=i+t;a>o&&(a=o),this.pos=a;var s=r.subarray(i,a);return n?new Uint8ClampedArray(s):s}else{var s=r.subarray(i,o);return n?new Uint8ClampedArray(s):s}},e.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},e.prototype.peekBytes=function(t,n){n===void 0&&(n=!1);var r=this.getBytes(t,n);return this.pos-=r.length,r},e.prototype.skip=function(t){t||(t=1),this.pos+=t},e.prototype.reset=function(){this.pos=this.start},e.prototype.moveStart=function(){this.start=this.pos},e.prototype.makeSubStream=function(t,n){return new e(this.bytes,t,n)},e.prototype.decode=function(){return this.bytes},e}(),Rge=new Uint8Array(0),_y=function(){function e(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=Rge,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),e.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},e.prototype.getUint16=function(){var t=this.getByte(),n=this.getByte();return t===-1||n===-1?-1:(t<<8)+n},e.prototype.getInt32=function(){var t=this.getByte(),n=this.getByte(),r=this.getByte(),i=this.getByte();return(t<<24)+(n<<16)+(r<<8)+i},e.prototype.getBytes=function(t,n){n===void 0&&(n=!1);var r,i=this.pos;if(t){for(this.ensureBuffer(i+t),r=i+t;!this.eof&&this.bufferLength<r;)this.readBlock();var o=this.bufferLength;r>o&&(r=o)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}this.pos=r;var s=this.buffer.subarray(i,r);return n&&!(s instanceof Uint8ClampedArray)?new Uint8ClampedArray(s):s},e.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},e.prototype.peekBytes=function(t,n){n===void 0&&(n=!1);var r=this.getBytes(t,n);return this.pos-=r.length,r},e.prototype.skip=function(t){t||(t=1),this.pos+=t},e.prototype.reset=function(){this.pos=0},e.prototype.makeSubStream=function(t,n){for(var r=t+n;this.bufferLength<=r&&!this.eof;)this.readBlock();return new lW(this.buffer,t,n)},e.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},e.prototype.readBlock=function(){throw new Is(this.constructor.name,"readBlock")},e.prototype.ensureBuffer=function(t){var n=this.buffer;if(t<=n.byteLength)return n;for(var r=this.minBufferLength;r<t;)r*=2;var i=new Uint8Array(r);return i.set(n),this.buffer=i},e}(),wO=function(e){return e===32||e===9||e===13||e===10},jge=function(e){Ye(t,e);function t(n,r){var i=e.call(this,r)||this;return i.stream=n,i.input=new Uint8Array(5),r&&(r=.8*r),i}return t.prototype.readBlock=function(){for(var n=126,r=122,i=-1,o=this.stream,s=o.getByte();wO(s);)s=o.getByte();if(s===i||s===n){this.eof=!0;return}var a=this.bufferLength,l,c;if(s===r){for(l=this.ensureBuffer(a+4),c=0;c<4;++c)l[a+c]=0;this.bufferLength+=4}else{var u=this.input;for(u[0]=s,c=1;c<5;++c){for(s=o.getByte();wO(s);)s=o.getByte();if(u[c]=s,s===i||s===n)break}if(l=this.ensureBuffer(a+c-1),this.bufferLength+=c-1,c<5){for(;c<5;++c)u[c]=117;this.eof=!0}var d=0;for(c=0;c<5;++c)d=d*85+(u[c]-33);for(c=3;c>=0;--c)l[a+c]=d&255,d>>=8}},t}(_y),Dge=function(e){Ye(t,e);function t(n,r){var i=e.call(this,r)||this;return i.stream=n,i.firstDigit=-1,r&&(r=.5*r),i}return t.prototype.readBlock=function(){var n=8e3,r=this.stream.getBytes(n);if(!r.length){this.eof=!0;return}for(var i=r.length+1>>1,o=this.ensureBuffer(this.bufferLength+i),s=this.bufferLength,a=this.firstDigit,l=0,c=r.length;l<c;l++){var u=r[l],d=void 0;if(u>=48&&u<=57)d=u&15;else if(u>=65&&u<=70||u>=97&&u<=102)d=(u&15)+9;else if(u===62){this.eof=!0;break}else continue;a<0?a=d:(o[s++]=a<<4|d,a=-1)}a>=0&&this.eof&&(o[s++]=a<<4,a=-1),this.firstDigit=a,this.bufferLength=s},t}(_y),_O=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ige=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),Oge=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Lge=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Mge=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],Fge=function(e){Ye(t,e);function t(n,r){var i=e.call(this,r)||this;i.stream=n;var o=n.getByte(),s=n.getByte();if(o===-1||s===-1)throw new Error("Invalid header in flate stream: "+o+", "+s);if((o&15)!==8)throw new Error("Unknown compression method in flate stream: "+o+", "+s);if(((o<<8)+s)%31!==0)throw new Error("Bad FCHECK in flate stream: "+o+", "+s);if(s&32)throw new Error("FDICT bit set in flate stream: "+o+", "+s);return i.codeSize=0,i.codeBuf=0,i}return t.prototype.readBlock=function(){var n,r,i=this.stream,o=this.getBits(3);if(o&1&&(this.eof=!0),o>>=1,o===0){var s=void 0;if((s=i.getByte())===-1)throw new Error("Bad block header in flate stream");var a=s;if((s=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(a|=s<<8,(s=i.getByte())===-1)throw new Error("Bad block header in flate stream");var l=s;if((s=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(l|=s<<8,l!==(~a&65535)&&(a!==0||l!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var c=this.bufferLength;n=this.ensureBuffer(c+a);var u=c+a;if(this.bufferLength=u,a===0)i.peekByte()===-1&&(this.eof=!0);else for(var d=c;d<u;++d){if((s=i.getByte())===-1){this.eof=!0;break}n[d]=s}return}var h,f;if(o===1)h=Lge,f=Mge;else if(o===2){var m=this.getBits(5)+257,g=this.getBits(5)+1,y=this.getBits(4)+4,v=new Uint8Array(_O.length),x=void 0;for(x=0;x<y;++x)v[_O[x]]=this.getBits(3);var _=this.generateHuffmanTable(v);r=0,x=0;for(var S=m+g,k=new Uint8Array(S),T=void 0,P=void 0,N=void 0;x<S;){var A=this.getCode(_);if(A===16)T=2,P=3,N=r;else if(A===17)T=3,P=3,N=r=0;else if(A===18)T=7,P=11,N=r=0;else{k[x++]=r=A;continue}for(var D=this.getBits(T)+P;D-- >0;)k[x++]=N}h=this.generateHuffmanTable(k.subarray(0,m)),f=this.generateHuffmanTable(k.subarray(m,S))}else throw new Error("Unknown block type in flate stream");n=this.buffer;for(var C=n?n.length:0,j=this.bufferLength;;){var L=this.getCode(h);if(L<256){j+1>=C&&(n=this.ensureBuffer(j+1),C=n.length),n[j++]=L;continue}if(L===256){this.bufferLength=j;return}L-=257,L=Ige[L];var z=L>>16;z>0&&(z=this.getBits(z)),r=(L&65535)+z,L=this.getCode(f),L=Oge[L],z=L>>16,z>0&&(z=this.getBits(z));var K=(L&65535)+z;j+r>=C&&(n=this.ensureBuffer(j+r),C=n.length);for(var H=0;H<r;++H,++j)n[j]=n[j-K]}},t.prototype.getBits=function(n){for(var r=this.stream,i=this.codeSize,o=this.codeBuf,s;i<n;){if((s=r.getByte())===-1)throw new Error("Bad encoding in flate stream");o|=s<<i,i+=8}return s=o&(1<<n)-1,this.codeBuf=o>>n,this.codeSize=i-=n,s},t.prototype.getCode=function(n){for(var r=this.stream,i=n[0],o=n[1],s=this.codeSize,a=this.codeBuf,l;s<o&&(l=r.getByte())!==-1;)a|=l<<s,s+=8;var c=i[a&(1<<o)-1];typeof i=="number"&&console.log("FLATE:",c);var u=c>>16,d=c&65535;if(u<1||s<u)throw new Error("Bad encoding in flate stream");return this.codeBuf=a>>u,this.codeSize=s-u,d},t.prototype.generateHuffmanTable=function(n){var r=n.length,i=0,o;for(o=0;o<r;++o)n[o]>i&&(i=n[o]);for(var s=1<<i,a=new Int32Array(s),l=1,c=0,u=2;l<=i;++l,c<<=1,u<<=1)for(var d=0;d<r;++d)if(n[d]===l){var h=0,f=c;for(o=0;o<l;++o)h=h<<1|f&1,f>>=1;for(o=h;o<s;o+=u)a[o]=l<<16|d;++c}return[a,i]},t}(_y),Bge=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,r)||this;o.stream=n,o.cachedData=0,o.bitsCached=0;for(var s=4096,a={earlyChange:i,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(s),dictionaryLengths:new Uint16Array(s),dictionaryPrevCodes:new Uint16Array(s),currentSequence:new Uint8Array(s),currentSequenceLength:0},l=0;l<256;++l)a.dictionaryValues[l]=l,a.dictionaryLengths[l]=1;return o.lzwState=a,o}return t.prototype.readBlock=function(){var n=512,r=n*2,i=n,o,s,a,l=this.lzwState;if(l){var c=l.earlyChange,u=l.nextCode,d=l.dictionaryValues,h=l.dictionaryLengths,f=l.dictionaryPrevCodes,m=l.codeLength,g=l.prevCode,y=l.currentSequence,v=l.currentSequenceLength,x=0,_=this.bufferLength,S=this.ensureBuffer(this.bufferLength+r);for(o=0;o<n;o++){var k=this.readBits(m),T=v>0;if(!k||k<256)y[0]=k,v=1;else if(k>=258)if(k<u)for(v=h[k],s=v-1,a=k;s>=0;s--)y[s]=d[a],a=f[a];else y[v++]=y[0];else if(k===256){m=9,u=258,v=0;continue}else{this.eof=!0,delete this.lzwState;break}if(T&&(f[u]=g,h[u]=h[g]+1,d[u]=y[0],u++,m=u+c&u+c-1?m:Math.min(Math.log(u+c)/.6931471805599453+1,12)|0),g=k,x+=v,r<x){do r+=i;while(r<x);S=this.ensureBuffer(this.bufferLength+r)}for(s=0;s<v;s++)S[_++]=y[s]}l.nextCode=u,l.codeLength=m,l.prevCode=g,l.currentSequenceLength=v,this.bufferLength=_}},t.prototype.readBits=function(n){for(var r=this.bitsCached,i=this.cachedData;r<n;){var o=this.stream.getByte();if(o===-1)return this.eof=!0,null;i=i<<8|o,r+=8}return this.bitsCached=r-=n,this.cachedData=i,i>>>r&(1<<n)-1},t}(_y),zge=function(e){Ye(t,e);function t(n,r){var i=e.call(this,r)||this;return i.stream=n,i}return t.prototype.readBlock=function(){var n=this.stream.getBytes(2);if(!n||n.length<2||n[0]===128){this.eof=!0;return}var r,i=this.bufferLength,o=n[0];if(o<128){if(r=this.ensureBuffer(i+o+1),r[i++]=n[1],o>0){var s=this.stream.getBytes(o);r.set(s,i),i+=o}}else{o=257-o;var a=n[1];r=this.ensureBuffer(i+o+1);for(var l=0;l<o;l++)r[i++]=a}this.bufferLength=i},t}(_y),SO=function(e,t,n){if(t===J.of("FlateDecode"))return new Fge(e);if(t===J.of("LZWDecode")){var r=1;if(n instanceof Vt){var i=n.lookup(J.of("EarlyChange"));i instanceof Ot&&(r=i.asNumber())}return new Bge(e,void 0,r)}if(t===J.of("ASCII85Decode"))return new jge(e);if(t===J.of("ASCIIHexDecode"))return new Dge(e);if(t===J.of("RunLengthDecode"))return new zge(e);throw new uhe(t.asString())},cW=function(e){var t=e.dict,n=e.contents,r=new lW(n),i=t.lookup(J.of("Filter")),o=t.lookup(J.of("DecodeParms"));if(i instanceof J)r=SO(r,i,o);else if(i instanceof wn)for(var s=0,a=i.size();s<a;s++)r=SO(r,i.lookup(s,J),o&&o.lookupMaybe(s,Vt));else if(i)throw new i_([J,wn],i);return r},Uge=function(e){var t=e.MediaBox(),n=t.lookup(2,Ot).asNumber()-t.lookup(0,Ot).asNumber(),r=t.lookup(3,Ot).asNumber()-t.lookup(1,Ot).asNumber();return{left:0,bottom:0,right:n,top:r}},qge=function(e){return[1,0,0,1,-e.left,-e.bottom]},uW=function(){function e(t,n,r){this.page=t;var i=n??Uge(t);this.width=i.right-i.left,this.height=i.top-i.bottom,this.boundingBox=i,this.transformationMatrix=r??qge(i)}return e.for=function(t,n,r){return Zt(this,void 0,void 0,function(){return Xt(this,function(i){return[2,new e(t,n,r)]})})},e.prototype.embedIntoContext=function(t,n){return Zt(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u,d,h;return Xt(this,function(f){if(r=this.page.normalizedEntries(),i=r.Contents,o=r.Resources,!i)throw new dhe;return s=this.decodeContents(i),a=this.boundingBox,l=a.left,c=a.bottom,u=a.right,d=a.top,h=t.flateStream(s,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[l,c,u,d],Matrix:this.transformationMatrix,Resources:o}),n?(t.assign(n,h),[2,n]):[2,t.register(h)]})})},e.prototype.decodeContents=function(t){for(var n=Uint8Array.of(ee.Newline),r=[],i=0,o=t.size();i<o;i++){var s=t.lookup(i,ls),a=void 0;if(s instanceof N1)a=cW(s).decode();else if(s instanceof bv)a=s.getUnencodedContents();else throw new fhe(s);r.push(a,n)}return Eue.apply(void 0,r)},e}(),_2=function(e,t){if(e!==void 0)return t[e]},Cv;(function(e){e.UseNone="UseNone",e.UseOutlines="UseOutlines",e.UseThumbs="UseThumbs",e.UseOC="UseOC"})(Cv||(Cv={}));var Nv;(function(e){e.L2R="L2R",e.R2L="R2L"})(Nv||(Nv={}));var Av;(function(e){e.None="None",e.AppDefault="AppDefault"})(Av||(Av={}));var d_;(function(e){e.Simplex="Simplex",e.DuplexFlipShortEdge="DuplexFlipShortEdge",e.DuplexFlipLongEdge="DuplexFlipLongEdge"})(d_||(d_={}));var kO=function(){function e(t){this.dict=t}return e.prototype.lookupBool=function(t){var n=this.dict.lookup(J.of(t));if(n instanceof C1)return n},e.prototype.lookupName=function(t){var n=this.dict.lookup(J.of(t));if(n instanceof J)return n},e.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},e.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},e.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},e.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},e.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},e.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},e.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},e.prototype.Direction=function(){return this.lookupName("Direction")},e.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},e.prototype.Duplex=function(){return this.lookupName("Duplex")},e.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},e.prototype.PrintPageRange=function(){var t=this.dict.lookup(J.of("PrintPageRange"));if(t instanceof wn)return t},e.prototype.NumCopies=function(){var t=this.dict.lookup(J.of("NumCopies"));if(t instanceof Ot)return t},e.prototype.getHideToolbar=function(){var t,n;return(n=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},e.prototype.getHideMenubar=function(){var t,n;return(n=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},e.prototype.getHideWindowUI=function(){var t,n;return(n=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},e.prototype.getFitWindow=function(){var t,n;return(n=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},e.prototype.getCenterWindow=function(){var t,n;return(n=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},e.prototype.getDisplayDocTitle=function(){var t,n;return(n=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&n!==void 0?n:!1},e.prototype.getNonFullScreenPageMode=function(){var t,n,r=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(n=_2(r,Cv))!==null&&n!==void 0?n:Cv.UseNone},e.prototype.getReadingDirection=function(){var t,n,r=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(n=_2(r,Nv))!==null&&n!==void 0?n:Nv.L2R},e.prototype.getPrintScaling=function(){var t,n,r=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(n=_2(r,Av))!==null&&n!==void 0?n:Av.AppDefault},e.prototype.getDuplex=function(){var t,n=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return _2(n,d_)},e.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},e.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var n=[],r=0;r<t.size();r+=2){var i=t.lookup(r,Ot).asNumber(),o=t.lookup(r+1,Ot).asNumber();n.push({start:i,end:o})}return n},e.prototype.getNumCopies=function(){var t,n;return(n=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:1},e.prototype.setHideToolbar=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("HideToolbar"),n)},e.prototype.setHideMenubar=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("HideMenubar"),n)},e.prototype.setHideWindowUI=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("HideWindowUI"),n)},e.prototype.setFitWindow=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("FitWindow"),n)},e.prototype.setCenterWindow=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("CenterWindow"),n)},e.prototype.setDisplayDocTitle=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("DisplayDocTitle"),n)},e.prototype.setNonFullScreenPageMode=function(t){Zu(t,"nonFullScreenPageMode",Cv);var n=J.of(t);this.dict.set(J.of("NonFullScreenPageMode"),n)},e.prototype.setReadingDirection=function(t){Zu(t,"readingDirection",Nv);var n=J.of(t);this.dict.set(J.of("Direction"),n)},e.prototype.setPrintScaling=function(t){Zu(t,"printScaling",Av);var n=J.of(t);this.dict.set(J.of("PrintScaling"),n)},e.prototype.setDuplex=function(t){Zu(t,"duplex",d_);var n=J.of(t);this.dict.set(J.of("Duplex"),n)},e.prototype.setPickTrayByPDFSize=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("PickTrayByPDFSize"),n)},e.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var n=[],r=0,i=t.length;r<i;r++)n.push(t[r].start),n.push(t[r].end);Sq(n,"printPageRange",["number"]);var o=this.dict.context.obj(n);this.dict.set(J.of("PrintPageRange"),o)},e.prototype.setNumCopies=function(t){es(t,"numCopies",1,Number.MAX_VALUE),che(t,"numCopies");var n=this.dict.context.obj(t);this.dict.set(J.of("NumCopies"),n)},e.fromDict=function(t){return new e(t)},e.create=function(t){var n=t.obj({});return new e(n)},e}(),Hge=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,dW=function(){function e(t,n){this.dict=t,this.ref=n}return e.prototype.T=function(){return this.dict.lookupMaybe(J.of("T"),Tn,Rt)},e.prototype.Ff=function(){var t=this.getInheritableAttribute(J.of("Ff"));return this.dict.context.lookupMaybe(t,Ot)},e.prototype.V=function(){var t=this.getInheritableAttribute(J.of("V"));return this.dict.context.lookup(t)},e.prototype.Kids=function(){return this.dict.lookupMaybe(J.of("Kids"),wn)},e.prototype.DA=function(){var t=this.dict.lookup(J.of("DA"));if(t instanceof Tn||t instanceof Rt)return t},e.prototype.setKids=function(t){this.dict.set(J.of("Kids"),this.dict.context.obj(t))},e.prototype.getParent=function(){var t=this.dict.get(J.of("Parent"));if(t instanceof Pn){var n=this.dict.lookup(J.of("Parent"),Vt);return new e(n,t)}},e.prototype.setParent=function(t){t?this.dict.set(J.of("Parent"),t):this.dict.delete(J.of("Parent"))},e.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},e.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},e.prototype.setPartialName=function(t){t?this.dict.set(J.of("T"),Rt.fromText(t)):this.dict.delete(J.of("T"))},e.prototype.setDefaultAppearance=function(t){this.dict.set(J.of("DA"),Tn.of(t))},e.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof Rt?t.decodeText():t?.asString()},e.prototype.setFontSize=function(t){var n,r=(n=this.getFullyQualifiedName())!==null&&n!==void 0?n:"",i=this.getDefaultAppearance();if(!i)throw new ghe(r);var o=fT(i,Hge);if(!o.match)throw new vhe(r);var s=i.slice(0,o.pos-o.match[0].length),a=o.pos<=i.length?i.slice(o.pos):"",l=o.match[1],c=s+" /"+l+" "+t+" Tf "+a;this.setDefaultAppearance(c)},e.prototype.getFlags=function(){var t,n;return(n=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:0},e.prototype.setFlags=function(t){this.dict.set(J.of("Ff"),Ot.of(t))},e.prototype.hasFlag=function(t){var n=this.getFlags();return(n&t)!==0},e.prototype.setFlag=function(t){var n=this.getFlags();this.setFlags(n|t)},e.prototype.clearFlag=function(t){var n=this.getFlags();this.setFlags(n&~t)},e.prototype.setFlagTo=function(t,n){n?this.setFlag(t):this.clearFlag(t)},e.prototype.getInheritableAttribute=function(t){var n;return this.ascend(function(r){n||(n=r.dict.get(t))}),n},e.prototype.ascend=function(t){t(this);var n=this.getParent();n&&n.ascend(t)},e}(),U3=function(){function e(t){this.dict=t}return e.prototype.W=function(){var t=this.dict.lookup(J.of("W"));if(t instanceof Ot)return t},e.prototype.getWidth=function(){var t,n;return(n=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:1},e.prototype.setWidth=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("W"),n)},e.fromDict=function(t){return new e(t)},e}(),Wge=function(){function e(t){this.dict=t}return e.prototype.Rect=function(){return this.dict.lookup(J.of("Rect"),wn)},e.prototype.AP=function(){return this.dict.lookupMaybe(J.of("AP"),Vt)},e.prototype.F=function(){var t=this.dict.lookup(J.of("F"));return this.dict.context.lookupMaybe(t,Ot)},e.prototype.getRectangle=function(){var t,n=this.Rect();return(t=n?.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},e.prototype.setRectangle=function(t){var n=t.x,r=t.y,i=t.width,o=t.height,s=this.dict.context.obj([n,r,n+i,r+o]);this.dict.set(J.of("Rect"),s)},e.prototype.getAppearanceState=function(){var t=this.dict.lookup(J.of("AS"));if(t instanceof J)return t},e.prototype.setAppearanceState=function(t){this.dict.set(J.of("AS"),t)},e.prototype.setAppearances=function(t){this.dict.set(J.of("AP"),t)},e.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(J.of("AP"),t)),t},e.prototype.getNormalAppearance=function(){var t=this.ensureAP(),n=t.get(J.of("N"));if(n instanceof Pn||n instanceof Vt)return n;throw new Error("Unexpected N type: "+n?.constructor.name)},e.prototype.setNormalAppearance=function(t){var n=this.ensureAP();n.set(J.of("N"),t)},e.prototype.setRolloverAppearance=function(t){var n=this.ensureAP();n.set(J.of("R"),t)},e.prototype.setDownAppearance=function(t){var n=this.ensureAP();n.set(J.of("D"),t)},e.prototype.removeRolloverAppearance=function(){var t=this.AP();t?.delete(J.of("R"))},e.prototype.removeDownAppearance=function(){var t=this.AP();t?.delete(J.of("D"))},e.prototype.getAppearances=function(){var t=this.AP();if(t){var n=t.lookup(J.of("N"),Vt,ls),r=t.lookupMaybe(J.of("R"),Vt,ls),i=t.lookupMaybe(J.of("D"),Vt,ls);return{normal:n,rollover:r,down:i}}},e.prototype.getFlags=function(){var t,n;return(n=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&n!==void 0?n:0},e.prototype.setFlags=function(t){this.dict.set(J.of("F"),Ot.of(t))},e.prototype.hasFlag=function(t){var n=this.getFlags();return(n&t)!==0},e.prototype.setFlag=function(t){var n=this.getFlags();this.setFlags(n|t)},e.prototype.clearFlag=function(t){var n=this.getFlags();this.setFlags(n&~t)},e.prototype.setFlagTo=function(t,n){n?this.setFlag(t):this.clearFlag(t)},e.fromDict=function(t){return new e(t)},e}(),q3=function(){function e(t){this.dict=t}return e.prototype.R=function(){var t=this.dict.lookup(J.of("R"));if(t instanceof Ot)return t},e.prototype.BC=function(){var t=this.dict.lookup(J.of("BC"));if(t instanceof wn)return t},e.prototype.BG=function(){var t=this.dict.lookup(J.of("BG"));if(t instanceof wn)return t},e.prototype.CA=function(){var t=this.dict.lookup(J.of("CA"));if(t instanceof Rt||t instanceof Tn)return t},e.prototype.RC=function(){var t=this.dict.lookup(J.of("RC"));if(t instanceof Rt||t instanceof Tn)return t},e.prototype.AC=function(){var t=this.dict.lookup(J.of("AC"));if(t instanceof Rt||t instanceof Tn)return t},e.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},e.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var n=[],r=0,i=t?.size();r<i;r++){var o=t.get(r);o instanceof Ot&&n.push(o.asNumber())}return n}},e.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var n=[],r=0,i=t?.size();r<i;r++){var o=t.get(r);o instanceof Ot&&n.push(o.asNumber())}return n}},e.prototype.getCaptions=function(){var t=this.CA(),n=this.RC(),r=this.AC();return{normal:t?.decodeText(),rollover:n?.decodeText(),down:r?.decodeText()}},e.prototype.setRotation=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("R"),n)},e.prototype.setBorderColor=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("BC"),n)},e.prototype.setBackgroundColor=function(t){var n=this.dict.context.obj(t);this.dict.set(J.of("BG"),n)},e.prototype.setCaptions=function(t){var n=Rt.fromText(t.normal);if(this.dict.set(J.of("CA"),n),t.rollover){var r=Rt.fromText(t.rollover);this.dict.set(J.of("RC"),r)}else this.dict.delete(J.of("RC"));if(t.down){var i=Rt.fromText(t.down);this.dict.set(J.of("AC"),i)}else this.dict.delete(J.of("AC"))},e.fromDict=function(t){return new e(t)},e}(),H4=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.MK=function(){var n=this.dict.lookup(J.of("MK"));if(n instanceof Vt)return n},t.prototype.BS=function(){var n=this.dict.lookup(J.of("BS"));if(n instanceof Vt)return n},t.prototype.DA=function(){var n=this.dict.lookup(J.of("DA"));if(n instanceof Tn||n instanceof Rt)return n},t.prototype.P=function(){var n=this.dict.get(J.of("P"));if(n instanceof Pn)return n},t.prototype.setP=function(n){this.dict.set(J.of("P"),n)},t.prototype.setDefaultAppearance=function(n){this.dict.set(J.of("DA"),Tn.of(n))},t.prototype.getDefaultAppearance=function(){var n=this.DA();return n instanceof Rt?n.decodeText():n?.asString()},t.prototype.getAppearanceCharacteristics=function(){var n=this.MK();if(n)return q3.fromDict(n)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var n=this.MK();if(n)return q3.fromDict(n);var r=q3.fromDict(this.dict.context.obj({}));return this.dict.set(J.of("MK"),r.dict),r},t.prototype.getBorderStyle=function(){var n=this.BS();if(n)return U3.fromDict(n)},t.prototype.getOrCreateBorderStyle=function(){var n=this.BS();if(n)return U3.fromDict(n);var r=U3.fromDict(this.dict.context.obj({}));return this.dict.set(J.of("BS"),r.dict),r},t.prototype.getOnValue=function(){var n,r=(n=this.getAppearances())===null||n===void 0?void 0:n.normal;if(r instanceof Vt)for(var i=r.keys(),o=0,s=i.length;o<s;o++){var a=i[o];if(a!==J.of("Off"))return a}},t.fromDict=function(n){return new t(n)},t.create=function(n,r){var i=n.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:r});return new t(i)},t}(Wge),um=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.FT=function(){var n=this.getInheritableAttribute(J.of("FT"));return this.dict.context.lookup(n,J)},t.prototype.getWidgets=function(){var n=this.Kids();if(!n)return[H4.fromDict(this.dict)];for(var r=new Array(n.size()),i=0,o=n.size();i<o;i++){var s=n.lookup(i,Vt);r[i]=H4.fromDict(s)}return r},t.prototype.addWidget=function(n){var r=this.normalizedEntries().Kids;r.push(n)},t.prototype.removeWidget=function(n){var r=this.Kids();if(r){if(n<0||n>r.size())throw new o_(n,0,r.size());r.remove(n)}else{if(n!==0)throw new o_(n,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var n=this.Kids();return n||(n=this.dict.context.obj([this.ref]),this.dict.set(J.of("Kids"),n)),{Kids:n}},t.fromDict=function(n,r){return new t(n,r)},t}(dW),UT=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(J.of("Opt"),Tn,Rt,wn)},t.prototype.setOpt=function(n){this.dict.set(J.of("Opt"),this.dict.context.obj(n))},t.prototype.getExportValues=function(){var n=this.Opt();if(n){if(n instanceof Tn||n instanceof Rt)return[n];for(var r=[],i=0,o=n.size();i<o;i++){var s=n.lookup(i);(s instanceof Tn||s instanceof Rt)&&r.push(s)}return r}},t.prototype.removeExportValue=function(n){var r=this.Opt();if(r)if(r instanceof Tn||r instanceof Rt){if(n!==0)throw new o_(n,0,0);this.setOpt([])}else{if(n<0||n>r.size())throw new o_(n,0,r.size());r.remove(n)}},t.prototype.normalizeExportValues=function(){for(var n,r,i,o,s=(n=this.getExportValues())!==null&&n!==void 0?n:[],a=[],l=this.getWidgets(),c=0,u=l.length;c<u;c++){var d=l[c],h=(r=s[c])!==null&&r!==void 0?r:Rt.fromText((o=(i=d.getOnValue())===null||i===void 0?void 0:i.decodeText())!==null&&o!==void 0?o:"");a.push(h)}this.setOpt(a)},t.prototype.addOpt=function(n,r){var i;this.normalizeExportValues();var o=n.decodeText(),s;if(r)for(var a=(i=this.getExportValues())!==null&&i!==void 0?i:[],l=0,c=a.length;l<c;l++){var u=a[l];u.decodeText()===o&&(s=l)}var d=this.Opt();return d.push(n),s??d.size()-1},t.prototype.addWidgetWithOpt=function(n,r,i){var o=this.addOpt(r,i),s=J.of(String(o));return this.addWidget(n),s},t}(um),U5=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.setValue=function(n){var r,i=(r=this.getOnValue())!==null&&r!==void 0?r:J.of("Yes");if(n!==i&&n!==J.of("Off"))throw new _T;this.dict.set(J.of("V"),n);for(var o=this.getWidgets(),s=0,a=o.length;s<a;s++){var l=o[s],c=l.getOnValue()===n?n:J.of("Off");l.setAppearanceState(c)}},t.prototype.getValue=function(){var n=this.V();return n instanceof J?n:J.of("Off")},t.prototype.getOnValue=function(){var n=this.getWidgets()[0];return n?.getOnValue()},t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({FT:"Btn",Kids:[]}),i=n.register(r);return new t(r,i)},t}(UT),zr=function(e){return 1<<e},ba;(function(e){e[e.ReadOnly=zr(0)]="ReadOnly",e[e.Required=zr(1)]="Required",e[e.NoExport=zr(2)]="NoExport"})(ba||(ba={}));var Ts;(function(e){e[e.NoToggleToOff=zr(14)]="NoToggleToOff",e[e.Radio=zr(15)]="Radio",e[e.PushButton=zr(16)]="PushButton",e[e.RadiosInUnison=zr(25)]="RadiosInUnison"})(Ts||(Ts={}));var hr;(function(e){e[e.Multiline=zr(12)]="Multiline",e[e.Password=zr(13)]="Password",e[e.FileSelect=zr(20)]="FileSelect",e[e.DoNotSpellCheck=zr(22)]="DoNotSpellCheck",e[e.DoNotScroll=zr(23)]="DoNotScroll",e[e.Comb=zr(24)]="Comb",e[e.RichText=zr(25)]="RichText"})(hr||(hr={}));var En;(function(e){e[e.Combo=zr(17)]="Combo",e[e.Edit=zr(18)]="Edit",e[e.Sort=zr(19)]="Sort",e[e.MultiSelect=zr(21)]="MultiSelect",e[e.DoNotSpellCheck=zr(22)]="DoNotSpellCheck",e[e.CommitOnSelChange=zr(26)]="CommitOnSelChange"})(En||(En={}));var fW=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.setValues=function(n){if(this.hasFlag(En.Combo)&&!this.hasFlag(En.Edit)&&!this.valuesAreValid(n))throw new _T;if(n.length===0&&this.dict.delete(J.of("V")),n.length===1&&this.dict.set(J.of("V"),n[0]),n.length>1){if(!this.hasFlag(En.MultiSelect))throw new mhe;this.dict.set(J.of("V"),this.dict.context.obj(n))}this.updateSelectedIndices(n)},t.prototype.valuesAreValid=function(n){for(var r=this.getOptions(),i=function(l,c){var u=n[l].decodeText();if(!r.find(function(d){return u===(d.display||d.value).decodeText()}))return{value:!1}},o=0,s=n.length;o<s;o++){var a=i(o);if(typeof a=="object")return a.value}return!0},t.prototype.updateSelectedIndices=function(n){if(n.length>1){for(var r=new Array(n.length),i=this.getOptions(),o=function(l,c){var u=n[l].decodeText();r[l]=i.findIndex(function(d){return u===(d.display||d.value).decodeText()})},s=0,a=n.length;s<a;s++)o(s,a);this.dict.set(J.of("I"),this.dict.context.obj(r.sort()))}else this.dict.delete(J.of("I"))},t.prototype.getValues=function(){var n=this.V();if(n instanceof Tn||n instanceof Rt)return[n];if(n instanceof wn){for(var r=[],i=0,o=n.size();i<o;i++){var s=n.lookup(i);(s instanceof Tn||s instanceof Rt)&&r.push(s)}return r}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(J.of("Opt"),Tn,Rt,wn)},t.prototype.setOptions=function(n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++){var s=n[i],a=s.value,l=s.display;r[i]=this.dict.context.obj([a,l||a])}this.dict.set(J.of("Opt"),this.dict.context.obj(r))},t.prototype.getOptions=function(){var n=this.Opt();if(n instanceof Tn||n instanceof Rt)return[{value:n,display:n}];if(n instanceof wn){for(var r=[],i=0,o=n.size();i<o;i++){var s=n.lookup(i);if((s instanceof Tn||s instanceof Rt)&&r.push({value:s,display:s}),s instanceof wn&&s.size()>0){var a=s.lookup(0,Tn,Rt),l=s.lookupMaybe(1,Tn,Rt);r.push({value:a,display:l||a})}}return r}return[]},t}(um),q5=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({FT:"Ch",Ff:En.Combo,Kids:[]}),i=n.register(r);return new t(r,i)},t}(fW),f_=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.addField=function(n){var r=this.normalizedEntries().Kids;r?.push(n)},t.prototype.normalizedEntries=function(){var n=this.Kids();return n||(n=this.dict.context.obj([]),this.dict.set(J.of("Kids"),n)),{Kids:n}},t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({}),i=n.register(r);return new t(r,i)},t}(dW),qT=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.fromDict=function(n,r){return new t(n,r)},t}(um),H5=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var n=this.dict.lookup(J.of("MaxLen"));if(n instanceof Ot)return n},t.prototype.Q=function(){var n=this.dict.lookup(J.of("Q"));if(n instanceof Ot)return n},t.prototype.setMaxLength=function(n){this.dict.set(J.of("MaxLen"),Ot.of(n))},t.prototype.removeMaxLength=function(){this.dict.delete(J.of("MaxLen"))},t.prototype.getMaxLength=function(){var n;return(n=this.MaxLen())===null||n===void 0?void 0:n.asNumber()},t.prototype.setQuadding=function(n){this.dict.set(J.of("Q"),Ot.of(n))},t.prototype.getQuadding=function(){var n;return(n=this.Q())===null||n===void 0?void 0:n.asNumber()},t.prototype.setValue=function(n){this.dict.set(J.of("V"),n)},t.prototype.removeValue=function(){this.dict.delete(J.of("V"))},t.prototype.getValue=function(){var n=this.V();if(n instanceof Tn||n instanceof Rt)return n},t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({FT:"Tx",Kids:[]}),i=n.register(r);return new t(r,i)},t}(um),W5=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({FT:"Btn",Ff:Ts.PushButton,Kids:[]}),i=n.register(r);return new t(r,i)},t}(UT),V5=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.setValue=function(n){var r=this.getOnValues();if(!r.includes(n)&&n!==J.of("Off"))throw new _T;this.dict.set(J.of("V"),n);for(var i=this.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o],l=a.getOnValue()===n?n:J.of("Off");a.setAppearanceState(l)}},t.prototype.getValue=function(){var n=this.V();return n instanceof J?n:J.of("Off")},t.prototype.getOnValues=function(){for(var n=this.getWidgets(),r=[],i=0,o=n.length;i<o;i++){var s=n[i].getOnValue();s&&r.push(s)}return r},t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({FT:"Btn",Ff:Ts.Radio,Kids:[]}),i=n.register(r);return new t(r,i)},t}(UT),K5=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.fromDict=function(n,r){return new t(n,r)},t.create=function(n){var r=n.obj({FT:"Ch",Kids:[]}),i=n.register(r);return new t(r,i)},t}(fW),HT=function(e){if(!e)return[];for(var t=[],n=0,r=e.size();n<r;n++){var i=e.get(n),o=e.lookup(n);i instanceof Pn&&o instanceof Vt&&t.push([hW(o,i),i])}return t},hW=function(e,t){var n=Vge(e);return n?f_.fromDict(e,t):Kge(e,t)},Vge=function(e){var t=e.lookup(J.of("Kids"));if(t instanceof wn)for(var n=0,r=t.size();n<r;n++){var i=t.lookup(n),o=i instanceof Vt&&i.has(J.of("T"));if(o)return!0}return!1},Kge=function(e,t){var n=WT(e,J.of("FT")),r=e.context.lookup(n,J);return r===J.of("Btn")?Gge(e,t):r===J.of("Ch")?Zge(e,t):r===J.of("Tx")?H5.fromDict(e,t):r===J.of("Sig")?qT.fromDict(e,t):um.fromDict(e,t)},Gge=function(e,t){var n,r=WT(e,J.of("Ff")),i=e.context.lookupMaybe(r,Ot),o=(n=i?.asNumber())!==null&&n!==void 0?n:0;return W4(o,Ts.PushButton)?W5.fromDict(e,t):W4(o,Ts.Radio)?V5.fromDict(e,t):U5.fromDict(e,t)},Zge=function(e,t){var n,r=WT(e,J.of("Ff")),i=e.context.lookupMaybe(r,Ot),o=(n=i?.asNumber())!==null&&n!==void 0?n:0;return W4(o,En.Combo)?q5.fromDict(e,t):K5.fromDict(e,t)},W4=function(e,t){return(e&t)!==0},WT=function(e,t){var n;return pW(e,function(r){n||(n=r.get(t))}),n},pW=function(e,t){t(e);var n=e.lookupMaybe(J.of("Parent"),Vt);n&&pW(n,t)},h_=function(){function e(t){this.dict=t}return e.prototype.Fields=function(){var t=this.dict.lookup(J.of("Fields"));if(t instanceof wn)return t},e.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,n=new Array(t.size()),r=0,i=t.size();r<i;r++){var o=t.get(r),s=t.lookup(r,Vt);n[r]=[hW(s,o),o]}return n},e.prototype.getAllFields=function(){var t=[],n=function(r){if(r)for(var i=0,o=r.length;i<o;i++){var s=r[i];t.push(s);var a=s[0];a instanceof f_&&n(HT(a.Kids()))}};return n(this.getFields()),t},e.prototype.addField=function(t){var n=this.normalizedEntries().Fields;n?.push(t)},e.prototype.removeField=function(t){var n=t.getParent(),r=n===void 0?this.normalizedEntries().Fields:n.Kids(),i=r?.indexOf(t.ref);if(r===void 0||i===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());r.remove(i),n!==void 0&&r.size()===0&&this.removeField(n)},e.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(J.of("Fields"),t)),{Fields:t}},e.fromDict=function(t){return new e(t)},e.create=function(t){var n=t.obj({Fields:[]});return new e(n)},e}(),mW=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(J.of("Pages"),Vt)},t.prototype.AcroForm=function(){return this.lookupMaybe(J.of("AcroForm"),Vt)},t.prototype.getAcroForm=function(){var n=this.AcroForm();if(n)return h_.fromDict(n)},t.prototype.getOrCreateAcroForm=function(){var n=this.getAcroForm();if(!n){n=h_.create(this.context);var r=this.context.register(n.dict);this.set(J.of("AcroForm"),r)}return n},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(J.of("ViewerPreferences"),Vt)},t.prototype.getViewerPreferences=function(){var n=this.ViewerPreferences();if(n)return kO.fromDict(n)},t.prototype.getOrCreateViewerPreferences=function(){var n=this.getViewerPreferences();if(!n){n=kO.create(this.context);var r=this.context.register(n.dict);this.set(J.of("ViewerPreferences"),r)}return n},t.prototype.insertLeafNode=function(n,r){var i=this.get(J.of("Pages")),o=this.Pages().insertLeafNode(n,r);return o||i},t.prototype.removeLeafNode=function(n){this.Pages().removeLeafNode(n)},t.withContextAndPages=function(n,r){var i=new Map;return i.set(J.of("Type"),J.of("Catalog")),i.set(J.of("Pages"),r),new t(i,n)},t.fromMapWithContext=function(n,r){return new t(n,r)},t}(Vt),gW=function(e){Ye(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(J.of("Parent"))},t.prototype.Kids=function(){return this.lookup(J.of("Kids"),wn)},t.prototype.Count=function(){return this.lookup(J.of("Count"),Ot)},t.prototype.pushTreeNode=function(n){var r=this.Kids();r.push(n)},t.prototype.pushLeafNode=function(n){var r=this.Kids();this.insertLeafKid(r.size(),n)},t.prototype.insertLeafNode=function(n,r){var i=this.Kids(),o=this.Count().asNumber();if(r>o)throw new OD(r,o);for(var s=r,a=0,l=i.size();a<l;a++){if(s===0){this.insertLeafKid(a,n);return}var c=i.get(a),u=this.context.lookup(c);if(u instanceof t){if(u.Count().asNumber()>s)return u.insertLeafNode(n,s)||c;s-=u.Count().asNumber()}u instanceof jc&&(s-=1)}if(s===0){this.insertLeafKid(i.size(),n);return}throw new LD(r,"insertLeafNode")},t.prototype.removeLeafNode=function(n,r){r===void 0&&(r=!0);var i=this.Kids(),o=this.Count().asNumber();if(n>=o)throw new OD(n,o);for(var s=n,a=0,l=i.size();a<l;a++){var c=i.get(a),u=this.context.lookup(c);if(u instanceof t)if(u.Count().asNumber()>s){u.removeLeafNode(s,r),r&&u.Kids().size()===0&&i.remove(a);return}else s-=u.Count().asNumber();if(u instanceof jc)if(s===0){this.removeKid(a);return}else s-=1}throw new LD(n,"removeLeafNode")},t.prototype.ascend=function(n){n(this);var r=this.Parent();r&&r.ascend(n)},t.prototype.traverse=function(n){for(var r=this.Kids(),i=0,o=r.size();i<o;i++){var s=r.get(i),a=this.context.lookup(s);a instanceof t&&a.traverse(n),n(a,s)}},t.prototype.insertLeafKid=function(n,r){var i=this.Kids();this.ascend(function(o){var s=o.Count().asNumber()+1;o.set(J.of("Count"),Ot.of(s))}),i.insert(n,r)},t.prototype.removeKid=function(n){var r=this.Kids(),i=r.lookup(n);i instanceof jc&&this.ascend(function(o){var s=o.Count().asNumber()-1;o.set(J.of("Count"),Ot.of(s))}),r.remove(n)},t.withContext=function(n,r){var i=new Map;return i.set(J.of("Type"),J.of("Pages")),i.set(J.of("Kids"),n.obj([])),i.set(J.of("Count"),n.obj(0)),r&&i.set(J.of("Parent"),r),new t(i,n)},t.fromMapWithContext=function(n,r){return new t(n,r)},t}(Vt),Yi=new Uint8Array(256);Yi[ee.Zero]=1;Yi[ee.One]=1;Yi[ee.Two]=1;Yi[ee.Three]=1;Yi[ee.Four]=1;Yi[ee.Five]=1;Yi[ee.Six]=1;Yi[ee.Seven]=1;Yi[ee.Eight]=1;Yi[ee.Nine]=1;var G5=new Uint8Array(256);G5[ee.Period]=1;G5[ee.Plus]=1;G5[ee.Minus]=1;var VT=new Uint8Array(256);for(var cg=0,Xge=256;cg<Xge;cg++)VT[cg]=Yi[cg]||G5[cg]?1:0;var CO=ee.Newline,NO=ee.CarriageReturn,$ge=function(){function e(t,n){n===void 0&&(n=!1),this.bytes=t,this.capNumbers=n}return e.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var n=this.bytes.peek();if(!Yi[n])break;t+=Pc(this.bytes.next())}var r=Number(t);if(!t||!isFinite(r))throw new MD(this.bytes.position(),t);return r},e.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var n=this.bytes.peek();if(!VT[n]||(t+=Pc(this.bytes.next()),n===ee.Period))break}for(;!this.bytes.done();){var n=this.bytes.peek();if(!Yi[n])break;t+=Pc(this.bytes.next())}var r=Number(t);if(!t||!isFinite(r))throw new MD(this.bytes.position(),t);if(r>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var i="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(i),Number.MAX_SAFE_INTEGER}else{var i="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(i)}return r},e.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Hc[this.bytes.peek()];)this.bytes.next()},e.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===CO||t===NO)return;this.bytes.next()}},e.prototype.skipComment=function(){if(this.bytes.peek()!==ee.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===CO||t===NO)return!0;this.bytes.next()}return!0},e.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},e.prototype.matchKeyword=function(t){for(var n=this.bytes.offset(),r=0,i=t.length;r<i;r++)if(this.bytes.done()||this.bytes.next()!==t[r])return this.bytes.moveTo(n),!1;return!0},e}(),Z5=function(){function e(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return e.prototype.moveTo=function(t){this.idx=t},e.prototype.next=function(){var t=this.bytes[this.idx++];return t===ee.Newline?(this.line+=1,this.column=0):this.column+=1,t},e.prototype.assertNext=function(t){if(this.peek()!==t)throw new yhe(this.position(),t,this.peek());return this.next()},e.prototype.peek=function(){return this.bytes[this.idx]},e.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},e.prototype.peekAt=function(t){return this.bytes[t]},e.prototype.done=function(){return this.idx>=this.length},e.prototype.offset=function(){return this.idx},e.prototype.slice=function(t,n){return this.bytes.slice(t,n)},e.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},e.of=function(t){return new e(t)},e.fromPDFRawStream=function(t){return e.of(cW(t).decode())},e}(),Yge=ee.Space,ug=ee.CarriageReturn,dg=ee.Newline,fg=[ee.s,ee.t,ee.r,ee.e,ee.a,ee.m],S2=[ee.e,ee.n,ee.d,ee.s,ee.t,ee.r,ee.e,ee.a,ee.m],zn={header:[ee.Percent,ee.P,ee.D,ee.F,ee.Dash],eof:[ee.Percent,ee.Percent,ee.E,ee.O,ee.F],obj:[ee.o,ee.b,ee.j],endobj:[ee.e,ee.n,ee.d,ee.o,ee.b,ee.j],xref:[ee.x,ee.r,ee.e,ee.f],trailer:[ee.t,ee.r,ee.a,ee.i,ee.l,ee.e,ee.r],startxref:[ee.s,ee.t,ee.a,ee.r,ee.t,ee.x,ee.r,ee.e,ee.f],true:[ee.t,ee.r,ee.u,ee.e],false:[ee.f,ee.a,ee.l,ee.s,ee.e],null:[ee.n,ee.u,ee.l,ee.l],stream:fg,streamEOF1:mn(fg,[Yge,ug,dg]),streamEOF2:mn(fg,[ug,dg]),streamEOF3:mn(fg,[ug]),streamEOF4:mn(fg,[dg]),endstream:S2,EOF1endstream:mn([ug,dg],S2),EOF2endstream:mn([ug],S2),EOF3endstream:mn([dg],S2)},vW=function(e){Ye(t,e);function t(n,r,i){i===void 0&&(i=!1);var o=e.call(this,n,i)||this;return o.context=r,o}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(zn.true))return C1.True;if(this.matchKeyword(zn.false))return C1.False;if(this.matchKeyword(zn.null))return So;var n=this.bytes.peek();if(n===ee.LessThan&&this.bytes.peekAhead(1)===ee.LessThan)return this.parseDictOrStream();if(n===ee.LessThan)return this.parseHexString();if(n===ee.LeftParen)return this.parseString();if(n===ee.ForwardSlash)return this.parseName();if(n===ee.LeftSquareBracket)return this.parseArray();if(VT[n])return this.parseNumberOrRef();throw new bhe(this.bytes.position(),n)},t.prototype.parseNumberOrRef=function(){var n=this.parseRawNumber();this.skipWhitespaceAndComments();var r=this.bytes.offset();if(Yi[this.bytes.peek()]){var i=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===ee.R)return this.bytes.assertNext(ee.R),Pn.of(n,i)}return this.bytes.moveTo(r),Ot.of(n)},t.prototype.parseHexString=function(){var n="";for(this.bytes.assertNext(ee.LessThan);!this.bytes.done()&&this.bytes.peek()!==ee.GreaterThan;)n+=Pc(this.bytes.next());return this.bytes.assertNext(ee.GreaterThan),Rt.of(n)},t.prototype.parseString=function(){for(var n=0,r=!1,i="";!this.bytes.done();){var o=this.bytes.next();if(i+=Pc(o),r||(o===ee.LeftParen&&(n+=1),o===ee.RightParen&&(n-=1)),o===ee.BackSlash?r=!r:r&&(r=!1),n===0)return Tn.of(i.substring(1,i.length-1))}throw new _he(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(ee.ForwardSlash);for(var n="";!this.bytes.done();){var r=this.bytes.peek();if(Hc[r]||sa[r])break;n+=Pc(r),this.bytes.next()}return J.of(n)},t.prototype.parseArray=function(){this.bytes.assertNext(ee.LeftSquareBracket),this.skipWhitespaceAndComments();for(var n=wn.withContext(this.context);this.bytes.peek()!==ee.RightSquareBracket;){var r=this.parseObject();n.push(r),this.skipWhitespaceAndComments()}return this.bytes.assertNext(ee.RightSquareBracket),n},t.prototype.parseDict=function(){this.bytes.assertNext(ee.LessThan),this.bytes.assertNext(ee.LessThan),this.skipWhitespaceAndComments();for(var n=new Map;!this.bytes.done()&&this.bytes.peek()!==ee.GreaterThan&&this.bytes.peekAhead(1)!==ee.GreaterThan;){var r=this.parseName(),i=this.parseObject();n.set(r,i),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(ee.GreaterThan),this.bytes.assertNext(ee.GreaterThan);var o=n.get(J.of("Type"));return o===J.of("Catalog")?mW.fromMapWithContext(n,this.context):o===J.of("Pages")?gW.fromMapWithContext(n,this.context):o===J.of("Page")?jc.fromMapWithContext(n,this.context):Vt.fromMapWithContext(n,this.context)},t.prototype.parseDictOrStream=function(){var n=this.bytes.position(),r=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(zn.streamEOF1)&&!this.matchKeyword(zn.streamEOF2)&&!this.matchKeyword(zn.streamEOF3)&&!this.matchKeyword(zn.streamEOF4)&&!this.matchKeyword(zn.stream))return r;var i=this.bytes.offset(),o,s=r.get(J.of("Length"));s instanceof Ot?(o=i+s.asNumber(),this.bytes.moveTo(o),this.skipWhitespaceAndComments(),this.matchKeyword(zn.endstream)||(this.bytes.moveTo(i),o=this.findEndOfStreamFallback(n))):o=this.findEndOfStreamFallback(n);var a=this.bytes.slice(i,o);return N1.of(r,a)},t.prototype.findEndOfStreamFallback=function(n){for(var r=1,i=this.bytes.offset();!this.bytes.done()&&(i=this.bytes.offset(),this.matchKeyword(zn.stream)?r+=1:this.matchKeyword(zn.EOF1endstream)||this.matchKeyword(zn.EOF2endstream)||this.matchKeyword(zn.EOF3endstream)||this.matchKeyword(zn.endstream)?r-=1:this.bytes.next(),r!==0););if(r!==0)throw new whe(n);return i},t.forBytes=function(n,r,i){return new t(Z5.of(n),r,i)},t.forByteStream=function(n,r,i){return i===void 0&&(i=!1),new t(n,r,i)},t}($ge),Jge=function(e){Ye(t,e);function t(n,r){var i=e.call(this,Z5.fromPDFRawStream(n),n.dict.context)||this,o=n.dict;return i.alreadyParsed=!1,i.shouldWaitForTick=r||function(){return!1},i.firstOffset=o.lookup(J.of("First"),Ot).asNumber(),i.objectCount=o.lookup(J.of("N"),Ot).asNumber(),i}return t.prototype.parseIntoContext=function(){return Zt(this,void 0,void 0,function(){var n,r,i,o,s,a,l,c;return Xt(this,function(u){switch(u.label){case 0:if(this.alreadyParsed)throw new wT("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,n=this.parseOffsetsAndObjectNumbers(),r=0,i=n.length,u.label=1;case 1:return r<i?(o=n[r],s=o.objectNumber,a=o.offset,this.bytes.moveTo(this.firstOffset+a),l=this.parseObject(),c=Pn.of(s,0),this.context.assign(c,l),this.shouldWaitForTick()?[4,M0()]:[3,3]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var n=[],r=0,i=this.objectCount;r<i;r++){this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.parseRawInt();n.push({objectNumber:o,offset:s})}return n},t.forStream=function(n,r){return new t(n,r)},t}(vW),Qge=function(){function e(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=Z5.fromPDFRawStream(t),this.context=this.dict.context;var n=this.dict.lookup(J.of("Size"),Ot),r=this.dict.lookup(J.of("Index"));if(r instanceof wn){this.subsections=[];for(var i=0,o=r.size();i<o;i+=2){var s=r.lookup(i+0,Ot).asNumber(),a=r.lookup(i+1,Ot).asNumber();this.subsections.push({firstObjectNumber:s,length:a})}}else this.subsections=[{firstObjectNumber:0,length:n.asNumber()}];var l=this.dict.lookup(J.of("W"),wn);this.byteWidths=[-1,-1,-1];for(var i=0,o=l.size();i<o;i++)this.byteWidths[i]=l.lookup(i,Ot).asNumber()}return e.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new wT("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(J.of("Root")),Encrypt:this.dict.get(J.of("Encrypt")),Info:this.dict.get(J.of("Info")),ID:this.dict.get(J.of("ID"))};var t=this.parseEntries();return t},e.prototype.parseEntries=function(){for(var t=[],n=this.byteWidths,r=n[0],i=n[1],o=n[2],s=0,a=this.subsections.length;s<a;s++)for(var l=this.subsections[s],c=l.firstObjectNumber,u=l.length,d=0;d<u;d++){for(var h=0,f=0,m=r;f<m;f++)h=h<<8|this.bytes.next();for(var g=0,f=0,m=i;f<m;f++)g=g<<8|this.bytes.next();for(var y=0,f=0,m=o;f<m;f++)y=y<<8|this.bytes.next();r===0&&(h=1);var v=c+d,x={ref:Pn.of(v,y),offset:g,deleted:h===0,inObjectStream:h===2};t.push(x)}return t},e.forStream=function(t){return new e(t)},e}(),eve=function(e){Ye(t,e);function t(n,r,i,o){r===void 0&&(r=1/0),i===void 0&&(i=!1),o===void 0&&(o=!1);var s=e.call(this,Z5.of(n),D4.create(),o)||this;return s.alreadyParsed=!1,s.parsedObjects=0,s.shouldWaitForTick=function(){return s.parsedObjects+=1,s.parsedObjects%s.objectsPerTick===0},s.objectsPerTick=r,s.throwOnInvalidObject=i,s}return t.prototype.parseDocument=function(){return Zt(this,void 0,void 0,function(){var n,r;return Xt(this,function(i){switch(i.label){case 0:if(this.alreadyParsed)throw new wT("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),i.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(i.sent(),r=this.bytes.offset(),r===n)throw new She(this.bytes.position());return n=r,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(Pn.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(Pn.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var n=function(u){return u instanceof Vt&&u.lookup(J.of("Type"))===J.of("Catalog")},r=this.context.lookup(this.context.trailerInfo.Root);if(!n(r))for(var i=this.context.enumerateIndirectObjects(),o=0,s=i.length;o<s;o++){var a=i[o],l=a[0],c=a[1];n(c)&&(this.context.trailerInfo.Root=l)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(zn.header)){var n=this.parseRawInt();this.bytes.assertNext(ee.Period);var r=this.parseRawInt(),i=M5.forVersion(n,r);return this.skipBinaryHeaderComment(),i}this.bytes.next()}throw new khe(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var n=this.parseRawInt();this.skipWhitespaceAndComments();var r=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(zn.obj))throw new Che(this.bytes.position(),zn.obj);return Pn.of(n,r)},t.prototype.matchIndirectObjectHeader=function(){var n=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(n),!1}},t.prototype.parseIndirectObject=function(){return Zt(this,void 0,void 0,function(){var n,r;return Xt(this,function(i){switch(i.label){case 0:return n=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),r=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(zn.endobj),r instanceof N1&&r.dict.lookup(J.of("Type"))===J.of("ObjStm")?[4,Jge.forStream(r,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return i.sent(),[3,3];case 2:r instanceof N1&&r.dict.lookup(J.of("Type"))===J.of("XRef")?Qge.forStream(r).parseIntoContext():this.context.assign(n,r),i.label=3;case 3:return[2,n]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var n=this.bytes.position(),r="Trying to parse invalid object: "+JSON.stringify(n)+")";if(this.throwOnInvalidObject)throw new Error(r);console.warn(r);var i=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+i),this.skipWhitespaceAndComments();for(var o=this.bytes.offset(),s=!0;!this.bytes.done()&&(this.matchKeyword(zn.endobj)&&(s=!1),!!s);)this.bytes.next();if(s)throw new xhe(n);var a=this.bytes.offset()-zn.endobj.length,l=yH.of(this.bytes.slice(o,a));return this.context.assign(i,l),i},t.prototype.parseIndirectObjects=function(){return Zt(this,void 0,void 0,function(){var n;return Xt(this,function(r){switch(r.label){case 0:this.skipWhitespaceAndComments(),r.label=1;case 1:if(!(!this.bytes.done()&&Yi[this.bytes.peek()]))return[3,8];n=this.bytes.offset(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return r.sent(),[3,5];case 4:return r.sent(),this.bytes.moveTo(n),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,M0()]:[3,7];case 6:r.sent(),r.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(zn.xref)){this.skipWhitespaceAndComments();for(var n=-1,r=mH.createEmpty();!this.bytes.done()&&Yi[this.bytes.peek()];){var i=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();this.skipWhitespaceAndComments();var s=this.bytes.peek();if(s===ee.n||s===ee.f){var a=Pn.of(n,o);this.bytes.next()===ee.n?r.addEntry(a,i):r.addDeletedEntry(a,i),n+=1}else n=i;this.skipWhitespaceAndComments()}return r}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(zn.trailer)){this.skipWhitespaceAndComments();var n=this.parseDict(),r=this.context;r.trailerInfo={Root:n.get(J.of("Root"))||r.trailerInfo.Root,Encrypt:n.get(J.of("Encrypt"))||r.trailerInfo.Encrypt,Info:n.get(J.of("Info"))||r.trailerInfo.Info,ID:n.get(J.of("ID"))||r.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(zn.startxref)){this.skipWhitespaceAndComments();var n=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(zn.eof),this.skipWhitespaceAndComments(),this.matchKeyword(zn.eof),this.skipWhitespaceAndComments(),jT.forLastCrossRefSectionOffset(n)}},t.prototype.parseDocumentSection=function(){return Zt(this,void 0,void 0,function(){return Xt(this,function(n){switch(n.label){case 0:return[4,this.parseIndirectObjects()];case 1:return n.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var n=this.bytes.offset(),r=this.bytes.peek(),i=r>=ee.Space&&r<=ee.Tilde;if(i&&(this.matchKeyword(zn.xref)||this.matchKeyword(zn.trailer)||this.matchKeyword(zn.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(n);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var n=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(n)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(n,r,i,o){return new t(n,r,i,o)},t}(vW),ll=function(e){return 1<<e},Ev;(function(e){e[e.Invisible=ll(0)]="Invisible",e[e.Hidden=ll(1)]="Hidden",e[e.Print=ll(2)]="Print",e[e.NoZoom=ll(3)]="NoZoom",e[e.NoRotate=ll(4)]="NoRotate",e[e.NoView=ll(5)]="NoView",e[e.ReadOnly=ll(6)]="ReadOnly",e[e.Locked=ll(7)]="Locked",e[e.ToggleNoView=ll(8)]="ToggleNoView",e[e.LockedContents=ll(9)]="LockedContents"})(Ev||(Ev={}));var X5=function(e){return e instanceof J?e:J.of(e)},Lt=function(e){return e instanceof Ot?e:Ot.of(e)},$t=function(e){return e instanceof Ot?e.asNumber():e},j1;(function(e){e.Degrees="degrees",e.Radians="radians"})(j1||(j1={}));var jt=function(e){return ve(e,"degreeAngle",["number"]),{type:j1.Degrees,angle:e}},yW=j1.Radians,bW=j1.Degrees,xW=function(e){return e*Math.PI/180},tve=function(e){return e*180/Math.PI},Mi=function(e){return e.type===yW?e.angle:e.type===bW?xW(e.angle):cy("Invalid rotation: "+JSON.stringify(e))},wW=function(e){return e.type===yW?tve(e.angle):e.type===bW?e.angle:cy("Invalid rotation: "+JSON.stringify(e))},Vc=function(e){e===void 0&&(e=0);var t=e/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},Ih=function(e,t){t===void 0&&(t=0);var n=Vc(t);return n===90||n===270?{width:e.height,height:e.width}:{width:e.width,height:e.height}},nve=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=0);var r=e.x,i=e.y,o=e.width,s=e.height,a=Vc(n),l=t/2;return a===0?{x:r-l,y:i-l,width:o,height:s}:a===90?{x:r-s+l,y:i-l,width:s,height:o}:a===180?{x:r-o+l,y:i-s+l,width:o,height:s}:a===270?{x:r-l,y:i-o+l,width:s,height:o}:{x:r-l,y:i-l,width:o,height:s}},_W=function(){return ln.of(gn.ClipNonZero)},p_=Math.cos,m_=Math.sin,g_=Math.tan,$5=function(e,t,n,r,i,o){return ln.of(gn.ConcatTransformationMatrix,[Lt(e),Lt(t),Lt(n),Lt(r),Lt(i),Lt(o)])},Os=function(e,t){return $5(1,0,0,1,e,t)},D1=function(e,t){return $5(e,0,0,t,0,0)},dm=function(e){return $5(p_($t(e)),m_($t(e)),-m_($t(e)),p_($t(e)),0,0)},k2=function(e){return dm(xW($t(e)))},KT=function(e,t){return $5(1,g_($t(e)),g_($t(t)),1,0,0)},Y5=function(e,t){return ln.of(gn.SetLineDashPattern,["["+e.map(Lt).join(" ")+"]",Lt(t)])},Zp;(function(e){e[e.Butt=0]="Butt",e[e.Round=1]="Round",e[e.Projecting=2]="Projecting"})(Zp||(Zp={}));var J5=function(e){return ln.of(gn.SetLineCapStyle,[Lt(e)])},AO;(function(e){e[e.Miter=0]="Miter",e[e.Round=1]="Round",e[e.Bevel=2]="Bevel"})(AO||(AO={}));var Oh=function(e){return ln.of(gn.SetGraphicsStateParams,[X5(e)])},ai=function(){return ln.of(gn.PushGraphicsState)},li=function(){return ln.of(gn.PopGraphicsState)},Sy=function(e){return ln.of(gn.SetLineWidth,[Lt(e)])},rs=function(e,t,n,r,i,o){return ln.of(gn.AppendBezierCurve,[Lt(e),Lt(t),Lt(n),Lt(r),Lt(i),Lt(o)])},C2=function(e,t,n,r){return ln.of(gn.CurveToReplicateInitialPoint,[Lt(e),Lt(t),Lt(n),Lt(r)])},Ad=function(){return ln.of(gn.ClosePath)},Ol=function(e,t){return ln.of(gn.MoveTo,[Lt(e),Lt(t)])},mi=function(e,t){return ln.of(gn.LineTo,[Lt(e),Lt(t)])},ky=function(){return ln.of(gn.StrokePath)},GT=function(){return ln.of(gn.FillNonZero)},ZT=function(){return ln.of(gn.FillNonZeroAndStroke)},SW=function(){return ln.of(gn.EndPath)},rve=function(){return ln.of(gn.NextLine)},kW=function(e){return ln.of(gn.ShowText,[e])},CW=function(){return ln.of(gn.BeginText)},NW=function(){return ln.of(gn.EndText)},XT=function(e,t){return ln.of(gn.SetFontAndSize,[X5(e),Lt(t)])},ive=function(e){return ln.of(gn.SetTextLineHeight,[Lt(e)])},EO;(function(e){e[e.Fill=0]="Fill",e[e.Outline=1]="Outline",e[e.FillAndOutline=2]="FillAndOutline",e[e.Invisible=3]="Invisible",e[e.FillAndClip=4]="FillAndClip",e[e.OutlineAndClip=5]="OutlineAndClip",e[e.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",e[e.Clip=7]="Clip"})(EO||(EO={}));var ove=function(e,t,n,r,i,o){return ln.of(gn.SetTextMatrix,[Lt(e),Lt(t),Lt(n),Lt(r),Lt(i),Lt(o)])},AW=function(e,t,n,r,i){return ove(p_($t(e)),m_($t(e))+g_($t(t)),-m_($t(e))+g_($t(n)),p_($t(e)),r,i)},$T=function(e){return ln.of(gn.DrawObject,[X5(e)])},sve=function(e){return ln.of(gn.NonStrokingColorGray,[Lt(e)])},ave=function(e){return ln.of(gn.StrokingColorGray,[Lt(e)])},lve=function(e,t,n){return ln.of(gn.NonStrokingColorRgb,[Lt(e),Lt(t),Lt(n)])},cve=function(e,t,n){return ln.of(gn.StrokingColorRgb,[Lt(e),Lt(t),Lt(n)])},uve=function(e,t,n,r){return ln.of(gn.NonStrokingColorCmyk,[Lt(e),Lt(t),Lt(n),Lt(r)])},dve=function(e,t,n,r){return ln.of(gn.StrokingColorCmyk,[Lt(e),Lt(t),Lt(n),Lt(r)])},EW=function(e){return ln.of(gn.BeginMarkedContent,[X5(e)])},TW=function(){return ln.of(gn.EndMarkedContent)},Ed;(function(e){e.Grayscale="Grayscale",e.RGB="RGB",e.CMYK="CMYK"})(Ed||(Ed={}));var PW=function(e){return es(e,"gray",0,1),{type:Ed.Grayscale,gray:e}},Rn=function(e,t,n){return es(e,"red",0,1),es(t,"green",0,1),es(n,"blue",0,1),{type:Ed.RGB,red:e,green:t,blue:n}},RW=function(e,t,n,r){return es(e,"cyan",0,1),es(t,"magenta",0,1),es(n,"yellow",0,1),es(r,"key",0,1),{type:Ed.CMYK,cyan:e,magenta:t,yellow:n,key:r}},YT=Ed.Grayscale,JT=Ed.RGB,QT=Ed.CMYK,Lh=function(e){return e.type===YT?sve(e.gray):e.type===JT?lve(e.red,e.green,e.blue):e.type===QT?uve(e.cyan,e.magenta,e.yellow,e.key):cy("Invalid color: "+JSON.stringify(e))},Cy=function(e){return e.type===YT?ave(e.gray):e.type===JT?cve(e.red,e.green,e.blue):e.type===QT?dve(e.cyan,e.magenta,e.yellow,e.key):cy("Invalid color: "+JSON.stringify(e))},po=function(e,t){return t===void 0&&(t=1),e?.length===1?PW(e[0]*t):e?.length===3?Rn(e[0]*t,e[1]*t,e[2]*t):e?.length===4?RW(e[0]*t,e[1]*t,e[2]*t,e[3]*t):void 0},TO=function(e){return e.type===YT?[e.gray]:e.type===JT?[e.red,e.green,e.blue]:e.type===QT?[e.cyan,e.magenta,e.yellow,e.key]:cy("Invalid color: "+JSON.stringify(e))},St=0,kt=0,sn=0,an=0,Ig=0,Og=0,PO=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),fve=function(e){for(var t,n=[],r=[],i="",o=!1,s=0,a=0,l=e;a<l.length;a++){var c=l[a];if(PO.has(c))s=PO.get(c),t&&(i.length>0&&(r[r.length]=+i),n[n.length]={cmd:t,args:r},r=[],i="",o=!1),t=c;else if([" ",","].includes(c)||c==="-"&&i.length>0&&i[i.length-1]!=="e"||c==="."&&o){if(i.length===0)continue;r.length===s?(n[n.length]={cmd:t,args:r},r=[+i],t==="M"&&(t="L"),t==="m"&&(t="l")):r[r.length]=+i,o=c===".",i=["-","."].includes(c)?c:""}else i+=c,c==="."&&(o=!0)}return i.length>0&&(r.length===s?(n[n.length]={cmd:t,args:r},r=[+i],t==="M"&&(t="L"),t==="m"&&(t="l")):r[r.length]=+i),n[n.length]={cmd:t,args:r},n},hve=function(e){St=kt=sn=an=Ig=Og=0;for(var t=[],n=0;n<e.length;n++){var r=e[n];if(r.cmd&&typeof RO[r.cmd]=="function"){var i=RO[r.cmd](r.args);Array.isArray(i)?t=t.concat(i):t.push(i)}}return t},RO={M:function(e){return St=e[0],kt=e[1],sn=an=null,Ig=St,Og=kt,Ol(St,kt)},m:function(e){return St+=e[0],kt+=e[1],sn=an=null,Ig=St,Og=kt,Ol(St,kt)},C:function(e){return St=e[4],kt=e[5],sn=e[2],an=e[3],rs(e[0],e[1],e[2],e[3],e[4],e[5])},c:function(e){var t=rs(e[0]+St,e[1]+kt,e[2]+St,e[3]+kt,e[4]+St,e[5]+kt);return sn=St+e[2],an=kt+e[3],St+=e[4],kt+=e[5],t},S:function(e){(sn===null||an===null)&&(sn=St,an=kt);var t=rs(St-(sn-St),kt-(an-kt),e[0],e[1],e[2],e[3]);return sn=e[0],an=e[1],St=e[2],kt=e[3],t},s:function(e){(sn===null||an===null)&&(sn=St,an=kt);var t=rs(St-(sn-St),kt-(an-kt),St+e[0],kt+e[1],St+e[2],kt+e[3]);return sn=St+e[0],an=kt+e[1],St+=e[2],kt+=e[3],t},Q:function(e){return sn=e[0],an=e[1],St=e[2],kt=e[3],C2(e[0],e[1],St,kt)},q:function(e){var t=C2(e[0]+St,e[1]+kt,e[2]+St,e[3]+kt);return sn=St+e[0],an=kt+e[1],St+=e[2],kt+=e[3],t},T:function(e){sn===null||an===null?(sn=St,an=kt):(sn=St-(sn-St),an=kt-(an-kt));var t=C2(sn,an,e[0],e[1]);return sn=St-(sn-St),an=kt-(an-kt),St=e[0],kt=e[1],t},t:function(e){sn===null||an===null?(sn=St,an=kt):(sn=St-(sn-St),an=kt-(an-kt));var t=C2(sn,an,St+e[0],kt+e[1]);return St+=e[0],kt+=e[1],t},A:function(e){var t=jO(St,kt,e);return St=e[5],kt=e[6],t},a:function(e){e[5]+=St,e[6]+=kt;var t=jO(St,kt,e);return St=e[5],kt=e[6],t},L:function(e){return St=e[0],kt=e[1],sn=an=null,mi(St,kt)},l:function(e){return St+=e[0],kt+=e[1],sn=an=null,mi(St,kt)},H:function(e){return St=e[0],sn=an=null,mi(St,kt)},h:function(e){return St+=e[0],sn=an=null,mi(St,kt)},V:function(e){return kt=e[0],sn=an=null,mi(St,kt)},v:function(e){return kt+=e[0],sn=an=null,mi(St,kt)},Z:function(){var e=Ad();return St=Ig,kt=Og,e},z:function(){var e=Ad();return St=Ig,kt=Og,e}},jO=function(e,t,n){for(var r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=pve(l,c,r,i,s,a,o,e,t),d=[],h=0,f=u;h<f.length;h++){var m=f[h],g=mve.apply(void 0,m);d.push(rs.apply(void 0,g))}return d},pve=function(e,t,n,r,i,o,s,a,l){var c=s*(Math.PI/180),u=Math.sin(c),d=Math.cos(c);n=Math.abs(n),r=Math.abs(r),sn=d*(a-e)*.5+u*(l-t)*.5,an=d*(l-t)*.5-u*(a-e)*.5;var h=sn*sn/(n*n)+an*an/(r*r);h>1&&(h=Math.sqrt(h),n*=h,r*=h);var f=d/n,m=u/n,g=-u/r,y=d/r,v=f*a+m*l,x=g*a+y*l,_=f*e+m*t,S=g*e+y*t,k=(_-v)*(_-v)+(S-x)*(S-x),T=1/k-.25;T<0&&(T=0);var P=Math.sqrt(T);o===i&&(P=-P);var N=.5*(v+_)-P*(S-x),A=.5*(x+S)+P*(_-v),D=Math.atan2(x-A,v-N),C=Math.atan2(S-A,_-N),j=C-D;j<0&&o===1?j+=2*Math.PI:j>0&&o===0&&(j-=2*Math.PI);for(var L=Math.ceil(Math.abs(j/(Math.PI*.5+.001))),z=[],K=0;K<L;K++){var H=D+K*j/L,Z=D+(K+1)*j/L;z[K]=[N,A,H,Z,n,r,u,d]}return z},mve=function(e,t,n,r,i,o,s,a){var l=a*i,c=-s*o,u=s*i,d=a*o,h=.5*(r-n),f=8/3*Math.sin(h*.5)*Math.sin(h*.5)/Math.sin(h),m=e+Math.cos(n)-f*Math.sin(n),g=t+Math.sin(n)+f*Math.cos(n),y=e+Math.cos(r),v=t+Math.sin(r),x=y+f*Math.sin(r),_=v-f*Math.cos(r),S=[l*m+c*g,u*m+d*g,l*x+c*_,u*x+d*_,l*y+c*v,u*y+d*v];return S},gve=function(e){return hve(fve(e))},vve=function(e,t){for(var n=[ai(),t.graphicsState&&Oh(t.graphicsState),CW(),Lh(t.color),XT(t.font,t.size),ive(t.lineHeight),AW(Mi(t.rotate),Mi(t.xSkew),Mi(t.ySkew),t.x,t.y)].filter(Boolean),r=0,i=e.length;r<i;r++)n.push(kW(e[r]),rve());return n.push(NW(),li()),n},jW=function(e,t){return[ai(),t.graphicsState&&Oh(t.graphicsState),Os(t.x,t.y),dm(Mi(t.rotate)),D1(t.width,t.height),KT(Mi(t.xSkew),Mi(t.ySkew)),$T(e),li()].filter(Boolean)},yve=function(e,t){return[ai(),t.graphicsState&&Oh(t.graphicsState),Os(t.x,t.y),dm(Mi(t.rotate)),D1(t.xScale,t.yScale),KT(Mi(t.xSkew),Mi(t.ySkew)),$T(e),li()].filter(Boolean)},bve=function(e){var t,n;return[ai(),e.graphicsState&&Oh(e.graphicsState),e.color&&Cy(e.color),Sy(e.thickness),Y5((t=e.dashArray)!==null&&t!==void 0?t:[],(n=e.dashPhase)!==null&&n!==void 0?n:0),Ol(e.start.x,e.start.y),e.lineCap&&J5(e.lineCap),Ol(e.start.x,e.start.y),mi(e.end.x,e.end.y),ky(),li()].filter(Boolean)},F0=function(e){var t,n;return[ai(),e.graphicsState&&Oh(e.graphicsState),e.color&&Lh(e.color),e.borderColor&&Cy(e.borderColor),Sy(e.borderWidth),e.borderLineCap&&J5(e.borderLineCap),Y5((t=e.borderDashArray)!==null&&t!==void 0?t:[],(n=e.borderDashPhase)!==null&&n!==void 0?n:0),Os(e.x,e.y),dm(Mi(e.rotate)),KT(Mi(e.xSkew),Mi(e.ySkew)),Ol(0,0),mi(0,e.height),mi(e.width,e.height),mi(e.width,0),Ad(),e.color&&e.borderWidth?ZT():e.color?GT():e.borderColor?ky():Ad(),li()].filter(Boolean)},v_=4*((Math.sqrt(2)-1)/3),xve=function(e){var t=$t(e.x),n=$t(e.y),r=$t(e.xScale),i=$t(e.yScale);t-=r,n-=i;var o=r*v_,s=i*v_,a=t+r*2,l=n+i*2,c=t+r,u=n+i;return[ai(),Ol(t,u),rs(t,u-s,c-o,n,c,n),rs(c+o,n,a,u-s,a,u),rs(a,u+s,c+o,l,c,l),rs(c-o,l,t,u+s,t,u),li()]},wve=function(e){var t=$t(e.x),n=$t(e.y),r=$t(e.xScale),i=$t(e.yScale),o=-r,s=-i,a=r*v_,l=i*v_,c=o+r*2,u=s+i*2,d=o+r,h=s+i;return[Os(t,n),dm(Mi(e.rotate)),Ol(o,h),rs(o,h-l,d-a,s,d,s),rs(d+a,s,c,h-l,c,h),rs(c,h+l,d+a,u,d,u),rs(d-a,u,o,h+l,o,h)]},V4=function(e){var t,n,r;return mn([ai(),e.graphicsState&&Oh(e.graphicsState),e.color&&Lh(e.color),e.borderColor&&Cy(e.borderColor),Sy(e.borderWidth),e.borderLineCap&&J5(e.borderLineCap),Y5((t=e.borderDashArray)!==null&&t!==void 0?t:[],(n=e.borderDashPhase)!==null&&n!==void 0?n:0)],e.rotate===void 0?xve({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale}):wve({x:e.x,y:e.y,xScale:e.xScale,yScale:e.yScale,rotate:(r=e.rotate)!==null&&r!==void 0?r:jt(0)}),[e.color&&e.borderWidth?ZT():e.color?GT():e.borderColor?ky():Ad(),li()]).filter(Boolean)},_ve=function(e,t){var n,r,i;return mn([ai(),t.graphicsState&&Oh(t.graphicsState),Os(t.x,t.y),dm(Mi((n=t.rotate)!==null&&n!==void 0?n:jt(0))),t.scale?D1(t.scale,-t.scale):D1(1,-1),t.color&&Lh(t.color),t.borderColor&&Cy(t.borderColor),t.borderWidth&&Sy(t.borderWidth),t.borderLineCap&&J5(t.borderLineCap),Y5((r=t.borderDashArray)!==null&&r!==void 0?r:[],(i=t.borderDashPhase)!==null&&i!==void 0?i:0)],gve(e),[t.color&&t.borderWidth?ZT():t.color?GT():t.borderColor?ky():Ad(),li()]).filter(Boolean)},Sve=function(e){var t=$t(e.size),n=-1+.75,r=-1+.51,i=1-.525,o=1-.31,s=-1+.325,a=-((s-n)*(o-n))/(i-r)+r;return[ai(),e.color&&Cy(e.color),Sy(e.thickness),Os(e.x,e.y),Ol(s*t,a*t),mi(n*t,r*t),mi(o*t,i*t),ky(),li()].filter(Boolean)},zd=function(e){return e.rotation===0?[Os(0,0),k2(0)]:e.rotation===90?[Os(e.width,0),k2(90)]:e.rotation===180?[Os(e.width,e.height),k2(180)]:e.rotation===270?[Os(0,e.height),k2(270)]:[]},N2=function(e){var t=F0({x:e.x,y:e.y,width:e.width,height:e.height,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)});if(!e.filled)return t;var n=$t(e.width),r=$t(e.height),i=Math.min(n,r)/2,o=Sve({x:n/2,y:r/2,size:i,thickness:e.thickness,color:e.markColor});return mn([ai()],t,o,[li()])},A2=function(e){var t=$t(e.width),n=$t(e.height),r=Math.min(t,n)/2,i=V4({x:e.x,y:e.y,xScale:r,yScale:r,color:e.color,borderColor:e.borderColor,borderWidth:e.borderWidth});if(!e.filled)return i;var o=V4({x:e.x,y:e.y,xScale:r*.45,yScale:r*.45,color:e.dotColor,borderColor:void 0,borderWidth:0});return mn([ai()],i,o,[li()])},DO=function(e){var t=$t(e.x),n=$t(e.y),r=$t(e.width),i=$t(e.height),o=F0({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)}),s=eP(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)});return mn([ai()],o,s,[li()])},eP=function(e,t){for(var n=[CW(),Lh(t.color),XT(t.font,t.size)],r=0,i=e.length;r<i;r++){var o=e[r],s=o.encoded,a=o.x,l=o.y;n.push(AW(Mi(t.rotate),Mi(t.xSkew),Mi(t.ySkew),a,l),kW(s))}return n.push(NW()),n},DW=function(e){var t=$t(e.x),n=$t(e.y),r=$t(e.width),i=$t(e.height),o=$t(e.borderWidth),s=$t(e.padding),a=t+o/2+s,l=n+o/2+s,c=r-(o/2+s)*2,u=i-(o/2+s)*2,d=[Ol(a,l),mi(a,l+u),mi(a+c,l+u),mi(a+c,l),Ad(),_W(),SW()],h=F0({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)}),f=eP(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)}),m=mn([EW("Tx"),ai()],f,[li(),TW()]);return mn([ai()],h,d,m,[li()])},kve=function(e){for(var t=$t(e.x),n=$t(e.y),r=$t(e.width),i=$t(e.height),o=$t(e.lineHeight),s=$t(e.borderWidth),a=$t(e.padding),l=t+s/2+a,c=n+s/2+a,u=r-(s/2+a)*2,d=i-(s/2+a)*2,h=[Ol(l,c),mi(l,c+d),mi(l+u,c+d),mi(l+u,c),Ad(),_W(),SW()],f=F0({x:t,y:n,width:r,height:i,borderWidth:e.borderWidth,color:e.color,borderColor:e.borderColor,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)}),m=[],g=0,y=e.selectedLines.length;g<y;g++){var v=e.textLines[e.selectedLines[g]];m.push.apply(m,F0({x:v.x-a,y:v.y-(o-v.height)/2,width:r-s,height:v.height+(o-v.height)/2,borderWidth:0,color:e.selectedColor,borderColor:void 0,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)}))}var x=eP(e.textLines,{color:e.textColor,font:e.font,size:e.fontSize,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)}),_=mn([EW("Tx"),ai()],x,[li(),TW()]);return mn([ai()],f,m,h,_,[li()])},Cve=function(e){Ye(t,e);function t(){var n=this,r="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return n=e.call(this,r)||this,n}return t}(Error),Nve=function(e){Ye(t,e);function t(){var n=this,r="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return n=e.call(this,r)||this,n}return t}(Error),Ave=function(e){Ye(t,e);function t(){var n=this,r="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return n=e.call(this,r)||this,n}return t}(Error),Eve=function(e){Ye(t,e);function t(){var n=this,r="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return n=e.call(this,r)||this,n}return t}(Error),Tve=function(e){Ye(t,e);function t(n){var r=this,i='PDFDocument has no form field with the name "'+n+'"';return r=e.call(this,i)||this,r}return t}(Error),df=function(e){Ye(t,e);function t(n,r,i){var o,s,a=this,l=r?.name,c=(s=(o=i?.constructor)===null||o===void 0?void 0:o.name)!==null&&s!==void 0?s:i,u='Expected field "'+n+'" to be of type '+l+", "+("but it is actually of type "+c);return a=e.call(this,u)||this,a}return t}(Error);(function(e){Ye(t,e);function t(n){var r=this,i='Failed to select check box due to missing onValue: "'+n+'"';return r=e.call(this,i)||this,r}return t})(Error);var IW=function(e){Ye(t,e);function t(n){var r=this,i='A field already exists with the specified name: "'+n+'"';return r=e.call(this,i)||this,r}return t}(Error),Pve=function(e){Ye(t,e);function t(n){var r=this,i='Field name contains invalid component: "'+n+'"';return r=e.call(this,i)||this,r}return t}(Error);(function(e){Ye(t,e);function t(n){var r=this,i='A non-terminal field already exists with the specified name: "'+n+'"';return r=e.call(this,i)||this,r}return t})(Error);var Rve=function(e){Ye(t,e);function t(n){var r=this,i="Reading rich text fields is not supported: Attempted to read rich text field: "+n;return r=e.call(this,i)||this,r}return t}(Error),jve=function(e){Ye(t,e);function t(n,r){var i=this,o="Failed to layout combed text as lineLength="+n+" is greater than cellCount="+r;return i=e.call(this,o)||this,i}return t}(Error),Dve=function(e){Ye(t,e);function t(n,r,i){var o=this,s="Attempted to set text with length="+n+" for TextField with maxLength="+r+" and name="+i;return o=e.call(this,s)||this,o}return t}(Error),Ive=function(e){Ye(t,e);function t(n,r,i){var o=this,s="Attempted to set maxLength="+r+", which is less than "+n+", the length of this field's current value (name="+i+")";return o=e.call(this,s)||this,o}return t}(Error),ti;(function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"})(ti||(ti={}));var OW=4,LW=500,MW=function(e,t,n,r){r===void 0&&(r=!1);for(var i=OW;i<LW;){for(var o=0,s=0,a=e.length;s<a;s++){o+=1;for(var l=e[s],c=l.split(" "),u=n.width,d=0,h=c.length;d<h;d++){var f=d===h-1,m=f?c[d]:c[d]+" ",g=t.widthOfTextAtSize(m,i);u-=g,u<=0&&(o+=1,u=n.width-g)}}if(!r&&o>e.length)return i-1;var y=t.heightAtSize(i),v=y+y*.2,x=v*o;if(x>Math.abs(n.height))return i-1;i+=1}return i},Ove=function(e,t,n,r){for(var i=n.width/r,o=n.height,s=OW,a=kue(e);s<LW;){for(var l=0,c=a.length;l<c;l++){var u=a[l],d=t.widthOfTextAtSize(u,s)>i*.75;if(d)return s-1}var h=t.heightAtSize(s,{descender:!1});if(h>o)return s-1;s+=1}return s},Lve=function(e){for(var t=e.length;t>0;t--)if(/\s/.test(e[t]))return t},Mve=function(e,t,n,r){for(var i,o=e.length;o>0;){var s=e.substring(0,o),a=n.encodeText(s),l=n.widthOfTextAtSize(s,r);if(l<t){var c=e.substring(o)||void 0;return{line:s,encoded:a,width:l,remainder:c}}o=(i=Lve(s))!==null&&i!==void 0?i:0}return{line:e,encoded:n.encodeText(e),width:n.widthOfTextAtSize(e,r),remainder:void 0}},FW=function(e,t){var n=t.alignment,r=t.fontSize,i=t.font,o=t.bounds,s=kU(ly(e));(r===void 0||r===0)&&(r=MW(s,i,o,!0));for(var a=i.heightAtSize(r),l=a+a*.2,c=[],u=o.x,d=o.y,h=o.x+o.width,f=o.y+o.height,m=o.y+o.height,g=0,y=s.length;g<y;g++)for(var v=s[g];v!==void 0;){var x=Mve(v,o.width,i,r),_=x.line,S=x.encoded,k=x.width,T=x.remainder,P=n===ti.Left?o.x:n===ti.Center?o.x+o.width/2-k/2:n===ti.Right?o.x+o.width-k:o.x;m-=l,P<u&&(u=P),m<d&&(d=m),P+k>h&&(h=P+k),m+a>f&&(f=m+a),c.push({text:_,encoded:S,width:k,height:a,x:P,y:m}),v=T?.trim()}return{fontSize:r,lineHeight:l,lines:c,bounds:{x:u,y:d,width:h-u,height:f-d}}},Fve=function(e,t){var n=t.fontSize,r=t.font,i=t.bounds,o=t.cellCount,s=CU(ly(e));if(s.length>o)throw new jve(s.length,o);(n===void 0||n===0)&&(n=Ove(s,r,i,o));for(var a=i.width/o,l=r.heightAtSize(n,{descender:!1}),c=i.y+(i.height/2-l/2),u=[],d=i.x,h=i.y,f=i.x+i.width,m=i.y+i.height,g=0,y=0;g<o;){var v=NU(s,y),x=v[0],_=v[1],S=r.encodeText(x),k=r.widthOfTextAtSize(x,n),T=i.x+(a*g+a/2),P=T-k/2;P<d&&(d=P),c<h&&(h=c),P+k>f&&(f=P+k),c+l>m&&(m=c+l),u.push({text:s,encoded:S,width:k,height:l,x:P,y:c}),g+=1,y+=_}return{fontSize:n,cells:u,bounds:{x:d,y:h,width:f-d,height:m-h}}},y_=function(e,t){var n=t.alignment,r=t.fontSize,i=t.font,o=t.bounds,s=CU(ly(e));(r===void 0||r===0)&&(r=MW([s],i,o));var a=i.encodeText(s),l=i.widthOfTextAtSize(s,r),c=i.heightAtSize(r,{descender:!1}),u=n===ti.Left?o.x:n===ti.Center?o.x+o.width/2-l/2:n===ti.Right?o.x+o.width-l:o.x,d=o.y+(o.height/2-c/2);return{fontSize:r,line:{text:s,encoded:a,width:l,height:c,x:u,y:d},bounds:{x:u,y:d,width:l,height:c}}},fm=function(e){return"normal"in e?e:{normal:e}},Bve=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,Td=function(e){var t,n,r=(t=e.getDefaultAppearance())!==null&&t!==void 0?t:"",i=(n=fT(r,Bve).match)!==null&&n!==void 0?n:[],o=Number(i[2]);return isFinite(o)?o:void 0},zve=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,ta=function(e){var t,n=(t=e.getDefaultAppearance())!==null&&t!==void 0?t:"",r=fT(n,zve).match,i=r??[],o=i[1],s=i[2],a=i[3],l=i[4],c=i[5];if(c==="g"&&o)return PW(Number(o));if(c==="rg"&&o&&s&&a)return Rn(Number(o),Number(s),Number(a));if(c==="k"&&o&&s&&a&&l)return RW(Number(o),Number(s),Number(a),Number(l))},na=function(e,t,n,r){var i;r===void 0&&(r=0);var o=[Lh(t).toString(),XT((i=n?.name)!==null&&i!==void 0?i:"dummy__noop",r).toString()].join(`
`);e.setDefaultAppearance(o)},Uve=function(e,t){var n,r,i,o=ta(t),s=ta(e.acroField),a=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),u=(n=c?.getWidth())!==null&&n!==void 0?n:0,d=Vc(l?.getRotation()),h=Ih(a,d),f=h.width,m=h.height,g=zd(Ut(Ut({},a),{rotation:d})),y=Rn(0,0,0),v=(r=po(l?.getBorderColor()))!==null&&r!==void 0?r:y,x=po(l?.getBackgroundColor()),_=po(l?.getBackgroundColor(),.8),S=(i=o??s)!==null&&i!==void 0?i:y;na(o?t:e.acroField,S);var k={x:0+u/2,y:0+u/2,width:f-u,height:m-u,thickness:1.5,borderWidth:u,borderColor:v,markColor:S};return{normal:{on:mn(g,N2(Ut(Ut({},k),{color:x,filled:!0}))),off:mn(g,N2(Ut(Ut({},k),{color:x,filled:!1})))},down:{on:mn(g,N2(Ut(Ut({},k),{color:_,filled:!0}))),off:mn(g,N2(Ut(Ut({},k),{color:_,filled:!1})))}}},qve=function(e,t){var n,r,i,o=ta(t),s=ta(e.acroField),a=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),u=(n=c?.getWidth())!==null&&n!==void 0?n:0,d=Vc(l?.getRotation()),h=Ih(a,d),f=h.width,m=h.height,g=zd(Ut(Ut({},a),{rotation:d})),y=Rn(0,0,0),v=(r=po(l?.getBorderColor()))!==null&&r!==void 0?r:y,x=po(l?.getBackgroundColor()),_=po(l?.getBackgroundColor(),.8),S=(i=o??s)!==null&&i!==void 0?i:y;na(o?t:e.acroField,S);var k={x:f/2,y:m/2,width:f-u,height:m-u,borderWidth:u,borderColor:v,dotColor:S};return{normal:{on:mn(g,A2(Ut(Ut({},k),{color:x,filled:!0}))),off:mn(g,A2(Ut(Ut({},k),{color:x,filled:!1})))},down:{on:mn(g,A2(Ut(Ut({},k),{color:_,filled:!0}))),off:mn(g,A2(Ut(Ut({},k),{color:_,filled:!1})))}}},Hve=function(e,t,n){var r,i,o,s,a,l=ta(t),c=ta(e.acroField),u=Td(t),d=Td(e.acroField),h=t.getRectangle(),f=t.getAppearanceCharacteristics(),m=t.getBorderStyle(),g=f?.getCaptions(),y=(r=g?.normal)!==null&&r!==void 0?r:"",v=(o=(i=g?.down)!==null&&i!==void 0?i:y)!==null&&o!==void 0?o:"",x=(s=m?.getWidth())!==null&&s!==void 0?s:0,_=Vc(f?.getRotation()),S=Ih(h,_),k=S.width,T=S.height,P=zd(Ut(Ut({},h),{rotation:_})),N=Rn(0,0,0),A=po(f?.getBorderColor()),D=po(f?.getBackgroundColor()),C=po(f?.getBackgroundColor(),.8),j={x,y:x,width:k-x*2,height:T-x*2},L=y_(y,{alignment:ti.Center,fontSize:u??d,font:n,bounds:j}),z=y_(v,{alignment:ti.Center,fontSize:u??d,font:n,bounds:j}),K=Math.min(L.fontSize,z.fontSize),H=(a=l??c)!==null&&a!==void 0?a:N;na(l||u!==void 0?t:e.acroField,H,n,K);var Z={x:0+x/2,y:0+x/2,width:k-x,height:T-x,borderWidth:x,borderColor:A,textColor:H,font:n.name,fontSize:K};return{normal:mn(P,DO(Ut(Ut({},Z),{color:D,textLines:[L.line]}))),down:mn(P,DO(Ut(Ut({},Z),{color:C,textLines:[z.line]})))}},Wve=function(e,t,n){var r,i,o,s,a=ta(t),l=ta(e.acroField),c=Td(t),u=Td(e.acroField),d=t.getRectangle(),h=t.getAppearanceCharacteristics(),f=t.getBorderStyle(),m=(r=e.getText())!==null&&r!==void 0?r:"",g=(i=f?.getWidth())!==null&&i!==void 0?i:0,y=Vc(h?.getRotation()),v=Ih(d,y),x=v.width,_=v.height,S=zd(Ut(Ut({},d),{rotation:y})),k=Rn(0,0,0),T=po(h?.getBorderColor()),P=po(h?.getBackgroundColor()),N,A,D=e.isCombed()?0:1,C={x:g+D,y:g+D,width:x-(g+D)*2,height:_-(g+D)*2};if(e.isMultiline()){var j=FW(m,{alignment:e.getAlignment(),fontSize:c??u,font:n,bounds:C});N=j.lines,A=j.fontSize}else if(e.isCombed()){var j=Fve(m,{fontSize:c??u,font:n,bounds:C,cellCount:(o=e.getMaxLength())!==null&&o!==void 0?o:0});N=j.cells,A=j.fontSize}else{var j=y_(m,{alignment:e.getAlignment(),fontSize:c??u,font:n,bounds:C});N=[j.line],A=j.fontSize}var L=(s=a??l)!==null&&s!==void 0?s:k;na(a||c!==void 0?t:e.acroField,L,n,A);var z={x:0+g/2,y:0+g/2,width:x-g,height:_-g,borderWidth:g??0,borderColor:T,textColor:L,font:n.name,fontSize:A,color:P,textLines:N,padding:D};return mn(S,DW(z))},Vve=function(e,t,n){var r,i,o,s=ta(t),a=ta(e.acroField),l=Td(t),c=Td(e.acroField),u=t.getRectangle(),d=t.getAppearanceCharacteristics(),h=t.getBorderStyle(),f=(r=e.getSelected()[0])!==null&&r!==void 0?r:"",m=(i=h?.getWidth())!==null&&i!==void 0?i:0,g=Vc(d?.getRotation()),y=Ih(u,g),v=y.width,x=y.height,_=zd(Ut(Ut({},u),{rotation:g})),S=Rn(0,0,0),k=po(d?.getBorderColor()),T=po(d?.getBackgroundColor()),P=1,N={x:m+P,y:m+P,width:v-(m+P)*2,height:x-(m+P)*2},A=y_(f,{alignment:ti.Left,fontSize:l??c,font:n,bounds:N}),D=A.line,C=A.fontSize,j=(o=s??a)!==null&&o!==void 0?o:S;na(s||l!==void 0?t:e.acroField,j,n,C);var L={x:0+m/2,y:0+m/2,width:v-m,height:x-m,borderWidth:m??0,borderColor:k,textColor:j,font:n.name,fontSize:C,color:T,textLines:[D],padding:P};return mn(_,DW(L))},Kve=function(e,t,n){var r,i,o=ta(t),s=ta(e.acroField),a=Td(t),l=Td(e.acroField),c=t.getRectangle(),u=t.getAppearanceCharacteristics(),d=t.getBorderStyle(),h=(r=d?.getWidth())!==null&&r!==void 0?r:0,f=Vc(u?.getRotation()),m=Ih(c,f),g=m.width,y=m.height,v=zd(Ut(Ut({},c),{rotation:f})),x=Rn(0,0,0),_=po(u?.getBorderColor()),S=po(u?.getBackgroundColor()),k=e.getOptions(),T=e.getSelected();e.isSorted()&&k.sort();for(var P="",N=0,A=k.length;N<A;N++)P+=k[N],N<A-1&&(P+=`
`);for(var D=1,C={x:h+D,y:h+D,width:g-(h+D)*2,height:y-(h+D)*2},j=FW(P,{alignment:ti.Left,fontSize:a??l,font:n,bounds:C}),L=j.lines,z=j.fontSize,K=j.lineHeight,H=[],N=0,A=L.length;N<A;N++){var Z=L[N];T.includes(Z.text)&&H.push(N)}var W=Rn(153/255,193/255,218/255),Y=(i=o??s)!==null&&i!==void 0?i:x;return na(o||a!==void 0?t:e.acroField,Y,n,z),mn(v,kve({x:0+h/2,y:0+h/2,width:g-h,height:y-h,borderWidth:h??0,borderColor:_,textColor:Y,font:n.name,fontSize:z,color:S,textLines:L,lineHeight:K,selectedColor:W,selectedLines:H,padding:D}))},BW=function(){function e(t,n,r){this.alreadyEmbedded=!1,ve(t,"ref",[[Pn,"PDFRef"]]),ve(n,"doc",[[Ll,"PDFDocument"]]),ve(r,"embedder",[[uW,"PDFPageEmbedder"]]),this.ref=t,this.doc=n,this.width=r.width,this.height=r.height,this.embedder=r}return e.prototype.scale=function(t){return ve(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return Zt(this,void 0,void 0,function(){return Xt(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},e.of=function(t,n,r){return new e(t,n,r)},e}(),us=function(){function e(t,n,r){this.modified=!0,ve(t,"ref",[[Pn,"PDFRef"]]),ve(n,"doc",[[Ll,"PDFDocument"]]),ve(r,"embedder",[[DT,"CustomFontEmbedder"],[l_,"StandardFontEmbedder"]]),this.ref=t,this.doc=n,this.name=r.fontName,this.embedder=r}return e.prototype.encodeText=function(t){return ve(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},e.prototype.widthOfTextAtSize=function(t,n){return ve(t,"text",["string"]),ve(n,"size",["number"]),this.embedder.widthOfTextAtSize(t,n)},e.prototype.heightAtSize=function(t,n){var r;return ve(t,"size",["number"]),Ze(n?.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(r=n?.descender)!==null&&r!==void 0?r:!0})},e.prototype.sizeAtHeight=function(t){return ve(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},e.prototype.getCharacterSet=function(){return this.embedder instanceof l_?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},e.prototype.embed=function(){return Zt(this,void 0,void 0,function(){return Xt(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},e.of=function(t,n,r){return new e(t,n,r)},e}(),K4=function(){function e(t,n,r){ve(t,"ref",[[Pn,"PDFRef"]]),ve(n,"doc",[[Ll,"PDFDocument"]]),ve(r,"embedder",[[bH,"JpegEmbedder"],[aW,"PngEmbedder"]]),this.ref=t,this.doc=n,this.width=r.width,this.height=r.height,this.embedder=r}return e.prototype.scale=function(t){return ve(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},e.prototype.scaleToFit=function(t,n){ve(t,"width",["number"]),ve(n,"height",["number"]);var r=t/this.width,i=n/this.height,o=Math.min(r,i);return this.scale(o)},e.prototype.size=function(){return this.scale(1)},e.prototype.embed=function(){return Zt(this,void 0,void 0,function(){var t,n,r;return Xt(this,function(i){switch(i.label){case 0:return this.embedder?(this.embedTask||(t=this,n=t.doc,r=t.ref,this.embedTask=this.embedder.embedIntoContext(n.context,r)),[4,this.embedTask]):[2];case 1:return i.sent(),this.embedder=void 0,[2]}})})},e.of=function(t,n,r){return new e(t,n,r)},e}(),vd;(function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"})(vd||(vd={}));var hm=function(e){Ze(e?.x,"options.x",["number"]),Ze(e?.y,"options.y",["number"]),Ze(e?.width,"options.width",["number"]),Ze(e?.height,"options.height",["number"]),Ze(e?.textColor,"options.textColor",[[Object,"Color"]]),Ze(e?.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),Ze(e?.borderColor,"options.borderColor",[[Object,"Color"]]),Ze(e?.borderWidth,"options.borderWidth",["number"]),Ze(e?.rotate,"options.rotate",[[Object,"Rotation"]])},Mh=function(){function e(t,n,r){ve(t,"acroField",[[um,"PDFAcroTerminal"]]),ve(n,"ref",[[Pn,"PDFRef"]]),ve(r,"doc",[[Ll,"PDFDocument"]]),this.acroField=t,this.ref=n,this.doc=r}return e.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},e.prototype.isReadOnly=function(){return this.acroField.hasFlag(ba.ReadOnly)},e.prototype.enableReadOnly=function(){this.acroField.setFlagTo(ba.ReadOnly,!0)},e.prototype.disableReadOnly=function(){this.acroField.setFlagTo(ba.ReadOnly,!1)},e.prototype.isRequired=function(){return this.acroField.hasFlag(ba.Required)},e.prototype.enableRequired=function(){this.acroField.setFlagTo(ba.Required,!0)},e.prototype.disableRequired=function(){this.acroField.setFlagTo(ba.Required,!1)},e.prototype.isExported=function(){return!this.acroField.hasFlag(ba.NoExport)},e.prototype.enableExporting=function(){this.acroField.setFlagTo(ba.NoExport,!1)},e.prototype.disableExporting=function(){this.acroField.setFlagTo(ba.NoExport,!0)},e.prototype.needsAppearancesUpdate=function(){throw new Is(this.constructor.name,"needsAppearancesUpdate")},e.prototype.defaultUpdateAppearances=function(t){throw new Is(this.constructor.name,"defaultUpdateAppearances")},e.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},e.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},e.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},e.prototype.createWidget=function(t){var n,r=t.textColor,i=t.backgroundColor,o=t.borderColor,s=t.borderWidth,a=wW(t.rotate),l=t.caption,c=t.x,u=t.y,d=t.width+s,h=t.height+s,f=!!t.hidden,m=t.page;kq(a,"degreesAngle",90);var g=H4.create(this.doc.context,this.ref),y=nve({x:c,y:u,width:d,height:h},s,a);g.setRectangle(y),m&&g.setP(m);var v=g.getOrCreateAppearanceCharacteristics();i&&v.setBackgroundColor(TO(i)),v.setRotation(a),l&&v.setCaptions({normal:l}),o&&v.setBorderColor(TO(o));var x=g.getOrCreateBorderStyle();if(s!==void 0&&x.setWidth(s),g.setFlagTo(Ev.Print,!0),g.setFlagTo(Ev.Hidden,f),g.setFlagTo(Ev.Invisible,!1),r){var _=(n=this.acroField.getDefaultAppearance())!==null&&n!==void 0?n:"",S=_+`
`+Lh(r).toString();this.acroField.setDefaultAppearance(S)}return g},e.prototype.updateWidgetAppearanceWithFont=function(t,n,r){var i=r.normal,o=r.rollover,s=r.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,i,n),rollover:o&&this.createAppearanceStream(t,o,n),down:s&&this.createAppearanceStream(t,s,n)})},e.prototype.updateOnOffWidgetAppearance=function(t,n,r){var i=r.normal,o=r.rollover,s=r.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,i,n),rollover:o&&this.createAppearanceDict(t,o,n),down:s&&this.createAppearanceDict(t,s,n)})},e.prototype.updateWidgetAppearances=function(t,n){var r=n.normal,i=n.rollover,o=n.down;t.setNormalAppearance(r),i?t.setRolloverAppearance(i):t.removeRolloverAppearance(),o?t.setDownAppearance(o):t.removeDownAppearance()},e.prototype.createAppearanceStream=function(t,n,r){var i,o=this.acroField.dict.context,s=t.getRectangle(),a=s.width,l=s.height,c=r&&{Font:(i={},i[r.name]=r.ref,i)},u=o.formXObject(n,{Resources:c,BBox:o.obj([0,0,a,l]),Matrix:o.obj([1,0,0,1,0,0])}),d=o.register(u);return d},e.prototype.createImageAppearanceStream=function(t,n,r){var i,o,s=this.acroField.dict.context,a=t.getRectangle(),l=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),u=(o=c?.getWidth())!==null&&o!==void 0?o:0,d=Vc(l?.getRotation()),h=zd(Ut(Ut({},a),{rotation:d})),f=Ih(a,d),m=n.scaleToFit(f.width-u*2,f.height-u*2),g={x:u,y:u,width:m.width,height:m.height,rotate:jt(0),xSkew:jt(0),ySkew:jt(0)};r===vd.Center?(g.x+=(f.width-u*2)/2-m.width/2,g.y+=(f.height-u*2)/2-m.height/2):r===vd.Right&&(g.x=f.width-u-m.width,g.y=f.height-u-m.height);var y=this.doc.context.addRandomSuffix("Image",10),v=mn(h,jW(y,g)),x={XObject:(i={},i[y]=n.ref,i)},_=s.formXObject(v,{Resources:x,BBox:s.obj([0,0,a.width,a.height]),Matrix:s.obj([1,0,0,1,0,0])});return s.register(_)},e.prototype.createAppearanceDict=function(t,n,r){var i=this.acroField.dict.context,o=this.createAppearanceStream(t,n.on),s=this.createAppearanceStream(t,n.off),a=i.obj({});return a.set(r,o),a.set(J.of("Off"),s),a},e}(),Lg=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroCheckBox",[[U5,"PDFAcroCheckBox"]]),o.acroField=n,o}return t.prototype.check=function(){var n,r=(n=this.acroField.getOnValue())!==null&&n!==void 0?n:J.of("Yes");this.markAsDirty(),this.acroField.setValue(r)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(J.of("Off"))},t.prototype.isChecked=function(){var n=this.acroField.getOnValue();return!!n&&n===this.acroField.getValue()},t.prototype.addToPage=function(n,r){var i,o,s,a,l,c;ve(n,"page",[[Ps,"PDFPage"]]),hm(r),r||(r={}),"textColor"in r||(r.textColor=Rn(0,0,0)),"backgroundColor"in r||(r.backgroundColor=Rn(1,1,1)),"borderColor"in r||(r.borderColor=Rn(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var u=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(o=r.y)!==null&&o!==void 0?o:0,width:(s=r.width)!==null&&s!==void 0?s:50,height:(a=r.height)!==null&&a!==void 0?a:50,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:jt(0),hidden:r.hidden,page:n.ref}),d=this.doc.context.register(u.dict);this.acroField.addWidget(d),u.setAppearanceState(J.of("Off")),this.updateWidgetAppearance(u,J.of("Yes")),n.node.addAnnot(d)},t.prototype.needsAppearancesUpdate=function(){for(var n,r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=s.getAppearanceState(),l=(n=s.getAppearances())===null||n===void 0?void 0:n.normal;if(!(l instanceof Vt)||a&&!l.has(a))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(n){var r;Ze(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o],l=(r=a.getOnValue())!==null&&r!==void 0?r:J.of("Yes");l&&this.updateWidgetAppearance(a,l,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,r,i){var o=i??Uve,s=fm(o(this,n));this.updateOnOffWidgetAppearance(n,r,s)},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh),Cx=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroComboBox",[[q5,"PDFAcroComboBox"]]),o.acroField=n,o}return t.prototype.getOptions=function(){for(var n=this.acroField.getOptions(),r=new Array(n.length),i=0,o=r.length;i<o;i++){var s=n[i],a=s.display,l=s.value;r[i]=(a??l).decodeText()}return r},t.prototype.getSelected=function(){for(var n=this.acroField.getValues(),r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=n[i].decodeText();return r},t.prototype.setOptions=function(n){ve(n,"options",[Array]);for(var r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]={value:Rt.fromText(n[i])};this.acroField.setOptions(r)},t.prototype.addOptions=function(n){ve(n,"options",["string",Array]);for(var r=Array.isArray(n)?n:[n],i=this.acroField.getOptions(),o=new Array(r.length),s=0,a=r.length;s<a;s++)o[s]={value:Rt.fromText(r[s])};this.acroField.setOptions(i.concat(o))},t.prototype.select=function(n,r){r===void 0&&(r=!1),ve(n,"options",["string",Array]),ve(r,"merge",["boolean"]);var i=Array.isArray(n)?n:[n],o=this.getOptions(),s=i.find(function(d){return!o.includes(d)});s&&this.enableEditing(),this.markAsDirty(),(i.length>1||i.length===1&&r)&&this.enableMultiselect();for(var a=new Array(i.length),l=0,c=i.length;l<c;l++)a[l]=Rt.fromText(i[l]);if(r){var u=this.acroField.getValues();this.acroField.setValues(u.concat(a))}else this.acroField.setValues(a)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(n){D5(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(En.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(En.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(En.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(En.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(En.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(En.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(En.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(En.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(En.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(En.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(En.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(En.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(En.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(En.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(En.CommitOnSelChange,!1)},t.prototype.addToPage=function(n,r){var i,o,s,a,l,c,u;ve(n,"page",[[Ps,"PDFPage"]]),hm(r),r||(r={}),"textColor"in r||(r.textColor=Rn(0,0,0)),"backgroundColor"in r||(r.backgroundColor=Rn(1,1,1)),"borderColor"in r||(r.borderColor=Rn(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var d=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(o=r.y)!==null&&o!==void 0?o:0,width:(s=r.width)!==null&&s!==void 0?s:200,height:(a=r.height)!==null&&a!==void 0?a:50,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:jt(0),hidden:r.hidden,page:n.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h);var f=(u=r.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,f),n.node.addAnnot(h)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=((n=s.getAppearances())===null||n===void 0?void 0:n.normal)instanceof ls;if(!a)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){ve(n,"font",[[us,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,r){ve(n,"font",[[us,"PDFFont"]]),Ze(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o];this.updateWidgetAppearance(a,n,r)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,r,i){var o=i??Vve,s=fm(o(this,n,r));this.updateWidgetAppearanceWithFont(n,r,s)},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh),Nx=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroListBox",[[K5,"PDFAcroListBox"]]),o.acroField=n,o}return t.prototype.getOptions=function(){for(var n=this.acroField.getOptions(),r=new Array(n.length),i=0,o=r.length;i<o;i++){var s=n[i],a=s.display,l=s.value;r[i]=(a??l).decodeText()}return r},t.prototype.getSelected=function(){for(var n=this.acroField.getValues(),r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=n[i].decodeText();return r},t.prototype.setOptions=function(n){ve(n,"options",[Array]),this.markAsDirty();for(var r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]={value:Rt.fromText(n[i])};this.acroField.setOptions(r)},t.prototype.addOptions=function(n){ve(n,"options",["string",Array]),this.markAsDirty();for(var r=Array.isArray(n)?n:[n],i=this.acroField.getOptions(),o=new Array(r.length),s=0,a=r.length;s<a;s++)o[s]={value:Rt.fromText(r[s])};this.acroField.setOptions(i.concat(o))},t.prototype.select=function(n,r){r===void 0&&(r=!1),ve(n,"options",["string",Array]),ve(r,"merge",["boolean"]);var i=Array.isArray(n)?n:[n],o=this.getOptions();ohe(i,"option",o),this.markAsDirty(),(i.length>1||i.length===1&&r)&&this.enableMultiselect();for(var s=new Array(i.length),a=0,l=i.length;a<l;a++)s[a]=Rt.fromText(i[a]);if(r){var c=this.acroField.getValues();this.acroField.setValues(c.concat(s))}else this.acroField.setValues(s)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(n){D5(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(En.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(En.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(En.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(En.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(En.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(En.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(En.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(En.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(En.CommitOnSelChange,!1)},t.prototype.addToPage=function(n,r){var i,o,s,a,l,c,u;ve(n,"page",[[Ps,"PDFPage"]]),hm(r),r||(r={}),"textColor"in r||(r.textColor=Rn(0,0,0)),"backgroundColor"in r||(r.backgroundColor=Rn(1,1,1)),"borderColor"in r||(r.borderColor=Rn(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var d=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(o=r.y)!==null&&o!==void 0?o:0,width:(s=r.width)!==null&&s!==void 0?s:200,height:(a=r.height)!==null&&a!==void 0?a:100,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:jt(0),hidden:r.hidden,page:n.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h);var f=(u=r.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,f),n.node.addAnnot(h)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=((n=s.getAppearances())===null||n===void 0?void 0:n.normal)instanceof ls;if(!a)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){ve(n,"font",[[us,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,r){ve(n,"font",[[us,"PDFFont"]]),Ze(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o];this.updateWidgetAppearance(a,n,r)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,r,i){var o=i??Kve,s=fm(o(this,n,r));this.updateWidgetAppearanceWithFont(n,r,s)},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh),Mg=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroRadioButton",[[V5,"PDFAcroRadioButton"]]),o.acroField=n,o}return t.prototype.getOptions=function(){var n=this.acroField.getExportValues();if(n){for(var r=new Array(n.length),i=0,o=n.length;i<o;i++)r[i]=n[i].decodeText();return r}for(var s=this.acroField.getOnValues(),a=new Array(s.length),i=0,o=a.length;i<o;i++)a[i]=s[i].decodeText();return a},t.prototype.getSelected=function(){var n=this.acroField.getValue();if(n!==J.of("Off")){var r=this.acroField.getExportValues();if(r){for(var i=this.acroField.getOnValues(),o=0,s=i.length;o<s;o++)if(i[o]===n)return r[o].decodeText()}return n.decodeText()}},t.prototype.select=function(n){ve(n,"option",["string"]);var r=this.getOptions();Zu(n,"option",r),this.markAsDirty();var i=this.acroField.getOnValues(),o=this.acroField.getExportValues();if(o)for(var s=0,a=o.length;s<a;s++)o[s].decodeText()===n&&this.acroField.setValue(i[s]);else for(var s=0,a=i.length;s<a;s++){var l=i[s];l.decodeText()===n&&this.acroField.setValue(l)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(J.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Ts.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Ts.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Ts.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Ts.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Ts.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Ts.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(n,r,i){var o,s,a,l,c,u,d,h,f;ve(n,"option",["string"]),ve(r,"page",[[Ps,"PDFPage"]]),hm(i);var m=this.createWidget({x:(o=i?.x)!==null&&o!==void 0?o:0,y:(s=i?.y)!==null&&s!==void 0?s:0,width:(a=i?.width)!==null&&a!==void 0?a:50,height:(l=i?.height)!==null&&l!==void 0?l:50,textColor:(c=i?.textColor)!==null&&c!==void 0?c:Rn(0,0,0),backgroundColor:(u=i?.backgroundColor)!==null&&u!==void 0?u:Rn(1,1,1),borderColor:(d=i?.borderColor)!==null&&d!==void 0?d:Rn(0,0,0),borderWidth:(h=i?.borderWidth)!==null&&h!==void 0?h:1,rotate:(f=i?.rotate)!==null&&f!==void 0?f:jt(0),hidden:i?.hidden,page:r.ref}),g=this.doc.context.register(m.dict),y=this.acroField.addWidgetWithOpt(g,Rt.fromText(n),!this.isMutuallyExclusive());m.setAppearanceState(J.of("Off")),this.updateWidgetAppearance(m,y),r.node.addAnnot(g)},t.prototype.needsAppearancesUpdate=function(){for(var n,r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=s.getAppearanceState(),l=(n=s.getAppearances())===null||n===void 0?void 0:n.normal;if(!(l instanceof Vt)||a&&!l.has(a))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(n){Ze(n,"provider",[Function]);for(var r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=s.getOnValue();a&&this.updateWidgetAppearance(s,a,n)}},t.prototype.updateWidgetAppearance=function(n,r,i){var o=i??qve,s=fm(o(this,n));this.updateOnOffWidgetAppearance(n,r,s)},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh),G4=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroSignature",[[qT,"PDFAcroSignature"]]),o.acroField=n,o}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh),Ax=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroText",[[H5,"PDFAcroText"]]),o.acroField=n,o}return t.prototype.getText=function(){var n=this.acroField.getValue();if(!n&&this.isRichFormatted())throw new Rve(this.getName());return n?.decodeText()},t.prototype.setText=function(n){Ze(n,"text",["string"]);var r=this.getMaxLength();if(r!==void 0&&n&&n.length>r)throw new Dve(n.length,r,this.getName());this.markAsDirty(),this.disableRichFormatting(),n?this.acroField.setValue(Rt.fromText(n)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var n=this.acroField.getQuadding();return n===0?ti.Left:n===1?ti.Center:n===2?ti.Right:ti.Left},t.prototype.setAlignment=function(n){Zu(n,"alignment",ti),this.markAsDirty(),this.acroField.setQuadding(n)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(n){if(ya(n,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),n===void 0)this.acroField.removeMaxLength();else{var r=this.getText();if(r&&r.length>n)throw new Ive(r.length,n,this.getName());this.acroField.setMaxLength(n)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(n){for(var r=this.getAlignment(),i=r===ti.Center?vd.Center:r===ti.Right?vd.Right:vd.Left,o=this.acroField.getWidgets(),s=0,a=o.length;s<a;s++){var l=o[s],c=this.createImageAppearanceStream(l,n,i);this.updateWidgetAppearances(l,{normal:c})}this.markAsClean()},t.prototype.setFontSize=function(n){D5(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(hr.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(hr.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(hr.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(hr.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(hr.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(hr.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(hr.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(hr.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(hr.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(hr.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(hr.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(hr.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(hr.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(hr.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(hr.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(hr.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var n="PDFTextFields must have a max length in order to be combed";console.warn(n)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(hr.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(hr.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(hr.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(hr.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(hr.RichText,!1)},t.prototype.addToPage=function(n,r){var i,o,s,a,l,c,u;ve(n,"page",[[Ps,"PDFPage"]]),hm(r),r||(r={}),"textColor"in r||(r.textColor=Rn(0,0,0)),"backgroundColor"in r||(r.backgroundColor=Rn(1,1,1)),"borderColor"in r||(r.borderColor=Rn(0,0,0)),"borderWidth"in r||(r.borderWidth=1);var d=this.createWidget({x:(i=r.x)!==null&&i!==void 0?i:0,y:(o=r.y)!==null&&o!==void 0?o:0,width:(s=r.width)!==null&&s!==void 0?s:200,height:(a=r.height)!==null&&a!==void 0?a:50,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:(l=r.borderWidth)!==null&&l!==void 0?l:0,rotate:(c=r.rotate)!==null&&c!==void 0?c:jt(0),hidden:r.hidden,page:n.ref}),h=this.doc.context.register(d.dict);this.acroField.addWidget(h);var f=(u=r.font)!==null&&u!==void 0?u:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(d,f),n.node.addAnnot(h)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=((n=s.getAppearances())===null||n===void 0?void 0:n.normal)instanceof ls;if(!a)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){ve(n,"font",[[us,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,r){ve(n,"font",[[us,"PDFFont"]]),Ze(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o];this.updateWidgetAppearance(a,n,r)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(n,r,i){var o=i??Wve,s=fm(o(this,n,r));this.updateWidgetAppearanceWithFont(n,r,s)},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh),b_;(function(e){e.Courier="Courier",e.CourierBold="Courier-Bold",e.CourierOblique="Courier-Oblique",e.CourierBoldOblique="Courier-BoldOblique",e.Helvetica="Helvetica",e.HelveticaBold="Helvetica-Bold",e.HelveticaOblique="Helvetica-Oblique",e.HelveticaBoldOblique="Helvetica-BoldOblique",e.TimesRoman="Times-Roman",e.TimesRomanBold="Times-Bold",e.TimesRomanItalic="Times-Italic",e.TimesRomanBoldItalic="Times-BoldItalic",e.Symbol="Symbol",e.ZapfDingbats="ZapfDingbats"})(b_||(b_={}));var Gve=function(){function e(t,n){var r=this;this.embedDefaultFont=function(){return r.doc.embedStandardFont(b_.Helvetica)},ve(t,"acroForm",[[h_,"PDFAcroForm"]]),ve(n,"doc",[[Ll,"PDFDocument"]]),this.acroForm=t,this.doc=n,this.dirtyFields=new Set,this.defaultFontCache=Rc.populatedBy(this.embedDefaultFont)}return e.prototype.hasXFA=function(){return this.acroForm.dict.has(J.of("XFA"))},e.prototype.deleteXFA=function(){this.acroForm.dict.delete(J.of("XFA"))},e.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),n=[],r=0,i=t.length;r<i;r++){var o=t[r],s=o[0],a=o[1],l=Zve(s,a,this.doc);l&&n.push(l)}return n},e.prototype.getFieldMaybe=function(t){ve(t,"name",["string"]);for(var n=this.getFields(),r=0,i=n.length;r<i;r++){var o=n[r];if(o.getName()===t)return o}},e.prototype.getField=function(t){ve(t,"name",["string"]);var n=this.getFieldMaybe(t);if(n)return n;throw new Tve(t)},e.prototype.getButton=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof Ex)return n;throw new df(t,Ex,n)},e.prototype.getCheckBox=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof Lg)return n;throw new df(t,Lg,n)},e.prototype.getDropdown=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof Cx)return n;throw new df(t,Cx,n)},e.prototype.getOptionList=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof Nx)return n;throw new df(t,Nx,n)},e.prototype.getRadioGroup=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof Mg)return n;throw new df(t,Mg,n)},e.prototype.getSignature=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof G4)return n;throw new df(t,G4,n)},e.prototype.getTextField=function(t){ve(t,"name",["string"]);var n=this.getField(t);if(n instanceof Ax)return n;throw new df(t,Ax,n)},e.prototype.createButton=function(t){ve(t,"name",["string"]);var n=gp(t),r=this.findOrCreateNonTerminals(n.nonTerminal),i=W5.create(this.doc.context);return i.setPartialName(n.terminal),vp(r,[i,i.ref],n.terminal),Ex.of(i,i.ref,this.doc)},e.prototype.createCheckBox=function(t){ve(t,"name",["string"]);var n=gp(t),r=this.findOrCreateNonTerminals(n.nonTerminal),i=U5.create(this.doc.context);return i.setPartialName(n.terminal),vp(r,[i,i.ref],n.terminal),Lg.of(i,i.ref,this.doc)},e.prototype.createDropdown=function(t){ve(t,"name",["string"]);var n=gp(t),r=this.findOrCreateNonTerminals(n.nonTerminal),i=q5.create(this.doc.context);return i.setPartialName(n.terminal),vp(r,[i,i.ref],n.terminal),Cx.of(i,i.ref,this.doc)},e.prototype.createOptionList=function(t){ve(t,"name",["string"]);var n=gp(t),r=this.findOrCreateNonTerminals(n.nonTerminal),i=K5.create(this.doc.context);return i.setPartialName(n.terminal),vp(r,[i,i.ref],n.terminal),Nx.of(i,i.ref,this.doc)},e.prototype.createRadioGroup=function(t){ve(t,"name",["string"]);var n=gp(t),r=this.findOrCreateNonTerminals(n.nonTerminal),i=V5.create(this.doc.context);return i.setPartialName(n.terminal),vp(r,[i,i.ref],n.terminal),Mg.of(i,i.ref,this.doc)},e.prototype.createTextField=function(t){ve(t,"name",["string"]);var n=gp(t),r=this.findOrCreateNonTerminals(n.nonTerminal),i=H5.create(this.doc.context);return i.setPartialName(n.terminal),vp(r,[i,i.ref],n.terminal),Ax.of(i,i.ref,this.doc)},e.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var n=this.getFields(),r=0,i=n.length;r<i;r++){for(var o=n[r],s=o.acroField.getWidgets(),a=0,l=s.length;a<l;a++){var c=s[a],u=this.findWidgetPage(c),d=this.findWidgetAppearanceRef(o,c),h=u.node.newXObject("FlatWidget",d),f=c.getRectangle(),m=mn([ai(),Os(f.x,f.y)],zd(Ut(Ut({},f),{rotation:0})),[$T(h),li()]).filter(Boolean);u.pushOperators.apply(u,m)}this.removeField(o)}},e.prototype.removeField=function(t){for(var n=t.acroField.getWidgets(),r=new Set,i=0,o=n.length;i<o;i++){var s=n[i],a=this.findWidgetAppearanceRef(t,s),l=this.findWidgetPage(s);r.add(l),l.node.removeAnnot(a)}r.forEach(function(f){return f.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var c=t.acroField.normalizedEntries().Kids,u=c.size(),d=0;d<u;d++){var h=c.get(d);h instanceof Pn&&this.doc.context.delete(h)}this.doc.context.delete(t.ref)},e.prototype.updateFieldAppearances=function(t){Ze(t,"font",[[us,"PDFFont"]]),t=t??this.getDefaultFont();for(var n=this.getFields(),r=0,i=n.length;r<i;r++){var o=n[r];o.needsAppearancesUpdate()&&o.defaultUpdateAppearances(t)}},e.prototype.markFieldAsDirty=function(t){Ze(t,"fieldRef",[[Pn,"PDFRef"]]),this.dirtyFields.add(t)},e.prototype.markFieldAsClean=function(t){Ze(t,"fieldRef",[[Pn,"PDFRef"]]),this.dirtyFields.delete(t)},e.prototype.fieldIsDirty=function(t){return Ze(t,"fieldRef",[[Pn,"PDFRef"]]),this.dirtyFields.has(t)},e.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},e.prototype.findWidgetPage=function(t){var n=t.P(),r=this.doc.getPages().find(function(o){return o.ref===n});if(r===void 0){var i=this.doc.context.getObjectRef(t.dict);if(i===void 0)throw new Error("Could not find PDFRef for PDFObject");if(r=this.doc.findPageForAnnotationRef(i),r===void 0)throw new Error("Could not find page for PDFRef "+i)}return r},e.prototype.findWidgetAppearanceRef=function(t,n){var r,i=n.getNormalAppearance();if(i instanceof Vt&&(t instanceof Lg||t instanceof Mg)){var o=t.acroField.getValue(),s=(r=i.get(o))!==null&&r!==void 0?r:i.get(J.of("Off"));s instanceof Pn&&(i=s)}if(!(i instanceof Pn)){var a=t.getName();throw new Error("Failed to extract appearance ref for: "+a)}return i},e.prototype.findOrCreateNonTerminals=function(t){for(var n=[this.acroForm],r=0,i=t.length;r<i;r++){var o=t[r];if(!o)throw new Pve(o);var s=n[0],a=n[1],l=this.findNonTerminal(o,s);if(l)n=l;else{var c=f_.create(this.doc.context);c.setPartialName(o),c.setParent(a);var u=this.doc.context.register(c.dict);s.addField(u),n=[c,u]}}return n},e.prototype.findNonTerminal=function(t,n){for(var r=n instanceof h_?this.acroForm.getFields():HT(n.Kids()),i=0,o=r.length;i<o;i++){var s=r[i],a=s[0],l=s[1];if(a.getPartialName()===t){if(a instanceof f_)return[a,l];throw new IW(t)}}},e.of=function(t,n){return new e(t,n)},e}(),Zve=function(e,t,n){if(e instanceof W5)return Ex.of(e,t,n);if(e instanceof U5)return Lg.of(e,t,n);if(e instanceof q5)return Cx.of(e,t,n);if(e instanceof K5)return Nx.of(e,t,n);if(e instanceof H5)return Ax.of(e,t,n);if(e instanceof V5)return Mg.of(e,t,n);if(e instanceof qT)return G4.of(e,t,n)},gp=function(e){if(e.length===0)throw new Error("PDF field names must not be empty strings");for(var t=e.split("."),n=0,r=t.length;n<r;n++)if(t[n]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+e+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},vp=function(e,t,n){for(var r=e[0],i=e[1],o=t[0],s=t[1],a=r.normalizedEntries(),l=HT("Kids"in a?a.Kids:a.Fields),c=0,u=l.length;c<u;c++)if(l[c][0].getPartialName()===n)throw new IW(n);r.addField(s),o.setParent(i)},Xve={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],Executive:[521.86,756],Folio:[612,936],Legal:[612,1008],Letter:[612,792],Tabloid:[792,1224]},Z4;(function(e){e[e.Fastest=1/0]="Fastest",e[e.Fast=1500]="Fast",e[e.Medium=500]="Medium",e[e.Slow=100]="Slow"})(Z4||(Z4={}));var $ve=function(){function e(t,n,r){this.alreadyEmbedded=!1,this.ref=t,this.doc=n,this.embedder=r}return e.prototype.embed=function(){return Zt(this,void 0,void 0,function(){var t,n,r,i,o;return Xt(this,function(s){switch(s.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=s.sent(),this.doc.catalog.has(J.of("Names"))||this.doc.catalog.set(J.of("Names"),this.doc.context.obj({})),n=this.doc.catalog.lookup(J.of("Names"),Vt),n.has(J.of("EmbeddedFiles"))||n.set(J.of("EmbeddedFiles"),this.doc.context.obj({})),r=n.lookup(J.of("EmbeddedFiles"),Vt),r.has(J.of("Names"))||r.set(J.of("Names"),this.doc.context.obj([])),i=r.lookup(J.of("Names"),wn),i.push(Rt.fromText(this.embedder.fileName)),i.push(t),this.doc.catalog.has(J.of("AF"))||this.doc.catalog.set(J.of("AF"),this.doc.context.obj([])),o=this.doc.catalog.lookup(J.of("AF"),wn),o.push(t),this.alreadyEmbedded=!0,s.label=2;case 2:return[2]}})})},e.of=function(t,n,r){return new e(t,n,r)},e}(),Yve=function(){function e(t,n,r){this.alreadyEmbedded=!1,this.ref=t,this.doc=n,this.embedder=r}return e.prototype.embed=function(){return Zt(this,void 0,void 0,function(){var t,n,r,i,o,s,a;return Xt(this,function(l){switch(l.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,n=t.catalog,r=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:i=l.sent(),n.has(J.of("Names"))||n.set(J.of("Names"),r.obj({})),o=n.lookup(J.of("Names"),Vt),o.has(J.of("JavaScript"))||o.set(J.of("JavaScript"),r.obj({})),s=o.lookup(J.of("JavaScript"),Vt),s.has(J.of("Names"))||s.set(J.of("Names"),r.obj([])),a=s.lookup(J.of("Names"),wn),a.push(Rt.fromText(this.embedder.scriptName)),a.push(i),this.alreadyEmbedded=!0,l.label=2;case 2:return[2]}})})},e.of=function(t,n,r){return new e(t,n,r)},e}(),Jve=function(){function e(t,n){this.script=t,this.scriptName=n}return e.for=function(t,n){return new e(t,n)},e.prototype.embedIntoContext=function(t,n){return Zt(this,void 0,void 0,function(){var r;return Xt(this,function(i){return r=t.obj({Type:"Action",S:"JavaScript",JS:Rt.fromText(this.script)}),n?(t.assign(n,r),[2,n]):[2,t.register(r)]})})},e}(),Ll=function(){function e(t,n,r){var i=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var o=[];return i.catalog.Pages().traverse(function(s,a){if(s instanceof jc){var l=i.pageMap.get(s);l||(l=Ps.of(s,a,i),i.pageMap.set(s,l)),o.push(l)}}),o},this.getOrCreateForm=function(){var o=i.catalog.getOrCreateAcroForm();return Gve.of(o,i)},ve(t,"context",[[D4,"PDFContext"]]),ve(n,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=Rc.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=Rc.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!n&&this.isEncrypted)throw new Cve;r&&this.updateInfoDict()}return e.load=function(t,n){return n===void 0&&(n={}),Zt(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u,d,h,f,m;return Xt(this,function(g){switch(g.label){case 0:return r=n.ignoreEncryption,i=r===void 0?!1:r,o=n.parseSpeed,s=o===void 0?Z4.Slow:o,a=n.throwOnInvalidObject,l=a===void 0?!1:a,c=n.updateMetadata,u=c===void 0?!0:c,d=n.capNumbers,h=d===void 0?!1:d,ve(t,"pdf",["string",Uint8Array,ArrayBuffer]),ve(i,"ignoreEncryption",["boolean"]),ve(s,"parseSpeed",["number"]),ve(l,"throwOnInvalidObject",["boolean"]),f=rg(t),[4,eve.forBytesWithOptions(f,s,l,h).parseDocument()];case 1:return m=g.sent(),[2,new e(m,i,u)]}})})},e.create=function(t){return t===void 0&&(t={}),Zt(this,void 0,void 0,function(){var n,r,i,o,s,a;return Xt(this,function(l){return n=t.updateMetadata,r=n===void 0?!0:n,i=D4.create(),o=gW.withContext(i),s=i.register(o),a=mW.withContextAndPages(i,s),i.trailerInfo.Root=i.register(a),[2,new e(i,!1,r)]})})},e.prototype.registerFontkit=function(t){this.fontkit=t},e.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},e.prototype.getTitle=function(){var t=this.getInfoDict().lookup(J.Title);if(t)return pu(t),t.decodeText()},e.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(J.Author);if(t)return pu(t),t.decodeText()},e.prototype.getSubject=function(){var t=this.getInfoDict().lookup(J.Subject);if(t)return pu(t),t.decodeText()},e.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(J.Keywords);if(t)return pu(t),t.decodeText()},e.prototype.getCreator=function(){var t=this.getInfoDict().lookup(J.Creator);if(t)return pu(t),t.decodeText()},e.prototype.getProducer=function(){var t=this.getInfoDict().lookup(J.Producer);if(t)return pu(t),t.decodeText()},e.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(J.CreationDate);if(t)return pu(t),t.decodeDate()},e.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(J.ModDate);if(t)return pu(t),t.decodeDate()},e.prototype.setTitle=function(t,n){ve(t,"title",["string"]);var r=J.of("Title");if(this.getInfoDict().set(r,Rt.fromText(t)),n?.showInWindowTitleBar){var i=this.catalog.getOrCreateViewerPreferences();i.setDisplayDocTitle(!0)}},e.prototype.setAuthor=function(t){ve(t,"author",["string"]);var n=J.of("Author");this.getInfoDict().set(n,Rt.fromText(t))},e.prototype.setSubject=function(t){ve(t,"author",["string"]);var n=J.of("Subject");this.getInfoDict().set(n,Rt.fromText(t))},e.prototype.setKeywords=function(t){ve(t,"keywords",[Array]);var n=J.of("Keywords");this.getInfoDict().set(n,Rt.fromText(t.join(" ")))},e.prototype.setCreator=function(t){ve(t,"creator",["string"]);var n=J.of("Creator");this.getInfoDict().set(n,Rt.fromText(t))},e.prototype.setProducer=function(t){ve(t,"creator",["string"]);var n=J.of("Producer");this.getInfoDict().set(n,Rt.fromText(t))},e.prototype.setLanguage=function(t){ve(t,"language",["string"]);var n=J.of("Lang");this.catalog.set(n,Tn.of(t))},e.prototype.setCreationDate=function(t){ve(t,"creationDate",[[Date,"Date"]]);var n=J.of("CreationDate");this.getInfoDict().set(n,Tn.fromDate(t))},e.prototype.setModificationDate=function(t){ve(t,"modificationDate",[[Date,"Date"]]);var n=J.of("ModDate");this.getInfoDict().set(n,Tn.fromDate(t))},e.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},e.prototype.getPages=function(){return this.pageCache.access()},e.prototype.getPage=function(t){var n=this.getPages();return es(t,"index",0,n.length-1),n[t]},e.prototype.getPageIndices=function(){return Due(0,this.getPageCount())},e.prototype.removePage=function(t){var n=this.getPageCount();if(this.pageCount===0)throw new Eve;es(t,"index",0,n-1),this.catalog.removeLeafNode(t),this.pageCount=n-1},e.prototype.addPage=function(t){return ve(t,"page",["undefined",[Ps,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},e.prototype.insertPage=function(t,n){var r=this.getPageCount();if(es(t,"index",0,r),ve(n,"page",["undefined",[Ps,"PDFPage"],Array]),!n||Array.isArray(n)){var i=Array.isArray(n)?n:Xve.A4;n=Ps.create(this),n.setSize.apply(n,i)}else if(n.doc!==this)throw new Ave;var o=this.catalog.insertLeafNode(n.ref,t);return n.node.setParent(o),this.pageMap.set(n.node,n),this.pageCache.invalidate(),this.pageCount=r+1,n},e.prototype.copyPages=function(t,n){return Zt(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u;return Xt(this,function(d){switch(d.label){case 0:return ve(t,"srcDoc",[[e,"PDFDocument"]]),ve(n,"indices",[Array]),[4,t.flush()];case 1:for(d.sent(),r=PI.for(t.context,this.context),i=t.getPages(),o=new Array(n.length),s=0,a=n.length;s<a;s++)l=i[n[s]],c=r.copy(l.node),u=this.context.register(c),o[s]=Ps.of(c,u,this);return[2,o]}})})},e.prototype.copy=function(){return Zt(this,void 0,void 0,function(){var t,n,r,i;return Xt(this,function(o){switch(o.label){case 0:return[4,e.create()];case 1:return t=o.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(n=o.sent(),r=0,i=n.length;r<i;r++)t.addPage(n[r]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},e.prototype.addJavaScript=function(t,n){ve(t,"name",["string"]),ve(n,"script",["string"]);var r=Jve.for(n,t),i=this.context.nextRef(),o=Yve.of(i,this,r);this.javaScripts.push(o)},e.prototype.attach=function(t,n,r){return r===void 0&&(r={}),Zt(this,void 0,void 0,function(){var i,o,s,a;return Xt(this,function(l){return ve(t,"attachment",["string",Uint8Array,ArrayBuffer]),ve(n,"name",["string"]),Ze(r.mimeType,"mimeType",["string"]),Ze(r.description,"description",["string"]),Ze(r.creationDate,"options.creationDate",[Date]),Ze(r.modificationDate,"options.modificationDate",[Date]),ks(r.afRelationship,"options.afRelationship",I4),i=rg(t),o=D0e.for(i,n,r),s=this.context.nextRef(),a=$ve.of(s,this,o),this.embeddedFiles.push(a),[2]})})},e.prototype.embedFont=function(t,n){return n===void 0&&(n={}),Zt(this,void 0,void 0,function(){var r,i,o,s,a,l,c,u,d,h;return Xt(this,function(f){switch(f.label){case 0:return r=n.subset,i=r===void 0?!1:r,o=n.customName,s=n.features,ve(t,"font",["string",Uint8Array,ArrayBuffer]),ve(i,"subset",["boolean"]),DD(t)?(a=l_.for(t,o),[3,7]):[3,1];case 1:return Oue(t)?(l=rg(t),c=this.assertFontkit(),i?[4,j0e.for(c,l,o,s)]:[3,3]):[3,6];case 2:return u=f.sent(),[3,5];case 3:return[4,DT.for(c,l,o,s)];case 4:u=f.sent(),f.label=5;case 5:return a=u,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return d=this.context.nextRef(),h=us.of(d,this,a),this.fonts.push(h),[2,h]}})})},e.prototype.embedStandardFont=function(t,n){if(ve(t,"font",["string"]),!DD(t))throw new TypeError("`font` must be one of type `StandardFonts`");var r=l_.for(t,n),i=this.context.nextRef(),o=us.of(i,this,r);return this.fonts.push(o),o},e.prototype.embedJpg=function(t){return Zt(this,void 0,void 0,function(){var n,r,i,o;return Xt(this,function(s){switch(s.label){case 0:return ve(t,"jpg",["string",Uint8Array,ArrayBuffer]),n=rg(t),[4,bH.for(n)];case 1:return r=s.sent(),i=this.context.nextRef(),o=K4.of(i,this,r),this.images.push(o),[2,o]}})})},e.prototype.embedPng=function(t){return Zt(this,void 0,void 0,function(){var n,r,i,o;return Xt(this,function(s){switch(s.label){case 0:return ve(t,"png",["string",Uint8Array,ArrayBuffer]),n=rg(t),[4,aW.for(n)];case 1:return r=s.sent(),i=this.context.nextRef(),o=K4.of(i,this,r),this.images.push(o),[2,o]}})})},e.prototype.embedPdf=function(t,n){return n===void 0&&(n=[0]),Zt(this,void 0,void 0,function(){var r,i,o;return Xt(this,function(s){switch(s.label){case 0:return ve(t,"pdf",["string",Uint8Array,ArrayBuffer,[e,"PDFDocument"]]),ve(n,"indices",[Array]),t instanceof e?(i=t,[3,3]):[3,1];case 1:return[4,e.load(t)];case 2:i=s.sent(),s.label=3;case 3:return r=i,o=Iue(r.getPages(),n),[2,this.embedPages(o)]}})})},e.prototype.embedPage=function(t,n,r){return Zt(this,void 0,void 0,function(){var i;return Xt(this,function(o){switch(o.label){case 0:return ve(t,"page",[[Ps,"PDFPage"]]),[4,this.embedPages([t],[n],[r])];case 1:return i=o.sent()[0],[2,i]}})})},e.prototype.embedPages=function(t,n,r){return n===void 0&&(n=[]),r===void 0&&(r=[]),Zt(this,void 0,void 0,function(){var c,u,i,o,s,a,l,c,u,d,h,f,m,g,y;return Xt(this,function(v){switch(v.label){case 0:if(t.length===0)return[2,[]];for(c=0,u=t.length-1;c<u;c++)if(i=t[c],o=t[c+1],i.node.context!==o.node.context)throw new hhe;s=t[0].node.context,a=s===this.context?function(x){return x}:PI.for(s,this.context).copy,l=new Array(t.length),c=0,u=t.length,v.label=1;case 1:return c<u?(d=a(t[c].node),h=n[c],f=r[c],[4,uW.for(d,h,f)]):[3,4];case 2:m=v.sent(),g=this.context.nextRef(),l[c]=BW.of(g,this,m),v.label=3;case 3:return c++,[3,1];case 4:return(y=this.embeddedPages).push.apply(y,l),[2,l]}})})},e.prototype.flush=function(){return Zt(this,void 0,void 0,function(){return Xt(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},e.prototype.save=function(t){return t===void 0&&(t={}),Zt(this,void 0,void 0,function(){var n,r,i,o,s,a,l,c,u,d;return Xt(this,function(h){switch(h.label){case 0:return n=t.useObjectStreams,r=n===void 0?!0:n,i=t.addDefaultPage,o=i===void 0?!0:i,s=t.objectsPerTick,a=s===void 0?50:s,l=t.updateFieldAppearances,c=l===void 0?!0:l,ve(r,"useObjectStreams",["boolean"]),ve(o,"addDefaultPage",["boolean"]),ve(a,"objectsPerTick",["number"]),ve(c,"updateFieldAppearances",["boolean"]),o&&this.getPageCount()===0&&this.addPage(),c&&(u=this.formCache.getValue(),u&&u.updateFieldAppearances()),[4,this.flush()];case 1:return h.sent(),d=r?N0e:vH,[2,d.forContext(this.context,a).serializeToBuffer()]}})})},e.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),Zt(this,void 0,void 0,function(){var n,r,i,o,s;return Xt(this,function(a){switch(a.label){case 0:return n=t.dataUri,r=n===void 0?!1:n,i=gue(t,["dataUri"]),ve(r,"dataUri",["boolean"]),[4,this.save(i)];case 1:return o=a.sent(),s=vue(o),[2,r?"data:application/pdf;base64,"+s:s]}})})},e.prototype.findPageForAnnotationRef=function(t){for(var n=this.getPages(),r=0,i=n.length;r<i;r++){var o=n[r],s=o.node.Annots();if(s?.indexOf(t)!==void 0)return o}},e.prototype.embedAll=function(t){return Zt(this,void 0,void 0,function(){var n,r;return Xt(this,function(i){switch(i.label){case 0:n=0,r=t.length,i.label=1;case 1:return n<r?[4,t[n].embed()]:[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",n=new Date,r=this.getInfoDict();this.setProducer(t),this.setModificationDate(n),r.get(J.of("Creator"))||this.setCreator(t),r.get(J.of("CreationDate"))||this.setCreationDate(n)},e.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof Vt)return t;var n=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(n),n},e.prototype.assertFontkit=function(){if(!this.fontkit)throw new Nve;return this.fontkit},e}();function pu(e){if(!(e instanceof Rt)&&!(e instanceof Tn))throw new i_([Rt,Tn],e)}var yc;(function(e){e.Normal="Normal",e.Multiply="Multiply",e.Screen="Screen",e.Overlay="Overlay",e.Darken="Darken",e.Lighten="Lighten",e.ColorDodge="ColorDodge",e.ColorBurn="ColorBurn",e.HardLight="HardLight",e.SoftLight="SoftLight",e.Difference="Difference",e.Exclusion="Exclusion"})(yc||(yc={}));var Ps=function(){function e(t,n,r){this.fontSize=24,this.fontColor=Rn(0,0,0),this.lineHeight=24,this.x=0,this.y=0,ve(t,"leafNode",[[jc,"PDFPageLeaf"]]),ve(n,"ref",[[Pn,"PDFRef"]]),ve(r,"doc",[[Ll,"PDFDocument"]]),this.node=t,this.ref=n,this.doc=r}return e.prototype.setRotation=function(t){var n=wW(t);kq(n,"degreesAngle",90),this.node.set(J.of("Rotate"),this.doc.context.obj(n))},e.prototype.getRotation=function(){var t=this.node.Rotate();return jt(t?t.asNumber():0)},e.prototype.setSize=function(t,n){ve(t,"width",["number"]),ve(n,"height",["number"]);var r=this.getMediaBox();this.setMediaBox(r.x,r.y,t,n);var i=this.getCropBox(),o=this.getBleedBox(),s=this.getTrimBox(),a=this.getArtBox(),l=this.node.CropBox(),c=this.node.BleedBox(),u=this.node.TrimBox(),d=this.node.ArtBox();l&&u2(i,r)&&this.setCropBox(r.x,r.y,t,n),c&&u2(o,r)&&this.setBleedBox(r.x,r.y,t,n),u&&u2(s,r)&&this.setTrimBox(r.x,r.y,t,n),d&&u2(a,r)&&this.setArtBox(r.x,r.y,t,n)},e.prototype.setWidth=function(t){ve(t,"width",["number"]),this.setSize(t,this.getSize().height)},e.prototype.setHeight=function(t){ve(t,"height",["number"]),this.setSize(this.getSize().width,t)},e.prototype.setMediaBox=function(t,n,r,i){ve(t,"x",["number"]),ve(n,"y",["number"]),ve(r,"width",["number"]),ve(i,"height",["number"]);var o=this.doc.context.obj([t,n,t+r,n+i]);this.node.set(J.MediaBox,o)},e.prototype.setCropBox=function(t,n,r,i){ve(t,"x",["number"]),ve(n,"y",["number"]),ve(r,"width",["number"]),ve(i,"height",["number"]);var o=this.doc.context.obj([t,n,t+r,n+i]);this.node.set(J.CropBox,o)},e.prototype.setBleedBox=function(t,n,r,i){ve(t,"x",["number"]),ve(n,"y",["number"]),ve(r,"width",["number"]),ve(i,"height",["number"]);var o=this.doc.context.obj([t,n,t+r,n+i]);this.node.set(J.BleedBox,o)},e.prototype.setTrimBox=function(t,n,r,i){ve(t,"x",["number"]),ve(n,"y",["number"]),ve(r,"width",["number"]),ve(i,"height",["number"]);var o=this.doc.context.obj([t,n,t+r,n+i]);this.node.set(J.TrimBox,o)},e.prototype.setArtBox=function(t,n,r,i){ve(t,"x",["number"]),ve(n,"y",["number"]),ve(r,"width",["number"]),ve(i,"height",["number"]);var o=this.doc.context.obj([t,n,t+r,n+i]);this.node.set(J.ArtBox,o)},e.prototype.getSize=function(){var t=this.getMediaBox(),n=t.width,r=t.height;return{width:n,height:r}},e.prototype.getWidth=function(){return this.getSize().width},e.prototype.getHeight=function(){return this.getSize().height},e.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},e.prototype.getCropBox=function(){var t,n=this.node.CropBox();return(t=n?.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},e.prototype.getBleedBox=function(){var t,n=this.node.BleedBox();return(t=n?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},e.prototype.getTrimBox=function(){var t,n=this.node.TrimBox();return(t=n?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},e.prototype.getArtBox=function(){var t,n=this.node.ArtBox();return(t=n?.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},e.prototype.translateContent=function(t,n){ve(t,"x",["number"]),ve(n,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(ai(),Os(t,n)),i=this.doc.context.register(r),o=this.createContentStream(li()),s=this.doc.context.register(o);this.node.wrapContentStreams(i,s)},e.prototype.scale=function(t,n){ve(t,"x",["number"]),ve(n,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*n),this.scaleContent(t,n),this.scaleAnnotations(t,n)},e.prototype.scaleContent=function(t,n){ve(t,"x",["number"]),ve(n,"y",["number"]),this.node.normalize(),this.getContentStream();var r=this.createContentStream(ai(),D1(t,n)),i=this.doc.context.register(r),o=this.createContentStream(li()),s=this.doc.context.register(o);this.node.wrapContentStreams(i,s)},e.prototype.scaleAnnotations=function(t,n){ve(t,"x",["number"]),ve(n,"y",["number"]);var r=this.node.Annots();if(r)for(var i=0;i<r.size();i++){var o=r.lookup(i);o instanceof Vt&&this.scaleAnnot(o,t,n)}},e.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},e.prototype.setFont=function(t){ve(t,"font",[[us,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},e.prototype.setFontSize=function(t){ve(t,"fontSize",["number"]),this.fontSize=t},e.prototype.setFontColor=function(t){ve(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},e.prototype.setLineHeight=function(t){ve(t,"lineHeight",["number"]),this.lineHeight=t},e.prototype.getPosition=function(){return{x:this.x,y:this.y}},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.moveTo=function(t,n){ve(t,"x",["number"]),ve(n,"y",["number"]),this.x=t,this.y=n},e.prototype.moveDown=function(t){ve(t,"yDecrease",["number"]),this.y-=t},e.prototype.moveUp=function(t){ve(t,"yIncrease",["number"]),this.y+=t},e.prototype.moveLeft=function(t){ve(t,"xDecrease",["number"]),this.x-=t},e.prototype.moveRight=function(t){ve(t,"xIncrease",["number"]),this.x+=t},e.prototype.pushOperators=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Sq(t,"operator",[[ln,"PDFOperator"]]);var r=this.getContentStream();r.push.apply(r,t)},e.prototype.drawText=function(t,n){var r,i,o,s,a,l,c;n===void 0&&(n={}),ve(t,"text",["string"]),Ze(n.color,"options.color",[[Object,"Color"]]),ya(n.opacity,"opacity.opacity",0,1),Ze(n.font,"options.font",[[us,"PDFFont"]]),Ze(n.size,"options.size",["number"]),Ze(n.rotate,"options.rotate",[[Object,"Rotation"]]),Ze(n.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ze(n.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ze(n.x,"options.x",["number"]),Ze(n.y,"options.y",["number"]),Ze(n.lineHeight,"options.lineHeight",["number"]),Ze(n.maxWidth,"options.maxWidth",["number"]),Ze(n.wordBreaks,"options.wordBreaks",[Array]),ks(n.blendMode,"options.blendMode",yc);for(var u=this.setOrEmbedFont(n.font),d=u.oldFont,h=u.newFont,f=u.newFontKey,m=n.size||this.fontSize,g=n.wordBreaks||this.doc.defaultWordBreaks,y=function(P){return h.widthOfTextAtSize(P,m)},v=n.maxWidth===void 0?kU(ly(t)):Nue(t,g,n.maxWidth,y),x=new Array(v.length),_=0,S=v.length;_<S;_++)x[_]=h.encodeText(v[_]);var k=this.maybeEmbedGraphicsState({opacity:n.opacity,blendMode:n.blendMode}),T=this.getContentStream();T.push.apply(T,vve(x,{color:(r=n.color)!==null&&r!==void 0?r:this.fontColor,font:f,size:m,rotate:(i=n.rotate)!==null&&i!==void 0?i:jt(0),xSkew:(o=n.xSkew)!==null&&o!==void 0?o:jt(0),ySkew:(s=n.ySkew)!==null&&s!==void 0?s:jt(0),x:(a=n.x)!==null&&a!==void 0?a:this.x,y:(l=n.y)!==null&&l!==void 0?l:this.y,lineHeight:(c=n.lineHeight)!==null&&c!==void 0?c:this.lineHeight,graphicsState:k})),n.font&&(d?this.setFont(d):this.resetFont())},e.prototype.drawImage=function(t,n){var r,i,o,s,a,l,c;n===void 0&&(n={}),ve(t,"image",[[K4,"PDFImage"]]),Ze(n.x,"options.x",["number"]),Ze(n.y,"options.y",["number"]),Ze(n.width,"options.width",["number"]),Ze(n.height,"options.height",["number"]),Ze(n.rotate,"options.rotate",[[Object,"Rotation"]]),Ze(n.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ze(n.ySkew,"options.ySkew",[[Object,"Rotation"]]),ya(n.opacity,"opacity.opacity",0,1),ks(n.blendMode,"options.blendMode",yc);var u=this.node.newXObject("Image",t.ref),d=this.maybeEmbedGraphicsState({opacity:n.opacity,blendMode:n.blendMode}),h=this.getContentStream();h.push.apply(h,jW(u,{x:(r=n.x)!==null&&r!==void 0?r:this.x,y:(i=n.y)!==null&&i!==void 0?i:this.y,width:(o=n.width)!==null&&o!==void 0?o:t.size().width,height:(s=n.height)!==null&&s!==void 0?s:t.size().height,rotate:(a=n.rotate)!==null&&a!==void 0?a:jt(0),xSkew:(l=n.xSkew)!==null&&l!==void 0?l:jt(0),ySkew:(c=n.ySkew)!==null&&c!==void 0?c:jt(0),graphicsState:d}))},e.prototype.drawPage=function(t,n){var r,i,o,s,a;n===void 0&&(n={}),ve(t,"embeddedPage",[[BW,"PDFEmbeddedPage"]]),Ze(n.x,"options.x",["number"]),Ze(n.y,"options.y",["number"]),Ze(n.xScale,"options.xScale",["number"]),Ze(n.yScale,"options.yScale",["number"]),Ze(n.width,"options.width",["number"]),Ze(n.height,"options.height",["number"]),Ze(n.rotate,"options.rotate",[[Object,"Rotation"]]),Ze(n.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ze(n.ySkew,"options.ySkew",[[Object,"Rotation"]]),ya(n.opacity,"opacity.opacity",0,1),ks(n.blendMode,"options.blendMode",yc);var l=this.node.newXObject("EmbeddedPdfPage",t.ref),c=this.maybeEmbedGraphicsState({opacity:n.opacity,blendMode:n.blendMode}),u=n.width!==void 0?n.width/t.width:n.xScale!==void 0?n.xScale:1,d=n.height!==void 0?n.height/t.height:n.yScale!==void 0?n.yScale:1,h=this.getContentStream();h.push.apply(h,yve(l,{x:(r=n.x)!==null&&r!==void 0?r:this.x,y:(i=n.y)!==null&&i!==void 0?i:this.y,xScale:u,yScale:d,rotate:(o=n.rotate)!==null&&o!==void 0?o:jt(0),xSkew:(s=n.xSkew)!==null&&s!==void 0?s:jt(0),ySkew:(a=n.ySkew)!==null&&a!==void 0?a:jt(0),graphicsState:c}))},e.prototype.drawSvgPath=function(t,n){var r,i,o,s,a,l,c,u,d;n===void 0&&(n={}),ve(t,"path",["string"]),Ze(n.x,"options.x",["number"]),Ze(n.y,"options.y",["number"]),Ze(n.scale,"options.scale",["number"]),Ze(n.rotate,"options.rotate",[[Object,"Rotation"]]),Ze(n.borderWidth,"options.borderWidth",["number"]),Ze(n.color,"options.color",[[Object,"Color"]]),ya(n.opacity,"opacity.opacity",0,1),Ze(n.borderColor,"options.borderColor",[[Object,"Color"]]),Ze(n.borderDashArray,"options.borderDashArray",[Array]),Ze(n.borderDashPhase,"options.borderDashPhase",["number"]),ks(n.borderLineCap,"options.borderLineCap",Zp),ya(n.borderOpacity,"options.borderOpacity",0,1),ks(n.blendMode,"options.blendMode",yc);var h=this.maybeEmbedGraphicsState({opacity:n.opacity,borderOpacity:n.borderOpacity,blendMode:n.blendMode});!("color"in n)&&!("borderColor"in n)&&(n.borderColor=Rn(0,0,0));var f=this.getContentStream();f.push.apply(f,_ve(t,{x:(r=n.x)!==null&&r!==void 0?r:this.x,y:(i=n.y)!==null&&i!==void 0?i:this.y,scale:n.scale,rotate:(o=n.rotate)!==null&&o!==void 0?o:jt(0),color:(s=n.color)!==null&&s!==void 0?s:void 0,borderColor:(a=n.borderColor)!==null&&a!==void 0?a:void 0,borderWidth:(l=n.borderWidth)!==null&&l!==void 0?l:0,borderDashArray:(c=n.borderDashArray)!==null&&c!==void 0?c:void 0,borderDashPhase:(u=n.borderDashPhase)!==null&&u!==void 0?u:void 0,borderLineCap:(d=n.borderLineCap)!==null&&d!==void 0?d:void 0,graphicsState:h}))},e.prototype.drawLine=function(t){var n,r,i,o,s;ve(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),ve(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),ve(t.start.x,"options.start.x",["number"]),ve(t.start.y,"options.start.y",["number"]),ve(t.end.x,"options.end.x",["number"]),ve(t.end.y,"options.end.y",["number"]),Ze(t.thickness,"options.thickness",["number"]),Ze(t.color,"options.color",[[Object,"Color"]]),Ze(t.dashArray,"options.dashArray",[Array]),Ze(t.dashPhase,"options.dashPhase",["number"]),ks(t.lineCap,"options.lineCap",Zp),ya(t.opacity,"opacity.opacity",0,1),ks(t.blendMode,"options.blendMode",yc);var a=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=Rn(0,0,0));var l=this.getContentStream();l.push.apply(l,bve({start:t.start,end:t.end,thickness:(n=t.thickness)!==null&&n!==void 0?n:1,color:(r=t.color)!==null&&r!==void 0?r:void 0,dashArray:(i=t.dashArray)!==null&&i!==void 0?i:void 0,dashPhase:(o=t.dashPhase)!==null&&o!==void 0?o:void 0,lineCap:(s=t.lineCap)!==null&&s!==void 0?s:void 0,graphicsState:a}))},e.prototype.drawRectangle=function(t){var n,r,i,o,s,a,l,c,u,d,h,f,m;t===void 0&&(t={}),Ze(t.x,"options.x",["number"]),Ze(t.y,"options.y",["number"]),Ze(t.width,"options.width",["number"]),Ze(t.height,"options.height",["number"]),Ze(t.rotate,"options.rotate",[[Object,"Rotation"]]),Ze(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),Ze(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),Ze(t.borderWidth,"options.borderWidth",["number"]),Ze(t.color,"options.color",[[Object,"Color"]]),ya(t.opacity,"opacity.opacity",0,1),Ze(t.borderColor,"options.borderColor",[[Object,"Color"]]),Ze(t.borderDashArray,"options.borderDashArray",[Array]),Ze(t.borderDashPhase,"options.borderDashPhase",["number"]),ks(t.borderLineCap,"options.borderLineCap",Zp),ya(t.borderOpacity,"options.borderOpacity",0,1),ks(t.blendMode,"options.blendMode",yc);var g=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=Rn(0,0,0));var y=this.getContentStream();y.push.apply(y,F0({x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(r=t.y)!==null&&r!==void 0?r:this.y,width:(i=t.width)!==null&&i!==void 0?i:150,height:(o=t.height)!==null&&o!==void 0?o:100,rotate:(s=t.rotate)!==null&&s!==void 0?s:jt(0),xSkew:(a=t.xSkew)!==null&&a!==void 0?a:jt(0),ySkew:(l=t.ySkew)!==null&&l!==void 0?l:jt(0),borderWidth:(c=t.borderWidth)!==null&&c!==void 0?c:0,color:(u=t.color)!==null&&u!==void 0?u:void 0,borderColor:(d=t.borderColor)!==null&&d!==void 0?d:void 0,borderDashArray:(h=t.borderDashArray)!==null&&h!==void 0?h:void 0,borderDashPhase:(f=t.borderDashPhase)!==null&&f!==void 0?f:void 0,graphicsState:g,borderLineCap:(m=t.borderLineCap)!==null&&m!==void 0?m:void 0}))},e.prototype.drawSquare=function(t){t===void 0&&(t={});var n=t.size;Ze(n,"size",["number"]),this.drawRectangle(Ut(Ut({},t),{width:n,height:n}))},e.prototype.drawEllipse=function(t){var n,r,i,o,s,a,l,c,u,d,h;t===void 0&&(t={}),Ze(t.x,"options.x",["number"]),Ze(t.y,"options.y",["number"]),Ze(t.xScale,"options.xScale",["number"]),Ze(t.yScale,"options.yScale",["number"]),Ze(t.rotate,"options.rotate",[[Object,"Rotation"]]),Ze(t.color,"options.color",[[Object,"Color"]]),ya(t.opacity,"opacity.opacity",0,1),Ze(t.borderColor,"options.borderColor",[[Object,"Color"]]),ya(t.borderOpacity,"options.borderOpacity",0,1),Ze(t.borderWidth,"options.borderWidth",["number"]),Ze(t.borderDashArray,"options.borderDashArray",[Array]),Ze(t.borderDashPhase,"options.borderDashPhase",["number"]),ks(t.borderLineCap,"options.borderLineCap",Zp),ks(t.blendMode,"options.blendMode",yc);var f=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=Rn(0,0,0));var m=this.getContentStream();m.push.apply(m,V4({x:(n=t.x)!==null&&n!==void 0?n:this.x,y:(r=t.y)!==null&&r!==void 0?r:this.y,xScale:(i=t.xScale)!==null&&i!==void 0?i:100,yScale:(o=t.yScale)!==null&&o!==void 0?o:100,rotate:(s=t.rotate)!==null&&s!==void 0?s:void 0,color:(a=t.color)!==null&&a!==void 0?a:void 0,borderColor:(l=t.borderColor)!==null&&l!==void 0?l:void 0,borderWidth:(c=t.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(u=t.borderDashArray)!==null&&u!==void 0?u:void 0,borderDashPhase:(d=t.borderDashPhase)!==null&&d!==void 0?d:void 0,borderLineCap:(h=t.borderLineCap)!==null&&h!==void 0?h:void 0,graphicsState:f}))},e.prototype.drawCircle=function(t){t===void 0&&(t={});var n=t.size,r=n===void 0?100:n;Ze(r,"size",["number"]),this.drawEllipse(Ut(Ut({},t),{xScale:r,yScale:r}))},e.prototype.setOrEmbedFont=function(t){var n=this.font,r=this.fontKey;t?this.setFont(t):this.getFont();var i=this.font,o=this.fontKey;return{oldFont:n,oldFontKey:r,newFont:i,newFontKey:o}},e.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(b_.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},e.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},e.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},e.prototype.createContentStream=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.doc.context.obj({}),i=bv.of(r,t);return i},e.prototype.maybeEmbedGraphicsState=function(t){var n=t.opacity,r=t.borderOpacity,i=t.blendMode;if(!(n===void 0&&r===void 0&&i===void 0)){var o=this.doc.context.obj({Type:"ExtGState",ca:n,CA:r,BM:i}),s=this.node.newExtGState("GS",o);return s}},e.prototype.scaleAnnot=function(t,n,r){for(var i=["RD","CL","Vertices","QuadPoints","L","Rect"],o=0,s=i.length;o<s;o++){var a=t.lookup(J.of(i[o]));a instanceof wn&&a.scalePDFNumbers(n,r)}var l=t.lookup(J.of("InkList"));if(l instanceof wn)for(var o=0,s=l.size();o<s;o++){var c=l.lookup(o);c instanceof wn&&c.scalePDFNumbers(n,r)}},e.of=function(t,n,r){return new e(t,n,r)},e.create=function(t){ve(t,"doc",[[Ll,"PDFDocument"]]);var n=Pn.of(-1),r=jc.withContextAndParent(t.context,n),i=t.context.register(r);return new e(r,i,t)},e}(),Ex=function(e){Ye(t,e);function t(n,r,i){var o=e.call(this,n,r,i)||this;return ve(n,"acroButton",[[W5,"PDFAcroPushButton"]]),o.acroField=n,o}return t.prototype.setImage=function(n,r){r===void 0&&(r=vd.Center);for(var i=this.acroField.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o],l=this.createImageAppearanceStream(a,n,r);this.updateWidgetAppearances(a,{normal:l})}this.markAsClean()},t.prototype.setFontSize=function(n){D5(n,"fontSize"),this.acroField.setFontSize(n),this.markAsDirty()},t.prototype.addToPage=function(n,r,i){var o,s,a,l,c,u,d,h,f,m,g;Ze(n,"text",["string"]),Ze(r,"page",[[Ps,"PDFPage"]]),hm(i);var y=this.createWidget({x:((o=i?.x)!==null&&o!==void 0?o:0)-((s=i?.borderWidth)!==null&&s!==void 0?s:0)/2,y:((a=i?.y)!==null&&a!==void 0?a:0)-((l=i?.borderWidth)!==null&&l!==void 0?l:0)/2,width:(c=i?.width)!==null&&c!==void 0?c:100,height:(u=i?.height)!==null&&u!==void 0?u:50,textColor:(d=i?.textColor)!==null&&d!==void 0?d:Rn(0,0,0),backgroundColor:(h=i?.backgroundColor)!==null&&h!==void 0?h:Rn(.75,.75,.75),borderColor:i?.borderColor,borderWidth:(f=i?.borderWidth)!==null&&f!==void 0?f:0,rotate:(m=i?.rotate)!==null&&m!==void 0?m:jt(0),caption:n,hidden:i?.hidden,page:r.ref}),v=this.doc.context.register(y.dict);this.acroField.addWidget(v);var x=(g=i?.font)!==null&&g!==void 0?g:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(y,x),r.node.addAnnot(v)},t.prototype.needsAppearancesUpdate=function(){var n;if(this.isDirty())return!0;for(var r=this.acroField.getWidgets(),i=0,o=r.length;i<o;i++){var s=r[i],a=((n=s.getAppearances())===null||n===void 0?void 0:n.normal)instanceof ls;if(!a)return!0}return!1},t.prototype.defaultUpdateAppearances=function(n){ve(n,"font",[[us,"PDFFont"]]),this.updateAppearances(n)},t.prototype.updateAppearances=function(n,r){ve(n,"font",[[us,"PDFFont"]]),Ze(r,"provider",[Function]);for(var i=this.acroField.getWidgets(),o=0,s=i.length;o<s;o++){var a=i[o];this.updateWidgetAppearance(a,n,r)}},t.prototype.updateWidgetAppearance=function(n,r,i){var o=i??Hve,s=fm(o(this,n,r));this.updateWidgetAppearanceWithFont(n,r,s)},t.of=function(n,r,i){return new t(n,r,i)},t}(Mh);async function Qve(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch PDF: ${t.statusText}`);return t.arrayBuffer()}async function e1e(e,t){const n=await Ll.load(e),r=await Ll.create(),i=t.map(s=>s-1);return(await r.copyPages(n,i)).forEach(s=>{r.addPage(s)}),r.save()}async function t1e(e){try{const r=await(await(await _E()).getDocument({data:e}).promise).getPage(1),i=r.getViewport({scale:1}),o=Math.min(Na/i.width,Aa/i.height),s=r.getViewport({scale:o}),a=document.createElement("canvas");a.width=Na,a.height=Aa;const l=a.getContext("2d");if(!l)return null;l.fillStyle="#ffffff",l.fillRect(0,0,Na,Aa);const c=(Na-s.width)/2,u=(Aa-s.height)/2;return l.translate(c,u),await r.render({canvasContext:l,viewport:s}).promise,new Promise(d=>{a.toBlob(h=>d(h),"image/jpeg",.8)})}catch{return null}}async function n1e(e,t,n){const r=NB(t),i=`${n}/${r}`,o=new Blob([e],{type:"application/pdf"}),s=new File([o],r,{type:"application/pdf"}),{url:a,error:l}=await SB(s,i);if(l||!a)return{fileUrl:null,thumbnailUrl:null,error:l};const c=await t1e(e);let u=null;if(c){const d=`${n}/${r.replace(".pdf","_thumb.jpg")}`,{url:h}=await kB(c,d);u=h}return{fileUrl:a,thumbnailUrl:u}}async function r1e(e){const{data:t,error:n}=await Ee.from("condition_documents").insert({loan_id:e.loanId,parent_document_id:e.parentDocumentId,document_name:e.documentName,document_type:e.documentType,description:null,expiration_date:null,status:"Need to Review",file_url:e.fileUrl,thumbnail_url:e.thumbnailUrl,file_size:e.fileSize,mime_type:"application/pdf",original_filename:`${e.documentName}.pdf`,page_count:e.pageCount,source_pages:JSON.stringify(e.sourcePages)}).select().single();if(n)return{document:null,error:n.message};if(t&&e.conditionIds.length>0){const r=e.conditionIds.map(i=>({document_id:t.id,condition_id:i}));await Ee.from("document_condition_associations").insert(r)}return{document:t}}async function i1e(e,t,n){const r={success:!0,createdDocuments:[],errors:[]};if(!e.file_url)return{success:!1,createdDocuments:[],errors:["Source document has no file"]};let i;try{i=await Qve(e.file_url)}catch(u){const d=u instanceof Error?u.message:"Failed to fetch source PDF";return{success:!1,createdDocuments:[],errors:[d]}}const o=new Set;t.forEach(u=>{u.pages.forEach(d=>o.add(d))});const a=(await Ll.load(i)).getPageCount(),l=[];for(let u=1;u<=a;u++)o.has(u)||l.push(u);const c=[...t];l.length>0&&c.push({id:`orphaned-${Date.now()}`,documentName:`${e.document_name} - orphaned pages`,documentType:e.document_type,pages:l,conditionIds:[]});for(const u of c)if(u.pages.length!==0)try{const d=await e1e(i,u.pages),{fileUrl:h,thumbnailUrl:f,error:m}=await n1e(d,`${u.documentName}.pdf`,e.loan_id);if(m||!h){r.errors.push(`Failed to upload split document "${u.documentName}": ${m}`),r.success=!1;continue}const{document:g,error:y}=await r1e({loanId:e.loan_id,parentDocumentId:e.id,documentName:u.documentName,documentType:u.documentType,fileUrl:h,thumbnailUrl:f,fileSize:d.length,pageCount:u.pages.length,sourcePages:u.pages,conditionIds:u.conditionIds});if(y||!g){r.errors.push(`Failed to create record for "${u.documentName}": ${y}`),r.success=!1;continue}r.createdDocuments.push(g)}catch(d){const h=d instanceof Error?d.message:"Unknown error";r.errors.push(`Error processing split "${u.documentName}": ${h}`),r.success=!1}if(r.createdDocuments.length>0)if(n)await Ee.from("condition_documents").update({status:"Inactive"}).eq("id",e.id),await Ee.from("document_condition_associations").delete().eq("document_id",e.id);else{const{data:u}=await Ee.from("condition_documents").select("file_url, thumbnail_url").eq("id",e.id).maybeSingle();if(u?.file_url){const d=IO(u.file_url,"condition-documents");d&&await Ee.storage.from("condition-documents").remove([d])}if(u?.thumbnail_url){const d=IO(u.thumbnail_url,"document-thumbnails");d&&await Ee.storage.from("document-thumbnails").remove([d])}await Ee.from("document_condition_associations").delete().eq("document_id",e.id),await Ee.from("condition_documents").delete().eq("id",e.id)}return r}function IO(e,t){try{const r=new URL(e).pathname.split(`/storage/v1/object/public/${t}/`);return r.length>1?decodeURIComponent(r[1]):null}catch{return null}}function o1e(e){if(e.length===0)return"";const t=[...e].sort((o,s)=>o-s),n=[];let r=t[0],i=t[0];for(let o=1;o<=t.length;o++){const s=t[o];s===i+1||(r===i?n.push(String(r)):n.push(`${r}-${i}`),r=s),i=s}return n.join(", ")}function H3(e){return{id:`split-${Date.now()}-${e}`,documentName:"",documentType:null,pages:[],conditionIds:[],conditionAssociations:[{tempId:`cond-initial-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,conditionId:""}]}}function s1e(){const[e,t]=I.useState(()=>[H3(1)]),[n,r]=I.useState(!0),[i,o]=I.useState(!1),[s,a]=I.useState(null),l=I.useMemo(()=>{const P=new Set;return e.forEach(N=>{N.pages.forEach(A=>P.add(A))}),P},[e]),c=I.useCallback(()=>{t(P=>[...P,H3(P.length+1)])},[]),u=I.useCallback(P=>{t(N=>N.filter(A=>A.id!==P))},[]),d=I.useCallback((P,N)=>{t(A=>A.map(D=>D.id===P?{...D,...N}:D))},[]),h=I.useCallback((P,N)=>{t(A=>A.map(D=>D.id===N?D.pages.includes(P)?D:{...D,pages:[...D.pages,P]}:{...D,pages:D.pages.filter(C=>C!==P)}))},[]),f=I.useCallback(P=>{t(N=>N.map(A=>({...A,pages:A.pages.filter(D=>D!==P)})))},[]),m=I.useCallback((P,N)=>{t(A=>A.map(D=>D.id===P?{...D,pages:N}:D))},[]),g=I.useCallback(P=>{t(N=>N.map(A=>{if(A.id!==P)return A;const D={tempId:`cond-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,conditionId:""};return{...A,conditionAssociations:[...A.conditionAssociations,D]}}))},[]),y=I.useCallback((P,N,A)=>{t(D=>D.map(C=>{if(C.id!==P)return C;const j=C.conditionAssociations.map(z=>z.tempId===N?{...z,conditionId:A}:z),L=j.map(z=>z.conditionId).filter(Boolean);return{...C,conditionAssociations:j,conditionIds:L}}))},[]),v=I.useCallback((P,N)=>{t(A=>A.map(D=>{if(D.id!==P)return D;const C=D.conditionAssociations.filter(L=>L.tempId!==N),j=C.map(L=>L.conditionId).filter(Boolean);return{...D,conditionAssociations:C,conditionIds:j}}))},[]),x=I.useCallback(P=>{const N=[];for(let A=1;A<=P;A++)l.has(A)||N.push(A);return N},[l]),_=I.useCallback(P=>o1e(P),[]),S=I.useCallback(()=>{const P=[];return e.filter(A=>A.pages.length>0).length===0&&P.push("At least one document split must have pages assigned"),e.forEach((A,D)=>{A.pages.length>0&&!A.documentName.trim()&&P.push(`Document ${D+1} requires a name`)}),{valid:P.length===0,errors:P}},[e]),k=I.useCallback(async P=>{const N=S();if(!N.valid)return{success:!1,errors:N.errors};if(!P.file_url||!P.loan_id)return{success:!1,errors:["Source document is missing required data"]};o(!0),a(null);try{const D=e.filter(j=>j.pages.length>0).map(j=>({id:j.id,documentName:j.documentName,documentType:j.documentType,pages:j.pages,conditionIds:j.conditionIds})),C=await i1e({id:P.id,file_url:P.file_url,loan_id:P.loan_id,document_name:P.document_name,document_type:P.document_type},D,n);return o(!1),C.success?{success:!0,errors:[]}:(a(C.errors.join(", ")),{success:!1,errors:C.errors})}catch(A){const D=A instanceof Error?A.message:"An error occurred during split processing";return o(!1),a(D),{success:!1,errors:[D]}}},[e,n,S]),T=I.useCallback(()=>{t([H3(1)]),r(!0),o(!1),a(null)},[]);return{splits:e,keepOriginalDocument:n,assignedPages:l,processing:i,error:s,addSplit:c,removeSplit:u,updateSplit:d,assignPageToSplit:h,removePageFromSplit:f,reorderPagesInSplit:m,setKeepOriginalDocument:r,addConditionToSplit:g,updateConditionInSplit:y,removeConditionFromSplit:v,getUnassignedPages:x,getPagesDisplay:_,validateSplits:S,finishSplit:k,reset:T}}function zW({document:e,isSelected:t,isAccepted:n,isRejected:r,onClick:i}){const o=e.thumbnail_url,s=e.document_name.length>12?`${e.document_name.slice(0,10)}...`:e.document_name,a=()=>t?"border-cmg-teal ring-2 ring-cmg-teal/30 border-2":n?"border-green-500 border-[3px]":r?"border-red-500 border-[3px]":"border-gray-200 hover:border-gray-300 border-2";return p.jsxs("button",{onClick:i,className:`relative w-[72px] flex flex-col rounded overflow-hidden transition-all shadow-md ${a()}`,children:[p.jsxs("div",{className:"relative aspect-[3/4] bg-gray-100",children:[o?p.jsx("img",{src:o,alt:e.document_name,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-50",children:p.jsx(Y_,{className:"w-6 h-6 text-gray-300"})}),n&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-green-500 flex items-center justify-center border-2 border-white shadow-sm z-10",children:p.jsx(e1,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-green-500/70 py-1",children:p.jsx("span",{className:"text-[10px] font-semibold text-white block text-center",children:"Accepted"})})]}),r&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 rounded-full bg-red-500 flex items-center justify-center border-2 border-white shadow-sm z-10",children:p.jsx(lr,{className:"w-3.5 h-3.5 text-white",strokeWidth:3})}),p.jsx("div",{className:"absolute inset-0 bg-red-500/20"}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-red-500/70 py-1",children:p.jsx("span",{className:"text-[10px] font-semibold text-white block text-center",children:"Rejected"})})]})]}),p.jsx("div",{className:"px-1 py-0.5 bg-white",children:p.jsx("div",{className:"text-[9px] text-gray-600 truncate",title:e.document_name,children:s})})]})}function a1e({documentsByType:e,isExpanded:t,onToggle:n,selectedDocumentId:r,userRole:i,onSelectDocument:o}){const s=Object.values(e).flat().filter(l=>oo(l,i)==="pending").length,a=t?"border-2 border-cmg-teal":"border border-gray-200";return p.jsxs("div",{className:`bg-white rounded-lg overflow-hidden ${a}`,children:[p.jsxs("div",{role:"button",tabIndex:0,onClick:n,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),n())},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors cursor-pointer",children:[p.jsx("span",{className:"flex-1 min-w-0 text-sm font-semibold text-gray-700 text-left truncate",children:"Not Assigned to Condition"}),!t&&s>0&&p.jsxs("span",{className:"flex-shrink-0 whitespace-nowrap px-2 py-1 text-2xs font-bold rounded-full bg-[#EAF6F7] text-cmg-teal",children:[s," Docs to Review"]}),t?p.jsx(E0,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):p.jsx(mo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),t&&p.jsx("div",{className:"px-3 pb-3 space-y-3",children:Object.entries(e).map(([l,c])=>p.jsxs("div",{children:[p.jsxs("div",{className:"text-[10px] font-medium text-gray-500 mb-2",children:[l," (",c.length,")"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(u=>{const d=oo(u,i);return p.jsx(zW,{document:u,isSelected:r===u.id,isAccepted:d==="accepted",isRejected:d==="rejected",onClick:()=>o(u.id)},u.id)})})]},l))})]})}function l1e({conditionGroup:e,isExpanded:t,onToggle:n,selectedDocumentId:r,userRole:i,onSelectDocument:o,onUpdateConditionStatus:s,onAddConditionNote:a}){const{condition:l,documents:c,docsToReviewCount:u}=e,[d,h]=I.useState(""),[f,m]=I.useState(!1),[g,y]=I.useState(!1),[v,x]=I.useState(!1),[_,S]=I.useState(!1),k=I.useMemo(()=>{const A={};return c.forEach(D=>{const C=D.document_type?`${D.document_type}${D.partyName?` (${D.partyName})`:""}`:"Miscellaneous";A[C]||(A[C]=[]),A[C].push(D)}),A},[c]);async function T(A,D){S(!0),await s(l.id,A,D),S(!1)}async function P(){if(!d.trim()||d==="<p></p>"||g)return;y(!0);const A=await a(l.id,d);y(!1),A&&(h(""),m(!1))}const N=t?"border-2 border-cmg-teal":"border border-gray-200";return p.jsxs("div",{className:`bg-white rounded-lg overflow-hidden ${N}`,children:[p.jsxs("div",{role:"button",tabIndex:0,onClick:n,onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&(A.preventDefault(),n())},className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 transition-colors cursor-pointer",children:[p.jsx("span",{className:"flex-1 min-w-0 text-sm font-semibold text-gray-700 truncate",children:l.condition_id}),!t&&u>0&&p.jsxs("span",{className:"flex-shrink-0 whitespace-nowrap px-2 py-1 text-2xs font-bold rounded-full bg-[#EAF6F7] text-cmg-teal",children:[u," Docs to Review"]}),t?p.jsx(E0,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):p.jsx(mo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]}),t&&p.jsxs("div",{className:"px-3 pb-3 space-y-3",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-xs font-semibold text-gray-900",children:l.title}),p.jsx("div",{className:"text-[11px] text-gray-600 mt-1 line-clamp-3",children:l.description})]}),Object.entries(k).map(([A,D])=>{const C=j=>{const L=D.find(z=>z.id===j);return L?oo(L,i):"pending"};return p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-semibold text-gray-700 mb-2",children:A}),p.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(j=>p.jsx(zW,{document:j,isSelected:r===j.id,isAccepted:C(j.id)==="accepted",isRejected:C(j.id)==="rejected",onClick:()=>o(j.id)},j.id))})]},A)}),p.jsx("div",{className:"pt-2 border-t border-gray-100",children:p.jsxs(Ta,{title:"Condition Notes",size:"sm",noBorder:!0,rightContent:p.jsx(e_,{variant:"light",children:l.notes.length}),children:[f?p.jsxs("div",{className:"mb-2",children:[p.jsx(sy,{value:d,onChange:h,placeholder:"Add Condition Notes...",onSubmit:P,autoFocus:!0}),p.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:()=>{h(""),m(!1)},children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:P,disabled:!d.trim()||d==="<p></p>"||g,children:g?"Saving...":"Add Note"})]})]}):p.jsx("button",{onClick:()=>m(!0),className:"w-full h-9 px-3 text-left text-xs text-gray-400 bg-white border border-gray-300 rounded-lg hover:border-cmg-teal focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-cmg-teal transition-colors",children:"Add Condition Notes..."}),l.notes.length>0&&p.jsxs("div",{className:"mt-4",children:[(v?l.notes:[l.notes[0]]).map(A=>p.jsx(uT,{note:A},A.id)),l.notes.length>1&&p.jsx("button",{onClick:()=>x(!v),className:"text-xs font-medium text-cmg-teal hover:text-cmg-teal-dark transition-colors",children:v?"Show Less":`See All Notes (${l.notes.length})`})]})]})}),p.jsx("div",{className:"pt-2 border-t border-gray-100",children:p.jsxs(Ta,{title:"Set Condition Status",size:"sm",expandable:!1,noBorder:!0,children:[p.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:["Current status: ",l.status]}),p.jsx("div",{className:"flex gap-2",children:i==="Underwriter"?p.jsxs(p.Fragment,{children:[p.jsx(Pt,{variant:"primary",size:"md",onClick:()=>T("Not Cleared","Suspend"),disabled:_,children:"Suspend"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:()=>T("Not Cleared"),disabled:_,children:"Not Cleared"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:()=>T("Cleared"),disabled:_,children:"Cleared"})]}):p.jsxs(p.Fragment,{children:[p.jsx(Pt,{variant:"primary",size:"md",onClick:()=>T("Requested"),disabled:_,children:"Not Ready"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:()=>T("Ready for UW"),disabled:_,children:"Ready for UW"})]})})]})})]})]})}function c1e({unassignedByType:e,conditionGroups:t,selectedDocumentId:n,userRole:r,onSelectDocument:i,onUpdateConditionStatus:o,onAddConditionNote:s,expandedCardId:a,onExpandCard:l}){const c=Object.keys(e).length>0;return p.jsxs("div",{className:"p-3 space-y-2 bg-white",children:[c&&p.jsx(a1e,{documentsByType:e,isExpanded:a==="unassigned",onToggle:()=>l("unassigned"),selectedDocumentId:n,userRole:r,onSelectDocument:i}),t.map(u=>p.jsx(l1e,{conditionGroup:u,isExpanded:a===u.condition.id,onToggle:()=>l(u.condition.id),selectedDocumentId:n,userRole:r,onSelectDocument:i,onUpdateConditionStatus:o,onAddConditionNote:s},u.condition.id)),!c&&t.length===0&&p.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"No documents to review"})]})}function u1e({conditionId:e,status:t,conditions:n,excludedConditionIds:r,onConditionChange:i,onStatusChange:o,onRemove:s}){const a=n.find(h=>h.id===e),c=n.filter(h=>h.id===e||!r.includes(h.id)).map(h=>({value:h.id,label:`${h.condition_id} - ${h.title}`,description:h.description})),u=t5.map(h=>({value:h,label:h})),d=t??a?.status??"New";return p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Condition ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Fa,{value:e,onChange:i,options:c,placeholder:"Select condition..."})]}),p.jsxs("div",{className:"w-[140px] flex-shrink-0",children:[p.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Condition Status ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(yi,{value:d,onChange:h=>o(h.target.value),options:u,className:"flex-1"}),p.jsx("button",{type:"button",onClick:s,className:"flex-shrink-0 p-1 text-red-500 hover:text-red-600 transition-colors",title:"Remove association",children:p.jsx(Y0,{className:"w-5 h-5"})})]})]})]}),a&&p.jsxs("div",{children:[p.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-wide",children:"Condition Description"}),p.jsx("p",{className:"text-xs text-gray-600 mt-0.5 leading-relaxed",children:a.description})]})]})}function OO(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"2-digit"})+" "+t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function d1e({document:e,notes:t,formState:n,onFieldChange:r,onAddNote:i,loanConditions:o,pendingAssociations:s,onAssociationsChange:a,loanParties:l}){const[c,u]=I.useState(!1),[d,h]=I.useState(""),[f,m]=I.useState(!1),[g,y]=I.useState(!1);I.useEffect(()=>{e&&(r("document_name",e.document_name||""),r("document_type",e.document_type||""),r("description",e.description||""),r("expiration_date",e.expiration_date?.split("T")[0]||""),r("document_for_party_id",e.document_for_party_id||""))},[e?.id]);const v=l.filter(A=>!A.party_type.includes("APP"));async function x(){if(!d.trim()||d==="<p></p>"||f)return;m(!0);const A=await i(d);m(!1),A&&(h(""),u(!1))}function _(){const A={tempId:`temp-${Date.now()}`,conditionId:"",pendingStatus:null,isNew:!0};a([...s,A])}function S(A,D){const C=o.find(j=>j.id===D);a(s.map(j=>j.tempId===A?{...j,conditionId:D,pendingStatus:C?.status??null}:j))}function k(A,D){a(s.map(C=>C.tempId===A?{...C,pendingStatus:D}:C))}function T(A){a(s.filter(D=>D.tempId!==A))}if(!e)return null;const P=o.filter(A=>A.status!=="Cleared"),N=s.map(A=>A.conditionId).filter(Boolean);return p.jsxs("div",{className:"h-full flex flex-col",children:[p.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[p.jsx(Y_,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-base font-bold text-gray-900 truncate",children:e.document_type||"Miscellaneous"})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-2",children:[p.jsx(Ta,{title:"Document Properties",defaultExpanded:!0,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Document Name ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Da,{value:n.document_name,onChange:A=>r("document_name",A.target.value),placeholder:"Enter document name"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Document Type ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Fa,{value:n.document_type,onChange:A=>r("document_type",A),options:Ms.map(A=>({value:A,label:A})),placeholder:"Select document type"})]}),p.jsxs("div",{children:[p.jsxs("label",{className:"flex items-center gap-1 text-xs font-medium text-gray-700 mb-1",children:["Document Description",p.jsx(J_,{className:"w-3 h-3 text-gray-400"})]}),p.jsx(Fd,{value:n.description,onChange:A=>r("description",A.target.value),placeholder:"Enter description",rows:3})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Document Expiration Date"}),p.jsx(f1,{value:n.expiration_date?new Date(n.expiration_date):null,onChange:A=>r("expiration_date",A?A.toISOString().split("T")[0]:"")})]})]})}),p.jsx("div",{className:"mb-4",children:p.jsx(Ta,{title:"Details",defaultExpanded:!1,variant:"text",noBorder:!0,children:p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Document for"}),p.jsx(Fa,{value:n.document_for_party_id,onChange:A=>r("document_for_party_id",A),options:v.map(A=>({value:A.id,label:`${A.party_type}: ${A.party_name}`})),placeholder:"Select"})]}),p.jsxs("div",{className:"text-xs text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Created by:"})," ",e.created_by||""]}),p.jsxs("div",{className:"text-xs text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Created on:"})," ",OO(e.created_on)]}),p.jsxs("div",{className:"text-xs text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Modified by:"})," ",e.modified_by||""]}),p.jsxs("div",{className:"text-xs text-gray-700",children:[p.jsx("span",{className:"font-medium",children:"Modified on:"})," ",OO(e.modified_on)]})]})})}),p.jsxs(Ta,{title:"Document Notes",defaultExpanded:!0,rightContent:p.jsx(e_,{variant:"light",size:"xs",children:t.length}),children:[c?p.jsxs("div",{className:"mb-3",children:[p.jsx(sy,{value:d,onChange:h,placeholder:"Type notes about the document...",onSubmit:x,autoFocus:!0}),p.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:()=>{h(""),u(!1)},children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:x,disabled:!d.trim()||d==="<p></p>"||f,children:f?"Saving...":"Add Note"})]})]}):p.jsx("button",{onClick:()=>u(!0),className:"w-full h-9 px-4 text-left text-xs text-gray-400 bg-white border border-gray-300 rounded-lg hover:border-cmg-teal focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-cmg-teal transition-colors",children:"Type notes about the document..."}),t.length>0&&p.jsxs("div",{className:"mt-5",children:[(g?t:[t[0]]).map(A=>p.jsx(uT,{note:A},A.id)),t.length>1&&p.jsx("button",{onClick:()=>y(!g),className:"text-xs font-medium text-cmg-teal hover:text-cmg-teal-dark transition-colors",children:g?"Show Less":`See All Notes (${t.length})`})]})]}),p.jsx(Ta,{title:"Associated Conditions",defaultExpanded:!0,rightContent:p.jsx(e_,{variant:"light",size:"xs",children:s.filter(A=>A.conditionId).length}),children:p.jsxs("div",{className:"space-y-4",children:[s.map(A=>p.jsx(u1e,{conditionId:A.conditionId,status:A.pendingStatus,conditions:P,excludedConditionIds:N,onConditionChange:D=>S(A.tempId,D),onStatusChange:D=>k(A.tempId,D),onRemove:()=>T(A.tempId)},A.tempId)),p.jsx(jr,{icon:p.jsx(Cl,{}),size:"xs",onClick:_,children:"Associate This Document to a Condition"})]})})]})]})}function f1e({pdfUrl:e,pageNumber:t,scale:n,onPdfLoaded:r,onError:i}){const o=I.useRef(null),[s,a]=I.useState(!0),[l,c]=I.useState(null),[u,d]=I.useState(0),h=I.useRef(null);I.useEffect(()=>{let m=!1;async function g(){if(e){a(!0),c(null);try{const y=await r5(e);if(m)return;r&&r(y);const v=Math.min(Math.max(1,t),y.numPages),x=await y.getPage(v);if(m)return;const _=x.getViewport({scale:n/100}),S=o.current;if(!S)return;const k=S.getContext("2d");if(!k)throw new Error("Failed to get canvas context");S.width=_.width,S.height=_.height;const T={canvasContext:k,viewport:_};h.current?.cancel&&h.current.cancel();const P=x.render(T);if(h.current=P,await P.promise,m)return;a(!1)}catch(y){if(m)return;const v=y instanceof Error?y.message:"Failed to load PDF";c(v),a(!1),i&&y instanceof Error&&i(y)}}}return g(),()=>{m=!0,h.current?.cancel&&h.current.cancel()}},[e,t,n,u,r,i]);function f(){d(m=>m+1)}return l?p.jsxs("div",{className:"flex flex-col items-center justify-center bg-white shadow-lg rounded-lg p-8 min-h-[400px]",children:[p.jsx(QY,{className:"w-12 h-12 text-red-500 mb-4"}),p.jsx("p",{className:"text-gray-700 font-medium mb-2",children:"Failed to load document"}),p.jsx("p",{className:"text-sm text-gray-500 mb-4 text-center max-w-xs",children:l}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-cmg-teal text-white rounded-lg hover:bg-cmg-teal-dark transition-colors",children:[p.jsx(EJ,{className:"w-4 h-4"}),"Retry"]}),p.jsxs("a",{href:e,download:!0,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[p.jsx(dJ,{className:"w-4 h-4"}),"Download"]})]})]}):p.jsxs("div",{className:"relative bg-white shadow-lg",children:[s&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 z-10",children:p.jsx(dB,{className:"w-8 h-8 text-cmg-teal animate-spin"})}),p.jsx("canvas",{ref:o,className:s?"opacity-0":"opacity-100 transition-opacity duration-200"})]})}const E2=72,T2=96,W3=new Map;function h1e({pageNum:e}){return p.jsxs("div",{className:"absolute inset-0 bg-gray-200 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("span",{className:"text-xs text-gray-400",children:e})})]})}function p1e({pdfUrl:e,totalPages:t,currentPage:n,onPageSelect:r,pageNumbers:i,useSequentialLabels:o=!1}){const s=i??Array.from({length:t},(v,x)=>x+1),[a,l]=I.useState(()=>W3.get(e)??new Map),[c,u]=I.useState(new Set),d=I.useRef(null),h=I.useRef(null),f=I.useRef(e),m=I.useRef(a),g=I.useRef(c);m.current=a,g.current=c,I.useEffect(()=>{if(f.current!==e){f.current=e,d.current=null;const v=W3.get(e);l(v?new Map(v):new Map),u(new Set)}},[e]);async function y(v,x,_){if(!(m.current.has(v)||g.current.has(v))){u(S=>new Set(S).add(v));try{const S=await x.getPage(v),k=S.getViewport({scale:1}),T=Math.min(E2/k.width,T2/k.height),P=S.getViewport({scale:T}),N=document.createElement("canvas");N.width=E2,N.height=T2;const A=N.getContext("2d");if(!A)return;A.fillStyle="#ffffff",A.fillRect(0,0,E2,T2);const D=(E2-P.width)/2,C=(T2-P.height)/2;if(A.translate(D,C),await S.render({canvasContext:A,viewport:P}).promise,f.current!==_)return;const j=N.toDataURL("image/jpeg",.7);l(L=>{const z=new Map(L).set(v,j);return W3.set(_,z),z})}catch{}finally{f.current===_&&u(S=>{const k=new Set(S);return k.delete(v),k})}}}return I.useEffect(()=>{let v=!1;const x=e;async function _(){if(x)try{const S=await r5(x);if(v||f.current!==x)return;d.current=S;const T=(i??Array.from({length:t},(P,N)=>N+1)).slice(0,5);for(const P of T)y(P,S,x)}catch{}}return _(),()=>{v=!0}},[e,t,i]),I.useEffect(()=>{const v=d.current,x=o&&i?i[n-1]:n;v&&x&&!m.current.has(x)&&y(x,v,e)},[n,e,o,i]),I.useEffect(()=>{const v=h.current;if(!v)return;function x(){const _=d.current;if(!v||!_)return;const S=v.getBoundingClientRect();v.querySelectorAll("[data-page]").forEach(T=>{const P=parseInt(T.getAttribute("data-page")||"0",10);if(P===0)return;const N=T.getBoundingClientRect();N.top<S.bottom+100&&N.bottom>S.top-100&&!m.current.has(P)&&y(P,_,e)})}return v.addEventListener("scroll",x),()=>v.removeEventListener("scroll",x)},[e]),p.jsx("div",{ref:h,className:"flex-1 p-2 overflow-y-auto",children:s.map((v,x)=>{const _=o?x+1:v,S=a.get(v),k=c.has(v),T=o?n===x+1:n===v;return p.jsx("button",{"data-page":v,onClick:()=>r(o?x+1:v),className:`
              w-full mb-2 rounded overflow-hidden border-2 transition-all shadow-md
              ${T?"border-cmg-teal":"border-transparent hover:border-gray-300"}
            `,children:p.jsxs("div",{className:"relative bg-gray-100",style:{aspectRatio:"3/4"},children:[S?p.jsx("img",{src:S,alt:`Page ${_}`,className:"w-full h-full object-cover"}):k?p.jsx(h1e,{pageNum:_}):p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:p.jsx("span",{className:"text-xs text-gray-400",children:_})}),p.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50 text-white text-[9px] text-center py-0.5",children:_})]})},`${v}-${x}`)})})}function UW({document:e,currentPage:t,totalPages:n,onPageChange:r,onPageCountUpdate:i,reviewState:o="pending",onSplitClick:s,isPreviewMode:a=!1,onBackClick:l,previewPages:c}){const[u,d]=I.useState(100),h=a&&c?c[t-1]:t,f=I.useCallback(T=>{i&&T.numPages!==n&&i(T.numPages)},[i,n]);if(!e)return null;function m(){t>1&&r(t-1)}function g(){t<n&&r(t+1)}function y(){d(T=>Math.max(25,T-25))}function v(){d(T=>Math.min(200,T+25))}const x=!!e.file_url;function _(){return x?p.jsx(f1e,{pdfUrl:e.file_url,pageNumber:h,scale:u,onPdfLoaded:a?void 0:f}):p.jsxs("div",{className:"flex flex-col items-center justify-center bg-white shadow-lg rounded-lg p-8 min-h-[400px]",children:[p.jsx(Y_,{className:"w-16 h-16 text-gray-300 mb-4"}),p.jsx("p",{className:"text-gray-500 font-medium",children:"No document uploaded"}),p.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload a document to preview it here"})]})}function S(){return x?p.jsx(p1e,{pdfUrl:e.file_url,totalPages:n,currentPage:t,onPageSelect:r,pageNumbers:a?c:void 0,useSequentialLabels:a}):p.jsx("div",{className:"flex-1 p-2 flex items-center justify-center",children:p.jsx("p",{className:"text-xs text-gray-400 text-center",children:"No pages"})})}function k(){return o==="accepted"?p.jsxs("div",{className:"bg-green-50 border-b border-green-200 px-4 py-2 flex items-center gap-2",children:[p.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:p.jsx(e1,{className:"w-3 h-3 text-white",strokeWidth:3})}),p.jsx("span",{className:"text-sm font-medium text-green-700",children:"Document Accepted"})]}):o==="rejected"?p.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-4 py-2 flex items-center gap-2",children:[p.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500 flex items-center justify-center",children:p.jsx(lr,{className:"w-3 h-3 text-white",strokeWidth:3})}),p.jsx("span",{className:"text-sm font-medium text-red-700",children:"Document Rejected"})]}):null}return p.jsxs("div",{className:"flex-1 flex",children:[p.jsxs("div",{className:"w-24 bg-gray-100 border-r border-gray-200 flex flex-col",children:[p.jsx("div",{className:"px-3 py-2 border-b border-gray-200",children:p.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Pages"})}),S()]}),p.jsxs("div",{className:"flex-1 flex flex-col",children:[p.jsx("div",{className:"bg-gray-100 border-b border-gray-200 px-4 py-2",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[a?p.jsxs("button",{onClick:l,className:"flex items-center gap-1 px-2 py-1 text-xs font-medium text-teal-600 hover:text-teal-700 transition-colors",children:[p.jsx(oJ,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Back"})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:s,disabled:!x||!s,className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[p.jsx(hB,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Split"})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded transition-colors",children:[p.jsx(cJ,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Merge"})]})]}),p.jsxs("div",{className:"flex items-center gap-1 border-l border-r border-gray-200 px-3 mx-2",children:[p.jsx("button",{onClick:m,disabled:t===1,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-30 transition-colors",children:p.jsx(E0,{className:"w-4 h-4 text-gray-500"})}),p.jsxs("span",{className:"text-xs text-gray-600 min-w-[40px] text-center",children:[t," / ",n]}),p.jsx("button",{onClick:g,disabled:t===n,className:"p-1 hover:bg-gray-100 rounded disabled:opacity-30 transition-colors",children:p.jsx(mo,{className:"w-4 h-4 text-gray-500"})})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded transition-colors",children:[p.jsx(TJ,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Rotate"})]}),!a&&p.jsx("div",{className:"border-l border-gray-200 pl-2 ml-2",children:p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded transition-colors",children:[p.jsx(Sd,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Delete Page"})]})})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("button",{onClick:y,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(bJ,{className:"w-4 h-4 text-gray-500"})}),p.jsxs("select",{value:u,onChange:T=>d(Number(T.target.value)),className:"text-xs text-gray-600 border border-gray-200 rounded px-2 py-1 bg-white",children:[p.jsx("option",{value:25,children:"25%"}),p.jsx("option",{value:50,children:"50%"}),p.jsx("option",{value:75,children:"75%"}),p.jsx("option",{value:100,children:"100%"}),p.jsx("option",{value:125,children:"125%"}),p.jsx("option",{value:150,children:"150%"}),p.jsx("option",{value:200,children:"200%"})]}),p.jsx("button",{onClick:v,className:"p-1 hover:bg-gray-100 rounded transition-colors",children:p.jsx(J0,{className:"w-4 h-4 text-gray-500"})})]})]})}),!a&&p.jsx("div",{className:"bg-gray-100 border-b border-gray-200 px-4 py-2",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"General:"}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(bk,{className:"w-4 h-4 text-gray-600"})}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(yk,{className:"w-4 h-4 text-gray-600"})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"Internal:"}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(bk,{className:"w-4 h-4 text-blue-600"})}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(yk,{className:"w-4 h-4 text-blue-600"})})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-[10px] font-medium text-gray-500",children:"Burned on Save:"}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(bk,{className:"w-4 h-4 text-orange-600"})}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx(yk,{className:"w-4 h-4 text-orange-600"})}),p.jsx("button",{className:"p-1.5 hover:bg-gray-200 rounded transition-colors",children:p.jsx("div",{className:"w-4 h-4 border-2 border-orange-600 rounded"})})]}),p.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 hover:bg-gray-200 rounded transition-colors ml-auto",children:[p.jsx(lr,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Remove"})]})]})}),k(),p.jsx("div",{className:"flex-1 bg-gray-200 overflow-auto p-4 flex items-start justify-center",children:_()})]})]})}const hg=80,pg=104;function m1e({pdfUrl:e,totalPages:t,assignedPages:n}){const[r,i]=I.useState(new Map),[o,s]=I.useState(new Set),[a,l]=I.useState(new Set),[c,u]=I.useState(new Set),[d,h]=I.useState(t),f=I.useRef(null),m=I.useRef(null),g=I.useRef(r),y=I.useRef(o),v=I.useRef(null);g.current=r,y.current=o;const x=I.useCallback(async(N,A)=>{if(!(g.current.has(N)||y.current.has(N))){s(D=>new Set(D).add(N));try{const D=await A.getPage(N),C=D.getViewport({scale:1}),j=Math.min(hg/C.width,pg/C.height),L=D.getViewport({scale:j}),z=document.createElement("canvas");z.width=hg,z.height=pg;const K=z.getContext("2d");if(!K)return;K.fillStyle="#ffffff",K.fillRect(0,0,hg,pg);const H=(hg-L.width)/2,Z=(pg-L.height)/2;K.translate(H,Z),await D.render({canvasContext:K,viewport:L}).promise;const W=z.toDataURL("image/jpeg",.7);i(Y=>new Map(Y).set(N,W))}catch{}finally{s(D=>{const C=new Set(D);return C.delete(N),C})}}},[]);I.useEffect(()=>{let N=!1;async function A(){try{const D=await r5(e);if(N)return;f.current=D,h(D.numPages);const C=Math.min(8,D.numPages);for(let j=1;j<=C;j++)n.has(j)||x(j,D)}catch{}}return A(),()=>{N=!0}},[e,n,x]),I.useEffect(()=>{const N=m.current;if(!N)return;function A(){const D=f.current;if(!N||!D)return;const C=N.getBoundingClientRect();N.querySelectorAll("[data-page]").forEach(L=>{const z=parseInt(L.getAttribute("data-page")||"0",10);if(z===0||n.has(z))return;const K=L.getBoundingClientRect();K.top<C.bottom+100&&K.bottom>C.top-100&&!g.current.has(z)&&x(z,D)})}return N.addEventListener("scroll",A),()=>N.removeEventListener("scroll",A)},[n,x]),I.useEffect(()=>{u(new Set),v.current=null},[e]),I.useEffect(()=>{function N(A){A.key==="Escape"&&c.size>0&&u(new Set)}return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[c.size]);const _=I.useCallback((N,A,D)=>{if(N.stopPropagation(),N.shiftKey&&v.current!==null){const C=v.current,j=Math.min(C,A),L=Math.max(C,A),z=D.filter(K=>K>=j&&K<=L);u(new Set(z))}else N.metaKey||N.ctrlKey?(u(C=>{const j=new Set(C);return j.has(A)?j.delete(A):j.add(A),j}),v.current=A):(u(new Set([A])),v.current=A)},[]),S=I.useCallback((N,A)=>{let D;c.has(A)?D=Array.from(c).sort((j,L)=>j-L):(u(new Set([A])),D=[A]),N.dataTransfer.setData("text/page-number",String(D[0])),N.dataTransfer.setData("text/page-numbers",JSON.stringify(D)),N.dataTransfer.effectAllowed="move",l(new Set(D));const C=document.createElement("div");C.className="bg-white border-2 border-cmg-teal rounded shadow-lg p-2 text-xs font-medium",D.length>1?C.textContent=`${D.length} pages`:C.textContent=`Page ${A}`,C.style.position="absolute",C.style.top="-1000px",document.body.appendChild(C),N.dataTransfer.setDragImage(C,30,15),requestAnimationFrame(()=>{document.body.removeChild(C)})},[c]),k=I.useCallback(()=>{l(new Set)},[]),T=[];for(let N=1;N<=d;N++)n.has(N)||T.push(N);const P=c.size;return p.jsxs("div",{className:"h-full flex flex-col bg-white",children:[p.jsxs("div",{className:"px-3 py-2 bg-white",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("span",{className:"text-xs font-medium text-gray-600",children:["Source Pages (",T.length," remaining)"]}),P>0&&p.jsxs("span",{className:"text-xs font-medium text-cmg-teal",children:[P," selected"]})]}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Shift+click for range, Ctrl+click for multiple. Drag to split."})]}),p.jsx("div",{ref:m,className:"flex-1 overflow-y-auto p-3",onClick:()=>u(new Set),children:T.length===0?p.jsx("div",{className:"flex items-center justify-center h-32 text-xs text-gray-400 text-center",children:"All pages have been assigned to documents"}):p.jsx("div",{className:"grid grid-cols-2 gap-2",children:T.map(N=>{const A=r.get(N),D=o.has(N),C=a.has(N),j=c.has(N);return p.jsx("div",{"data-page":N,tabIndex:0,draggable:!0,onClick:L=>_(L,N,T),onDragStart:L=>S(L,N),onDragEnd:k,className:`
                    rounded overflow-hidden border-2 cursor-grab active:cursor-grabbing
                    transition-all outline-none focus:ring-2 focus:ring-cmg-teal/50 shadow-md
                    ${C?"opacity-50 border-cmg-teal bg-cmg-teal/10":""}
                    ${j&&!C?"border-cmg-teal bg-cmg-teal/10":""}
                    ${!j&&!C?"border-transparent bg-white hover:border-cmg-teal/50":""}
                  `,children:p.jsxs("div",{className:"relative bg-gray-100",style:{width:hg,height:pg},children:[A?p.jsx("img",{src:A,alt:`Page ${N}`,className:"w-full h-full object-cover",draggable:!1}):D?p.jsxs("div",{className:"absolute inset-0 bg-gray-200 overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-100 to-gray-200 animate-pulse"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("span",{className:"text-xs text-gray-400",children:N})})]}):p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white",children:p.jsx("span",{className:"text-xs text-gray-400",children:N})}),p.jsx("div",{className:`absolute bottom-0 left-0 right-0 text-white text-[9px] text-center py-0.5 ${j?"bg-cmg-teal":"bg-black/60"}`,children:N})]})},N)})})})]})}const Ss=56;function g1e({pages:e,pdfUrl:t,onDrop:n,onRemovePage:r,onReorder:i}){const[o,s]=I.useState(!1),[a,l]=I.useState(new Map),[c,u]=I.useState(null),[d,h]=I.useState(null),f=I.useRef(null);I.useEffect(()=>{if(e.length===0)return;async function k(){try{const T=await r5(t);for(const P of e){if(a.has(P))continue;const N=await T.getPage(P),A=N.getViewport({scale:1}),D=Math.min(Ss/A.width,Ss/A.height),C=N.getViewport({scale:D}),j=document.createElement("canvas");j.width=Ss,j.height=Ss;const L=j.getContext("2d");if(!L)continue;L.fillStyle="#ffffff",L.fillRect(0,0,Ss,Ss);const z=(Ss-C.width)/2,K=(Ss-C.height)/2;L.translate(z,K),await N.render({canvasContext:L,viewport:C}).promise;const H=j.toDataURL("image/jpeg",.6);l(Z=>new Map(Z).set(P,H))}}catch{}}k()},[e,t,a]);const m=I.useCallback(k=>{k.preventDefault(),k.dataTransfer.dropEffect="move",s(!0)},[]),g=I.useCallback(k=>{f.current?.contains(k.relatedTarget)||(s(!1),h(null))},[]),y=I.useCallback(k=>{k.preventDefault(),s(!1),h(null);const T=k.dataTransfer.getData("text/page-numbers"),P=k.dataTransfer.getData("text/page-number");if(k.dataTransfer.getData("text/split-id")&&c!==null&&P){const A=[...e],D=d!==null?d:A.length;A.splice(c,1),A.splice(D>c?D-1:D,0,parseInt(P,10)),i(A)}else if(T)try{JSON.parse(T).forEach(D=>n(D))}catch{P&&n(parseInt(P,10))}else P&&n(parseInt(P,10));u(null)},[n,i,e,c,d]),v=I.useCallback((k,T,P)=>{k.dataTransfer.setData("text/page-number",String(T)),k.dataTransfer.setData("text/split-id","reorder"),k.dataTransfer.effectAllowed="move",u(P)},[]),x=I.useCallback((k,T)=>{k.preventDefault(),h(T)},[]),_=I.useCallback(()=>{u(null),h(null)},[]),S=I.useCallback(k=>{r(k)},[r]);return e.length===0?p.jsxs("div",{ref:f,onDragOver:m,onDragLeave:g,onDrop:y,className:`
          border-2 border-dashed rounded-lg p-6 text-center transition-colors
          ${o?"border-cmg-teal bg-cmg-teal/5":"border-gray-300 bg-gray-50"}
        `,children:[p.jsx(bE,{className:`w-8 h-8 mx-auto mb-2 ${o?"text-cmg-teal":"text-gray-400"}`}),p.jsx("p",{className:`text-xs ${o?"text-cmg-teal":"text-gray-500"}`,children:"Select pages from the lefthand side then drag and drop here"}),p.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"Max File Limit 70 MB"})]}):p.jsx("div",{ref:f,onDragOver:m,onDragLeave:g,onDrop:y,className:`
        border-2 rounded-lg p-3 transition-colors min-h-[120px]
        ${o?"border-cmg-teal border-dashed bg-cmg-teal/5":"border-gray-200 bg-gray-50"}
      `,children:p.jsx("div",{className:"flex flex-wrap gap-2",children:e.map((k,T)=>p.jsxs("div",{draggable:!0,onDragStart:P=>v(P,k,T),onDragOver:P=>x(P,T),onDragEnd:_,onDoubleClick:()=>S(k),className:`
              relative cursor-move rounded overflow-hidden border transition-all
              ${c===T?"opacity-50":""}
              ${d===T?"border-cmg-teal border-2":"border-gray-300"}
              hover:border-cmg-teal
            `,style:{width:Ss,height:Ss+16},title:"Double-click to remove",children:[p.jsx("div",{className:"bg-white flex items-center justify-center",style:{width:Ss,height:Ss},children:a.has(k)?p.jsx("img",{src:a.get(k),alt:`Page ${k}`,className:"w-full h-full object-cover",draggable:!1}):p.jsx("span",{className:"text-xs text-gray-400",children:k})}),p.jsx("div",{className:"bg-gray-700 text-white text-[9px] text-center py-0.5",children:k})]},k))})})}function v1e({split:e,index:t,pdfUrl:n,loanConditions:r,pagesDisplay:i,onUpdateName:o,onUpdateType:s,onRemove:a,onDropPage:l,onRemovePage:c,onReorderPages:u,onAddCondition:d,onUpdateCondition:h,onRemoveCondition:f,onPreviewClick:m}){const g=r.filter(v=>v.status!=="Cleared"),y=e.conditionAssociations.map(v=>v.conditionId).filter(Boolean);return p.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["Document ",t+1]}),p.jsx("button",{onClick:a,className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Remove split",children:p.jsx(Sd,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Document Type"}),p.jsx(Fa,{value:e.documentType||"",onChange:v=>s(v||null),options:Ms.map(v=>({value:v,label:v})),placeholder:"Select"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Document Name"}),p.jsx(Da,{value:e.documentName,onChange:v=>o(v.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Pages"}),p.jsx(Da,{value:i,readOnly:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Associated Conditions"}),p.jsxs("div",{className:"space-y-2",children:[e.conditionAssociations.map(v=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"flex-1",children:p.jsx(Fa,{value:v.conditionId,onChange:x=>h(v.tempId,x),options:g.filter(x=>x.id===v.conditionId||!y.includes(x.id)).map(x=>({value:x.id,label:`${x.condition_id} - ${x.title}`})),placeholder:"Select Condition"})}),p.jsx("button",{onClick:()=>f(v.tempId),className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors",title:"Remove condition",children:p.jsx(Y0,{className:"w-4 h-4"})})]},v.tempId)),p.jsx(jr,{icon:p.jsx(Cl,{}),size:"sm",onClick:d,children:"Associate Condition"})]})]}),p.jsx(g1e,{pages:e.pages,pdfUrl:n,onDrop:l,onRemovePage:c,onReorder:u}),p.jsx("div",{className:"flex justify-end",children:p.jsx(Pt,{variant:"secondary",size:"md",onClick:m,disabled:e.pages.length===0,children:"Preview Document"})})]})]})}function y1e({splits:e,pdfUrl:t,loanConditions:n,onAddSplit:r,onRemoveSplit:i,onUpdateSplit:o,onDropPage:s,onRemovePage:a,onReorderPages:l,onAddCondition:c,onUpdateCondition:u,onRemoveCondition:d,getPagesDisplay:h,onPreviewClick:f}){const m=I.useRef(null),g=I.useRef(e.length);return I.useEffect(()=>{e.length>g.current&&m.current&&(m.current.scrollTop=m.current.scrollHeight),g.current=e.length},[e.length]),p.jsx("div",{className:"h-full flex flex-col bg-gray-200",children:p.jsx("div",{ref:m,className:"flex-1 overflow-y-auto p-4",children:p.jsxs("div",{className:"space-y-4",children:[e.map((y,v)=>p.jsx(v1e,{split:y,index:v,pdfUrl:t,loanConditions:n,pagesDisplay:h(y.pages),onUpdateName:x=>o(y.id,{documentName:x}),onUpdateType:x=>o(y.id,{documentType:x}),onRemove:()=>i(y.id),onDropPage:x=>s(y.id,x),onRemovePage:a,onReorderPages:x=>l(y.id,x),onAddCondition:()=>c(y.id),onUpdateCondition:(x,_)=>u(y.id,x,_),onRemoveCondition:x=>d(y.id,x),onPreviewClick:()=>f(y.id)},y.id)),p.jsxs("button",{onClick:r,className:"w-full py-3 bg-gray-100 hover:bg-gray-50 rounded-lg flex items-center justify-center gap-2 text-cmg-teal text-sm font-medium transition-colors",children:[p.jsx(J0,{className:"w-4 h-4"}),"Add Document Split"]})]})})})}function b1e({sourceDocument:e,splits:t,assignedPages:n,keepOriginalDocument:r,processing:i,loanConditions:o,onAddSplit:s,onRemoveSplit:a,onUpdateSplit:l,onAssignPageToSplit:c,onRemovePageFromSplit:u,onReorderPagesInSplit:d,onSetKeepOriginalDocument:h,onAddConditionToSplit:f,onUpdateConditionInSplit:m,onRemoveConditionFromSplit:g,getPagesDisplay:y,onCancel:v,onFinish:x}){const _=e.page_count||1,S=e.file_url||"",[k,T]=I.useState(null),[P,N]=I.useState(1),A=k?t.find(L=>L.id===k):null;I.useEffect(()=>{A&&A.pages.length===0&&T(null)},[A]);const D=I.useCallback(L=>{const z=t.find(K=>K.id===L);z&&z.pages.length>0&&(T(L),N(1))},[t]),C=I.useCallback(()=>{T(null)},[]),j=I.useCallback(L=>{N(L)},[]);return p.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[p.jsx("div",{className:"px-4 py-3 bg-white",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hB,{className:"w-4 h-4 text-gray-600"}),p.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Document Split"})]})}),p.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[p.jsx("div",{className:"w-[200px] border-r border-gray-200",children:p.jsx(m1e,{pdfUrl:S,totalPages:_,assignedPages:n})}),p.jsx("div",{className:"flex-1",children:A?p.jsx(UW,{document:e,currentPage:P,totalPages:A.pages.length,onPageChange:j,isPreviewMode:!0,onBackClick:C,previewPages:A.pages}):p.jsx(y1e,{splits:t,pdfUrl:S,loanConditions:o,onAddSplit:s,onRemoveSplit:a,onUpdateSplit:l,onDropPage:(L,z)=>c(z,L),onRemovePage:u,onReorderPages:d,onAddCondition:f,onUpdateCondition:m,onRemoveCondition:g,getPagesDisplay:y,onPreviewClick:D})})]}),p.jsxs("div",{className:"px-4 py-5 border-t border-gray-200 bg-white flex items-center justify-between",children:[p.jsx(jr,{icon:p.jsx(J0,{className:"w-4 h-4"}),size:"md",onClick:s,children:"Add Document Split"}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx(fo,{checked:r,onChange:L=>h(L.target.checked),label:"Keep Original Document"}),p.jsx(Pt,{variant:"secondary",size:"md",onClick:v,disabled:i,children:"Cancel Split"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:x,disabled:i,children:i?"Processing...":"Finish Split"})]})]})]})}function x1e({onDeleteDocument:e,onSaveChanges:t,onRejectWithReRequest:n,onRejectWithoutReRequest:r,onAcceptDoc:i,currentIndex:o,totalDocs:s,saving:a,currentConditionId:l,isProcessor:c}){const[u,d]=I.useState(!1),h=s>1?`Accept Doc ${o} of ${s}`:"Accept Doc",m=[{id:"re-request",label:"Re-request Document",onClick:()=>{n(),d(!1)},disabled:!(l!==null&&l!=="unassigned")},{id:"dont-re-request",label:"Don't Re-request Document",onClick:()=>{r(),d(!1)}}];return p.jsx("div",{className:"flex items-center justify-end px-6 py-4 border-t border-gray-200 bg-white",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 text-xs font-medium transition-colors hover:opacity-80",children:[p.jsx(Sd,{className:"w-3.5 h-3.5 text-red-700"}),p.jsx("span",{className:"text-gray-900",children:"Delete Document"})]}),p.jsxs("button",{onClick:t,disabled:a,className:"flex items-center gap-1.5 text-xs font-medium transition-colors hover:opacity-80 disabled:opacity-50",children:[p.jsx(PJ,{className:"w-3.5 h-3.5 text-cmg-teal"}),p.jsx("span",{className:"text-gray-900",children:a?"Saving...":"Save Changes"})]}),c?p.jsxs("div",{className:"relative",children:[p.jsx(Pt,{variant:"danger",size:"md",onClick:()=>d(!u),children:"Reject..."}),p.jsx(wE,{items:m,isOpen:u,onClose:()=>d(!1),horizontalAlign:"right",verticalAlign:"top"})]}):p.jsx(Pt,{variant:"danger",size:"md",onClick:r,children:"Reject..."}),p.jsx(Pt,{variant:"primary",size:"md",onClick:i,children:h})]})})}function w1e({documentType:e,existingDocRequest:t,parties:n,onSave:r,onClose:i}){const[o,s]=I.useState(!1),a=t!==null,[l,c]=I.useState({document_type:t?.document_type||e||"",fulfillment_party:t?.fulfillment_party||n[0]?.party_type||"",description_for_borrower:t?.description_for_borrower||""});I.useEffect(()=>{t&&c({document_type:t.document_type||e||"",fulfillment_party:t.fulfillment_party||n[0]?.party_type||"",description_for_borrower:t.description_for_borrower||""})},[t,e,n]);async function u(){if(!l.document_type)return;s(!0);const h=await r({isNew:!a,docRequestId:t?.id,document_type:l.document_type,fulfillment_party:l.fulfillment_party,description_for_borrower:l.description_for_borrower});s(!1),h&&i()}const d=l.document_type!=="";return p.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:i}),p.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-xl mx-4",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Re-request Document"}),p.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:p.jsx(lr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"px-6 py-4 space-y-4",children:[p.jsxs("p",{className:"text-xs text-gray-600",children:["You can update the borrower description which will immediately update in the Borrower Home Portal. The borrower will not be informed of this update"," ",p.jsx("span",{className:"font-semibold",children:"until you Send the borrower request"}),"."]}),a?p.jsx(p.Fragment,{children:p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-gray-900 block mb-2",children:l.document_type||"Document"}),p.jsx(o4,{content:l.description_for_borrower,onChange:h=>c(f=>({...f,description_for_borrower:h}))})]})}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsxs("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:["Document Type ",p.jsx("span",{className:"text-red-500",children:"*"})]}),p.jsx(Fa,{value:l.document_type,onChange:h=>c(f=>({...f,document_type:h})),options:Ms.map(h=>({value:h,label:h})),placeholder:"Select"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Request For"}),p.jsx(yi,{value:l.fulfillment_party,onChange:h=>c(f=>({...f,fulfillment_party:h.target.value})),options:n.map(h=>({value:h.party_type,label:`${h.party_type}: ${h.party_name}`}))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-medium text-gray-900 mb-2 block",children:"Description for Borrower"}),p.jsx(o4,{content:l.description_for_borrower,onChange:h=>c(f=>({...f,description_for_borrower:h}))})]})]})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:i,children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:u,disabled:!d||o,children:o?"Saving...":a?"Update Request Description":"Add Request"})]})]})]})}async function _1e(e,t){if(!e||t.length===0)return{success:!0,completedCount:0};const n=e.toLowerCase(),{data:r,error:i}=await Ee.from("doc_requests").select("id, document_type").in("condition_id",t).neq("status","Complete");if(i||!r)return{success:!1,completedCount:0};const o=r.filter(a=>a.document_type?.toLowerCase()===n).map(a=>a.id);if(o.length===0)return{success:!0,completedCount:0};const{error:s}=await Ee.from("doc_requests").update({status:"Complete"}).in("id",o);return s?{success:!1,completedCount:0}:{success:!0,completedCount:o.length}}async function S1e(e,t){if(e.length===0||!t)return!0;const n=new Date(t);if(isNaN(n.getTime()))return!1;const{data:r,error:i}=await Ee.from("conditions").select("id, expiration_date").in("id",e);if(i)return console.error("Error fetching conditions for expiration update:",i),!1;const o=[];for(const a of r||[])if(!a.expiration_date)o.push(a.id);else{const l=new Date(a.expiration_date);n<l&&o.push(a.id)}if(o.length===0)return!0;const{error:s}=await Ee.from("conditions").update({expiration_date:t}).in("id",o);return s?(console.error("Error updating condition expiration dates:",s),!1):!0}function k1e({loanId:e,filterConditionId:t,onClose:n,onUpdate:r}){const{selectedRole:i}=Bc(),[o,s]=I.useState(!1),[a,l]=I.useState(!1),[c,u]=I.useState(null),[d,h]=I.useState(1),[f,m]=I.useState(1),[g,y]=I.useState([]),[v,x]=I.useState([]),[_,S]=I.useState(null),[k,T]=I.useState(!1),[P,N]=I.useState(!1),[A,D]=I.useState(null),C=pue({loanId:e,userRole:i,filterConditionId:t||void 0}),j=mue({documentId:C.selectedDocumentId}),L=s1e(),[z,K]=I.useState({document_name:"",document_type:"",description:"",expiration_date:"",document_for_party_id:""}),H=C.selectedDocument!==null,Z=C.selectedDocument?oo(C.selectedDocument,i):"pending",W=I.useCallback(Ae=>{if(!Ae)return null;if(Ae==="unassigned")return Object.values(C.unassignedByType).flat().find(Le=>oo(Le,i)==="pending")||null;const ke=C.conditionGroups.find(Oe=>Oe.condition.id===Ae);return ke&&ke.documents.find(Oe=>oo(Oe,i)==="pending")||null},[C.unassignedByType,C.conditionGroups,i]),le=I.useMemo(()=>{if(!_)return!1;if(_==="unassigned"){const Oe=Object.values(C.unassignedByType).flat();return Oe.length>0&&Oe.every(Le=>oo(Le,i)!=="pending")}const Ae=C.conditionGroups.find(Oe=>Oe.condition.id===_);if(Ae)return Ae.documents.length===0?!1:Ae.documents.every(Oe=>oo(Oe,i)!=="pending");const ke=C.allDocuments.filter(Oe=>Oe.associatedConditionIds.includes(_));return ke.length===0?!1:ke.every(Oe=>oo(Oe,i)!=="pending")},[_,C.unassignedByType,C.conditionGroups,C.allDocuments,i])&&!H,fe=I.useCallback(Ae=>{if(_===Ae)S(null),C.selectDocument("");else{S(Ae);const ke=W(Ae);ke?C.selectDocument(ke.id):C.selectDocument("")}},[_,W,C]);I.useEffect(()=>{if(!C.loading&&!k){const Ae=Object.keys(C.unassignedByType).length>0,ke=C.conditionGroups.length>0;if(Ae||ke){const Oe=Ae?"unassigned":C.conditionGroups[0]?.condition.id||null;if(Oe){S(Oe);const Le=W(Oe);Le&&C.selectDocument(Le.id),T(!0)}}}},[C.loading,C.unassignedByType,C.conditionGroups,k,W,C]);const M=I.useCallback(async()=>{const{data:Ae}=await Ee.from("conditions").select("*").eq("loan_id",e),{data:ke}=await Ee.from("doc_requests").select("*"),{data:Oe}=await Ee.from("condition_notes").select("*").eq("loan_id",e).order("created_at",{ascending:!1}),Le=(Oe||[]).map($e=>$e.id);let Ce=new Set;if(Le.length>0){const{data:$e}=await Ee.from("note_read_status").select("note_id").eq("role",i).in("note_id",Le);$e&&(Ce=new Set($e.map(pt=>pt.note_id)))}const Me=(Oe||[]).map($e=>({...$e,is_read:Ce.has($e.id)})),{data:Be}=await Ee.from("condition_documents").select("*").eq("loan_id",e),{data:De}=await Ee.from("document_condition_associations").select("*"),it=(Ae||[]).map($e=>{const pt=(De||[]).filter(tt=>tt.condition_id===$e.id).map(tt=>tt.document_id);return{...$e,doc_requests:(ke||[]).filter(tt=>tt.condition_id===$e.id),notes:Me.filter(tt=>tt.condition_id===$e.id),documents:(Be||[]).filter(tt=>pt.includes(tt.id))}});y(it)},[e,i]),$=I.useCallback(async()=>{await Promise.all([C.refetch(),M()])},[C.refetch,M]);I.useEffect(()=>{e&&M()},[e,M]),I.useEffect(()=>{if(j.associations){const Ae=j.associations.map(ke=>{const Oe=g.find(Le=>Le.id===ke.condition_id);return{tempId:ke.id,conditionId:ke.condition_id,pendingStatus:Oe?.status??null,isNew:!1}});x(Ae)}else x([])},[j.associations,g]),I.useEffect(()=>{h(1),C.selectedDocument?.page_count?m(C.selectedDocument.page_count):m(1)},[C.selectedDocumentId,C.selectedDocument?.page_count]);const Q=I.useCallback(Ae=>{m(Ae)},[]);function ie(Ae,ke){K(Oe=>({...Oe,[Ae]:ke}))}async function oe(){if(!C.selectedDocumentId)return!1;await j.updateDocument({document_name:z.document_name||void 0,document_type:z.document_type||null,description:z.description||null,expiration_date:z.expiration_date||null,document_for_party_id:z.document_for_party_id||null,modified_by:Tl(i),modified_on:new Date().toISOString()});const Ae=v.filter(ke=>ke.conditionId).map(ke=>({conditionId:ke.conditionId,pendingStatus:ke.pendingStatus}));if(await j.saveAssociations(Ae),z.expiration_date&&Ae.length>0){const ke=Ae.map(Oe=>Oe.conditionId);await S1e(ke,z.expiration_date)}return!0}async function de(){const Ae=C.selectedDocumentId;await oe(),await $(),Ae&&C.selectDocument(Ae)}const pe=I.useCallback(()=>{if(!_)return;const Ae=W(_);Ae?C.selectDocument(Ae.id):C.selectDocument("")},[_,W,C]),ae=I.useRef(pe);I.useEffect(()=>{ae.current=pe},[pe]);async function ue(){if(!C.selectedDocumentId||!C.selectedDocument)return;const Ae=C.selectedDocumentId,ke=C.selectedDocument.document_type,Oe=C.selectedDocument.associatedConditionIds;await oe();const Le=i==="Underwriter"?"Approved":"Reviewed";await C.updateDocumentStatus(Ae,Le)&&(Le==="Reviewed"&&ke&&Oe.length>0&&await _1e(ke,Oe),C.markDocumentAccepted(Ae),await $(),ae.current())}async function _e(){if(!C.selectedDocumentId||!C.selectedDocument)return;const Ae=C.selectedDocumentId,Oe=[...C.selectedDocument.associatedConditionIds];await oe();const Le=[];for(const Me of Oe){const Be=C.conditions.find(De=>De.id===Me);Be&&Le.push(Be.condition_id)}if(Oe.length>0){await Ee.from("document_condition_associations").delete().eq("document_id",Ae);const Me=Le.length>0?`Document detached from condition${Le.length>1?"s":""}: ${Le.join(", ")}`:"Document detached from condition(s)";await Ee.from("document_notes").insert({document_id:Ae,author_name:Tl(i),author_role:i,content:Me})}await C.updateDocumentStatus(Ae,"Inactive")&&(C.markDocumentRejected(Ae,Oe),await $(),ae.current())}async function Se(){if(!C.selectedDocument||!_||_==="unassigned")return;const Ae=C.selectedDocument.document_type,ke=_,Oe=C.conditions.find(Ce=>Ce.id===ke);if(!Oe)return;const Le=Oe.doc_requests?.find(Ce=>Ce.document_type?.toLowerCase()===Ae?.toLowerCase())||null;u(Le),l(!0)}async function Ne(Ae){if(!C.selectedDocumentId||!C.selectedDocument||!_||_==="unassigned")return!1;const ke=C.selectedDocumentId,Le=[...C.selectedDocument.associatedConditionIds],Ce=_;if(Ae.isNew){const{error:De}=await Ee.from("doc_requests").insert({condition_id:Ce,document_type:Ae.document_type,fulfillment_party:Ae.fulfillment_party,description_for_borrower:Ae.description_for_borrower,status:"New"});if(De)return!1}else if(Ae.docRequestId){const{error:De}=await Ee.from("doc_requests").update({status:"New",description_for_borrower:Ae.description_for_borrower}).eq("id",Ae.docRequestId);if(De)return!1}const Me=[];for(const De of Le){const it=C.conditions.find($e=>$e.id===De);it&&Me.push(it.condition_id)}if(Le.length>0){await Ee.from("document_condition_associations").delete().eq("document_id",ke);const De=Me.length>0?`Document rejected and re-requested. Detached from condition${Me.length>1?"s":""}: ${Me.join(", ")}`:"Document rejected and re-requested";await Ee.from("document_notes").insert({document_id:ke,author_name:Tl(i),author_role:i,content:De})}return await C.updateDocumentStatus(ke,"Inactive")&&(C.markDocumentRejected(ke,Le),await $(),ae.current()),!0}async function Xe(){if(!C.selectedDocumentId)return;const Ae=C.selectedDocumentId;await j.deleteDocument()&&(C.markDocumentRejected(Ae),await $(),ae.current(),s(!1))}const G=I.useCallback(()=>{r(),n()},[r,n]),We=I.useCallback(async(Ae,ke,Oe)=>{const Le=await C.updateConditionStatus(Ae,ke,Oe);if(Le){if(t&&t!=="__unassigned__")return G(),Le;const Me=C.conditionGroups.findIndex(De=>De.condition.id===Ae);let Be=null;for(let De=Me+1;De<C.conditionGroups.length;De++){const it=C.conditionGroups[De];if(it.docsToReviewCount>0){Be=it.condition.id;break}}Be||Object.keys(C.unassignedByType).length>0&&Object.values(C.unassignedByType).flat().some(pt=>oo(pt,i)==="pending")&&(Be="unassigned"),Be?(S(Be),setTimeout(()=>{const De=W(Be);De&&C.selectDocument(De.id)},50)):(S(null),C.selectDocument(""))}return Le},[C,i,W,t,G]),xt=I.useCallback(()=>{C.selectedDocument&&C.selectedDocument.file_url&&(D(C.selectedDocument),N(!0),L.reset())},[C.selectedDocument,L]),at=I.useCallback(()=>{N(!1),D(null),L.reset()},[L]),Ie=I.useCallback(async()=>{if(!A)return;(await L.finishSplit(A)).success&&(N(!1),D(null),L.reset(),C.selectDocument(""),await $(),S("unassigned"))},[A,L,C,$]);return C.loading?p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:p.jsx("div",{className:"bg-white rounded-lg p-8",children:p.jsx("div",{className:"text-gray-500",children:"Loading documents..."})})}):p.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:[p.jsxs("div",{className:"bg-white rounded-lg w-[95vw] h-[95vh] flex flex-col shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-white",children:[p.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Review Documents"}),p.jsx("button",{onClick:G,className:"p-1 hover:bg-gray-200 rounded transition-colors",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[C.refreshing&&p.jsx("div",{className:"absolute inset-0 bg-white/60 z-10 flex items-center justify-center",children:p.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[p.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-cmg-teal rounded-full animate-spin"}),"Updating..."]})}),p.jsx("div",{className:"w-[350px] border-r border-gray-200 overflow-y-auto bg-white",children:p.jsx(c1e,{unassignedByType:C.unassignedByType,conditionGroups:C.conditionGroups,selectedDocumentId:C.selectedDocumentId,userRole:i,onSelectDocument:C.selectDocument,onUpdateConditionStatus:We,onAddConditionNote:C.addConditionNote,expandedCardId:_,onExpandCard:fe})}),!le&&!P&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"w-[320px] border-r border-gray-200 overflow-y-auto",children:[H&&p.jsx(d1e,{document:C.selectedDocument,notes:j.notes,formState:z,onFieldChange:ie,onAddNote:Ae=>j.addNote(Ae),loanConditions:g,pendingAssociations:v,onAssociationsChange:x,loanParties:C.parties}),!H&&p.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"Select a document to view properties"})]}),p.jsxs("div",{className:"flex-1 flex flex-col bg-gray-100 overflow-hidden",children:[H&&p.jsx(UW,{document:C.selectedDocument,currentPage:d,totalPages:f,onPageChange:h,onPageCountUpdate:Q,reviewState:Z,onSplitClick:xt}),!H&&p.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-400 text-sm",children:"Select a document to view"})]})]}),P&&A&&p.jsx("div",{className:"flex-1 flex flex-col bg-gray-100 overflow-hidden",children:p.jsx(b1e,{sourceDocument:A,splits:L.splits,assignedPages:L.assignedPages,keepOriginalDocument:L.keepOriginalDocument,processing:L.processing,loanConditions:g,onAddSplit:L.addSplit,onRemoveSplit:L.removeSplit,onUpdateSplit:L.updateSplit,onAssignPageToSplit:L.assignPageToSplit,onRemovePageFromSplit:L.removePageFromSplit,onReorderPagesInSplit:L.reorderPagesInSplit,onSetKeepOriginalDocument:L.setKeepOriginalDocument,onAddConditionToSplit:L.addConditionToSplit,onUpdateConditionInSplit:L.updateConditionInSplit,onRemoveConditionFromSplit:L.removeConditionFromSplit,getPagesDisplay:L.getPagesDisplay,onCancel:at,onFinish:Ie})}),le&&p.jsx("div",{className:"flex-1 bg-gray-100"})]}),H&&!le&&!P&&p.jsx(x1e,{onDeleteDocument:()=>s(!0),onSaveChanges:de,onRejectWithReRequest:Se,onRejectWithoutReRequest:_e,onAcceptDoc:ue,currentIndex:C.currentDocumentIndex+1,totalDocs:C.totalDocsToReview,saving:j.saving||C.refreshing,currentConditionId:_,isProcessor:i!=="Underwriter"})]}),o&&p.jsx(t1,{title:"Delete Document",message:"Are you sure you want to delete this document? This action cannot be undone.",confirmLabel:"Delete",cancelLabel:"Cancel",confirmVariant:"danger",onConfirm:Xe,onCancel:()=>s(!1)}),a&&C.selectedDocument&&p.jsx(w1e,{documentType:C.selectedDocument.document_type,existingDocRequest:c,parties:C.parties,onSave:Ne,onClose:()=>{l(!1),u(null)}})]})}function Mn(e){"@babel/helpers - typeof";return Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(e)}var Ba=Uint8Array,is=Uint16Array,tP=Int32Array,nP=new Ba([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rP=new Ba([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LO=new Ba([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qW=function(e,t){for(var n=new is(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new tP(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},HW=qW(nP,2),C1e=HW.b,X4=HW.r;C1e[28]=258,X4[258]=28;var N1e=qW(rP,0),MO=N1e.r,$4=new is(32768);for(var tr=0;tr<32768;++tr){var mu=(tr&43690)>>1|(tr&21845)<<1;mu=(mu&52428)>>2|(mu&13107)<<2,mu=(mu&61680)>>4|(mu&3855)<<4,$4[tr]=((mu&65280)>>8|(mu&255)<<8)>>1}var Tv=function(e,t,n){for(var r=e.length,i=0,o=new is(t);i<r;++i)e[i]&&++o[e[i]-1];var s=new is(t);for(i=1;i<t;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new is(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],d=s[e[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[$4[d]>>l]=c}else for(a=new is(r),i=0;i<r;++i)e[i]&&(a[i]=$4[s[e[i]-1]++]>>15-e[i]);return a},bh=new Ba(288);for(var tr=0;tr<144;++tr)bh[tr]=8;for(var tr=144;tr<256;++tr)bh[tr]=9;for(var tr=256;tr<280;++tr)bh[tr]=7;for(var tr=280;tr<288;++tr)bh[tr]=8;var x_=new Ba(32);for(var tr=0;tr<32;++tr)x_[tr]=5;var A1e=Tv(bh,9,0),E1e=Tv(x_,5,0),WW=function(e){return(e+7)/8|0},T1e=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ba(e.subarray(t,n))},uc=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},mg=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},V3=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return{t:KW,l:0};if(i==1){var s=new Ba(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(k,T){return k.f-T.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[d].f?c++:d++],l=n[c!=u&&n[c].f<n[d].f?c++:d++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=o[0].s,r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var f=new is(h+1),m=Y4(n[u-1],f,0);if(m>t){var r=0,g=0,y=m-t,v=1<<y;for(o.sort(function(T,P){return f[P.s]-f[T.s]||T.f-P.f});r<i;++r){var x=o[r].s;if(f[x]>t)g+=v-(1<<m-f[x]),f[x]=t;else break}for(g>>=y;g>0;){var _=o[r].s;f[_]<t?g-=1<<t-f[_]++-1:++r}for(;r>=0&&g;--r){var S=o[r].s;f[S]==t&&(--f[S],++g)}m=t}return{t:new Ba(f),l:m}},Y4=function(e,t,n){return e.s==-1?Math.max(Y4(e.l,t,n+1),Y4(e.r,t,n+1)):t[e.s]=n},FO=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new is(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return{c:n.subarray(0,r),n:t}},gg=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},VW=function(e,t,n){var r=n.length,i=WW(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var o=0;o<r;++o)e[i+o+4]=n[o];return(i+4+r)*8},BO=function(e,t,n,r,i,o,s,a,l,c,u){uc(t,u++,n),++i[256];for(var d=V3(i,15),h=d.t,f=d.l,m=V3(o,15),g=m.t,y=m.l,v=FO(h),x=v.c,_=v.n,S=FO(g),k=S.c,T=S.n,P=new is(19),N=0;N<x.length;++N)++P[x[N]&31];for(var N=0;N<k.length;++N)++P[k[N]&31];for(var A=V3(P,7),D=A.t,C=A.l,j=19;j>4&&!D[LO[j-1]];--j);var L=c+5<<3,z=gg(i,bh)+gg(o,x_)+s,K=gg(i,h)+gg(o,g)+s+14+3*j+gg(P,D)+2*P[16]+3*P[17]+7*P[18];if(l>=0&&L<=z&&L<=K)return VW(t,u,e.subarray(l,l+c));var H,Z,W,Y;if(uc(t,u,1+(K<z)),u+=2,K<z){H=Tv(h,f,0),Z=h,W=Tv(g,y,0),Y=g;var le=Tv(D,C,0);uc(t,u,_-257),uc(t,u+5,T-1),uc(t,u+10,j-4),u+=14;for(var N=0;N<j;++N)uc(t,u+3*N,D[LO[N]]);u+=3*j;for(var fe=[x,k],M=0;M<2;++M)for(var $=fe[M],N=0;N<$.length;++N){var Q=$[N]&31;uc(t,u,le[Q]),u+=D[Q],Q>15&&(uc(t,u,$[N]>>5&127),u+=$[N]>>12)}}else H=A1e,Z=bh,W=E1e,Y=x_;for(var N=0;N<a;++N){var ie=r[N];if(ie>255){var Q=ie>>18&31;mg(t,u,H[Q+257]),u+=Z[Q+257],Q>7&&(uc(t,u,ie>>23&31),u+=nP[Q]);var oe=ie&31;mg(t,u,W[oe]),u+=Y[oe],oe>3&&(mg(t,u,ie>>5&8191),u+=rP[oe])}else mg(t,u,H[ie]),u+=Z[ie]}return mg(t,u,H[256]),u+Z[256]},P1e=new tP([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),KW=new Ba(0),R1e=function(e,t,n,r,i,o){var s=o.z||e.length,a=new Ba(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,u=(o.r||0)&7;if(t){u&&(l[0]=o.r>>3);for(var d=P1e[t-1],h=d>>13,f=d&8191,m=(1<<n)-1,g=o.p||new is(32768),y=o.h||new is(m+1),v=Math.ceil(n/3),x=2*v,_=function(Xe){return(e[Xe]^e[Xe+1]<<v^e[Xe+2]<<x)&m},S=new tP(25e3),k=new is(288),T=new is(32),P=0,N=0,A=o.i||0,D=0,C=o.w||0,j=0;A+2<s;++A){var L=_(A),z=A&32767,K=y[L];if(g[z]=K,y[L]=z,C<=A){var H=s-A;if((P>7e3||D>24576)&&(H>423||!c)){u=BO(e,l,0,S,k,T,N,D,j,A-j,u),D=P=N=0,j=A;for(var Z=0;Z<286;++Z)k[Z]=0;for(var Z=0;Z<30;++Z)T[Z]=0}var W=2,Y=0,le=f,fe=z-K&32767;if(H>2&&L==_(A-fe))for(var M=Math.min(h,H)-1,$=Math.min(32767,A),Q=Math.min(258,H);fe<=$&&--le&&z!=K;){if(e[A+W]==e[A+W-fe]){for(var ie=0;ie<Q&&e[A+ie]==e[A+ie-fe];++ie);if(ie>W){if(W=ie,Y=fe,ie>M)break;for(var oe=Math.min(fe,ie-2),de=0,Z=0;Z<oe;++Z){var pe=A-fe+Z&32767,ae=g[pe],ue=pe-ae&32767;ue>de&&(de=ue,K=pe)}}}z=K,K=g[z],fe+=z-K&32767}if(Y){S[D++]=268435456|X4[W]<<18|MO[Y];var _e=X4[W]&31,Se=MO[Y]&31;N+=nP[_e]+rP[Se],++k[257+_e],++T[Se],C=A+W,++P}else S[D++]=e[A],++k[e[A]]}}for(A=Math.max(A,C);A<s;++A)S[D++]=e[A],++k[e[A]];u=BO(e,l,c,S,k,T,N,D,j,A-j,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=y,o.p=g,o.i=A,o.w=C)}else{for(var A=o.w||0;A<s+c;A+=65535){var Ne=A+65535;Ne>=s&&(l[u/8|0]=c,Ne=s),u=VW(l,u+1,e.subarray(A,Ne))}o.i=s}return T1e(a,0,r+WW(u)+i)},GW=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},j1e=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var o=t.dictionary.subarray(-32768),s=new Ba(o.length+e.length);s.set(o),s.set(e,o.length),e=s,i.w=o.length}return R1e(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},ZW=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},D1e=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=GW();i.p(t.dictionary),ZW(e,2,i.d())}};function J4(e,t){t||(t={});var n=GW();n.p(e);var r=j1e(e,t,t.dictionary?6:2,4);return D1e(r,t),ZW(r,r.length-4,n.d()),r}var I1e=typeof TextDecoder<"u"&&new TextDecoder,O1e=0;try{I1e.decode(KW,{stream:!0}),O1e=1}catch{}function L1e(e){if(Array.isArray(e))return e}function M1e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function zO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function F1e(e,t){if(e){if(typeof e=="string")return zO(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zO(e,t):void 0}}function B1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UO(e,t){return L1e(e)||M1e(e,t)||F1e(e,t)||B1e()}function qO(e,t="utf8"){return new TextDecoder(t).decode(e)}const z1e=new TextEncoder;function U1e(e){return z1e.encode(e)}const q1e=1024*8,H1e=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),K3={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class iP{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=q1e,n={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,o=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof iP)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=t,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=K3[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+r);if(this.littleEndian===H1e&&n!=="uint8"&&n!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+r));a.reverse();const l=new K3[n](a.buffer);return this.offset+=r,l.reverse(),l}const s=new K3[n](o);return this.offset+=r,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return qO(this.readBytes(t))}decodeText(t=1,n="utf8"){return qO(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(U1e(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const W1e=4,HO=0,WO=1,V1e=2;function pm(e){let t=e.length;for(;--t>=0;)e[t]=0}const K1e=0,XW=1,G1e=2,Z1e=3,X1e=258,oP=29,Ny=256,I1=Ny+1+oP,m0=30,sP=19,$W=2*I1+1,If=15,G3=16,$1e=7,aP=256,YW=16,JW=17,QW=18,Q4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Tx=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Y1e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),eV=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),J1e=512,Sc=new Array((I1+2)*2);pm(Sc);const Pv=new Array(m0*2);pm(Pv);const O1=new Array(J1e);pm(O1);const L1=new Array(X1e-Z1e+1);pm(L1);const lP=new Array(oP);pm(lP);const w_=new Array(m0);pm(w_);function Z3(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let tV,nV,rV;function X3(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const iV=e=>e<256?O1[e]:O1[256+(e>>>7)],M1=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Ro=(e,t,n)=>{e.bi_valid>G3-n?(e.bi_buf|=t<<e.bi_valid&65535,M1(e,e.bi_buf),e.bi_buf=t>>G3-e.bi_valid,e.bi_valid+=n-G3):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},kl=(e,t,n)=>{Ro(e,n[t*2],n[t*2+1])},oV=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},Q1e=e=>{e.bi_valid===16?(M1(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},eye=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,d,h,f,m,g=0;for(h=0;h<=If;h++)e.bl_count[h]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<$W;c++)u=e.heap[c],h=n[n[u*2+1]*2+1]+1,h>l&&(h=l,g++),n[u*2+1]=h,!(u>r)&&(e.bl_count[h]++,f=0,u>=a&&(f=s[u-a]),m=n[u*2],e.opt_len+=m*(h+f),o&&(e.static_len+=m*(i[u*2+1]+f)));if(g!==0){do{for(h=l-1;e.bl_count[h]===0;)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[l]--,g-=2}while(g>0);for(h=l;h!==0;h--)for(u=e.bl_count[h];u!==0;)d=e.heap[--c],!(d>r)&&(n[d*2+1]!==h&&(e.opt_len+=(h-n[d*2+1])*n[d*2],n[d*2+1]=h),u--)}},sV=(e,t,n)=>{const r=new Array(If+1);let i=0,o,s;for(o=1;o<=If;o++)i=i+n[o-1]<<1,r[o]=i;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=oV(r[a]++,a))}},tye=()=>{let e,t,n,r,i;const o=new Array(If+1);for(n=0,r=0;r<oP-1;r++)for(lP[r]=n,e=0;e<1<<Q4[r];e++)L1[n++]=r;for(L1[n-1]=r,i=0,r=0;r<16;r++)for(w_[r]=i,e=0;e<1<<Tx[r];e++)O1[i++]=r;for(i>>=7;r<m0;r++)for(w_[r]=i<<7,e=0;e<1<<Tx[r]-7;e++)O1[256+i++]=r;for(t=0;t<=If;t++)o[t]=0;for(e=0;e<=143;)Sc[e*2+1]=8,e++,o[8]++;for(;e<=255;)Sc[e*2+1]=9,e++,o[9]++;for(;e<=279;)Sc[e*2+1]=7,e++,o[7]++;for(;e<=287;)Sc[e*2+1]=8,e++,o[8]++;for(sV(Sc,I1+1,o),e=0;e<m0;e++)Pv[e*2+1]=5,Pv[e*2]=oV(e,5);tV=new Z3(Sc,Q4,Ny+1,I1,If),nV=new Z3(Pv,Tx,0,m0,If),rV=new Z3(new Array(0),Y1e,0,sP,$1e)},aV=e=>{let t;for(t=0;t<I1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<m0;t++)e.dyn_dtree[t*2]=0;for(t=0;t<sP;t++)e.bl_tree[t*2]=0;e.dyn_ltree[aP*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},lV=e=>{e.bi_valid>8?M1(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},VO=(e,t,n,r)=>{const i=t*2,o=n*2;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},$3=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&VO(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!VO(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},KO=(e,t,n)=>{let r,i,o=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+o++]&255,r+=(e.pending_buf[e.sym_buf+o++]&255)<<8,i=e.pending_buf[e.sym_buf+o++],r===0?kl(e,i,t):(s=L1[i],kl(e,s+Ny+1,t),a=Q4[s],a!==0&&(i-=lP[s],Ro(e,i,a)),r--,s=iV(r),kl(e,s,n),a=Tx[s],a!==0&&(r-=w_[s],Ro(e,r,a)));while(o<e.sym_next);kl(e,aP,t)},eA=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,l=-1,c;for(e.heap_len=0,e.heap_max=$W,s=0;s<o;s++)n[s*2]!==0?(e.heap[++e.heap_len]=l=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,s=e.heap_len>>1;s>=1;s--)$3(e,n,s);c=o;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$3(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[c*2]=n[s*2]+n[a*2],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=c,e.heap[1]=c++,$3(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],eye(e,t),sV(n,l,e.bl_count)},GO=(e,t,n)=>{let r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)&&(a<c?e.bl_tree[o*2]+=a:o!==0?(o!==i&&e.bl_tree[o*2]++,e.bl_tree[YW*2]++):a<=10?e.bl_tree[JW*2]++:e.bl_tree[QW*2]++,a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4))},ZO=(e,t,n)=>{let r,i=-1,o,s=t[0*2+1],a=0,l=7,c=4;for(s===0&&(l=138,c=3),r=0;r<=n;r++)if(o=s,s=t[(r+1)*2+1],!(++a<l&&o===s)){if(a<c)do kl(e,o,e.bl_tree);while(--a!==0);else o!==0?(o!==i&&(kl(e,o,e.bl_tree),a--),kl(e,YW,e.bl_tree),Ro(e,a-3,2)):a<=10?(kl(e,JW,e.bl_tree),Ro(e,a-3,3)):(kl(e,QW,e.bl_tree),Ro(e,a-11,7));a=0,i=o,s===0?(l=138,c=3):o===s?(l=6,c=3):(l=7,c=4)}},nye=e=>{let t;for(GO(e,e.dyn_ltree,e.l_desc.max_code),GO(e,e.dyn_dtree,e.d_desc.max_code),eA(e,e.bl_desc),t=sP-1;t>=3&&e.bl_tree[eV[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},rye=(e,t,n,r)=>{let i;for(Ro(e,t-257,5),Ro(e,n-1,5),Ro(e,r-4,4),i=0;i<r;i++)Ro(e,e.bl_tree[eV[i]*2+1],3);ZO(e,e.dyn_ltree,t-1),ZO(e,e.dyn_dtree,n-1)},iye=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return HO;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return WO;for(n=32;n<Ny;n++)if(e.dyn_ltree[n*2]!==0)return WO;return HO};let XO=!1;const oye=e=>{XO||(tye(),XO=!0),e.l_desc=new X3(e.dyn_ltree,tV),e.d_desc=new X3(e.dyn_dtree,nV),e.bl_desc=new X3(e.bl_tree,rV),e.bi_buf=0,e.bi_valid=0,aV(e)},cV=(e,t,n,r)=>{Ro(e,(K1e<<1)+(r?1:0),3),lV(e),M1(e,n),M1(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},sye=e=>{Ro(e,XW<<1,3),kl(e,aP,Sc),Q1e(e)},aye=(e,t,n,r)=>{let i,o,s=0;e.level>0?(e.strm.data_type===V1e&&(e.strm.data_type=iye(e)),eA(e,e.l_desc),eA(e,e.d_desc),s=nye(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&t!==-1?cV(e,t,n,r):e.strategy===W1e||o===i?(Ro(e,(XW<<1)+(r?1:0),3),KO(e,Sc,Pv)):(Ro(e,(G1e<<1)+(r?1:0),3),rye(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),KO(e,e.dyn_ltree,e.dyn_dtree)),aV(e),r&&lV(e)},lye=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(L1[n]+Ny+1)*2]++,e.dyn_dtree[iV(t)*2]++),e.sym_next===e.sym_end);var cye=oye,uye=cV,dye=aye,fye=lye,hye=sye,pye={_tr_init:cye,_tr_stored_block:uye,_tr_flush_block:dye,_tr_tally:fye,_tr_align:hye};const mye=(e,t,n,r)=>{let i=e&65535|0,o=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var F1=mye;const gye=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},vye=new Uint32Array(gye()),yye=(e,t,n,r)=>{const i=vye,o=r+n;e^=-1;for(let s=r;s<o;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var di=yye,B0={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ay={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:bye,_tr_stored_block:tA,_tr_flush_block:xye,_tr_tally:yd,_tr_align:wye}=pye,{Z_NO_FLUSH:bd,Z_PARTIAL_FLUSH:_ye,Z_FULL_FLUSH:Sye,Z_FINISH:js,Z_BLOCK:$O,Z_OK:Ti,Z_STREAM_END:YO,Z_STREAM_ERROR:Pl,Z_DATA_ERROR:kye,Z_BUF_ERROR:Y3,Z_DEFAULT_COMPRESSION:Cye,Z_FILTERED:Nye,Z_HUFFMAN_ONLY:P2,Z_RLE:Aye,Z_FIXED:Eye,Z_DEFAULT_STRATEGY:Tye,Z_UNKNOWN:Pye,Z_DEFLATED:Q5}=Ay,Rye=9,jye=15,Dye=8,Iye=29,Oye=256,nA=Oye+1+Iye,Lye=30,Mye=19,Fye=2*nA+1,Bye=15,pn=3,Qu=258,Rl=Qu+pn+1,zye=32,z0=42,cP=57,rA=69,iA=73,oA=91,sA=103,Of=113,Fg=666,co=1,mm=2,xh=3,gm=4,Uye=3,Lf=(e,t)=>(e.msg=B0[t],t),JO=e=>e*2-(e>4?9:0),zu=e=>{let t=e.length;for(;--t>=0;)e[t]=0},qye=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let Hye=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,xd=Hye;const Zo=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},ss=(e,t)=>{xye(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Zo(e.strm)},An=(e,t)=>{e.pending_buf[e.pending++]=t},vg=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},aA=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=F1(e.adler,t,i,n):e.state.wrap===2&&(e.adler=di(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},uV=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,o,s=e.prev_length,a=e.nice_match;const l=e.strstart>e.w_size-Rl?e.strstart-(e.w_size-Rl):0,c=e.window,u=e.w_mask,d=e.prev,h=e.strstart+Qu;let f=c[r+s-1],m=c[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(i=t,!(c[i+s]!==m||c[i+s-1]!==f||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<h);if(o=Qu-(h-r),r=h-Qu,o>s){if(e.match_start=t,s=o,o>=a)break;f=c[r+s-1],m=c[r+s]}}while((t=d[t&u])>l&&--n!==0);return s<=e.lookahead?s:e.lookahead},U0=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Rl)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),qye(e),r+=t),e.strm.avail_in===0)break;if(n=aA(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=pn)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=xd(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=xd(e,e.ins_h,e.window[i+pn-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<pn)););}while(e.lookahead<Rl&&e.strm.avail_in!==0)},dV=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,o,s=0,a=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&t!==js||t===bd||r!==i+e.strm.avail_in)))break;s=t===js&&r===i+e.strm.avail_in?1:0,tA(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Zo(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(aA(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?gm:t!==bd&&t!==js&&e.strm.avail_in===0&&e.strstart===e.block_start?mm:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(aA(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,i=e.strstart-e.block_start,(i>=n||(i||t===js)&&t!==bd&&e.strm.avail_in===0&&i<=o)&&(r=i>o?o:i,s=t===js&&e.strm.avail_in===0&&r===i?1:0,tA(e,e.block_start,r,s),e.block_start+=r,Zo(e.strm)),s?xh:co)},J3=(e,t)=>{let n,r;for(;;){if(e.lookahead<Rl){if(U0(e),e.lookahead<Rl&&t===bd)return co;if(e.lookahead===0)break}if(n=0,e.lookahead>=pn&&(e.ins_h=xd(e,e.ins_h,e.window[e.strstart+pn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Rl&&(e.match_length=uV(e,n)),e.match_length>=pn)if(r=yd(e,e.strstart-e.match_start,e.match_length-pn),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pn){e.match_length--;do e.strstart++,e.ins_h=xd(e,e.ins_h,e.window[e.strstart+pn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xd(e,e.ins_h,e.window[e.strstart+1]);else r=yd(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ss(e,!1),e.strm.avail_out===0))return co}return e.insert=e.strstart<pn-1?e.strstart:pn-1,t===js?(ss(e,!0),e.strm.avail_out===0?xh:gm):e.sym_next&&(ss(e,!1),e.strm.avail_out===0)?co:mm},yp=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<Rl){if(U0(e),e.lookahead<Rl&&t===bd)return co;if(e.lookahead===0)break}if(n=0,e.lookahead>=pn&&(e.ins_h=xd(e,e.ins_h,e.window[e.strstart+pn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pn-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Rl&&(e.match_length=uV(e,n),e.match_length<=5&&(e.strategy===Nye||e.match_length===pn&&e.strstart-e.match_start>4096)&&(e.match_length=pn-1)),e.prev_length>=pn&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-pn,r=yd(e,e.strstart-1-e.prev_match,e.prev_length-pn),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=xd(e,e.ins_h,e.window[e.strstart+pn-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=pn-1,e.strstart++,r&&(ss(e,!1),e.strm.avail_out===0))return co}else if(e.match_available){if(r=yd(e,0,e.window[e.strstart-1]),r&&ss(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return co}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=yd(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pn-1?e.strstart:pn-1,t===js?(ss(e,!0),e.strm.avail_out===0?xh:gm):e.sym_next&&(ss(e,!1),e.strm.avail_out===0)?co:mm},Wye=(e,t)=>{let n,r,i,o;const s=e.window;for(;;){if(e.lookahead<=Qu){if(U0(e),e.lookahead<=Qu&&t===bd)return co;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=pn&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+Qu;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=Qu-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pn?(n=yd(e,1,e.match_length-pn),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=yd(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ss(e,!1),e.strm.avail_out===0))return co}return e.insert=0,t===js?(ss(e,!0),e.strm.avail_out===0?xh:gm):e.sym_next&&(ss(e,!1),e.strm.avail_out===0)?co:mm},Vye=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(U0(e),e.lookahead===0)){if(t===bd)return co;break}if(e.match_length=0,n=yd(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ss(e,!1),e.strm.avail_out===0))return co}return e.insert=0,t===js?(ss(e,!0),e.strm.avail_out===0?xh:gm):e.sym_next&&(ss(e,!1),e.strm.avail_out===0)?co:mm};function cl(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Bg=[new cl(0,0,0,0,dV),new cl(4,4,8,4,J3),new cl(4,5,16,8,J3),new cl(4,6,32,32,J3),new cl(4,4,16,16,yp),new cl(8,16,32,32,yp),new cl(8,16,128,128,yp),new cl(8,32,128,256,yp),new cl(32,128,258,1024,yp),new cl(32,258,258,4096,yp)],Kye=e=>{e.window_size=2*e.w_size,zu(e.head),e.max_lazy_match=Bg[e.level].max_lazy,e.good_match=Bg[e.level].good_length,e.nice_match=Bg[e.level].nice_length,e.max_chain_length=Bg[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pn-1,e.match_available=0,e.ins_h=0};function Gye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q5,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Fye*2),this.dyn_dtree=new Uint16Array((2*Lye+1)*2),this.bl_tree=new Uint16Array((2*Mye+1)*2),zu(this.dyn_ltree),zu(this.dyn_dtree),zu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Bye+1),this.heap=new Uint16Array(2*nA+1),zu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*nA+1),zu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ey=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==z0&&t.status!==cP&&t.status!==rA&&t.status!==iA&&t.status!==oA&&t.status!==sA&&t.status!==Of&&t.status!==Fg?1:0},fV=e=>{if(Ey(e))return Lf(e,Pl);e.total_in=e.total_out=0,e.data_type=Pye;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?cP:t.wrap?z0:Of,e.adler=t.wrap===2?0:1,t.last_flush=-2,bye(t),Ti},hV=e=>{const t=fV(e);return t===Ti&&Kye(e.state),t},Zye=(e,t)=>Ey(e)||e.state.wrap!==2?Pl:(e.state.gzhead=t,Ti),pV=(e,t,n,r,i,o)=>{if(!e)return Pl;let s=1;if(t===Cye&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>Rye||n!==Q5||r<8||r>15||t<0||t>9||o<0||o>Eye||r===8&&s!==1)return Lf(e,Pl);r===8&&(r=9);const a=new Gye;return e.state=a,a.strm=e,a.status=z0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+pn-1)/pn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=o,a.method=n,hV(e)},Xye=(e,t)=>pV(e,t,Q5,jye,Dye,Tye),$ye=(e,t)=>{if(Ey(e)||t>$O||t<0)return e?Lf(e,Pl):Pl;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Fg&&t!==js)return Lf(e,e.avail_out===0?Y3:Pl);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Zo(e),e.avail_out===0)return n.last_flush=-1,Ti}else if(e.avail_in===0&&JO(t)<=JO(r)&&t!==js)return Lf(e,Y3);if(n.status===Fg&&e.avail_in!==0)return Lf(e,Y3);if(n.status===z0&&n.wrap===0&&(n.status=Of),n.status===z0){let i=Q5+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=P2||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,i|=o<<6,n.strstart!==0&&(i|=zye),i+=31-i%31,vg(n,i),n.strstart!==0&&(vg(n,e.adler>>>16),vg(n,e.adler&65535)),e.adler=1,n.status=Of,Zo(e),n.pending!==0)return n.last_flush=-1,Ti}if(n.status===cP){if(e.adler=0,An(n,31),An(n,139),An(n,8),n.gzhead)An(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),An(n,n.gzhead.time&255),An(n,n.gzhead.time>>8&255),An(n,n.gzhead.time>>16&255),An(n,n.gzhead.time>>24&255),An(n,n.level===9?2:n.strategy>=P2||n.level<2?4:0),An(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(An(n,n.gzhead.extra.length&255),An(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=di(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=rA;else if(An(n,0),An(n,0),An(n,0),An(n,0),An(n,0),An(n,n.level===9?2:n.strategy>=P2||n.level<2?4:0),An(n,Uye),n.status=Of,Zo(e),n.pending!==0)return n.last_flush=-1,Ti}if(n.status===rA){if(n.gzhead.extra){let i=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=di(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=a,Zo(e),n.pending!==0)return n.last_flush=-1,Ti;i=0,o-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>i&&(e.adler=di(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=iA}if(n.status===iA){if(n.gzhead.name){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=di(e.adler,n.pending_buf,n.pending-i,i)),Zo(e),n.pending!==0)return n.last_flush=-1,Ti;i=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,An(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=di(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=oA}if(n.status===oA){if(n.gzhead.comment){let i=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=di(e.adler,n.pending_buf,n.pending-i,i)),Zo(e),n.pending!==0)return n.last_flush=-1,Ti;i=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,An(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=di(e.adler,n.pending_buf,n.pending-i,i))}n.status=sA}if(n.status===sA){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Zo(e),n.pending!==0))return n.last_flush=-1,Ti;An(n,e.adler&255),An(n,e.adler>>8&255),e.adler=0}if(n.status=Of,Zo(e),n.pending!==0)return n.last_flush=-1,Ti}if(e.avail_in!==0||n.lookahead!==0||t!==bd&&n.status!==Fg){let i=n.level===0?dV(n,t):n.strategy===P2?Vye(n,t):n.strategy===Aye?Wye(n,t):Bg[n.level].func(n,t);if((i===xh||i===gm)&&(n.status=Fg),i===co||i===xh)return e.avail_out===0&&(n.last_flush=-1),Ti;if(i===mm&&(t===_ye?wye(n):t!==$O&&(tA(n,0,0,!1),t===Sye&&(zu(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Zo(e),e.avail_out===0))return n.last_flush=-1,Ti}return t!==js?Ti:n.wrap<=0?YO:(n.wrap===2?(An(n,e.adler&255),An(n,e.adler>>8&255),An(n,e.adler>>16&255),An(n,e.adler>>24&255),An(n,e.total_in&255),An(n,e.total_in>>8&255),An(n,e.total_in>>16&255),An(n,e.total_in>>24&255)):(vg(n,e.adler>>>16),vg(n,e.adler&65535)),Zo(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ti:YO)},Yye=e=>{if(Ey(e))return Pl;const t=e.state.status;return e.state=null,t===Of?Lf(e,kye):Ti},Jye=(e,t)=>{let n=t.length;if(Ey(e))return Pl;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==z0||r.lookahead)return Pl;if(i===1&&(e.adler=F1(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(zu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,U0(r);r.lookahead>=pn;){let l=r.strstart,c=r.lookahead-(pn-1);do r.ins_h=xd(r,r.ins_h,r.window[l+pn-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=pn-1,U0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=pn-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,r.wrap=i,Ti};var Qye=Xye,ebe=pV,tbe=hV,nbe=fV,rbe=Zye,ibe=$ye,obe=Yye,sbe=Jye,abe="pako deflate (from Nodeca project)",Rv={deflateInit:Qye,deflateInit2:ebe,deflateReset:tbe,deflateResetKeep:nbe,deflateSetHeader:rbe,deflate:ibe,deflateEnd:obe,deflateSetDictionary:sbe,deflateInfo:abe};const lbe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var cbe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)lbe(n,r)&&(e[r]=n[r])}}return e},ube=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let s=e[r];n.set(s,i),i+=s.length}return n},eS={assign:cbe,flattenChunks:ube};let mV=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{mV=!1}const B1=new Uint8Array(256);for(let e=0;e<256;e++)B1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;B1[254]=B1[254]=1;var dbe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const fbe=(e,t)=>{if(t<65534&&e.subarray&&mV)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var hbe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const o=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){o[i++]=s;continue}let a=B1[s];if(a>4){o[i++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return fbe(o,i)},pbe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+B1[e[n]]>t?n:t},z1={string2buf:dbe,buf2string:hbe,utf8border:pbe};function mbe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var gV=mbe;const vV=Object.prototype.toString,{Z_NO_FLUSH:gbe,Z_SYNC_FLUSH:vbe,Z_FULL_FLUSH:ybe,Z_FINISH:bbe,Z_OK:__,Z_STREAM_END:xbe,Z_DEFAULT_COMPRESSION:wbe,Z_DEFAULT_STRATEGY:_be,Z_DEFLATED:Sbe}=Ay;function uP(e){this.options=eS.assign({level:wbe,method:Sbe,chunkSize:16384,windowBits:15,memLevel:8,strategy:_be},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gV,this.strm.avail_out=0;let n=Rv.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==__)throw new Error(B0[n]);if(t.header&&Rv.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=z1.string2buf(t.dictionary):vV.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Rv.deflateSetDictionary(this.strm,r),n!==__)throw new Error(B0[n]);this._dict_set=!0}}uP.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?bbe:gbe,typeof e=="string"?n.input=z1.string2buf(e):vV.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===vbe||o===ybe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=Rv.deflate(n,o),i===xbe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Rv.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===__;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};uP.prototype.onData=function(e){this.chunks.push(e)};uP.prototype.onEnd=function(e){e===__&&(this.result=eS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const R2=16209,kbe=16191;var Cbe=function(t,n){let r,i,o,s,a,l,c,u,d,h,f,m,g,y,v,x,_,S,k,T,P,N,A,D;const C=t.state;r=t.next_in,A=t.input,i=r+(t.avail_in-5),o=t.next_out,D=t.output,s=o-(n-t.avail_out),a=o+(t.avail_out-257),l=C.dmax,c=C.wsize,u=C.whave,d=C.wnext,h=C.window,f=C.hold,m=C.bits,g=C.lencode,y=C.distcode,v=(1<<C.lenbits)-1,x=(1<<C.distbits)-1;e:do{m<15&&(f+=A[r++]<<m,m+=8,f+=A[r++]<<m,m+=8),_=g[f&v];t:for(;;){if(S=_>>>24,f>>>=S,m-=S,S=_>>>16&255,S===0)D[o++]=_&65535;else if(S&16){k=_&65535,S&=15,S&&(m<S&&(f+=A[r++]<<m,m+=8),k+=f&(1<<S)-1,f>>>=S,m-=S),m<15&&(f+=A[r++]<<m,m+=8,f+=A[r++]<<m,m+=8),_=y[f&x];n:for(;;){if(S=_>>>24,f>>>=S,m-=S,S=_>>>16&255,S&16){if(T=_&65535,S&=15,m<S&&(f+=A[r++]<<m,m+=8,m<S&&(f+=A[r++]<<m,m+=8)),T+=f&(1<<S)-1,T>l){t.msg="invalid distance too far back",C.mode=R2;break e}if(f>>>=S,m-=S,S=o-s,T>S){if(S=T-S,S>u&&C.sane){t.msg="invalid distance too far back",C.mode=R2;break e}if(P=0,N=h,d===0){if(P+=c-S,S<k){k-=S;do D[o++]=h[P++];while(--S);P=o-T,N=D}}else if(d<S){if(P+=c+d-S,S-=d,S<k){k-=S;do D[o++]=h[P++];while(--S);if(P=0,d<k){S=d,k-=S;do D[o++]=h[P++];while(--S);P=o-T,N=D}}}else if(P+=d-S,S<k){k-=S;do D[o++]=h[P++];while(--S);P=o-T,N=D}for(;k>2;)D[o++]=N[P++],D[o++]=N[P++],D[o++]=N[P++],k-=3;k&&(D[o++]=N[P++],k>1&&(D[o++]=N[P++]))}else{P=o-T;do D[o++]=D[P++],D[o++]=D[P++],D[o++]=D[P++],k-=3;while(k>2);k&&(D[o++]=D[P++],k>1&&(D[o++]=D[P++]))}}else if(S&64){t.msg="invalid distance code",C.mode=R2;break e}else{_=y[(_&65535)+(f&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){C.mode=kbe;break e}else{t.msg="invalid literal/length code",C.mode=R2;break e}else{_=g[(_&65535)+(f&(1<<S)-1)];continue t}break}}while(r<i&&o<a);k=m>>3,r-=k,m-=k<<3,f&=(1<<m)-1,t.next_in=r,t.next_out=o,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=o<a?257+(a-o):257-(o-a),C.hold=f,C.bits=m};const bp=15,QO=852,eL=592,tL=0,Q3=1,nL=2,Nbe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Abe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ebe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Tbe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Pbe=(e,t,n,r,i,o,s,a)=>{const l=a.bits;let c=0,u=0,d=0,h=0,f=0,m=0,g=0,y=0,v=0,x=0,_,S,k,T,P,N=null,A;const D=new Uint16Array(bp+1),C=new Uint16Array(bp+1);let j=null,L,z,K;for(c=0;c<=bp;c++)D[c]=0;for(u=0;u<r;u++)D[t[n+u]]++;for(f=l,h=bp;h>=1&&D[h]===0;h--);if(f>h&&(f=h),h===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<h&&D[d]===0;d++);for(f<d&&(f=d),y=1,c=1;c<=bp;c++)if(y<<=1,y-=D[c],y<0)return-1;if(y>0&&(e===tL||h!==1))return-1;for(C[1]=0,c=1;c<bp;c++)C[c+1]=C[c]+D[c];for(u=0;u<r;u++)t[n+u]!==0&&(s[C[t[n+u]]++]=u);if(e===tL?(N=j=s,A=20):e===Q3?(N=Nbe,j=Abe,A=257):(N=Ebe,j=Tbe,A=0),x=0,u=0,c=d,P=o,m=f,g=0,k=-1,v=1<<f,T=v-1,e===Q3&&v>QO||e===nL&&v>eL)return 1;for(;;){L=c-g,s[u]+1<A?(z=0,K=s[u]):s[u]>=A?(z=j[s[u]-A],K=N[s[u]-A]):(z=96,K=0),_=1<<c-g,S=1<<m,d=S;do S-=_,i[P+(x>>g)+S]=L<<24|z<<16|K|0;while(S!==0);for(_=1<<c-1;x&_;)_>>=1;if(_!==0?(x&=_-1,x+=_):x=0,u++,--D[c]===0){if(c===h)break;c=t[n+s[u]]}if(c>f&&(x&T)!==k){for(g===0&&(g=f),P+=d,m=c-g,y=1<<m;m+g<h&&(y-=D[m+g],!(y<=0));)m++,y<<=1;if(v+=1<<m,e===Q3&&v>QO||e===nL&&v>eL)return 1;k=x&T,i[k]=f<<24|m<<16|P-o|0}}return x!==0&&(i[P+x]=c-g<<24|64<<16|0),a.bits=f,0};var jv=Pbe;const Rbe=0,yV=1,bV=2,{Z_FINISH:rL,Z_BLOCK:jbe,Z_TREES:j2,Z_OK:wh,Z_STREAM_END:Dbe,Z_NEED_DICT:Ibe,Z_STREAM_ERROR:ra,Z_DATA_ERROR:xV,Z_MEM_ERROR:wV,Z_BUF_ERROR:Obe,Z_DEFLATED:iL}=Ay,tS=16180,oL=16181,sL=16182,aL=16183,lL=16184,cL=16185,uL=16186,dL=16187,fL=16188,hL=16189,S_=16190,dc=16191,eC=16192,pL=16193,tC=16194,mL=16195,gL=16196,vL=16197,yL=16198,D2=16199,I2=16200,bL=16201,xL=16202,wL=16203,_L=16204,SL=16205,nC=16206,kL=16207,CL=16208,sr=16209,_V=16210,SV=16211,Lbe=852,Mbe=592,Fbe=15,Bbe=Fbe,NL=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function zbe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fh=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<tS||t.mode>SV?1:0},kV=e=>{if(Fh(e))return ra;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=tS,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Lbe),t.distcode=t.distdyn=new Int32Array(Mbe),t.sane=1,t.back=-1,wh},CV=e=>{if(Fh(e))return ra;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kV(e)},NV=(e,t)=>{let n;if(Fh(e))return ra;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ra:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,CV(e))},AV=(e,t)=>{if(!e)return ra;const n=new zbe;e.state=n,n.strm=e,n.window=null,n.mode=tS;const r=NV(e,t);return r!==wh&&(e.state=null),r},Ube=e=>AV(e,Bbe);let AL=!0,rC,iC;const qbe=e=>{if(AL){rC=new Int32Array(512),iC=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(jv(yV,e.lens,0,288,rC,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;jv(bV,e.lens,0,32,iC,0,e.work,{bits:5}),AL=!1}e.lencode=rC,e.lenbits=9,e.distcode=iC,e.distbits=5},EV=(e,t,n,r)=>{let i;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),r-=i,r?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Hbe=(e,t)=>{let n,r,i,o,s,a,l,c,u,d,h,f,m,g,y=0,v,x,_,S,k,T,P,N;const A=new Uint8Array(4);let D,C;const j=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fh(e)||!e.output||!e.input&&e.avail_in!==0)return ra;n=e.state,n.mode===dc&&(n.mode=eC),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,d=a,h=l,N=wh;e:for(;;)switch(n.mode){case tS:if(n.wrap===0){n.mode=eC;break}for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,A[0]=c&255,A[1]=c>>>8&255,n.check=di(n.check,A,2,0),c=0,u=0,n.mode=oL;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=sr;break}if((c&15)!==iL){e.msg="unknown compression method",n.mode=sr;break}if(c>>>=4,u-=4,P=(c&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){e.msg="invalid window size",n.mode=sr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?hL:dc,c=0,u=0;break;case oL:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==iL){e.msg="unknown compression method",n.mode=sr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=sr;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,n.check=di(n.check,A,2,0)),c=0,u=0,n.mode=sL;case sL:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,A[2]=c>>>16&255,A[3]=c>>>24&255,n.check=di(n.check,A,4,0)),c=0,u=0,n.mode=aL;case aL:for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,n.check=di(n.check,A,2,0)),c=0,u=0,n.mode=lL;case lL:if(n.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(A[0]=c&255,A[1]=c>>>8&255,n.check=di(n.check,A,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=cL;case cL:if(n.flags&1024&&(f=n.length,f>a&&(f=a),f&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),P)),n.flags&512&&n.wrap&4&&(n.check=di(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=uL;case uL:if(n.flags&2048){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=di(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=dL;case dL:if(n.flags&4096){if(a===0)break e;f=0;do P=r[o+f++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&f<a);if(n.flags&512&&n.wrap&4&&(n.check=di(n.check,r,f,o)),a-=f,o+=f,P)break e}else n.head&&(n.head.comment=null);n.mode=fL;case fL:if(n.flags&512){for(;u<16;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=sr;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=dc;break;case hL:for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}e.adler=n.check=NL(c),c=0,u=0,n.mode=S_;case S_:if(n.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,Ibe;e.adler=n.check=1,n.mode=dc;case dc:if(t===jbe||t===j2)break e;case eC:if(n.last){c>>>=u&7,u-=u&7,n.mode=nC;break}for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=pL;break;case 1:if(qbe(n),n.mode=D2,t===j2){c>>>=2,u-=2;break e}break;case 2:n.mode=gL;break;case 3:e.msg="invalid block type",n.mode=sr}c>>>=2,u-=2;break;case pL:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=sr;break}if(n.length=c&65535,c=0,u=0,n.mode=tC,t===j2)break e;case tC:n.mode=mL;case mL:if(f=n.length,f){if(f>a&&(f=a),f>l&&(f=l),f===0)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,l-=f,s+=f,n.length-=f;break}n.mode=dc;break;case gL:for(;u<14;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=sr;break}n.have=0,n.mode=vL;case vL:for(;n.have<n.ncode;){for(;u<3;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.lens[j[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,D={bits:n.lenbits},N=jv(Rbe,n.lens,0,19,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid code lengths set",n.mode=sr;break}n.have=0,n.mode=yL;case yL:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(_<16)c>>>=v,u-=v,n.lens[n.have++]=_;else{if(_===16){for(C=v+2;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(c>>>=v,u-=v,n.have===0){e.msg="invalid bit length repeat",n.mode=sr;break}P=n.lens[n.have-1],f=3+(c&3),c>>>=2,u-=2}else if(_===17){for(C=v+3;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=3+(c&7),c>>>=3,u-=3}else{for(C=v+7;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=v,u-=v,P=0,f=11+(c&127),c>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=sr;break}for(;f--;)n.lens[n.have++]=P}}if(n.mode===sr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=sr;break}if(n.lenbits=9,D={bits:n.lenbits},N=jv(yV,n.lens,0,n.nlen,n.lencode,0,n.work,D),n.lenbits=D.bits,N){e.msg="invalid literal/lengths set",n.mode=sr;break}if(n.distbits=6,n.distcode=n.distdyn,D={bits:n.distbits},N=jv(bV,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,D),n.distbits=D.bits,N){e.msg="invalid distances set",n.mode=sr;break}if(n.mode=D2,t===j2)break e;case D2:n.mode=I2;case I2:if(a>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,Cbe(e,h),s=e.next_out,i=e.output,l=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,c=n.hold,u=n.bits,n.mode===dc&&(n.back=-1);break}for(n.back=0;y=n.lencode[c&(1<<n.lenbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(x&&!(x&240)){for(S=v,k=x,T=_;y=n.lencode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,n.length=_,x===0){n.mode=SL;break}if(x&32){n.back=-1,n.mode=dc;break}if(x&64){e.msg="invalid literal/length code",n.mode=sr;break}n.extra=x&15,n.mode=bL;case bL:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=xL;case xL:for(;y=n.distcode[c&(1<<n.distbits)-1],v=y>>>24,x=y>>>16&255,_=y&65535,!(v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(!(x&240)){for(S=v,k=x,T=_;y=n.distcode[T+((c&(1<<S+k)-1)>>S)],v=y>>>24,x=y>>>16&255,_=y&65535,!(S+v<=u);){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}c>>>=S,u-=S,n.back+=S}if(c>>>=v,u-=v,n.back+=v,x&64){e.msg="invalid distance code",n.mode=sr;break}n.offset=_,n.extra=x&15,n.mode=wL;case wL:if(n.extra){for(C=n.extra;u<C;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=sr;break}n.mode=_L;case _L:if(l===0)break e;if(f=h-l,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=sr;break}f>n.wnext?(f-=n.wnext,m=n.wsize-f):m=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,m=s-n.offset,f=n.length;f>l&&(f=l),l-=f,n.length-=f;do i[s++]=g[m++];while(--f);n.length===0&&(n.mode=I2);break;case SL:if(l===0)break e;i[s++]=n.length,l--,n.mode=I2;break;case nC:if(n.wrap){for(;u<32;){if(a===0)break e;a--,c|=r[o++]<<u,u+=8}if(h-=l,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?di(n.check,i,h,s-h):F1(n.check,i,h,s-h)),h=l,n.wrap&4&&(n.flags?c:NL(c))!==n.check){e.msg="incorrect data check",n.mode=sr;break}c=0,u=0}n.mode=kL;case kL:if(n.wrap&&n.flags){for(;u<32;){if(a===0)break e;a--,c+=r[o++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=sr;break}c=0,u=0}n.mode=CL;case CL:N=Dbe;break e;case sr:N=xV;break e;case _V:return wV;case SV:default:return ra}return e.next_out=s,e.avail_out=l,e.next_in=o,e.avail_in=a,n.hold=c,n.bits=u,(n.wsize||h!==e.avail_out&&n.mode<sr&&(n.mode<nC||t!==rL))&&EV(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,n.wrap&4&&h&&(e.adler=n.check=n.flags?di(n.check,i,h,e.next_out-h):F1(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===dc?128:0)+(n.mode===D2||n.mode===tC?256:0),(d===0&&h===0||t===rL)&&N===wh&&(N=Obe),N},Wbe=e=>{if(Fh(e))return ra;let t=e.state;return t.window&&(t.window=null),e.state=null,wh},Vbe=(e,t)=>{if(Fh(e))return ra;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,wh):ra},Kbe=(e,t)=>{const n=t.length;let r,i,o;return Fh(e)||(r=e.state,r.wrap!==0&&r.mode!==S_)?ra:r.mode===S_&&(i=1,i=F1(i,t,n,0),i!==r.check)?xV:(o=EV(e,t,n,n),o?(r.mode=_V,wV):(r.havedict=1,wh))};var Gbe=CV,Zbe=NV,Xbe=kV,$be=Ube,Ybe=AV,Jbe=Hbe,Qbe=Wbe,e2e=Vbe,t2e=Kbe,n2e="pako inflate (from Nodeca project)",kc={inflateReset:Gbe,inflateReset2:Zbe,inflateResetKeep:Xbe,inflateInit:$be,inflateInit2:Ybe,inflate:Jbe,inflateEnd:Qbe,inflateGetHeader:e2e,inflateSetDictionary:t2e,inflateInfo:n2e};function r2e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var i2e=r2e;const TV=Object.prototype.toString,{Z_NO_FLUSH:o2e,Z_FINISH:s2e,Z_OK:U1,Z_STREAM_END:oC,Z_NEED_DICT:sC,Z_STREAM_ERROR:a2e,Z_DATA_ERROR:EL,Z_MEM_ERROR:l2e}=Ay;function Ty(e){this.options=eS.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new gV,this.strm.avail_out=0;let n=kc.inflateInit2(this.strm,t.windowBits);if(n!==U1)throw new Error(B0[n]);if(this.header=new i2e,kc.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=z1.string2buf(t.dictionary):TV.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=kc.inflateSetDictionary(this.strm,t.dictionary),n!==U1)))throw new Error(B0[n])}Ty.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?s2e:o2e,TV.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=kc.inflate(n,s),o===sC&&i&&(o=kc.inflateSetDictionary(n,i),o===U1?o=kc.inflate(n,s):o===EL&&(o=sC));n.avail_in>0&&o===oC&&n.state.wrap>0&&e[n.next_in]!==0;)kc.inflateReset(n),o=kc.inflate(n,s);switch(o){case a2e:case EL:case sC:case l2e:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||o===oC))if(this.options.to==="string"){let l=z1.utf8border(n.output,n.next_out),c=n.next_out-l,u=z1.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===U1&&a===0)){if(o===oC)return o=kc.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Ty.prototype.onData=function(e){this.chunks.push(e)};Ty.prototype.onEnd=function(e){e===U1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function dP(e,t){const n=new Ty(t);if(n.push(e),n.err)throw n.msg||B0[n.err];return n.result}function c2e(e,t){return t=t||{},t.raw=!0,dP(e,t)}var u2e=Ty,d2e=dP,f2e=c2e,h2e=dP,p2e=Ay,m2e={Inflate:u2e,inflate:d2e,inflateRaw:f2e,ungzip:h2e,constants:p2e};const{Inflate:g2e,inflate:v2e,inflateRaw:M_e,ungzip:F_e}=m2e;var TL=g2e,y2e=v2e;const PV=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;PV[e]=t}const PL=4294967295;function b2e(e,t,n){let r=e;for(let i=0;i<n;i++)r=PV[(r^t[i])&255]^r>>>8;return r}function x2e(e,t){return(b2e(PL,e,t)^PL)>>>0}function RL(e,t,n){const r=e.readUint32(),i=x2e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function RV(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function jV(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function DV(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function IV(e,t,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)t[o]=e[o];for(;o<r;o++)t[o]=e[o]+(t[o-i]>>1)&255}else{for(;o<i;o++)t[o]=e[o]+(n[o]>>1)&255;for(;o<r;o++)t[o]=e[o]+(t[o-i]+n[o]>>1)&255}}function OV(e,t,n,r,i){let o=0;if(n.length===0){for(;o<i;o++)t[o]=e[o];for(;o<r;o++)t[o]=e[o]+t[o-i]&255}else{for(;o<i;o++)t[o]=e[o]+n[o]&255;for(;o<r;o++)t[o]=e[o]+w2e(t[o-i],n[o],n[o-i])&255}}function w2e(e,t,n){const r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),s=Math.abs(r-n);return i<=o&&i<=s?e:o<=s?t:n}function _2e(e,t,n,r,i,o){switch(e){case 0:RV(t,n,i);break;case 1:jV(t,n,i,o);break;case 2:DV(t,n,r,i);break;case 3:IV(t,n,r,i,o);break;case 4:OV(t,n,r,i,o);break;default:throw new Error(`Unsupported filter: ${e}`)}}const S2e=new Uint16Array([255]),k2e=new Uint8Array(S2e.buffer),C2e=k2e[0]===255;function N2e(e){const{data:t,width:n,height:r,channels:i,depth:o}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(r*n*a);let c=0;for(let u=0;u<7;u++){const d=s[u],h=Math.ceil((n-d.x)/d.xStep),f=Math.ceil((r-d.y)/d.yStep);if(h<=0||f<=0)continue;const m=h*a,g=new Uint8Array(m);for(let y=0;y<f;y++){const v=t[c++],x=t.subarray(c,c+m);c+=m;const _=new Uint8Array(m);_2e(v,x,_,g,m,a),g.set(_);for(let S=0;S<h;S++){const k=d.x+S*d.xStep,T=d.y+y*d.yStep;if(!(k>=n||T>=r))for(let P=0;P<a;P++)l[(T*n+k)*a+P]=_[S*a+P]}}}if(o===16){const u=new Uint16Array(l.buffer);if(C2e)for(let d=0;d<u.length;d++)u[d]=A2e(u[d]);return u}else return l}function A2e(e){return(e&255)<<8|e>>8&255}const E2e=new Uint16Array([255]),T2e=new Uint8Array(E2e.buffer),P2e=T2e[0]===255,R2e=new Uint8Array(0);function jL(e){const{data:t,width:n,height:r,channels:i,depth:o}=e,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*n),l=new Uint8Array(r*a);let c=R2e,u=0,d,h;for(let f=0;f<r;f++){switch(d=t.subarray(u+1,u+1+a),h=l.subarray(f*a,(f+1)*a),t[u]){case 0:RV(d,h,a);break;case 1:jV(d,h,a,s);break;case 2:DV(d,h,c,a);break;case 3:IV(d,h,c,a,s);break;case 4:OV(d,h,c,a,s);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=h,u+=a+1}if(o===16){const f=new Uint16Array(l.buffer);if(P2e)for(let m=0;m<f.length;m++)f[m]=j2e(f[m]);return f}else return l}function j2e(e){return(e&255)<<8|e>>8&255}const Px=Uint8Array.of(137,80,78,71,13,10,26,10);function DL(e){if(!D2e(e.readBytes(Px.length)))throw new Error("wrong PNG signature")}function D2e(e){if(e.length<Px.length)return!1;for(let t=0;t<Px.length;t++)if(e[t]!==Px[t])return!1;return!0}const I2e="tEXt",O2e=0,LV=new TextDecoder("latin1");function L2e(e){if(F2e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const M2e=/^[\u0000-\u00FF]*$/;function F2e(e){if(!M2e.test(e))throw new Error("invalid latin1 text")}function B2e(e,t,n){const r=MV(t);e[r]=z2e(t,n-r.length-1)}function MV(e){for(e.mark();e.readByte()!==O2e;);const t=e.offset;e.reset();const n=LV.decode(e.readBytes(t-e.offset-1));return e.skip(1),L2e(n),n}function z2e(e,t){return LV.decode(e.readBytes(t))}const Go={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},aC={UNKNOWN:-1,DEFLATE:0},IL={UNKNOWN:-1,ADAPTIVE:0},lC={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},O2={NONE:0,BACKGROUND:1,PREVIOUS:2},cC={SOURCE:0,OVER:1};class U2e extends iP{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new TL,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=aC.UNKNOWN,this._filterMethod=IL.UNKNOWN,this._interlaceMethod=lC.UNKNOWN,this._colorType=Go.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DL(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(DL(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case I2e:B2e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RL(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?RL(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=q2e(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case Go.GREYSCALE:r=1;break;case Go.TRUECOLOUR:r=3;break;case Go.INDEXED_COLOUR:r=1;break;case Go.GREYSCALE_ALPHA:r=2;break;case Go.TRUECOLOUR_ALPHA:r=4;break;case Go.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==aC.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Go.GREYSCALE:case Go.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case Go.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Go.UNKNOWN:case Go.GREYSCALE_ALPHA:case Go.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=MV(this),r=this.readUint8();if(r!==aC.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:y2e(i)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=jL({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case O2.NONE:break;case O2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const s=(i*t.width+o)*this._png.channels;for(let a=0;a<this._png.channels;a++)r.data[s+a]=0}break;case O2.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const r=1<<this._png.depth,i=(o,s)=>{const a=((o+n.yOffset)*this._png.width+n.xOffset+s)*this._png.channels,l=(o*n.width+s)*this._png.channels;return{index:a,frameIndex:l}};switch(n.blendOp){case cC.SOURCE:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++)t.data[a+c]=n.data[l+c]}break;case cC.OVER:for(let o=0;o<n.height;o++)for(let s=0;s<n.width;s++){const{index:a,frameIndex:l}=i(o,s);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/r,d=c%(this._png.channels-1)===0?1:n.data[l+c],h=Math.floor(u*d+(1-u)*t.data[a+c]);t.data[a+c]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==IL.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===lC.NO_INTERLACE)this._png.data=jL({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===lC.ADAM7)this._png.data=N2e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:O2.NONE,blendOp:cC.SOURCE,data:t}),this._inflator=new TL,this._writingDataChunks=!1}}function q2e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var OL;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(OL||(OL={}));function H2e(e,t){return new U2e(e,t).decode()}var Mt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function uC(){Mt.console&&typeof Mt.console.log=="function"&&Mt.console.log.apply(Mt.console,arguments)}var Hn={log:uC,warn:function(e){Mt.console&&(typeof Mt.console.warn=="function"?Mt.console.warn.apply(Mt.console,arguments):uC.call(null,arguments))},error:function(e){Mt.console&&(typeof Mt.console.error=="function"?Mt.console.error.apply(Mt.console,arguments):uC(e))}};function dC(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){mf(r.response,t,n)},r.onerror=function(){Hn.error("could not download file")},r.send()}function LL(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function L2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var mf=Mt.saveAs||((typeof window>"u"?"undefined":Mn(window))!=="object"||window!==Mt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Mt.URL||Mt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?LL(i.href)?dC(e,t,n):L2(i,i.target="_blank"):L2(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){L2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(LL(e))dC(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){L2(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Mn(o)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return dC(e,t,n);var i=e.type==="application/octet-stream",o=/constructor/i.test(Mt.HTMLElement)||Mt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Mn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(e)}else{var l=Mt.URL||Mt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function FV(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(e);s&&(t=o(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var Rx=Mt.atob.bind(Mt),ML=Mt.btoa.bind(Mt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function fC(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=qi(n,r,i,o,t[0],7,-680876936),o=qi(o,n,r,i,t[1],12,-389564586),i=qi(i,o,n,r,t[2],17,606105819),r=qi(r,i,o,n,t[3],22,-1044525330),n=qi(n,r,i,o,t[4],7,-176418897),o=qi(o,n,r,i,t[5],12,1200080426),i=qi(i,o,n,r,t[6],17,-1473231341),r=qi(r,i,o,n,t[7],22,-45705983),n=qi(n,r,i,o,t[8],7,1770035416),o=qi(o,n,r,i,t[9],12,-1958414417),i=qi(i,o,n,r,t[10],17,-42063),r=qi(r,i,o,n,t[11],22,-1990404162),n=qi(n,r,i,o,t[12],7,1804603682),o=qi(o,n,r,i,t[13],12,-40341101),i=qi(i,o,n,r,t[14],17,-1502002290),n=Hi(n,r=qi(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=Hi(o,n,r,i,t[6],9,-1069501632),i=Hi(i,o,n,r,t[11],14,643717713),r=Hi(r,i,o,n,t[0],20,-373897302),n=Hi(n,r,i,o,t[5],5,-701558691),o=Hi(o,n,r,i,t[10],9,38016083),i=Hi(i,o,n,r,t[15],14,-660478335),r=Hi(r,i,o,n,t[4],20,-405537848),n=Hi(n,r,i,o,t[9],5,568446438),o=Hi(o,n,r,i,t[14],9,-1019803690),i=Hi(i,o,n,r,t[3],14,-187363961),r=Hi(r,i,o,n,t[8],20,1163531501),n=Hi(n,r,i,o,t[13],5,-1444681467),o=Hi(o,n,r,i,t[2],9,-51403784),i=Hi(i,o,n,r,t[7],14,1735328473),n=Wi(n,r=Hi(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=Wi(o,n,r,i,t[8],11,-2022574463),i=Wi(i,o,n,r,t[11],16,1839030562),r=Wi(r,i,o,n,t[14],23,-35309556),n=Wi(n,r,i,o,t[1],4,-1530992060),o=Wi(o,n,r,i,t[4],11,1272893353),i=Wi(i,o,n,r,t[7],16,-155497632),r=Wi(r,i,o,n,t[10],23,-1094730640),n=Wi(n,r,i,o,t[13],4,681279174),o=Wi(o,n,r,i,t[0],11,-358537222),i=Wi(i,o,n,r,t[3],16,-722521979),r=Wi(r,i,o,n,t[6],23,76029189),n=Wi(n,r,i,o,t[9],4,-640364487),o=Wi(o,n,r,i,t[12],11,-421815835),i=Wi(i,o,n,r,t[15],16,530742520),n=Vi(n,r=Wi(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=Vi(o,n,r,i,t[7],10,1126891415),i=Vi(i,o,n,r,t[14],15,-1416354905),r=Vi(r,i,o,n,t[5],21,-57434055),n=Vi(n,r,i,o,t[12],6,1700485571),o=Vi(o,n,r,i,t[3],10,-1894986606),i=Vi(i,o,n,r,t[10],15,-1051523),r=Vi(r,i,o,n,t[1],21,-2054922799),n=Vi(n,r,i,o,t[8],6,1873313359),o=Vi(o,n,r,i,t[15],10,-30611744),i=Vi(i,o,n,r,t[6],15,-1560198380),r=Vi(r,i,o,n,t[13],21,1309151649),n=Vi(n,r,i,o,t[4],6,-145523070),o=Vi(o,n,r,i,t[11],10,-1120210379),i=Vi(i,o,n,r,t[2],15,718787259),r=Vi(r,i,o,n,t[9],21,-343485551),e[0]=ed(n,e[0]),e[1]=ed(r,e[1]),e[2]=ed(i,e[2]),e[3]=ed(o,e[3])}function nS(e,t,n,r,i,o){return t=ed(ed(t,e),ed(r,o)),ed(t<<i|t>>>32-i,n)}function qi(e,t,n,r,i,o,s){return nS(t&n|~t&r,e,t,i,o,s)}function Hi(e,t,n,r,i,o,s){return nS(t&r|n&~r,e,t,i,o,s)}function Wi(e,t,n,r,i,o,s){return nS(t^n^r,e,t,i,o,s)}function Vi(e,t,n,r,i,o,s){return nS(n^(t|~r),e,t,i,o,s)}function BV(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)fC(r,W2e(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(fC(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,fC(r,i),r}function W2e(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var FL="0123456789abcdef".split("");function V2e(e){for(var t="",n=0;n<4;n++)t+=FL[e>>8*n+4&15]+FL[e>>8*n&15];return t}function K2e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function lA(e){return BV(e).map(K2e).join("")}var G2e=function(e){for(var t=0;t<e.length;t++)e[t]=V2e(e[t]);return e.join("")}(BV("hello"))!="5d41402abc4b2a76b9719d911017c592";function ed(e,t){if(G2e){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cA(e,t){var n,r,i,o;if(e!==n){for(var s=(i=e,o=1+(256/e.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}n=e,r=a}else a=r;var d=t.length,h=0,f=0,m="";for(l=0;l<d;l++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,s=a[(a[h]+a[f])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var BL={print:4,modify:8,copy:16,"annot-forms":32};function Ep(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(a){if(BL.perm!==void 0)throw new Error("Invalid permission: "+a);i+=BL[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=lA(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cA(this.encryptionKey,this.padding)}function Tp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function zL(e){if(Mn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var o=Math.random().toString(35);return t[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in t[n]){var s=t[n][o];try{s[0].apply(e,r)}catch(a){Mt.console&&Hn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function k_(e){if(!(this instanceof k_))return new k_(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function zV(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xf(e,t,n,r,i){if(!(this instanceof xf))return new xf(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,zV.call(this,r,i)}function Xp(e,t,n,r,i){if(!(this instanceof Xp))return new Xp(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,zV.call(this,r,i)}function Nt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;Mn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,o=e.compress||e.compressPdf||o,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=zL;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(E){m=E};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return y};var v=f.__private__.getPageFormat=function(E){return y[E]};i=i||"a4";var x="compat",_="advanced",S=x;function k(){this.saveGraphicsState(),G(new ot(pt,0,0,-pt,0,Xd()*pt).toString()+" cm"),this.setFontSize(this.getFontSize()/pt),c="n",S=_}function T(){this.restoreGraphicsState(),c="S",S=x}var P=f.__private__.combineFontStyleAndFontWeight=function(E,F){if(E=="bold"&&F=="normal"||E=="bold"&&F==400||E=="normal"&&F=="italic"||E=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(E=F==400||F==="normal"?E==="italic"?"italic":"normal":F!=700&&F!=="bold"||E!=="normal"?(F==700?"bold":F)+""+E:"bold"),E};f.advancedAPI=function(E){var F=S===x;return F&&k.call(this),typeof E!="function"||(E(this),F&&T.call(this)),this},f.compatAPI=function(E){var F=S===_;return F&&T.call(this),typeof E!="function"||(E(this),F&&k.call(this)),this},f.isAdvancedAPI=function(){return S===_};var N,A=function(E){if(S!==_)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=f.roundToPrecision=f.__private__.roundToPrecision=function(E,F){var re=t||F;if(isNaN(E)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(re).replace(/0+$/,"")};N=f.hpf=f.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return D(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return D(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return D(E,16)};var C=f.f2=f.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return D(E,2)},j=f.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return D(E,3)},L=f.scale=f.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return S===x?E*pt:S===_?E:void 0},z=function(E){return L(function(F){return S===x?Xd()-F:S===_?F:void 0}(E))};f.__private__.setPrecision=f.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var K,H="00000000000000000000000000000000",Z=f.__private__.getFileId=function(){return H},W=f.__private__.setFileId=function(E){return H=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Vr=new Ep(u.userPermissions,u.userPassword,u.ownerPassword,H)),H};f.setFileId=function(E){return W(E),this},f.getFileId=function(){return Z()};var Y=f.__private__.convertDateToPDFDate=function(E){var F=E.getTimezoneOffset(),re=F<0?"+":"-",se=Math.floor(Math.abs(F/60)),me=Math.abs(F%60),Re=[re,Q(se),"'",Q(me),"'"].join("");return["D:",E.getFullYear(),Q(E.getMonth()+1),Q(E.getDate()),Q(E.getHours()),Q(E.getMinutes()),Q(E.getSeconds()),Re].join("")},le=f.__private__.convertPDFDateToDate=function(E){var F=parseInt(E.substr(2,4),10),re=parseInt(E.substr(6,2),10)-1,se=parseInt(E.substr(8,2),10),me=parseInt(E.substr(10,2),10),Re=parseInt(E.substr(12,2),10),Ue=parseInt(E.substr(14,2),10);return new Date(F,re,se,me,Re,Ue,0)},fe=f.__private__.setCreationDate=function(E){var F;if(E===void 0&&(E=new Date),E instanceof Date)F=Y(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=E}return K=F},M=f.__private__.getCreationDate=function(E){var F=K;return E==="jsDate"&&(F=le(K)),F};f.setCreationDate=function(E){return fe(E),this},f.getCreationDate=function(E){return M(E)};var $,Q=f.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ie=f.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},oe=0,de=[],pe=[],ae=0,ue=[],_e=[],Se=!1,Ne=pe;f.__private__.setCustomOutputDestination=function(E){Se=!0,Ne=E};var Xe=function(E){Se||(Ne=E)};f.__private__.resetCustomOutputDestination=function(){Se=!1,Ne=pe};var G=f.__private__.out=function(E){return E=E.toString(),ae+=E.length+1,Ne.push(E),Ne},We=f.__private__.write=function(E){return G(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},xt=f.__private__.getArrayBuffer=function(E){for(var F=E.length,re=new ArrayBuffer(F),se=new Uint8Array(re);F--;)se[F]=E.charCodeAt(F);return re},at=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return at};var Ie=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(E){return Ie=S===_?E/pt:E,this};var Ae,ke=f.__private__.getFontSize=f.getFontSize=function(){return S===x?Ie:Ie*pt},Oe=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(E){return Oe=E,this},f.__private__.getR2L=f.getR2L=function(){return Oe};var Le,Ce=f.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))Ae=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');Ae=E}else Ae=parseInt(E,10)};f.__private__.getZoomMode=function(){return Ae};var Me,Be=f.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Le=E};f.__private__.getPageMode=function(){return Le};var De=f.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Me=E};f.__private__.getLayoutMode=function(){return Me},f.__private__.setDisplayMode=f.setDisplayMode=function(E,F,re){return Ce(E),De(F),Be(re),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(E){if(Object.keys(it).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[E]},f.__private__.getDocumentProperties=function(){return it},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(E){for(var F in it)it.hasOwnProperty(F)&&E[F]&&(it[F]=E[F]);return this},f.__private__.setDocumentProperty=function(E,F){if(Object.keys(it).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[E]=F};var $e,pt,tt,jn,nn,be={},ze={},nt=[],Je={},dt={},st={},mt={},cn=null,Bt=0,vt=[],Qe=new zL(f),It=e.hotfixes||[],Kt={},Wr={},ur=[],ot=function E(F,re,se,me,Re,Ue){if(!(this instanceof E))return new E(F,re,se,me,Re,Ue);isNaN(F)&&(F=1),isNaN(re)&&(re=0),isNaN(se)&&(se=0),isNaN(me)&&(me=1),isNaN(Re)&&(Re=0),isNaN(Ue)&&(Ue=0),this._matrix=[F,re,se,me,Re,Ue]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(E)},ot.prototype.multiply=function(E){var F=E.sx*this.sx+E.shy*this.shx,re=E.sx*this.shy+E.shy*this.sy,se=E.shx*this.sx+E.sy*this.shx,me=E.shx*this.shy+E.sy*this.sy,Re=E.tx*this.sx+E.ty*this.shx+this.tx,Ue=E.tx*this.shy+E.ty*this.sy+this.ty;return new ot(F,re,se,me,Re,Ue)},ot.prototype.decompose=function(){var E=this.sx,F=this.shy,re=this.shx,se=this.sy,me=this.tx,Re=this.ty,Ue=Math.sqrt(E*E+F*F),gt=(E/=Ue)*re+(F/=Ue)*se;re-=E*gt,se-=F*gt;var wt=Math.sqrt(re*re+se*se);return gt/=wt,E*(se/=wt)<F*(re/=wt)&&(E=-E,F=-F,gt=-gt,Ue=-Ue),{scale:new ot(Ue,0,0,wt,0,0),translate:new ot(1,0,0,1,me,Re),rotate:new ot(E,F,-F,E,0,0),skew:new ot(1,0,gt,1,0,0)}},ot.prototype.toString=function(E){return this.join(" ")},ot.prototype.inversed=function(){var E=this.sx,F=this.shy,re=this.shx,se=this.sy,me=this.tx,Re=this.ty,Ue=1/(E*se-F*re),gt=se*Ue,wt=-F*Ue,zt=-re*Ue,Yt=E*Ue;return new ot(gt,wt,zt,Yt,-gt*me-zt*Re,-wt*me-Yt*Re)},ot.prototype.applyToPoint=function(E){var F=E.x*this.sx+E.y*this.shx+this.tx,re=E.x*this.shy+E.y*this.sy+this.ty;return new Gl(F,re)},ot.prototype.applyToRectangle=function(E){var F=this.applyToPoint(E),re=this.applyToPoint(new Gl(E.x+E.w,E.y+E.h));return new Cm(F.x,F.y,re.x-F.x,re.y-F.y)},ot.prototype.clone=function(){var E=this.sx,F=this.shy,re=this.shx,se=this.sy,me=this.tx,Re=this.ty;return new ot(E,F,re,se,me,Re)},f.Matrix=ot;var lt=f.matrixMult=function(E,F){return F.multiply(E)},vn=new ot(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=vn;var xo=function(E,F){if(!dt[E]){var re=(F instanceof xf?"Sh":"P")+(Object.keys(Je).length+1).toString(10);F.id=re,dt[E]=re,Je[re]=F,Qe.publish("addPattern",F)}};f.ShadingPattern=xf,f.TilingPattern=Xp,f.addShadingPattern=function(E,F){return A("addShadingPattern()"),xo(E,F),this},f.beginTilingPattern=function(E){A("beginTilingPattern()"),Nm(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},f.endTilingPattern=function(E,F){A("endTilingPattern()"),F.stream=_e[$].join(`
`),xo(E,F),Qe.publish("endTilingPattern",F),ur.pop().restore()};var ps,vr=f.__private__.newObject=function(){var E=ui();return wi(E,!0),E},ui=f.__private__.newObjectDeferred=function(){return oe++,de[oe]=function(){return ae},oe},wi=function(E,F){return F=typeof F=="boolean"&&F,de[E]=ae,F&&G(E+" 0 obj"),E},qd=f.__private__.newAdditionalObject=function(){var E={objId:ui(),content:""};return ue.push(E),E},Kc=ui(),aa=ui(),Ga=f.__private__.decodeColorString=function(E){var F=E.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length!==5||F[4]!=="k"&&F[4]!=="K"||(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var re=parseFloat(F[0]);F=[re,re,re,"r"]}for(var se="#",me=0;me<3;me++)se+=("0"+Math.floor(255*parseFloat(F[me])).toString(16)).slice(-2);return se},la=f.__private__.encodeColorString=function(E){var F;typeof E=="string"&&(E={ch1:E});var re=E.ch1,se=E.ch2,me=E.ch3,Re=E.ch4,Ue=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var gt=new FV(re);if(gt.ok)re=gt.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var wt=parseInt(re.substr(1),16);re=wt>>16&255,se=wt>>8&255,me=255&wt}if(se===void 0||Re===void 0&&re===se&&se===me)F=typeof re=="string"?re+" "+Ue[0]:E.precision===2?C(re/255)+" "+Ue[0]:j(re/255)+" "+Ue[0];else if(Re===void 0||Mn(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return["1.","1.","1.",Ue[1]].join(" ");F=typeof re=="string"?[re,se,me,Ue[1]].join(" "):E.precision===2?[C(re/255),C(se/255),C(me/255),Ue[1]].join(" "):[j(re/255),j(se/255),j(me/255),Ue[1]].join(" ")}else F=typeof re=="string"?[re,se,me,Re,Ue[2]].join(" "):E.precision===2?[C(re),C(se),C(me),C(Re),Ue[2]].join(" "):[j(re),j(se),j(me),j(Re),Ue[2]].join(" ");return F},ca=f.__private__.getFilters=function(){return s},ms=f.__private__.putStream=function(E){var F=(E=E||{}).data||"",re=E.filters||ca(),se=E.alreadyAppliedFilters||[],me=E.addLength1||!1,Re=F.length,Ue=E.objectId,gt=function(Kr){return Kr};if(u!==null&&Ue===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(gt=Vr.encryptor(Ue,0));var wt={};re===!0&&(re=["FlateEncode"]);var zt=E.additionalKeyValues||[],Yt=(wt=Nt.API.processDataByFilters!==void 0?Nt.API.processDataByFilters(F,re):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(wt.data.length!==0&&(zt.push({key:"Length",value:wt.data.length}),me===!0&&zt.push({key:"Length1",value:Re})),Yt.length!=0)if(Yt.split("/").length-1==1)zt.push({key:"Filter",value:Yt});else{zt.push({key:"Filter",value:"["+Yt+"]"});for(var bn=0;bn<zt.length;bn+=1)if(zt[bn].key==="DecodeParms"){for(var dr=[],Fr=0;Fr<wt.reverseChain.split("/").length-1;Fr+=1)dr.push("null");dr.push(zt[bn].value),zt[bn].value="["+dr.join(" ")+"]"}}G("<<");for(var Kn=0;Kn<zt.length;Kn++)G("/"+zt[Kn].key+" "+zt[Kn].value);G(">>"),wt.data.length!==0&&(G("stream"),G(gt(wt.data)),G("endstream"))},Hd=f.__private__.putPage=function(E){var F=E.number,re=E.data,se=E.objId,me=E.contentsObjId;wi(se,!0),G("<</Type /Page"),G("/Parent "+E.rootDictionaryObjId+" 0 R"),G("/Resources "+E.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(N(E.mediaBox.bottomLeftX))+" "+parseFloat(N(E.mediaBox.bottomLeftY))+" "+N(E.mediaBox.topRightX)+" "+N(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&G("/CropBox ["+N(E.cropBox.bottomLeftX)+" "+N(E.cropBox.bottomLeftY)+" "+N(E.cropBox.topRightX)+" "+N(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&G("/BleedBox ["+N(E.bleedBox.bottomLeftX)+" "+N(E.bleedBox.bottomLeftY)+" "+N(E.bleedBox.topRightX)+" "+N(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&G("/TrimBox ["+N(E.trimBox.bottomLeftX)+" "+N(E.trimBox.bottomLeftY)+" "+N(E.trimBox.topRightX)+" "+N(E.trimBox.topRightY)+"]"),E.artBox!==null&&G("/ArtBox ["+N(E.artBox.bottomLeftX)+" "+N(E.artBox.bottomLeftY)+" "+N(E.artBox.topRightX)+" "+N(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&G("/UserUnit "+E.userUnit),Qe.publish("putPage",{objId:se,pageContext:vt[F],pageNumber:F,page:re}),G("/Contents "+me+" 0 R"),G(">>"),G("endobj");var Re=re.join(`
`);return S===_&&(Re+=`
Q`),wi(me,!0),ms({data:Re,filters:ca(),objectId:me}),G("endobj"),se},Za=f.__private__.putPages=function(){var E,F,re=[];for(E=1;E<=Bt;E++)vt[E].objId=ui(),vt[E].contentsObjId=ui();for(E=1;E<=Bt;E++)re.push(Hd({number:E,data:_e[E],objId:vt[E].objId,contentsObjId:vt[E].contentsObjId,mediaBox:vt[E].mediaBox,cropBox:vt[E].cropBox,bleedBox:vt[E].bleedBox,trimBox:vt[E].trimBox,artBox:vt[E].artBox,userUnit:vt[E].userUnit,rootDictionaryObjId:Kc,resourceDictionaryObjId:aa}));wi(Kc,!0),G("<</Type /Pages");var se="/Kids [";for(F=0;F<Bt;F++)se+=re[F]+" 0 R ";G(se+"]"),G("/Count "+Bt),G(">>"),G("endobj"),Qe.publish("postPutPages")},Wd=function(E){Qe.publish("putFont",{font:E,out:G,newObject:vr,putStream:ms}),E.isAlreadyPutted!==!0&&(E.objectNumber=vr(),G("<<"),G("/Type /Font"),G("/BaseFont /"+Tp(E.postScriptName)),G("/Subtype /Type1"),typeof E.encoding=="string"&&G("/Encoding /"+E.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},zh=function(E){E.objectNumber=vr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[N(E.x),N(E.y),N(E.x+E.width),N(E.y+E.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var re=E.pages[1].join(`
`);ms({data:re,additionalKeyValues:F,objectId:E.objectNumber}),G("endobj")},Uh=function(E,F){F||(F=21);var re=vr(),se=function(Ue,gt){var wt,zt=[],Yt=1/(gt-1);for(wt=0;wt<1;wt+=Yt)zt.push(wt);if(zt.push(1),Ue[0].offset!=0){var bn={offset:0,color:Ue[0].color};Ue.unshift(bn)}if(Ue[Ue.length-1].offset!=1){var dr={offset:1,color:Ue[Ue.length-1].color};Ue.push(dr)}for(var Fr="",Kn=0,Kr=0;Kr<zt.length;Kr++){for(wt=zt[Kr];wt>Ue[Kn+1].offset;)Kn++;var Br=Ue[Kn].offset,_i=(wt-Br)/(Ue[Kn+1].offset-Br),$l=Ue[Kn].color,da=Ue[Kn+1].color;Fr+=ie(Math.round((1-_i)*$l[0]+_i*da[0]).toString(16))+ie(Math.round((1-_i)*$l[1]+_i*da[1]).toString(16))+ie(Math.round((1-_i)*$l[2]+_i*da[2]).toString(16))}return Fr.trim()}(E.colors,F),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+F+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ms({data:se,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),G("endobj"),E.objectNumber=vr(),G("<< /ShadingType "+E.type),G("/ColorSpace /DeviceRGB");var Re="/Coords ["+N(parseFloat(E.coords[0]))+" "+N(parseFloat(E.coords[1]))+" ";E.type===2?Re+=N(parseFloat(E.coords[2]))+" "+N(parseFloat(E.coords[3])):Re+=N(parseFloat(E.coords[2]))+" "+N(parseFloat(E.coords[3]))+" "+N(parseFloat(E.coords[4]))+" "+N(parseFloat(E.coords[5])),G(Re+="]"),E.matrix&&G("/Matrix ["+E.matrix.toString()+"]"),G("/Function "+re+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},qh=function(E,F){var re=ui(),se=vr();F.push({resourcesOid:re,objectOid:se}),E.objectNumber=se;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+E.boundingBox.map(N).join(" ")+"]"}),me.push({key:"XStep",value:N(E.xStep)}),me.push({key:"YStep",value:N(E.yStep)}),me.push({key:"Resources",value:re+" 0 R"}),E.matrix&&me.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),ms({data:E.stream,additionalKeyValues:me,objectId:E.objectNumber}),G("endobj")},oS=function(E){for(var F in E.objectNumber=vr(),G("<<"),E)switch(F){case"opacity":G("/ca "+C(E[F]));break;case"stroke-opacity":G("/CA "+C(E[F]))}G(">>"),G("endobj")},vm=function(E){wi(E.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var F in G("/Font <<"),be)be.hasOwnProperty(F)&&(d===!1||d===!0&&h.hasOwnProperty(F))&&G("/"+F+" "+be[F].objectNumber+" 0 R");G(">>")}(),function(){if(Object.keys(Je).length>0){for(var F in G("/Shading <<"),Je)Je.hasOwnProperty(F)&&Je[F]instanceof xf&&Je[F].objectNumber>=0&&G("/"+F+" "+Je[F].objectNumber+" 0 R");Qe.publish("putShadingPatternDict"),G(">>")}}(),function(F){if(Object.keys(Je).length>0){for(var re in G("/Pattern <<"),Je)Je.hasOwnProperty(re)&&Je[re]instanceof f.TilingPattern&&Je[re].objectNumber>=0&&Je[re].objectNumber<F&&G("/"+re+" "+Je[re].objectNumber+" 0 R");Qe.publish("putTilingPatternDict"),G(">>")}}(E.objectOid),function(){if(Object.keys(st).length>0){var F;for(F in G("/ExtGState <<"),st)st.hasOwnProperty(F)&&st[F].objectNumber>=0&&G("/"+F+" "+st[F].objectNumber+" 0 R");Qe.publish("putGStateDict"),G(">>")}}(),function(){for(var F in G("/XObject <<"),Kt)Kt.hasOwnProperty(F)&&Kt[F].objectNumber>=0&&G("/"+F+" "+Kt[F].objectNumber+" 0 R");Qe.publish("putXobjectDict"),G(">>")}(),G(">>"),G("endobj")},Dy=function(E){ze[E.fontName]=ze[E.fontName]||{},ze[E.fontName][E.fontStyle]=E.id},Iy=function(E,F,re,se,me){var Re={id:"F"+(Object.keys(be).length+1).toString(10),postScriptName:E,fontName:F,fontStyle:re,encoding:se,isStandardFont:me||!1,metadata:{}};return Qe.publish("addFont",{font:Re,instance:this}),be[Re.id]=Re,Dy(Re),Re.id},gs=f.__private__.pdfEscape=f.pdfEscape=function(E,F){return function(re,se){var me,Re,Ue,gt,wt,zt,Yt,bn,dr;if(Ue=(se=se||{}).sourceEncoding||"Unicode",wt=se.outputEncoding,(se.autoencode||wt)&&be[$e].metadata&&be[$e].metadata[Ue]&&be[$e].metadata[Ue].encoding&&(gt=be[$e].metadata[Ue].encoding,!wt&&be[$e].encoding&&(wt=be[$e].encoding),!wt&&gt.codePages&&(wt=gt.codePages[0]),typeof wt=="string"&&(wt=gt[wt]),wt)){for(Yt=!1,zt=[],me=0,Re=re.length;me<Re;me++)(bn=wt[re.charCodeAt(me)])?zt.push(String.fromCharCode(bn)):zt.push(re[me]),zt[me].charCodeAt(0)>>8&&(Yt=!0);re=zt.join("")}for(me=re.length;Yt===void 0&&me!==0;)re.charCodeAt(me-1)>>8&&(Yt=!0),me--;if(!Yt)return re;for(zt=se.noBOM?[]:[254,255],me=0,Re=re.length;me<Re;me++){if((dr=(bn=re.charCodeAt(me))>>8)>>8)throw new Error("Character at position "+me+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");zt.push(dr),zt.push(bn-(dr<<8))}return String.fromCharCode.apply(void 0,zt)}(E,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ym=f.__private__.beginPage=function(E){_e[++Bt]=[],vt[Bt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Ly(Bt),Xe(_e[$])},Oy=function(E,F){var re,se,me;switch(n=F||n,typeof E=="string"&&(re=v(E.toLowerCase()),Array.isArray(re)&&(se=re[0],me=re[1])),Array.isArray(E)&&(se=E[0]*pt,me=E[1]*pt),isNaN(se)&&(se=i[0],me=i[1]),(se>14400||me>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),me=Math.min(14400,me)),i=[se,me],n.substr(0,1)){case"l":me>se&&(i=[me,se]);break;case"p":se>me&&(i=[me,se])}ym(i),Ht(wm),G(Kh),Sm!==0&&G(Sm+" J"),km!==0&&G(km+" j"),Qe.publish("addPage",{pageNumber:Bt})},bm=function(E){E>0&&E<=Bt&&(_e.splice(E,1),vt.splice(E,1),Bt--,$>Bt&&($=Bt),this.setPage($))},Ly=function(E){E>0&&E<=Bt&&($=E)},My=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return _e.length-1},Fy=function(E,F,re){var se,me=void 0;return re=re||{},E=E!==void 0?E:be[$e].fontName,F=F!==void 0?F:be[$e].fontStyle,se=E.toLowerCase(),ze[se]!==void 0&&ze[se][F]!==void 0?me=ze[se][F]:ze[E]!==void 0&&ze[E][F]!==void 0?me=ze[E][F]:re.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+E+"', '"+F+"'. Refer to getFontList() for available fonts."),me||re.noFallback||(me=ze.times[F])==null&&(me=ze.times.normal),me},Xa=f.__private__.putInfo=function(){var E=vr(),F=function(se){return se};for(var re in u!==null&&(F=Vr.encryptor(E,0)),G("<<"),G("/Producer ("+gs(F("jsPDF "+Nt.version))+")"),it)it.hasOwnProperty(re)&&it[re]&&G("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+gs(F(it[re]))+")");G("/CreationDate ("+gs(F(K))+")"),G(">>"),G("endobj")},Hh=f.__private__.putCatalog=function(E){var F=(E=E||{}).rootDictionaryObjId||Kc;switch(vr(),G("<<"),G("/Type /Catalog"),G("/Pages "+F+" 0 R"),Ae||(Ae="fullwidth"),Ae){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Ae;re.substr(re.length-1)==="%"&&(Ae=parseInt(Ae)/100),typeof Ae=="number"&&G("/OpenAction [3 0 R /XYZ null null "+C(Ae)+"]")}switch(Me||(Me="continuous"),Me){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Le&&G("/PageMode /"+Le),Qe.publish("putCatalog"),G(">>"),G("endobj")},sS=f.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(oe+1)),G("/Root "+oe+" 0 R"),G("/Info "+(oe-1)+" 0 R"),u!==null&&G("/Encrypt "+Vr.oid+" 0 R"),G("/ID [ <"+H+"> <"+H+"> ]"),G(">>")},Mr=f.__private__.putHeader=function(){G("%PDF-"+m),G("%")},By=f.__private__.putXRef=function(){var E="0000000000";G("xref"),G("0 "+(oe+1)),G("0000000000 65535 f ");for(var F=1;F<=oe;F++)typeof de[F]=="function"?G((E+de[F]()).slice(-10)+" 00000 n "):de[F]!==void 0?G((E+de[F]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},$a=f.__private__.buildDocument=function(){var E;oe=0,ae=0,pe=[],de=[],ue=[],Kc=ui(),aa=ui(),Xe(pe),Qe.publish("buildDocument"),Mr(),Za(),function(){Qe.publish("putAdditionalObjects");for(var re=0;re<ue.length;re++){var se=ue[re];wi(se.objId,!0),G(se.content),G("endobj")}Qe.publish("postPutAdditionalObjects")}(),E=[],function(){for(var re in be)be.hasOwnProperty(re)&&(d===!1||d===!0&&h.hasOwnProperty(re))&&Wd(be[re])}(),function(){var re;for(re in st)st.hasOwnProperty(re)&&oS(st[re])}(),function(){for(var re in Kt)Kt.hasOwnProperty(re)&&zh(Kt[re])}(),function(re){var se;for(se in Je)Je.hasOwnProperty(se)&&(Je[se]instanceof xf?Uh(Je[se]):Je[se]instanceof Xp&&qh(Je[se],re))}(E),Qe.publish("putResources"),E.forEach(vm),vm({resourcesOid:aa,objectOid:Number.MAX_SAFE_INTEGER}),Qe.publish("postPutResources"),u!==null&&(Vr.oid=vr(),G("<<"),G("/Filter /Standard"),G("/V "+Vr.v),G("/R "+Vr.r),G("/U <"+Vr.toHexString(Vr.U)+">"),G("/O <"+Vr.toHexString(Vr.O)+">"),G("/P "+Vr.P),G(">>"),G("endobj")),Xa(),Hh();var F=ae;return By(),sS(),G("startxref"),G(""+F),G("%%EOF"),Xe(_e[$]),pe.join(`
`)},Wh=f.__private__.getBlob=function(E){return new Blob([xt(E)],{type:"application/pdf"})},zy=f.output=f.__private__.output=(ps=function(E,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",E){case void 0:return $a();case"save":f.save(F.filename);break;case"arraybuffer":return xt($a());case"blob":return Wh($a());case"bloburi":case"bloburl":if(Mt.URL!==void 0&&typeof Mt.URL.createObjectURL=="function")return Mt.URL&&Mt.URL.createObjectURL(Wh($a()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",se=$a();try{re=ML(se)}catch{re=ML(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+F.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(me=F.pdfObjectUrl,Re="");var Ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",gt=Mt.open();return gt!==null&&gt.document.write(Ue),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Mt)==="[object Window]"){var wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',zt=Mt.open();if(zt!==null){zt.document.write(wt);var Yt=this;zt.document.documentElement.querySelector("#pdfViewer").onload=function(){zt.document.title=F.filename,zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Mt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var bn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',dr=Mt.open();if(dr!==null&&(dr.document.write(bn),dr.document.title=F.filename),dr||typeof safari>"u")return dr;break;case"datauri":case"dataurl":return Mt.document.location.href=this.output("datauristring",F);default:return null}},ps.foo=function(){try{return ps.apply(this,arguments)}catch(re){var E=re.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var F="Error in function "+E.split(`
`)[0].split("<")[0]+": "+re.message;if(!Mt.console)throw new Error(F);Mt.console.error(F,re),Mt.alert&&alert(F)}},ps.foo.bar=ps,ps.foo),vs=function(E){return Array.isArray(It)===!0&&It.indexOf(E)>-1};switch(r){case"pt":pt=1;break;case"mm":pt=72/25.4;break;case"cm":pt=72/2.54;break;case"in":pt=72;break;case"px":pt=vs("px_scaling")==1?.75:96/72;break;case"pc":case"em":pt=12;break;case"ex":pt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);pt=r}var Vr=null;fe(),W();var Hl=f.__private__.getPageInfo=f.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[E].objId,pageNumber:E,pageContext:vt[E]}},Uy=f.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in vt)if(vt[F].objId===E)break;return Hl(F)},aS=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:vt[$].objId,pageNumber:$,pageContext:vt[$]}};f.addPage=function(){return Oy.apply(this,arguments),this},f.setPage=function(){return Ly.apply(this,arguments),Xe.call(this,_e[$]),this},f.insertPage=function(E){return this.addPage(),this.movePage($,E),this},f.movePage=function(E,F){var re,se;if(E>F){re=_e[E],se=vt[E];for(var me=E;me>F;me--)_e[me]=_e[me-1],vt[me]=vt[me-1];_e[F]=re,vt[F]=se,this.setPage(F)}else if(E<F){re=_e[E],se=vt[E];for(var Re=E;Re<F;Re++)_e[Re]=_e[Re+1],vt[Re]=vt[Re+1];_e[F]=re,vt[F]=se,this.setPage(F)}return this},f.deletePage=function(){return bm.apply(this,arguments),this},f.__private__.text=f.text=function(E,F,re,se,me){var Re,Ue,gt,wt,zt,Yt,bn,dr,Fr,Kn=(se=se||{}).scope||this;if(typeof E=="number"&&typeof F=="number"&&(typeof re=="string"||Array.isArray(re))){var Kr=re;re=F,F=E,E=Kr}if(arguments[3]instanceof ot==0?(gt=arguments[4],wt=arguments[5],Mn(bn=arguments[3])==="object"&&bn!==null||(typeof gt=="string"&&(wt=gt,gt=null),typeof bn=="string"&&(wt=bn,bn=null),typeof bn=="number"&&(gt=bn,bn=null),se={flags:bn,angle:gt,align:wt})):(A("The transform parameter of text() with a Matrix value"),Fr=me),isNaN(F)||isNaN(re)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return Kn;var Br,_i="",$l=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:Kd,da=Kn.internal.scaleFactor;function Yl(Dn){return Dn=Dn.split("	").join(Array(se.TabLen||9).join(" ")),gs(Dn,bn)}function Em(Dn){for(var Un,Nr=Dn.concat(),Gr=[],ec=Nr.length;ec--;)typeof(Un=Nr.shift())=="string"?Gr.push(Un):Array.isArray(Dn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?Gr.push(Un[0]):Gr.push([Un[0],Un[1],Un[2]]);return Gr}function Zh(Dn,Un){var Nr;if(typeof Dn=="string")Nr=Un(Dn)[0];else if(Array.isArray(Dn)){for(var Gr,ec,Fm=Dn.concat(),Yh=[],Jy=Fm.length;Jy--;)typeof(Gr=Fm.shift())=="string"?Yh.push(Un(Gr)[0]):Array.isArray(Gr)&&typeof Gr[0]=="string"&&(ec=Un(Gr[0],Gr[1],Gr[2]),Yh.push([ec[0],ec[1],ec[2]]));Nr=Yh}return Nr}var Gc=!1,$d=!0;if(typeof E=="string")Gc=!0;else if(Array.isArray(E)){var Yd=E.concat();Ue=[];for(var Zc,Si=Yd.length;Si--;)(typeof(Zc=Yd.shift())!="string"||Array.isArray(Zc)&&typeof Zc[0]!="string")&&($d=!1);Gc=$d}if(Gc===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Jd=Ie/Kn.internal.scaleFactor,Qd=Jd*($l-1);switch(se.baseline){case"bottom":re-=Qd;break;case"top":re+=Jd-Qd;break;case"hanging":re+=Jd-2*Qd;break;case"middle":re+=Jd/2-Qd}if((Yt=se.maxWidth||0)>0&&(typeof E=="string"?E=Kn.splitTextToSize(E,Yt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Dn,Un){return Dn.concat(Kn.splitTextToSize(Un,Yt))},[]))),Re={text:E,x:F,y:re,options:se,mutex:{pdfEscape:gs,activeFontKey:$e,fonts:be,activeFontSize:Ie}},Qe.publish("preProcessText",Re),E=Re.text,gt=(se=Re.options).angle,Fr instanceof ot==0&&gt&&typeof gt=="number"){gt*=Math.PI/180,se.rotationDirection===0&&(gt=-gt),S===_&&(gt=-gt);var Tm=Math.cos(gt),Pm=Math.sin(gt);Fr=new ot(Tm,Pm,-Pm,Tm,0,0)}else gt&&gt instanceof ot&&(Fr=gt);S!==_||Fr||(Fr=vn),(zt=se.charSpace||Kl)!==void 0&&(_i+=N(L(zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dr=se.horizontalScale)!==void 0&&(_i+=N(100*dr)+` Tz
`),se.lang;var Qi=-1,Jl=se.renderingMode!==void 0?se.renderingMode:se.stroke,Xh=Kn.internal.getCurrentPageInfo().pageContext;switch(Jl){case 0:case!1:case"fill":Qi=0;break;case 1:case!0:case"stroke":Qi=1;break;case 2:case"fillThenStroke":Qi=2;break;case 3:case"invisible":Qi=3;break;case 4:case"fillAndAddForClipping":Qi=4;break;case 5:case"strokeAndAddPathForClipping":Qi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qi=6;break;case 7:case"addToPathForClipping":Qi=7}var $y=Xh.usedRenderingMode!==void 0?Xh.usedRenderingMode:-1;Qi!==-1?_i+=Qi+` Tr
`:$y!==-1&&(_i+=`0 Tr
`),Qi!==-1&&(Xh.usedRenderingMode=Qi),wt=se.align||"left";var ys,ef=Ie*$l,Rm=Kn.internal.pageSize.getWidth(),jm=be[$e];zt=se.charSpace||Kl,Yt=se.maxWidth||0,bn=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Xc=[],tf=function(Dn){return Kn.getStringUnitWidth(Dn,{font:jm,charSpace:zt,fontSize:Ie,doKerning:!1})*Ie/da};if(Object.prototype.toString.call(E)==="[object Array]"){var Bo;Ue=Em(E),wt!=="left"&&(ys=Ue.map(tf));var zo,$c=0;if(wt==="right"){F-=ys[0],E=[],Si=Ue.length;for(var Ql=0;Ql<Si;Ql++)Ql===0?(zo=Wl(F),Bo=Vl(re)):(zo=L($c-ys[Ql]),Bo=-ef),E.push([Ue[Ql],zo,Bo]),$c=ys[Ql]}else if(wt==="center"){F-=ys[0]/2,E=[],Si=Ue.length;for(var Yc=0;Yc<Si;Yc++)Yc===0?(zo=Wl(F),Bo=Vl(re)):(zo=L(($c-ys[Yc])/2),Bo=-ef),E.push([Ue[Yc],zo,Bo]),$c=ys[Yc]}else if(wt==="left"){E=[],Si=Ue.length;for(var Dm=0;Dm<Si;Dm++)E.push(Ue[Dm])}else if(wt==="justify"&&jm.encoding==="Identity-H"){E=[],Si=Ue.length,Yt=Yt!==0?Yt:Rm;for(var $h=0,Cr=0;Cr<Si;Cr++)if(Bo=Cr===0?Vl(re):-ef,zo=Cr===0?Wl(F):$h,Cr<Si-1){var Yy=L((Yt-ys[Cr])/(Ue[Cr].split(" ").length-1)),Ja=Ue[Cr].split(" ");E.push([Ja[0]+" ",zo,Bo]),$h=0;for(var Qa=1;Qa<Ja.length;Qa++){var Im=(tf(Ja[Qa-1]+" "+Ja[Qa])-tf(Ja[Qa]))*da+Yy;Qa==Ja.length-1?E.push([Ja[Qa],Im,0]):E.push([Ja[Qa]+" ",Im,0]),$h-=Im}}else E.push([Ue[Cr],zo,Bo]);E.push(["",$h,0])}else{if(wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Si=Ue.length,Yt=Yt!==0?Yt:Rm,Cr=0;Cr<Si;Cr++){Bo=Cr===0?Vl(re):-ef,zo=Cr===0?Wl(F):0;var Om=Ue[Cr].split(" ").length-1,Lm=Om>0?(Yt-ys[Cr])/Om:0;Cr<Si-1?Xc.push(N(L(Lm))):Xc.push(0),E.push([Ue[Cr],zo,Bo])}}}(typeof se.R2L=="boolean"?se.R2L:Oe)===!0&&(E=Zh(E,function(Dn,Un,Nr){return[Dn.split("").reverse().join(""),Un,Nr]})),Re={text:E,x:F,y:re,options:se,mutex:{pdfEscape:gs,activeFontKey:$e,fonts:be,activeFontSize:Ie}},Qe.publish("postProcessText",Re),E=Re.text,Br=Re.mutex.isHex||!1;var Mm=be[$e].encoding;Mm!=="WinAnsiEncoding"&&Mm!=="StandardEncoding"||(E=Zh(E,function(Dn,Un,Nr){return[Yl(Dn),Un,Nr]})),Ue=Em(E),E=[];for(var Jc,Qc,eu,nf=Array.isArray(Ue[0])?1:0,tu="",rf=function(Dn,Un,Nr){var Gr="";return Nr instanceof ot?(Nr=typeof se.angle=="number"?lt(Nr,new ot(1,0,0,1,Dn,Un)):lt(new ot(1,0,0,1,Dn,Un),Nr),S===_&&(Nr=lt(new ot(1,0,0,-1,0,0),Nr)),Gr=Nr.join(" ")+` Tm
`):Gr=N(Dn)+" "+N(Un)+` Td
`,Gr},bs=0;bs<Ue.length;bs++){switch(tu="",nf){case 1:eu=(Br?"<":"(")+Ue[bs][0]+(Br?">":")"),Jc=parseFloat(Ue[bs][1]),Qc=parseFloat(Ue[bs][2]);break;case 0:eu=(Br?"<":"(")+Ue[bs]+(Br?">":")"),Jc=Wl(F),Qc=Vl(re)}Xc!==void 0&&Xc[bs]!==void 0&&(tu=Xc[bs]+` Tw
`),bs===0?E.push(tu+rf(Jc,Qc,Fr)+eu):nf===0?E.push(tu+eu):nf===1&&E.push(tu+rf(Jc,Qc,Fr)+eu)}E=nf===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var el=`BT
/`;return el+=$e+" "+Ie+` Tf
`,el+=N(Ie*$l)+` TL
`,el+=Gd+`
`,el+=_i,el+=E,G(el+="ET"),h[$e]=!0,Kn};var lS=f.__private__.clip=f.clip=function(E){return G(E==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return lS("evenodd")},f.__private__.discardPath=f.discardPath=function(){return G("n"),this};var Ya=f.__private__.isValidStyle=function(E){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(F=!0),F};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(E){return Ya(E)&&(c=E),this};var qy=f.__private__.getStyle=f.getStyle=function(E){var F=c;switch(E){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=E}return F},Hy=f.close=function(){return G("h"),this};f.stroke=function(){return G("S"),this},f.fill=function(E){return Vh("f",E),this},f.fillEvenOdd=function(E){return Vh("f*",E),this},f.fillStroke=function(E){return Vh("B",E),this},f.fillStrokeEvenOdd=function(E){return Vh("B*",E),this};var Vh=function(E,F){Mn(F)==="object"?uS(F,E):G(E)},Vd=function(E){E===null||S===_&&E===void 0||(E=qy(E),G(E))};function cS(E,F,re,se,me){var Re=new Xp(F||this.boundingBox,re||this.xStep,se||this.yStep,this.gState,me||this.matrix);Re.stream=this.stream;var Ue=E+"$$"+this.cloneIndex+++"$$";return xo(Ue,Re),Re}var uS=function(E,F){var re=dt[E.key],se=Je[re];if(se instanceof xf)G("q"),G(dS(F)),se.gState&&f.setGState(se.gState),G(E.matrix.toString()+" cm"),G("/"+re+" sh"),G("Q");else if(se instanceof Xp){var me=new ot(1,0,0,-1,0,Xd());E.matrix&&(me=me.multiply(E.matrix||vn),re=cS.call(se,E.key,E.boundingBox,E.xStep,E.yStep,me).id),G("q"),G("/Pattern cs"),G("/"+re+" scn"),se.gState&&f.setGState(se.gState),G(F),G("Q")}},dS=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},xm=f.moveTo=function(E,F){return G(N(L(E))+" "+N(z(F))+" m"),this},Wy=f.lineTo=function(E,F){return G(N(L(E))+" "+N(z(F))+" l"),this},ua=f.curveTo=function(E,F,re,se,me,Re){return G([N(L(E)),N(z(F)),N(L(re)),N(z(se)),N(L(me)),N(z(Re)),"c"].join(" ")),this};f.__private__.line=f.line=function(E,F,re,se,me){if(isNaN(E)||isNaN(F)||isNaN(re)||isNaN(se)||!Ya(me))throw new Error("Invalid arguments passed to jsPDF.line");return S===x?this.lines([[re-E,se-F]],E,F,[1,1],me||"S"):this.lines([[re-E,se-F]],E,F,[1,1]).stroke()},f.__private__.lines=f.lines=function(E,F,re,se,me,Re){var Ue,gt,wt,zt,Yt,bn,dr,Fr,Kn,Kr,Br,_i;if(typeof E=="number"&&(_i=re,re=F,F=E,E=_i),se=se||[1,1],Re=Re||!1,isNaN(F)||isNaN(re)||!Array.isArray(E)||!Array.isArray(se)||!Ya(me)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(xm(F,re),Ue=se[0],gt=se[1],zt=E.length,Kr=F,Br=re,wt=0;wt<zt;wt++)(Yt=E[wt]).length===2?(Kr=Yt[0]*Ue+Kr,Br=Yt[1]*gt+Br,Wy(Kr,Br)):(bn=Yt[0]*Ue+Kr,dr=Yt[1]*gt+Br,Fr=Yt[2]*Ue+Kr,Kn=Yt[3]*gt+Br,Kr=Yt[4]*Ue+Kr,Br=Yt[5]*gt+Br,ua(bn,dr,Fr,Kn,Kr,Br));return Re&&Hy(),Vd(me),this},f.path=function(E){for(var F=0;F<E.length;F++){var re=E[F],se=re.c;switch(re.op){case"m":xm(se[0],se[1]);break;case"l":Wy(se[0],se[1]);break;case"c":ua.apply(this,se);break;case"h":Hy()}}return this},f.__private__.rect=f.rect=function(E,F,re,se,me){if(isNaN(E)||isNaN(F)||isNaN(re)||isNaN(se)||!Ya(me))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x&&(se=-se),G([N(L(E)),N(z(F)),N(L(re)),N(L(se)),"re"].join(" ")),Vd(me),this},f.__private__.triangle=f.triangle=function(E,F,re,se,me,Re,Ue){if(isNaN(E)||isNaN(F)||isNaN(re)||isNaN(se)||isNaN(me)||isNaN(Re)||!Ya(Ue))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-E,se-F],[me-re,Re-se],[E-me,F-Re]],E,F,[1,1],Ue,!0),this},f.__private__.roundedRect=f.roundedRect=function(E,F,re,se,me,Re,Ue){if(isNaN(E)||isNaN(F)||isNaN(re)||isNaN(se)||isNaN(me)||isNaN(Re)||!Ya(Ue))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*re),Re=Math.min(Re,.5*se),this.lines([[re-2*me,0],[me*gt,0,me,Re-Re*gt,me,Re],[0,se-2*Re],[0,Re*gt,-me*gt,Re,-me,Re],[2*me-re,0],[-me*gt,0,-me,-Re*gt,-me,-Re],[0,2*Re-se],[0,-Re*gt,me*gt,-Re,me,-Re]],E+me,F,[1,1],Ue,!0),this},f.__private__.ellipse=f.ellipse=function(E,F,re,se,me){if(isNaN(E)||isNaN(F)||isNaN(re)||isNaN(se)||!Ya(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*re,Ue=4/3*(Math.SQRT2-1)*se;return xm(E+re,F),ua(E+re,F-Ue,E+Re,F-se,E,F-se),ua(E-Re,F-se,E-re,F-Ue,E-re,F),ua(E-re,F+Ue,E-Re,F+se,E,F+se),ua(E+Re,F+se,E+re,F+Ue,E+re,F),Vd(me),this},f.__private__.circle=f.circle=function(E,F,re,se){if(isNaN(E)||isNaN(F)||isNaN(re)||!Ya(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,F,re,re,se)},f.setFont=function(E,F,re){return re&&(F=P(F,re)),$e=Fy(E,F,{disableWarning:!1}),this};var fS=f.__private__.getFont=f.getFont=function(){return be[Fy.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var E,F,re={};for(E in ze)if(ze.hasOwnProperty(E))for(F in re[E]=[],ze[E])ze[E].hasOwnProperty(F)&&re[E].push(F);return re},f.addFont=function(E,F,re,se,me){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(re=P(re,se)),Iy.call(this,E,F,re,me=me||"Identity-H")};var Kd,wm=e.lineWidth||.200025,hS=f.__private__.getLineWidth=f.getLineWidth=function(){return wm},Ht=f.__private__.setLineWidth=f.setLineWidth=function(E){return wm=E,G(N(L(E))+" w"),this};f.__private__.setLineDash=Nt.API.setLineDash=Nt.API.setLineDashPattern=function(E,F){if(E=E||[],F=F||0,isNaN(F)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(re){return N(L(re))}).join(" "),F=N(L(F)),G("["+E+"] "+F+" d"),this};var pS=f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*Kd};f.__private__.getLineHeight=f.getLineHeight=function(){return Ie*Kd};var mS=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Kd=E),this},gS=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Kd};mS(e.lineHeight);var Wl=f.__private__.getHorizontalCoordinate=function(E){return L(E)},Vl=f.__private__.getVerticalCoordinate=function(E){return S===_?E:vt[$].mediaBox.topRightY-vt[$].mediaBox.bottomLeftY-L(E)},vS=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(E){return N(Wl(E))},yS=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(E){return N(Vl(E))},Kh=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Ga(Kh)},f.__private__.setStrokeColor=f.setDrawColor=function(E,F,re,se){return Kh=la({ch1:E,ch2:F,ch3:re,ch4:se,pdfColorType:"draw",precision:2}),G(Kh),this};var _m=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Ga(_m)},f.__private__.setFillColor=f.setFillColor=function(E,F,re,se){return _m=la({ch1:E,ch2:F,ch3:re,ch4:se,pdfColorType:"fill",precision:2}),G(_m),this};var Gd=e.textColor||"0 g",bS=f.__private__.getTextColor=f.getTextColor=function(){return Ga(Gd)};f.__private__.setTextColor=f.setTextColor=function(E,F,re,se){return Gd=la({ch1:E,ch2:F,ch3:re,ch4:se,pdfColorType:"text",precision:3}),this};var Kl=e.charSpace,xS=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Kl||0)};f.__private__.setCharSpace=f.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Kl=E,this};var Sm=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(E){var F=f.CapJoinStyles[E];if(F===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sm=F,G(F+" J"),this};var km=0;f.__private__.setLineJoin=f.setLineJoin=function(E){var F=f.CapJoinStyles[E];if(F===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return km=F,G(F+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(N(L(E))+" M"),this},f.GState=k_,f.setGState=function(E){(E=typeof E=="string"?st[mt[E]]:Vy(null,E)).equals(cn)||(G("/"+E.id+" gs"),cn=E)};var Vy=function(E,F){if(!E||!mt[E]){var re=!1;for(var se in st)if(st.hasOwnProperty(se)&&st[se].equals(F)){re=!0;break}if(re)F=st[se];else{var me="GS"+(Object.keys(st).length+1).toString(10);st[me]=F,F.id=me}return E&&(mt[E]=F.id),Qe.publish("addGState",F),F}};f.addGState=function(E,F){return Vy(E,F),this},f.saveGraphicsState=function(){return G("q"),nt.push({key:$e,size:Ie,color:Gd}),this},f.restoreGraphicsState=function(){G("Q");var E=nt.pop();return $e=E.key,Ie=E.size,Gd=E.color,cn=null,this},f.setCurrentTransformationMatrix=function(E){return G(E.toString()+" cm"),this},f.comment=function(E){return G("#"+E),this};var Gl=function(E,F){var re=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Re){isNaN(Re)||(re=parseFloat(Re))}});var se=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(Re){isNaN(Re)||(se=parseFloat(Re))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Re){me=Re.toString()}}),this},Cm=function(E,F,re,se){Gl.call(this,E,F),this.type="rect";var me=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Ue){isNaN(Ue)||(me=parseFloat(Ue))}});var Re=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(Ue){isNaN(Ue)||(Re=parseFloat(Ue))}}),this},Gh=function(){this.page=Bt,this.currentPage=$,this.pages=_e.slice(0),this.pagesContext=vt.slice(0),this.x=tt,this.y=jn,this.matrix=nn,this.width=Am($),this.height=Gy($),this.outputDestination=Ne,this.id="",this.objectNumber=-1};Gh.prototype.restore=function(){Bt=this.page,$=this.currentPage,vt=this.pagesContext,_e=this.pages,tt=this.x,jn=this.y,nn=this.matrix,Ky($,this.width),Zl($,this.height),Ne=this.outputDestination};var Nm=function(E,F,re,se,me){ur.push(new Gh),Bt=$=0,_e=[],tt=E,jn=F,nn=me,ym([re,se])};for(var Zd in f.beginFormObject=function(E,F,re,se,me){return Nm(E,F,re,se,me),this},f.endFormObject=function(E){return function(F){if(Wr[F])ur.pop().restore();else{var re=new Gh,se="Xo"+(Object.keys(Kt).length+1).toString(10);re.id=se,Wr[F]=se,Kt[se]=re,Qe.publish("addFormObject",re),ur.pop().restore()}}(E),this},f.doFormObject=function(E,F){var re=Kt[Wr[E]];return G("q"),G(F.toString()+" cm"),G("/"+re.id+" Do"),G("Q"),this},f.getFormObject=function(E){var F=Kt[Wr[E]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},f.save=function(E,F){return E=E||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(mf(Wh($a()),E),typeof mf.unload=="function"&&Mt.setTimeout&&setTimeout(mf.unload,911),this):new Promise(function(re,se){try{var me=mf(Wh($a()),E);typeof mf.unload=="function"&&Mt.setTimeout&&setTimeout(mf.unload,911),re(me)}catch(Re){se(Re.message)}})},Nt.API)Nt.API.hasOwnProperty(Zd)&&(Zd==="events"&&Nt.API.events.length?function(E,F){var re,se,me;for(me=F.length-1;me!==-1;me--)re=F[me][0],se=F[me][1],E.subscribe.apply(E,[re].concat(typeof se=="function"?[se]:se))}(Qe,Nt.API.events):f[Zd]=Nt.API[Zd]);function Am(E){return vt[E].mediaBox.topRightX-vt[E].mediaBox.bottomLeftX}function Ky(E,F){vt[E].mediaBox.topRightX=F+vt[E].mediaBox.bottomLeftX}function Gy(E){return vt[E].mediaBox.topRightY-vt[E].mediaBox.bottomLeftY}function Zl(E,F){vt[E].mediaBox.topRightY=F+vt[E].mediaBox.bottomLeftY}var Xl=f.getPageWidth=function(E){return Am(E=E||$)/pt},Zy=f.setPageWidth=function(E,F){Ky(E,F*pt)},Xd=f.getPageHeight=function(E){return Gy(E=E||$)/pt},Xy=f.setPageHeight=function(E,F){Zl(E,F*pt)};return f.internal={pdfEscape:gs,getStyle:qy,getFont:fS,getFontSize:ke,getCharSpace:xS,getTextColor:bS,getLineHeight:pS,getLineHeightFactor:gS,getLineWidth:hS,write:We,getHorizontalCoordinate:Wl,getVerticalCoordinate:Vl,getCoordinateString:vS,getVerticalCoordinateString:yS,collections:{},newObject:vr,newAdditionalObject:qd,newObjectDeferred:ui,newObjectDeferredBegin:wi,getFilters:ca,putStream:ms,events:Qe,scaleFactor:pt,pageSize:{getWidth:function(){return Xl($)},setWidth:function(E){Zy($,E)},getHeight:function(){return Xd($)},setHeight:function(E){Xy($,E)}},encryptionOptions:u,encryption:Vr,getEncryptor:function(E){return u!==null?Vr.encryptor(E,0):function(F){return F}},output:zy,getNumberOfPages:My,get pages(){return _e},out:G,f2:C,f3:j,getPageInfo:Hl,getPageInfoByObjId:Uy,getCurrentPageInfo:aS,getPDFVersion:g,Point:Gl,Rectangle:Cm,Matrix:ot,hasHotfix:vs},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Xl($)},set:function(E){Zy($,E)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Xd($)},set:function(E){Xy($,E)},enumerable:!0,configurable:!0}),function(E){for(var F=0,re=at.length;F<re;F++){var se=Iy.call(this,E[F][0],E[F][1],E[F][2],at[F][3],!0);d===!1&&(h[se]=!0);var me=E[F][0].split("-");Dy({id:se,fontName:me[0],fontStyle:me[1]||""})}Qe.publish("addFonts",{fonts:be,dictionary:ze})}.call(f,at),$e="F1",Oy(i,n),Qe.publish("initialized"),f}Ep.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Ep.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ep.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ep.prototype.processOwnerPassword=function(e,t){return cA(lA(t).substr(0,5),e)},Ep.prototype.encryptor=function(e,t){var n=lA(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return cA(n,r)}},k_.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Mn(e)!==Mn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Nt.API={events:[]},Nt.version="4.0.0";var wr=Nt.API,fP=1,Bh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(e){return e.toFixed(2)},gu=function(e){return e.toFixed(5)};wr.__acroform__={};var Fo=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},UL=function(e){return e*fP},ul=function(e){var t=new qV,n=ht.internal.getHeight(e)||0,r=ht.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Wt(r)),Number(Wt(n))],t},Z2e=wr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},X2e=wr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},$2e=wr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ir=wr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $2e(e,t-1)},Or=wr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Z2e(e,t-1)},Lr=wr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return X2e(e,t-1)},Y2e=wr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],o=e[1],s=e[2],a=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(Wt(l.lowerLeft_X)),Number(Wt(l.lowerLeft_Y)),Number(Wt(l.upperRight_X)),Number(Wt(l.upperRight_Y))]},J2e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=uA(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Wt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var o=ul(e);return o.scope=e.scope,o.stream=t.join(`
`),o}},uA=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var o=n,s=ht.internal.getHeight(e)||0;s=s<0?-s:s;var a=ht.internal.getWidth(e)||0;a=a<0?-a:a;var l=function(C,j,L){if(C+1<i.length){var z=j+" "+i[C+1][0];return M2(z,e,L).width<=a-4}return!1};o++;e:for(;o>0;){t="",o--;var c,u,d=M2("3",e,o).height,h=e.multiline?s-o:(s-d)/2,f=h+=2,m=0,g=0,y=0;if(o<=0){t=`(...) Tj
`,t+="% Width of Text: "+M2(t,e,o=12).width+", FieldWidth:"+a+`
`;break}for(var v="",x=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var S=!1;if(i[_].length!==1&&y!==i[_].length-1){if((d+2)*(x+2)+2>s)continue e;v+=i[_][y],S=!0,g=_,_--}else{v=(v+=i[_][y]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var k=parseInt(_),T=l(k,v,o),P=_>=i.length-1;if(T&&!P){v+=" ",y=0;continue}if(T||P){if(P)g=k;else if(e.multiline&&(d+2)*(x+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(x+2)+2>s)continue e;g=k}}for(var N="",A=m;A<=g;A++){var D=i[A];if(e.multiline){if(A===g){N+=D[y]+" ",y=(y+1)%D.length;continue}if(A===m){N+=D[D.length-1]+" ";continue}}N+=D[0]+" "}switch(N=N.substr(N.length-1)==" "?N.substr(0,N.length-1):N,u=M2(N,e,o).width,e.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=Wt(c)+" "+Wt(f)+` Td
`,t+="("+Bh(N)+`) Tj
`,t+=-Wt(c)+` 0 Td
`,f=-(o+2),u=0,m=S?g:g+1,x++,v=""}break}return r.text=t,r.fontSize=o,r},M2=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},Q2e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},exe=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},txe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Va.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Q2e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fP=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new HV,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&exe(o,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=Y2e(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ht.createDefaultAppearanceStream(a),Mn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=J2e(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var s in f)if(f.hasOwnProperty(s)){var m=f[s];typeof m=="function"&&(m=m.call(i,a)),d+="/"+s+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(i,a)),d+="/"+s+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&function(g,y){for(var v in g)if(g.hasOwnProperty(v)){var x=v,_=g[v];y.internal.newObjectDeferredBegin(_.objId,!0),Mn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete g[x]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},UV=wr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var i="[",o=0;o<e.length;o++)switch(o!==0&&(i+=" "),Mn(e[o])){case"boolean":case"number":case"object":i+=e[o].toString();break;case"string":e[o].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Bh(r(e[o].toString()))+")"):i+=e[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},hC=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Bh(r(e))+")"},Nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nl.prototype.toString=function(){return this.objId+" 0 R"},Nl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:UV(i,this.objId,this.scope)}):i instanceof Nl?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var qV=function(){Nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Fo(qV,Nl);var HV=function(){Nl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Bh(n(e))+")"}},set:function(n){e=n}})};Fo(HV,Nl);var Va=function e(){Nl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');t=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(t,3)},set:function(v){v?this.F=Or(t,3):this.F=Lr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');n=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof C_)return;o="FieldObject"+e.FieldNum++}var v=function(x){return x};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+Bh(v(o))+")"},set:function(v){o=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(v){o=v}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(v){s=v}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(v){a=v}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/fP:c},set:function(v){c=v}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(v){u=v}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof C_||this instanceof Wf))return hC(d,this.objId,this.scope)},set:function(v){v=v.toString(),d=v}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof hi==0?hC(h,this.objId,this.scope):h},set:function(v){v=v.toString(),h=this instanceof hi==0?v.substr(0,1)==="("?xp(v.substr(1,v.length-2)):xp(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi==1?xp(h.substr(1,h.length-1)):h},set:function(v){v=v.toString(),h=this instanceof hi==1?"/"+v:v}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof hi==0?hC(f,this.objId,this.scope):f},set:function(v){v=v.toString(),f=this instanceof hi==0?v.substr(0,1)==="("?xp(v.substr(1,v.length-2)):xp(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof hi==1?xp(f.substr(1,f.length-1)):f},set:function(v){v=v.toString(),f=this instanceof hi==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(v){v=!!v,g=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(v){m=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(v){v?this.Ff=Or(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(v){v?this.Ff=Or(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(v){v?this.Ff=Or(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');y=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(y){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};Fo(Va,Nl);var g0=function(){Va.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return UV(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(n){n?this.Ff=Or(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Or(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(n){n?(this.Ff=Or(this.Ff,20),t.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(n){n?this.Ff=Or(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(n){n?this.Ff=Or(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(n){n?this.Ff=Or(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};Fo(g0,Va);var v0=function(){g0.call(this),this.fontName="helvetica",this.combo=!1};Fo(v0,g0);var y0=function(){v0.call(this),this.combo=!0};Fo(y0,v0);var jx=function(){y0.call(this),this.edit=!0};Fo(jx,y0);var hi=function(){Va.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(n){n?this.Ff=Or(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(n){n?this.Ff=Or(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(n){n?this.Ff=Or(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(n){n?this.Ff=Or(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Bh(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Mn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Fo(hi,Va);var Dx=function(){hi.call(this),this.pushButton=!0};Fo(Dx,hi);var b0=function(){hi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Fo(b0,hi);var C_=function(){var e,t;Va.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Bh(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Mn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Fo(C_,Va),b0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},b0.prototype.createOption=function(e){var t=new C_;return t.Parent=this,t.optionName=e,this.Kids.push(t),nxe.call(this.scope,t),t};var Ix=function(){hi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};Fo(Ix,hi);var Wf=function(){Va.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(t){t?this.Ff=Or(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(t){t?this.Ff=Or(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(t){t?this.Ff=Or(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(t){t?this.Ff=Or(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(t){t?this.Ff=Or(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(t){t?this.Ff=Or(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Fo(Wf,Va);var Ox=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(e){e?this.Ff=Or(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};Fo(Ox,Wf);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),o=uA(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Wt(ht.internal.getWidth(e))+" "+Wt(ht.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Wt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],o=ht.internal.getHeight(e),s=ht.internal.getWidth(e),a=uA(e,e.caption);return i.push("1 g"),i.push("0 0 "+Wt(s)+" "+Wt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Wt(s-1)+" "+Wt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Wt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(ht.internal.getWidth(e))+" "+Wt(ht.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=ht.RadioButton.Circle.YesNormal,t.D[e]=ht.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var n=[],r=ht.internal.getWidth(e)<=ht.internal.getHeight(e)?ht.internal.getWidth(e)/4:ht.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=ht.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+gu(ht.internal.getWidth(e)/2)+" "+gu(ht.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var n=[],r=ht.internal.getWidth(e)<=ht.internal.getHeight(e)?ht.internal.getWidth(e)/4:ht.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ht.internal.Bezier_C).toFixed(5)),s=Number((r*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gu(ht.internal.getWidth(e)/2)+" "+gu(ht.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+gu(ht.internal.getWidth(e)/2)+" "+gu(ht.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var n=[],r=ht.internal.getWidth(e)<=ht.internal.getHeight(e)?ht.internal.getWidth(e)/4:ht.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+gu(ht.internal.getWidth(e)/2)+" "+gu(ht.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=ht.RadioButton.Cross.YesNormal,t.D[e]=ht.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ul(e);t.scope=e.scope;var n=[],r=ht.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Wt(ht.internal.getWidth(e)-2)+" "+Wt(ht.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),n.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),n.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),n.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ul(e);t.scope=e.scope;var n=ht.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(ht.internal.getWidth(e))+" "+Wt(ht.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(ht.internal.getWidth(e)-2)+" "+Wt(ht.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(n.x1.x)+" "+Wt(n.x1.y)+" m"),r.push(Wt(n.x2.x)+" "+Wt(n.x2.y)+" l"),r.push(Wt(n.x4.x)+" "+Wt(n.x4.y)+" m"),r.push(Wt(n.x3.x)+" "+Wt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ul(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Wt(ht.internal.getWidth(e))+" "+Wt(ht.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};ht.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=ht.internal.getWidth(e),n=ht.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},ht.internal.getWidth=function(e){var t=0;return Mn(e)==="object"&&(t=UL(e.Rect[2])),t},ht.internal.getHeight=function(e){var t=0;return Mn(e)==="object"&&(t=UL(e.Rect[3])),t};var nxe=wr.addField=function(e){if(txe(this,e),!(e instanceof Va))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};wr.AcroFormChoiceField=g0,wr.AcroFormListBox=v0,wr.AcroFormComboBox=y0,wr.AcroFormEditBox=jx,wr.AcroFormButton=hi,wr.AcroFormPushButton=Dx,wr.AcroFormRadioButton=b0,wr.AcroFormCheckBox=Ix,wr.AcroFormTextField=Wf,wr.AcroFormPasswordField=Ox,wr.AcroFormAppearance=ht,wr.AcroForm={ChoiceField:g0,ListBox:v0,ComboBox:y0,EditBox:jx,Button:hi,PushButton:Dx,RadioButton:b0,CheckBox:Ix,TextField:Wf,PasswordField:Ox,Appearance:ht},Nt.AcroForm={ChoiceField:g0,ListBox:v0,ComboBox:y0,EditBox:jx,Button:hi,PushButton:Dx,RadioButton:b0,CheckBox:Ix,TextField:Wf,PasswordField:Ox,Appearance:ht};function WV(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(C,j){var L,z,K,H,Z,W=n;if((j=j||n)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(T(C))for(Z in r)for(K=r[Z],L=0;L<K.length;L+=1){for(H=!0,z=0;z<K[L].length;z+=1)if(K[L][z]!==void 0&&K[L][z]!==C[z]){H=!1;break}if(H===!0){W=Z;break}}else for(Z in r)for(K=r[Z],L=0;L<K.length;L+=1){for(H=!0,z=0;z<K[L].length;z+=1)if(K[L][z]!==void 0&&K[L][z]!==C.charCodeAt(z)){H=!1;break}if(H===!0){W=Z;break}}return W===n&&j!==n&&(W=j),W},o=function C(j){for(var L=this.internal.write,z=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:j.width}),H.push({key:"Height",value:j.height}),j.colorSpace===v.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===v.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)&&j.transparency.length>0){for(var Z="",W=0,Y=j.transparency.length;W<Y;W++)Z+=j.transparency[W]+" "+j.transparency[W]+" ";H.push({key:"Mask",value:"["+Z+"]"})}j.sMask!==void 0&&H.push({key:"SMask",value:j.objectId+1+" 0 R"});var le=j.filter!==void 0?["/"+j.filter]:void 0;if(z({data:j.data,additionalKeyValues:H,alreadyAppliedFilters:le,objectId:j.objectId}),L("endobj"),"sMask"in j&&j.sMask!==void 0){var fe,M=(fe=j.sMaskBitsPerComponent)!==null&&fe!==void 0?fe:j.bitsPerComponent,$={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:M,data:j.sMask};"filter"in j&&($.decodeParameters="/Predictor ".concat(j.predictor," /Colors 1 /BitsPerComponent ").concat(M," /Columns ").concat(j.width),$.filter=j.filter),C.call(this,$)}if(j.colorSpace===v.INDEXED){var Q=this.internal.newObject();z({data:N(new Uint8Array(j.palette)),objectId:Q}),L("endobj")}},s=function(){var C=this.internal.collections[t+"images"];for(var j in C)o.call(this,C[j])},a=function(){var C,j=this.internal.collections[t+"images"],L=this.internal.write;for(var z in j)L("/I"+(C=j[z]).index,C.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var C=this.internal.collections[t+"images"];return l.call(this),C},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},d=function(C){return typeof e["process"+C.toUpperCase()]=="function"},h=function(C){return Mn(C)==="object"&&C.nodeType===1},f=function(C,j){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var L=""+C.getAttribute("src");if(L.indexOf("data:image/")===0)return Rx(unescape(L).split("base64,").pop());var z=e.loadFile(L,!0);if(z!==void 0)return z}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var K;switch(j){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return Rx(C.toDataURL(K,1).split("base64,").pop())}},m=function(C){var j=this.internal.collections[t+"images"];if(j){for(var L in j)if(C===j[L].alias)return j[L]}},g=function(C,j,L){return C||j||(C=-96,j=-96),C<0&&(C=-1*L.width*72/C/this.internal.scaleFactor),j<0&&(j=-1*L.height*72/j/this.internal.scaleFactor),C===0&&(C=j*L.width/L.height),j===0&&(j=C*L.height/L.width),[C,j]},y=function(C,j,L,z,K,H){var Z=g.call(this,L,z,K),W=this.internal.getCoordinateString,Y=this.internal.getVerticalCoordinateString,le=c.call(this);if(L=Z[0],z=Z[1],le[K.index]=K,H){H*=Math.PI/180;var fe=Math.cos(H),M=Math.sin(H),$=function(ie){return ie.toFixed(4)},Q=[$(fe),$(M),$(-1*M),$(fe),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,W(C),Y(j+z),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(L),"0","0",W(z),"0","0","cm"].join(" "))):this.internal.write([W(L),"0","0",W(z),W(C),Y(j+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(C){var j,L,z=0;if(typeof C=="string")for(L=C.length,j=0;j<L;j++)z=(z<<5)-z+C.charCodeAt(j),z|=0;else if(T(C))for(L=C.byteLength/2,j=0;j<L;j++)z=(z<<5)-z+C[j],z|=0;return z},S=e.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var j=!0;return C.length===0&&(j=!1),C.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(j=!1),j},k=e.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var j=C.indexOf(",");return j<0?null:C.substring(0,j).trim().endsWith("base64")?C.substring(j+1):null};e.__addimage__.isArrayBuffer=function(C){return C instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(C){return C instanceof Int8Array||C instanceof Uint8Array||C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(C){for(var j=C.length,L=new Uint8Array(j),z=0;z<j;z++)L[z]=C.charCodeAt(z);return L},N=e.__addimage__.arrayBufferToBinaryString=function(C){for(var j="",L=T(C)?C:new Uint8Array(C),z=0;z<L.length;z+=8192)j+=String.fromCharCode.apply(null,L.subarray(z,z+8192));return j};e.addImage=function(){var C,j,L,z,K,H,Z,W,Y;if(typeof arguments[1]=="number"?(j=n,L=arguments[1],z=arguments[2],K=arguments[3],H=arguments[4],Z=arguments[5],W=arguments[6],Y=arguments[7]):(j=arguments[1],L=arguments[2],z=arguments[3],K=arguments[4],H=arguments[5],Z=arguments[6],W=arguments[7],Y=arguments[8]),Mn(C=arguments[0])==="object"&&!h(C)&&"imageData"in C){var le=C;C=le.imageData,j=le.format||j||n,L=le.x||L||0,z=le.y||z||0,K=le.w||le.width||K,H=le.h||le.height||H,Z=le.alias||Z,W=le.compression||W,Y=le.rotation||le.angle||Y}var fe=this.internal.getFilters();if(W===void 0&&fe.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(L)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var M=A.call(this,C,j,Z,W);return y.call(this,L,z,K,H,M,Y),this};var A=function(C,j,L,z){var K,H,Z;if(typeof C=="string"&&i(C)===n){C=unescape(C);var W=D(C,!1);(W!==""||(W=e.loadFile(C,!0))!==void 0)&&(C=W)}if(h(C)&&(C=f(C,j)),j=i(C,j),!d(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((Z=L)==null||Z.length===0)&&(L=function(Y){return typeof Y=="string"||T(Y)?_(Y):T(Y.data)?_(Y.data):null}(C)),(K=m.call(this,L))||(C instanceof Uint8Array||j==="RGBA"||(H=C,C=P(C)),K=this["process"+j.toUpperCase()](C,u.call(this),L,function(Y){return Y&&typeof Y=="string"&&(Y=Y.toUpperCase()),Y in e.image_compression?Y:x.NONE}(z),H)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},D=e.__addimage__.convertBase64ToBinaryString=function(C,j){j=typeof j!="boolean"||j;var L,z="";if(typeof C=="string"){var K;L=(K=k(C))!==null&&K!==void 0?K:C;try{z=Rx(L)}catch(H){if(j)throw S(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};e.getImageProperties=function(C){var j,L,z="";if(h(C)&&(C=f(C)),typeof C=="string"&&i(C)===n&&((z=D(C,!1))===""&&(z=e.loadFile(C)||""),C=z),L=i(C),!d(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(C instanceof Uint8Array||(C=P(C)),!(j=this["process"+L.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=L,j}})(Nt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Nt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((r=c[d]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){r=c[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(g.objId),x=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(v(r.contents))+")",o+=" /Popup "+y.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+f(v(x))+") >>",g.content=o;var _=g.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(o+=" /Open true"),o+=" >>",y.content=o,this.internal.write(g.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(m(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var k=this.annotations._nameMap[r.options.name];r.options.pageNumber=k.page,r.options.top=k.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var T=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+T+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+o)},options:s,type:"link"})},e.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var u=this.splitTextToSize(n,a).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(n,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Nt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var o=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&i.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&o(g)&&t[g.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(g){var y=0,v=n,x="",_=0;for(y=0;y<g.length;y+=1)v[g.charCodeAt(y)]!==void 0?(_++,typeof(v=v[g.charCodeAt(y)])=="number"&&(x+=String.fromCharCode(v),v=n,_=0),y===g.length-1&&(v=n,x+=g.charAt(y-(_-1)),y-=_-1,_=0)):(v=n,x+=g.charAt(y-_),y-=_,_=0);return x};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,y,v){return s(g)?o(g)===!1?-1:!c(g)||!s(y)&&!s(v)||!s(v)&&a(y)||a(g)&&!s(y)||a(g)&&l(y)||a(g)&&a(y)?0:u(g)&&s(y)&&!a(y)&&s(v)&&c(v)?3:a(g)||!s(v)?1:2:-1},f=function(g){var y=0,v=0,x=0,_="",S="",k="",T=(g=g||"").split("\\s+"),P=[];for(y=0;y<T.length;y+=1){for(P.push(""),v=0;v<T[y].length;v+=1)_=T[y][v],S=T[y][v-1],k=T[y][v+1],s(_)?(x=h(_,S,k),P[y]+=x!==-1?String.fromCharCode(t[_.charCodeAt(0)][x]):_):P[y]+=_;P[y]=d(P[y])}return P.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(y)){var x=0;for(v=[],x=0;x<y.length;x+=1)Array.isArray(y[x])?v.push([f(y[x][0]),y[x][1],y[x][2]]):v.push([f(y[x])]);g=v}else g=f(y);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(Nt.API),Nt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Nt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,y=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var v=c.maxWidth;v>0?typeof l=="string"?l=this.splitTextToSize(l,v):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,S){return _.concat(y.splitTextToSize(S,v))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)f<(g=this.getStringUnitWidth(l[x],{font:d})*u)&&(f=g);return f!==0&&(m=l.length),{w:f/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,f&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,d,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,m,g,y,v=[],x=[],_=[],S={},k={},T=[],P=[],N=(h=h||{}).autoSize||!1,A=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),j=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",z=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=z,this.setFontSize(D),d==null)x=v=Object.keys(u[0]),_=v.map(function(){return"left"});else if(Array.isArray(d)&&Mn(d[0])==="object")for(v=d.map(function(le){return le.name}),x=d.map(function(le){return le.prompt||le.name||""}),_=d.map(function(le){return le.align||"left"}),f=0;f<d.length;f+=1)k[d[f].name]=.7499990551181103*d[f].width;else Array.isArray(d)&&typeof d[0]=="string"&&(x=v=d,_=v.map(function(){return"left"}));if(N||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<v.length;f+=1){for(S[y=v[f]]=u.map(function(le){return le[y]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=S[y],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)T.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[y]=Math.max.apply(null,T)+j+j,T=[]}if(A){var K={};for(f=0;f<v.length;f+=1)K[v[f]]={},K[v[f]].text=x[f],K[v[f]].align=_[f];var H=a.call(this,K,k);P=v.map(function(le){return new o(l,c,k[le],H,K[le].text,void 0,K[le].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var Z=d.reduce(function(le,fe){return le[fe.name]=fe.align,le},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var W=a.call(this,u[f],k);for(g=0;g<v.length;g+=1){var Y=u[f][v[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:Y},this),s.call(this,new o(l,c,k[v[g]],W,Y,f+2,Z[v[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(f){var m=l[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Nt.API);var VV={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KV=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dA=WV(KV),GV=[100,200,300,400,500,600,700,800,900],rxe=WV(GV);function pC(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return VV[o=o||"normal"]?o:"normal"}(e.style),r=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(e.weight),i=function(o){return typeof dA[o=o||"normal"]=="number"?o:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function qL(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var ixe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function WL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function VL(e){return e.trimLeft()}function oxe(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function sxe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var F2,KL,GL,wp,B2,ZL,XL,$L,mC=["times"];function YL(e,t,n,r,i){var o=4,s=QL;switch(i){case Nt.API.image_compression.FAST:o=1,s=JL;break;case Nt.API.image_compression.MEDIUM:o=6,s=eM;break;case Nt.API.image_compression.SLOW:o=9,s=tM}e=function(l,c,u,d){for(var h,f=l.length/c,m=new Uint8Array(l.length+f),g=[axe,JL,QL,eM,tM],y=0;y<f;y+=1){var v=y*c,x=l.subarray(v,v+c);if(d)m.set(d(x,u,h),v+y);else{for(var _=g.length,S=[],k=0;k<_;k+=1)S[k]=g[k](x,u,h);var T=cxe(S.concat());m.set(S[T],v+y)}h=x}return m}(e,t,Math.ceil(n*r/8),s);var a=J4(e,{level:o});return Nt.API.__addimage__.arrayBufferToBinaryString(a)}function axe(e){var t=Array.apply([],e);return t.unshift(0),t}function JL(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var o=e[i-t]||0;r[i+1]=e[i]-o+256&255}return r}function QL(e,t,n){var r=e.length,i=[];i[0]=2;for(var o=0;o<r;o+=1){var s=n&&n[o]||0;i[o+1]=e[o]-s+256&255}return i}function eM(e,t,n){var r=e.length,i=[];i[0]=3;for(var o=0;o<r;o+=1){var s=e[o-t]||0,a=n&&n[o]||0;i[o+1]=e[o]+256-(s+a>>>1)&255}return i}function tM(e,t,n){var r=e.length,i=[];i[0]=4;for(var o=0;o<r;o+=1){var s=lxe(e[o-t]||0,n&&n[o]||0,n&&n[o-t]||0);i[o+1]=e[o]-s+256&255}return i}function lxe(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),o=Math.abs(e+t-n-n);return r<=i&&r<=o?e:i<=o?t:n}function cxe(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function gC(e,t,n){var r=t*n,i=Math.floor(r/8),o=16-(r-8*i+n),s=(1<<n)-1;return ZV(e,i)>>o&s}function nM(e,t,n,r){var i=n*r,o=Math.floor(i/8),s=16-(i-8*o+r),a=(1<<r)-1,l=(t&a)<<s;(function(c,u,d){if(u+1<c.byteLength)c.setUint16(u,d,!1);else{var h=d>>8&255;c.setUint8(u,h)}})(e,o,ZV(e,o)&~(a<<s)&65535|l)}function ZV(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function uxe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],o=i>>7,s=1<<1+(7&i);e[t++],e[t++];var a=null,l=null;o&&(a=t,l=s,t+=3*s);var c=!0,u=[],d=0,h=null,f=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];d=e[t++]|e[t++]<<8,h=e[t++],1&g||(h=null),f=g>>2&7,t++;break;case 254:for(;;){if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,S=e[t++],k=S>>6&1,T=1<<1+(7&S),P=a,N=l,A=!1;S>>7&&(A=!0,P=t,N=T,t+=3*T);var D=t;for(t++;;){var C;if(!((C=e[t++])>=0))throw Error("Invalid block size");if(C===0)break;t+=C}u.push({x:y,y:v,width:x,height:_,has_local_palette:A,palette_offset:P,palette_size:N,data_offset:D,data_length:t-D,transparent_index:h,interlaced:!!k,delay:d,disposal:f});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,L){var z=this.frameInfo(j),K=z.width*z.height,H=new Uint8Array(K);rM(e,z.data_offset,H,K);var Z=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,le=n-Y,fe=Y,M=4*(z.y*n+z.x),$=4*((z.y+z.height)*n+z.x),Q=M,ie=4*le;z.interlaced===!0&&(ie+=4*n*7);for(var oe=8,de=0,pe=H.length;de<pe;++de){var ae=H[de];if(fe===0&&(fe=Y,(Q+=ie)>=$&&(ie=4*le+4*n*(oe-1),Q=M+(Y+le)*(oe<<1),oe>>=1)),ae===W)Q+=4;else{var ue=e[Z+3*ae],_e=e[Z+3*ae+1],Se=e[Z+3*ae+2];L[Q++]=Se,L[Q++]=_e,L[Q++]=ue,L[Q++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(j,L){var z=this.frameInfo(j),K=z.width*z.height,H=new Uint8Array(K);rM(e,z.data_offset,H,K);var Z=z.palette_offset,W=z.transparent_index;W===null&&(W=256);var Y=z.width,le=n-Y,fe=Y,M=4*(z.y*n+z.x),$=4*((z.y+z.height)*n+z.x),Q=M,ie=4*le;z.interlaced===!0&&(ie+=4*n*7);for(var oe=8,de=0,pe=H.length;de<pe;++de){var ae=H[de];if(fe===0&&(fe=Y,(Q+=ie)>=$&&(ie=4*le+4*n*(oe-1),Q=M+(Y+le)*(oe<<1),oe>>=1)),ae===W)Q+=4;else{var ue=e[Z+3*ae],_e=e[Z+3*ae+1],Se=e[Z+3*ae+2];L[Q++]=ue,L[Q++]=_e,L[Q++]=Se,L[Q++]=255}--fe}}}function rM(e,t,n,r){for(var i=e[t++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,d=0,h=0,f=e[t++],m=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=e[t++]<<u,u+=8,f===1?f=e[t++]:--f;if(u<l)break;var y=d&c;if(d>>=l,u-=l,y!==o){if(y===s)break;for(var v=y<a?y:g,x=0,_=v;_>o;)_=m[_]>>8,++x;var S=_;if(h+x+(v!==y?1:0)>r)return void Hn.log("Warning, gif stream longer than expected.");n[h++]=S;var k=h+=x;for(v!==y&&(n[h++]=S),_=v;x--;)_=m[_],n[--k]=255&_,_>>=8;g!==null&&a<4096&&(m[a++]=g<<8|S,a>=c+1&&l<12&&(++l,c=c<<1|1)),g=y}else a=s+1,c=(1<<(l=i+1))-1,g=null}return h!==r&&Hn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function vC(e){var t,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),g=[],y=0,v=7,x=new Array(64),_=new Array(64),S=new Array(64),k=new Array(256),T=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(M,$){for(var Q=0,ie=0,oe=new Array,de=1;de<=16;de++){for(var pe=1;pe<=M[de];pe++)oe[$[ie]]=[],oe[$[ie]][0]=Q,oe[$[ie]][1]=de,ie++,Q++;Q*=2}return oe}function Z(M){for(var $=M[0],Q=M[1]-1;Q>=0;)$&1<<Q&&(y|=1<<v),Q--,--v<0&&(y==255?(W(255),W(0)):W(y),v=7,y=0)}function W(M){g.push(M)}function Y(M){W(M>>8&255),W(255&M)}function le(M,$,Q,ie,oe){for(var de,pe=oe[0],ae=oe[240],ue=function(Ie,Ae){var ke,Oe,Le,Ce,Me,Be,De,it,$e,pt,tt=0;for($e=0;$e<8;++$e){ke=Ie[tt],Oe=Ie[tt+1],Le=Ie[tt+2],Ce=Ie[tt+3],Me=Ie[tt+4],Be=Ie[tt+5],De=Ie[tt+6];var jn=ke+(it=Ie[tt+7]),nn=ke-it,be=Oe+De,ze=Oe-De,nt=Le+Be,Je=Le-Be,dt=Ce+Me,st=Ce-Me,mt=jn+dt,cn=jn-dt,Bt=be+nt,vt=be-nt;Ie[tt]=mt+Bt,Ie[tt+4]=mt-Bt;var Qe=.707106781*(vt+cn);Ie[tt+2]=cn+Qe,Ie[tt+6]=cn-Qe;var It=.382683433*((mt=st+Je)-(vt=ze+nn)),Kt=.5411961*mt+It,Wr=1.306562965*vt+It,ur=.707106781*(Bt=Je+ze),ot=nn+ur,lt=nn-ur;Ie[tt+5]=lt+Kt,Ie[tt+3]=lt-Kt,Ie[tt+1]=ot+Wr,Ie[tt+7]=ot-Wr,tt+=8}for(tt=0,$e=0;$e<8;++$e){ke=Ie[tt],Oe=Ie[tt+8],Le=Ie[tt+16],Ce=Ie[tt+24],Me=Ie[tt+32],Be=Ie[tt+40],De=Ie[tt+48];var vn=ke+(it=Ie[tt+56]),xo=ke-it,ps=Oe+De,vr=Oe-De,ui=Le+Be,wi=Le-Be,qd=Ce+Me,Kc=Ce-Me,aa=vn+qd,Ga=vn-qd,la=ps+ui,ca=ps-ui;Ie[tt]=aa+la,Ie[tt+32]=aa-la;var ms=.707106781*(ca+Ga);Ie[tt+16]=Ga+ms,Ie[tt+48]=Ga-ms;var Hd=.382683433*((aa=Kc+wi)-(ca=vr+xo)),Za=.5411961*aa+Hd,Wd=1.306562965*ca+Hd,zh=.707106781*(la=wi+vr),Uh=xo+zh,qh=xo-zh;Ie[tt+40]=qh+Za,Ie[tt+24]=qh-Za,Ie[tt+8]=Uh+Wd,Ie[tt+56]=Uh-Wd,tt++}for($e=0;$e<64;++$e)pt=Ie[$e]*Ae[$e],f[$e]=pt>0?pt+.5|0:pt-.5|0;return f}(M,$),_e=0;_e<64;++_e)m[P[_e]]=ue[_e];var Se=m[0]-Q;Q=m[0],Se==0?Z(ie[0]):(Z(ie[h[de=32767+Se]]),Z(d[de]));for(var Ne=63;Ne>0&&m[Ne]==0;)Ne--;if(Ne==0)return Z(pe),Q;for(var Xe,G=1;G<=Ne;){for(var We=G;m[G]==0&&G<=Ne;)++G;var xt=G-We;if(xt>=16){Xe=xt>>4;for(var at=1;at<=Xe;++at)Z(ae);xt&=15}de=32767+m[G],Z(oe[(xt<<4)+h[de]]),Z(d[de]),G++}return Ne!=63&&Z(pe),Q}function fe(M){M=Math.min(Math.max(M,1),100),o!=M&&(function($){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var oe=s((Q[ie]*$+50)/100);oe=Math.min(Math.max(oe,1),255),a[P[ie]]=oe}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var ae=s((de[pe]*$+50)/100);ae=Math.min(Math.max(ae,1),255),l[P[pe]]=ae}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Se=0;Se<8;Se++)for(var Ne=0;Ne<8;Ne++)c[_e]=1/(a[P[_e]]*ue[Se]*ue[Ne]*8),u[_e]=1/(l[P[_e]]*ue[Se]*ue[Ne]*8),_e++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,$){$&&fe($),g=new Array,y=0,v=7,Y(65496),Y(65504),Y(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),Y(1),Y(1),W(0),W(0),function(){Y(65499),Y(132),W(0);for(var Oe=0;Oe<64;Oe++)W(a[Oe]);W(1);for(var Le=0;Le<64;Le++)W(l[Le])}(),function(Oe,Le){Y(65472),Y(17),W(8),Y(Le),Y(Oe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(M.width,M.height),function(){Y(65476),Y(418),W(0);for(var Oe=0;Oe<16;Oe++)W(N[Oe+1]);for(var Le=0;Le<=11;Le++)W(A[Le]);W(16);for(var Ce=0;Ce<16;Ce++)W(D[Ce+1]);for(var Me=0;Me<=161;Me++)W(C[Me]);W(1);for(var Be=0;Be<16;Be++)W(j[Be+1]);for(var De=0;De<=11;De++)W(L[De]);W(17);for(var it=0;it<16;it++)W(z[it+1]);for(var $e=0;$e<=161;$e++)W(K[$e])}(),Y(65498),Y(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,ie=0,oe=0;y=0,v=7,this.encode.displayName="_encode_";for(var de,pe,ae,ue,_e,Se,Ne,Xe,G,We=M.data,xt=M.width,at=M.height,Ie=4*xt,Ae=0;Ae<at;){for(de=0;de<Ie;){for(_e=Ie*Ae+de,Ne=-1,Xe=0,G=0;G<64;G++)Se=_e+(Xe=G>>3)*Ie+(Ne=4*(7&G)),Ae+Xe>=at&&(Se-=Ie*(Ae+1+Xe-at)),de+Ne>=Ie&&(Se-=de+Ne-Ie+4),pe=We[Se++],ae=We[Se++],ue=We[Se++],x[G]=(T[pe]+T[ae+256|0]+T[ue+512|0]>>16)-128,_[G]=(T[pe+768|0]+T[ae+1024|0]+T[ue+1280|0]>>16)-128,S[G]=(T[pe+1280|0]+T[ae+1536|0]+T[ue+1792|0]>>16)-128;Q=le(x,c,Q,t,r),ie=le(_,u,ie,n,i),oe=le(S,u,oe,n,i),de+=32}Ae+=8}if(v>=0){var ke=[];ke[1]=v+1,ke[0]=(1<<v+1)-1,Z(ke)}return Y(65497),new Uint8Array(g)},e=e||50,function(){for(var M=String.fromCharCode,$=0;$<256;$++)k[$]=M($)}(),t=H(N,A),n=H(j,L),r=H(D,C),i=H(z,K),function(){for(var M=1,$=2,Q=1;Q<=15;Q++){for(var ie=M;ie<$;ie++)h[32767+ie]=Q,d[32767+ie]=[],d[32767+ie][1]=Q,d[32767+ie][0]=ie;for(var oe=-($-1);oe<=-M;oe++)h[32767+oe]=Q,d[32767+oe]=[],d[32767+oe][1]=Q,d[32767+oe][0]=$-1+oe;M<<=1,$<<=1}}(),function(){for(var M=0;M<256;M++)T[M]=19595*M,T[M+256|0]=38470*M,T[M+512|0]=7471*M+32768,T[M+768|0]=-11059*M,T[M+1024|0]=-21709*M,T[M+1280|0]=32768*M+8421375,T[M+1536|0]=-27439*M,T[M+1792|0]=-5329*M}(),fe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ga(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iM(e){function t(A){if(!A)throw Error("assert :P")}function n(A,D,C){for(var j=0;4>j;j++)if(A[D+j]!=C.charCodeAt(j))return!0;return!1}function r(A,D,C,j,L){for(var z=0;z<L;z++)A[D+z]=C[j+z]}function i(A,D,C,j){for(var L=0;L<j;L++)A[D+L]=C}function o(A){return new Int32Array(A)}function s(A,D){for(var C=[],j=0;j<A;j++)C.push(new D);return C}function a(A,D){var C=[];return function j(L,z,K){for(var H=K[z],Z=0;Z<H&&(L.push(K.length>z+1?[]:new D),!(K.length<z+1));Z++)j(L[Z],z+1,K)}(C,0,A),C}var l=function(){var A=this;function D(b,w){for(var R=1<<w-1>>>0;b&R;)R>>>=1;return R?(b&R-1)+R:b}function C(b,w,R,O,B){t(!(O%R));do b[w+(O-=R)]=B;while(0<O)}function j(b,w,R,O,B){if(t(2328>=B),512>=B)var U=o(512);else if((U=o(B))==null)return 0;return function(q,V,X,te,ce,we){var ne,he,ge=V,Te=1<<X,xe=o(16),Pe=o(16);for(t(ce!=0),t(te!=null),t(q!=null),t(0<X),he=0;he<ce;++he){if(15<te[he])return 0;++xe[te[he]]}if(xe[0]==ce)return 0;for(Pe[1]=0,ne=1;15>ne;++ne){if(xe[ne]>1<<ne)return 0;Pe[ne+1]=Pe[ne]+xe[ne]}for(he=0;he<ce;++he)ne=te[he],0<te[he]&&(we[Pe[ne]++]=he);if(Pe[15]==1)return(te=new L).g=0,te.value=we[0],C(q,ge,1,Te,te),Te;var je,Ve=-1,qe=Te-1,_t=0,ft=1,Qt=1,yt=1<<X;for(he=0,ne=1,ce=2;ne<=X;++ne,ce<<=1){if(ft+=Qt<<=1,0>(Qt-=xe[ne]))return 0;for(;0<xe[ne];--xe[ne])(te=new L).g=ne,te.value=we[he++],C(q,ge+_t,ce,yt,te),_t=D(_t,ne)}for(ne=X+1,ce=2;15>=ne;++ne,ce<<=1){if(ft+=Qt<<=1,0>(Qt-=xe[ne]))return 0;for(;0<xe[ne];--xe[ne]){if(te=new L,(_t&qe)!=Ve){for(ge+=yt,je=1<<(Ve=ne)-X;15>Ve&&!(0>=(je-=xe[Ve]));)++Ve,je<<=1;Te+=yt=1<<(je=Ve-X),q[V+(Ve=_t&qe)].g=je+X,q[V+Ve].value=ge-V-Ve}te.g=ne-X,te.value=we[he++],C(q,ge+(_t>>X),ce,yt,te),_t=D(_t,ne)}}return ft!=2*Pe[15]-1?0:Te}(b,w,R,O,B,U)}function L(){this.value=this.g=0}function z(){this.value=this.g=0}function K(){this.G=s(5,L),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(tf,z)}function H(b,w,R,O){t(b!=null),t(w!=null),t(2147483648>O),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=w,b.pa=R,b.Jd=w,b.Yc=R+O,b.Zc=4<=O?R+O-4+1:R,pe(b)}function Z(b,w){for(var R=0;0<w--;)R|=ue(b,128)<<w;return R}function W(b,w){var R=Z(b,w);return ae(b)?-R:R}function Y(b,w,R,O){var B,U=0;for(t(b!=null),t(w!=null),t(4294967288>O),b.Sb=O,b.Ra=0,b.u=0,b.h=0,4<O&&(O=4),B=0;B<O;++B)U+=w[R+B]<<8*B;b.Ra=U,b.bb=O,b.oa=w,b.pa=R}function le(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<$c-8>>>0,++b.bb,b.u-=8;ie(b)&&(b.h=1,b.u=0)}function fe(b,w){if(t(0<=w),!b.h&&w<=zo){var R=Q(b)&Bo[w];return b.u+=w,le(b),R}return b.h=1,b.u=0}function M(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function $(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(b){return b.Ra>>>(b.u&$c-1)>>>0}function ie(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>$c}function oe(b,w){b.u=w,b.h=ie(b)}function de(b){b.u>=Ql&&(t(b.u>=Ql),le(b))}function pe(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ae(b){return Z(b,1)}function ue(b,w){var R=b.Ca;0>b.b&&pe(b);var O=b.b,B=R*w>>>8,U=(b.I>>>O>B)+0;for(U?(R-=B,b.I-=B+1<<O>>>0):R=B+1,O=R,B=0;256<=O;)B+=8,O>>=8;return O=7^B+Yc[O],b.b-=O,b.Ca=(R<<O)-1,U}function _e(b,w,R){b[w+0]=R>>24&255,b[w+1]=R>>16&255,b[w+2]=R>>8&255,b[w+3]=255&R}function Se(b,w){return b[w+0]|b[w+1]<<8}function Ne(b,w){return Se(b,w)|b[w+2]<<16}function Xe(b,w){return Se(b,w)|Se(b,w+2)<<16}function G(b,w){var R=1<<w;return t(b!=null),t(0<w),b.X=o(R),b.X==null?0:(b.Mb=32-w,b.Xa=w,1)}function We(b,w){t(b!=null),t(w!=null),t(b.Xa==w.Xa),r(w.X,0,b.X,0,1<<w.Xa)}function xt(){this.X=[],this.Xa=this.Mb=0}function at(b,w,R,O){t(R!=null),t(O!=null);var B=R[0],U=O[0];return B==0&&(B=(b*U+w/2)/w),U==0&&(U=(w*B+b/2)/b),0>=B||0>=U?0:(R[0]=B,O[0]=U,1)}function Ie(b,w){return b+(1<<w)-1>>>w}function Ae(b,w){return((4278255360&b)+(4278255360&w)>>>0&4278255360)+((16711935&b)+(16711935&w)>>>0&16711935)>>>0}function ke(b,w){A[w]=function(R,O,B,U,q,V,X){var te;for(te=0;te<q;++te){var ce=A[b](V[X+te-1],B,U+te);V[X+te]=Ae(R[O+te],ce)}}}function Oe(){this.ud=this.hd=this.jd=0}function Le(b,w){return((4278124286&(b^w))>>>1)+(b&w)>>>0}function Ce(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Me(b,w){return Ce(b+(b-w+.5>>1))}function Be(b,w,R){return Math.abs(w-R)-Math.abs(b-R)}function De(b,w,R,O,B,U,q){for(O=U[q-1],R=0;R<B;++R)U[q+R]=O=Ae(b[w+R],O)}function it(b,w,R,O,B){var U;for(U=0;U<R;++U){var q=b[w+U],V=q>>8&255,X=16711935&(X=(X=16711935&q)+((V<<16)+V));O[B+U]=(4278255360&q)+X>>>0}}function $e(b,w){w.jd=255&b,w.hd=b>>8&255,w.ud=b>>16&255}function pt(b,w,R,O,B,U){var q;for(q=0;q<O;++q){var V=w[R+q],X=V>>>8,te=V,ce=255&(ce=(ce=V>>>16)+((b.jd<<24>>24)*(X<<24>>24)>>>5));te=255&(te=(te+=(b.hd<<24>>24)*(X<<24>>24)>>>5)+((b.ud<<24>>24)*(ce<<24>>24)>>>5)),B[U+q]=(4278255360&V)+(ce<<16)+te}}function tt(b,w,R,O,B){A[w]=function(U,q,V,X,te,ce,we,ne,he){for(X=we;X<ne;++X)for(we=0;we<he;++we)te[ce++]=B(V[O(U[q++])])},A[b]=function(U,q,V,X,te,ce,we){var ne=8>>U.b,he=U.Ea,ge=U.K[0],Te=U.w;if(8>ne)for(U=(1<<U.b)-1,Te=(1<<ne)-1;q<V;++q){var xe,Pe=0;for(xe=0;xe<he;++xe)xe&U||(Pe=O(X[te++])),ce[we++]=B(ge[Pe&Te]),Pe>>=ne}else A["VP8LMapColor"+R](X,te,ge,Te,ce,we,q,V,he)}}function jn(b,w,R,O,B){for(R=w+R;w<R;){var U=b[w++];O[B++]=U>>16&255,O[B++]=U>>8&255,O[B++]=255&U}}function nn(b,w,R,O,B){for(R=w+R;w<R;){var U=b[w++];O[B++]=U>>16&255,O[B++]=U>>8&255,O[B++]=255&U,O[B++]=U>>24&255}}function be(b,w,R,O,B){for(R=w+R;w<R;){var U=(q=b[w++])>>16&240|q>>12&15,q=240&q|q>>28&15;O[B++]=U,O[B++]=q}}function ze(b,w,R,O,B){for(R=w+R;w<R;){var U=(q=b[w++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;O[B++]=U,O[B++]=q}}function nt(b,w,R,O,B){for(R=w+R;w<R;){var U=b[w++];O[B++]=255&U,O[B++]=U>>8&255,O[B++]=U>>16&255}}function Je(b,w,R,O,B,U){if(U==0)for(R=w+R;w<R;)_e(O,((U=b[w++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),B+=32;else r(O,B,b,w,R)}function dt(b,w){A[w][0]=A[b+"0"],A[w][1]=A[b+"1"],A[w][2]=A[b+"2"],A[w][3]=A[b+"3"],A[w][4]=A[b+"4"],A[w][5]=A[b+"5"],A[w][6]=A[b+"6"],A[w][7]=A[b+"7"],A[w][8]=A[b+"8"],A[w][9]=A[b+"9"],A[w][10]=A[b+"10"],A[w][11]=A[b+"11"],A[w][12]=A[b+"12"],A[w][13]=A[b+"13"],A[w][14]=A[b+"0"],A[w][15]=A[b+"0"]}function st(b){return b==SS||b==kS||b==ib||b==CS}function mt(){this.eb=[],this.size=this.A=this.fb=0}function cn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Bt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new mt,this.f.kb=new cn,this.sd=null}function vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Qe(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function It(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Kt(b,w){var R=b.T,O=w.ba.f.RGBA,B=O.eb,U=O.fb+b.ka*O.A,q=ws[w.ba.S],V=b.y,X=b.O,te=b.f,ce=b.N,we=b.ea,ne=b.W,he=w.cc,ge=w.dc,Te=w.Mc,xe=w.Nc,Pe=b.ka,je=b.ka+b.T,Ve=b.U,qe=Ve+1>>1;for(Pe==0?q(V,X,null,null,te,ce,we,ne,te,ce,we,ne,B,U,null,null,Ve):(q(w.ec,w.fc,V,X,he,ge,Te,xe,te,ce,we,ne,B,U-O.A,B,U,Ve),++R);Pe+2<je;Pe+=2)he=te,ge=ce,Te=we,xe=ne,ce+=b.Rc,ne+=b.Rc,U+=2*O.A,q(V,(X+=2*b.fa)-b.fa,V,X,he,ge,Te,xe,te,ce,we,ne,B,U-O.A,B,U,Ve);return X+=b.fa,b.j+je<b.o?(r(w.ec,w.fc,V,X,Ve),r(w.cc,w.dc,te,ce,qe),r(w.Mc,w.Nc,we,ne,qe),R--):1&je||q(V,X,null,null,te,ce,we,ne,te,ce,we,ne,B,U+O.A,null,null,Ve),R}function Wr(b,w,R){var O=b.F,B=[b.J];if(O!=null){var U=b.U,q=w.ba.S,V=q==rb||q==ib;w=w.ba.f.RGBA;var X=[0],te=b.ka;X[0]=b.T,b.Kb&&(te==0?--X[0]:(--te,B[0]-=b.width),b.j+b.ka+b.T==b.o&&(X[0]=b.o-b.j-te));var ce=w.eb;te=w.fb+te*w.A,b=EP(O,B[0],b.width,U,X,ce,te+(V?0:3),w.A),t(R==X),b&&st(q)&&Bm(ce,te,V,U,X,w.A)}return 0}function ur(b){var w=b.ma,R=w.ba.S,O=11>R,B=R==tb||R==nb||R==rb||R==_S||R==12||st(R);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Rm(w.Oa,b,B?11:12))return 0;if(B&&st(R)&&Em(),b.da)alert("todo:use_scaling");else{if(O){if(w.Ib=It,b.Kb){if(R=b.U+1>>1,w.memory=o(b.U+2*R),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+b.U,w.Mc=w.cc,w.Nc=w.dc+R,w.Ib=Kt,Em()}}else alert("todo:EmitYUV");B&&(w.Jb=Wr,O&&da())}if(O&&!VP){for(b=0;256>b;++b)OK[b]=89858*(b-128)+sb>>ob,FK[b]=-22014*(b-128)+sb,MK[b]=-45773*(b-128),LK[b]=113618*(b-128)+sb>>ob;for(b=Um;b<ES;++b)w=76283*(b-16)+sb>>ob,BK[b-Um]=Xa(w,255),zK[b-Um]=Xa(w+8>>4,15);VP=1}return 1}function ot(b){var w=b.ma,R=b.U,O=b.T;return t(!(1&b.ka)),0>=R||0>=O?0:(R=w.Ib(b,w),w.Jb!=null&&w.Jb(b,w,R),w.Dc+=R,1)}function lt(b){b.ma.memory=null}function vn(b,w,R,O){return fe(b,8)!=47?0:(w[0]=fe(b,14)+1,R[0]=fe(b,14)+1,O[0]=fe(b,1),fe(b,3)!=0?0:!b.h)}function xo(b,w){if(4>b)return b+1;var R=b-2>>1;return(2+(1&b)<<R)+fe(w,R)+1}function ps(b,w){return 120<w?w-120:1<=(R=((R=wK[w-1])>>4)*b+(8-(15&R)))?R:1;var R}function vr(b,w,R){var O=Q(R),B=b[w+=255&O].g-8;return 0<B&&(oe(R,R.u+8),O=Q(R),w+=b[w].value,w+=O&(1<<B)-1),oe(R,R.u+b[w].g),b[w].value}function ui(b,w,R){return R.g+=b.g,R.value+=b.value<<w>>>0,t(8>=R.g),b.g}function wi(b,w,R){var O=b.xc;return t((w=O==0?0:b.vc[b.md*(R>>O)+(w>>O)])<b.Wb),b.Ya[w]}function qd(b,w,R,O){var B=b.ab,U=b.c*w,q=b.C;w=q+w;var V=R,X=O;for(O=b.Ta,R=b.Ua;0<B--;){var te=b.gc[B],ce=q,we=w,ne=V,he=X,ge=(X=O,V=R,te.Ea);switch(t(ce<we),t(we<=te.nc),te.hc){case 2:Cr(ne,he,(we-ce)*ge,X,V);break;case 0:var Te=ce,xe=we,Pe=X,je=V,Ve=(yt=te).Ea;Te==0&&(Dm(ne,he,null,null,1,Pe,je),De(ne,he+1,0,0,Ve-1,Pe,je+1),he+=Ve,je+=Ve,++Te);for(var qe=1<<yt.b,_t=qe-1,ft=Ie(Ve,yt.b),Qt=yt.K,yt=yt.w+(Te>>yt.b)*ft;Te<xe;){var un=Qt,Zr=yt,en=1;for($h(ne,he,Pe,je-Ve,1,Pe,je);en<Ve;){var bt=(en&~_t)+qe;bt>Ve&&(bt=Ve),(0,Om[un[Zr++]>>8&15])(ne,he+ +en,Pe,je+en-Ve,bt-en,Pe,je+en),en=bt}he+=Ve,je+=Ve,++Te&_t||(yt+=ft)}we!=te.nc&&r(X,V-ge,X,V+(we-ce-1)*ge,ge);break;case 1:for(ge=ne,xe=he,Ve=(ne=te.Ea)-(je=ne&~(Pe=(he=1<<te.b)-1)),Te=Ie(ne,te.b),qe=te.K,te=te.w+(ce>>te.b)*Te;ce<we;){for(_t=qe,ft=te,Qt=new Oe,yt=xe+je,un=xe+ne;xe<yt;)$e(_t[ft++],Qt),Lm(Qt,ge,xe,he,X,V),xe+=he,V+=he;xe<un&&($e(_t[ft++],Qt),Lm(Qt,ge,xe,Ve,X,V),xe+=Ve,V+=Ve),++ce&Pe||(te+=Te)}break;case 3:if(ne==X&&he==V&&0<te.b){for(xe=X,ne=ge=V+(we-ce)*ge-(je=(we-ce)*Ie(te.Ea,te.b)),he=X,Pe=V,Te=[],je=(Ve=je)-1;0<=je;--je)Te[je]=he[Pe+je];for(je=Ve-1;0<=je;--je)xe[ne+je]=Te[je];Yy(te,ce,we,X,ge,X,V)}else Yy(te,ce,we,ne,he,X,V)}V=O,X=R}X!=R&&r(O,R,V,X,U)}function Kc(b,w){var R=b.V,O=b.Ba+b.c*b.C,B=w-b.C;if(t(w<=b.l.o),t(16>=B),0<B){var U=b.l,q=b.Ta,V=b.Ua,X=U.width;if(qd(b,B,R,O),B=V=[V],t((R=b.C)<(O=w)),t(U.v<U.va),O>U.o&&(O=U.o),R<U.j){var te=U.j-R;R=U.j,B[0]+=te*X}if(R>=O?R=0:(B[0]+=4*U.v,U.ka=R-U.j,U.U=U.va-U.v,U.T=O-R,R=1),R){if(V=V[0],11>(R=b.ca).S){var ce=R.f.RGBA,we=(O=R.S,B=U.U,U=U.T,te=ce.eb,ce.A),ne=U;for(ce=ce.fb+b.Ma*ce.A;0<ne--;){var he=q,ge=V,Te=B,xe=te,Pe=ce;switch(O){case eb:Mm(he,ge,Te,xe,Pe);break;case tb:Jc(he,ge,Te,xe,Pe);break;case SS:Jc(he,ge,Te,xe,Pe),Bm(xe,Pe,0,Te,1,0);break;case OP:nf(he,ge,Te,xe,Pe);break;case nb:Je(he,ge,Te,xe,Pe,1);break;case kS:Je(he,ge,Te,xe,Pe,1),Bm(xe,Pe,0,Te,1,0);break;case rb:Je(he,ge,Te,xe,Pe,0);break;case ib:Je(he,ge,Te,xe,Pe,0),Bm(xe,Pe,1,Te,1,0);break;case _S:Qc(he,ge,Te,xe,Pe);break;case CS:Qc(he,ge,Te,xe,Pe),AP(xe,Pe,Te,1,0);break;case LP:eu(he,ge,Te,xe,Pe);break;default:t(0)}V+=X,ce+=we}b.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=R.height)}}b.C=w,t(b.C<=b.i)}function aa(b){var w;if(0<b.ua)return 0;for(w=0;w<b.Wb;++w){var R=b.Ya[w].G,O=b.Ya[w].H;if(0<R[1][O[1]+0].g||0<R[2][O[2]+0].g||0<R[3][O[3]+0].g)return 0}return 1}function Ga(b,w,R,O,B,U){if(b.Z!=0){var q=b.qd,V=b.rd;for(t(ru[b.Z]!=null);w<R;++w)ru[b.Z](q,V,O,B,O,B,U),q=O,V=B,B+=U;b.qd=q,b.rd=V}}function la(b,w){var R=b.l.ma,O=R.Z==0||R.Z==1?b.l.j:b.C;if(O=b.C<O?O:b.C,t(w<=b.l.o),w>O){var B=b.l.width,U=R.ca,q=R.tb+B*O,V=b.V,X=b.Ba+b.c*O,te=b.gc;t(b.ab==1),t(te[0].hc==3),Qa(te[0],O,w,V,X,U,q),Ga(R,O,w,U,q,B)}b.C=b.Ma=w}function ca(b,w,R,O,B,U,q){var V=b.$/O,X=b.$%O,te=b.m,ce=b.s,we=R+b.$,ne=we;B=R+O*B;var he=R+O*U,ge=280+ce.ua,Te=b.Pb?V:16777216,xe=0<ce.ua?ce.Wa:null,Pe=ce.wc,je=we<he?wi(ce,X,V):null;t(b.C<U),t(he<=B);var Ve=!1;e:for(;;){for(;Ve||we<he;){var qe=0;if(V>=Te){var _t=we-R;t((Te=b).Pb),Te.wd=Te.m,Te.xd=_t,0<Te.s.ua&&We(Te.s.Wa,Te.s.vb),Te=V+SK}if(X&Pe||(je=wi(ce,X,V)),t(je!=null),je.Qb&&(w[we]=je.qb,Ve=!0),!Ve)if(de(te),je.jc){qe=te,_t=w;var ft=we,Qt=je.pd[Q(qe)&tf-1];t(je.jc),256>Qt.g?(oe(qe,qe.u+Qt.g),_t[ft]=Qt.value,qe=0):(oe(qe,qe.u+Qt.g-256),t(256<=Qt.value),qe=Qt.value),qe==0&&(Ve=!0)}else qe=vr(je.G[0],je.H[0],te);if(te.h)break;if(Ve||256>qe){if(!Ve)if(je.nd)w[we]=(je.qb|qe<<8)>>>0;else{if(de(te),Ve=vr(je.G[1],je.H[1],te),de(te),_t=vr(je.G[2],je.H[2],te),ft=vr(je.G[3],je.H[3],te),te.h)break;w[we]=(ft<<24|Ve<<16|qe<<8|_t)>>>0}if(Ve=!1,++we,++X>=O&&(X=0,++V,q!=null&&V<=U&&!(V%16)&&q(b,V),xe!=null))for(;ne<we;)qe=w[ne++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe}else if(280>qe){if(qe=xo(qe-256,te),_t=vr(je.G[4],je.H[4],te),de(te),_t=ps(O,_t=xo(_t,te)),te.h)break;if(we-R<_t||B-we<qe)break e;for(ft=0;ft<qe;++ft)w[we+ft]=w[we+ft-_t];for(we+=qe,X+=qe;X>=O;)X-=O,++V,q!=null&&V<=U&&!(V%16)&&q(b,V);if(t(we<=B),X&Pe&&(je=wi(ce,X,V)),xe!=null)for(;ne<we;)qe=w[ne++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe}else{if(!(qe<ge))break e;for(Ve=qe-280,t(xe!=null);ne<we;)qe=w[ne++],xe.X[(506832829*qe&4294967295)>>>xe.Mb]=qe;qe=we,t(!(Ve>>>(_t=xe).Xa)),w[qe]=_t.X[Ve],Ve=!0}Ve||t(te.h==ie(te))}if(b.Pb&&te.h&&we<B)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&We(b.s.vb,b.s.Wa);else{if(te.h)break e;q?.(b,V>U?U:V),b.a=0,b.$=we-R}return 1}return b.a=3,0}function ms(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var w=b.Wa;w!=null&&(w.X=null),b.vb=null,t(b!=null)}function Hd(){var b=new zt;return b==null?null:(b.a=0,b.xb=BP,dt("Predictor","VP8LPredictors"),dt("Predictor","VP8LPredictors_C"),dt("PredictorAdd","VP8LPredictorsAdd"),dt("PredictorAdd","VP8LPredictorsAdd_C"),Cr=it,Lm=pt,Mm=jn,Jc=nn,Qc=be,eu=ze,nf=nt,A.VP8LMapColor32b=Ja,A.VP8LMapColor8b=Im,b)}function Za(b,w,R,O,B){var U=1,q=[b],V=[w],X=O.m,te=O.s,ce=null,we=0;e:for(;;){if(R)for(;U&&fe(X,1);){var ne=q,he=V,ge=O,Te=1,xe=ge.m,Pe=ge.gc[ge.ab],je=fe(xe,2);if(ge.Oc&1<<je)U=0;else{switch(ge.Oc|=1<<je,Pe.hc=je,Pe.Ea=ne[0],Pe.nc=he[0],Pe.K=[null],++ge.ab,t(4>=ge.ab),je){case 0:case 1:Pe.b=fe(xe,3)+2,Te=Za(Ie(Pe.Ea,Pe.b),Ie(Pe.nc,Pe.b),0,ge,Pe.K),Pe.K=Pe.K[0];break;case 3:var Ve,qe=fe(xe,8)+1,_t=16<qe?0:4<qe?1:2<qe?2:3;if(ne[0]=Ie(Pe.Ea,_t),Pe.b=_t,Ve=Te=Za(qe,1,0,ge,Pe.K)){var ft,Qt=qe,yt=Pe,un=1<<(8>>yt.b),Zr=o(un);if(Zr==null)Ve=0;else{var en=yt.K[0],bt=yt.w;for(Zr[0]=yt.K[0][0],ft=1;ft<1*Qt;++ft)Zr[ft]=Ae(en[bt+ft],Zr[ft-1]);for(;ft<4*un;++ft)Zr[ft]=0;yt.K[0]=null,yt.K[0]=Zr,Ve=1}}Te=Ve;break;case 2:break;default:t(0)}U=Te}}if(q=q[0],V=V[0],U&&fe(X,1)&&!(U=1<=(we=fe(X,4))&&11>=we)){O.a=3;break e}var et;if(et=U)t:{var Ar,Gt,yn,Jn=O,ki=q,eo=V,yr=we,Bi=R,to=Jn.m,Xr=Jn.s,xn=[null],On=1,br=0,Ln=_K[yr];n:for(;;){if(Bi&&fe(to,1)){var Ci=fe(to,3)+2,ha=Ie(ki,Ci),Er=Ie(eo,Ci),wo=ha*Er;if(!Za(ha,Er,0,Jn,xn))break n;for(xn=xn[0],Xr.xc=Ci,Ar=0;Ar<wo;++Ar){var qn=xn[Ar]>>8&65535;xn[Ar]=qn,qn>=On&&(On=qn+1)}}if(to.h)break n;for(Gt=0;5>Gt;++Gt){var $r=MP[Gt];!Gt&&0<yr&&($r+=1<<yr),br<$r&&(br=$r)}var qo=s(On*Ln,L),no=On,Ho=s(no,K);if(Ho==null)var Wo=null;else t(65536>=no),Wo=Ho;var _o=o(br);if(Wo==null||_o==null||qo==null){Jn.a=1;break n}var Vo=qo;for(Ar=yn=0;Ar<On;++Ar){var Gn=Wo[Ar],Ko=Gn.G,pa=Gn.H,of=0,nc=1,Ni=0;for(Gt=0;5>Gt;++Gt){$r=MP[Gt],Ko[Gt]=Vo,pa[Gt]=yn,!Gt&&0<yr&&($r+=1<<yr);i:{var lb,TS=$r,cb=Jn,qm=_o,HK=Vo,WK=yn,PS=0,iu=cb.m,VK=fe(iu,1);if(i(qm,0,0,TS),VK){var KK=fe(iu,1)+1,GK=fe(iu,1),ZP=fe(iu,GK==0?1:8);qm[ZP]=1,KK==2&&(qm[ZP=fe(iu,8)]=1);var ub=1}else{var XP=o(19),$P=fe(iu,4)+4;if(19<$P){cb.a=3;var db=0;break i}for(lb=0;lb<$P;++lb)XP[xK[lb]]=fe(iu,3);var RS=void 0,Hm=void 0,YP=cb,ZK=XP,fb=TS,JP=qm,jS=0,ou=YP.m,QP=8,e8=s(128,L);r:for(;j(e8,0,7,ZK,19);){if(fe(ou,1)){var XK=2+2*fe(ou,3);if((RS=2+fe(ou,XK))>fb)break r}else RS=fb;for(Hm=0;Hm<fb&&RS--;){de(ou);var t8=e8[0+(127&Q(ou))];oe(ou,ou.u+t8.g);var Jh=t8.value;if(16>Jh)JP[Hm++]=Jh,Jh!=0&&(QP=Jh);else{var $K=Jh==16,n8=Jh-16,YK=yK[n8],r8=fe(ou,vK[n8])+YK;if(Hm+r8>fb)break r;for(var JK=$K?QP:0;0<r8--;)JP[Hm++]=JK}}jS=1;break r}jS||(YP.a=3),ub=jS}(ub=ub&&!iu.h)&&(PS=j(HK,WK,8,qm,TS)),ub&&PS!=0?db=PS:(cb.a=3,db=0)}if(db==0)break n;if(nc&&bK[Gt]==1&&(nc=Vo[yn].g==0),of+=Vo[yn].g,yn+=db,3>=Gt){var Wm,DS=_o[0];for(Wm=1;Wm<$r;++Wm)_o[Wm]>DS&&(DS=_o[Wm]);Ni+=DS}}if(Gn.nd=nc,Gn.Qb=0,nc&&(Gn.qb=(Ko[3][pa[3]+0].value<<24|Ko[1][pa[1]+0].value<<16|Ko[2][pa[2]+0].value)>>>0,of==0&&256>Ko[0][pa[0]+0].value&&(Gn.Qb=1,Gn.qb+=Ko[0][pa[0]+0].value<<8)),Gn.jc=!Gn.Qb&&6>Ni,Gn.jc){var hb,rc=Gn;for(hb=0;hb<tf;++hb){var su=hb,au=rc.pd[su],pb=rc.G[0][rc.H[0]+su];256<=pb.value?(au.g=pb.g+256,au.value=pb.value):(au.g=0,au.value=0,su>>=ui(pb,8,au),su>>=ui(rc.G[1][rc.H[1]+su],16,au),su>>=ui(rc.G[2][rc.H[2]+su],0,au),ui(rc.G[3][rc.H[3]+su],24,au))}}}Xr.vc=xn,Xr.Wb=On,Xr.Ya=Wo,Xr.yc=qo,et=1;break t}et=0}if(!(U=et)){O.a=3;break e}if(0<we){if(te.ua=1<<we,!G(te.Wa,we)){O.a=1,U=0;break e}}else te.ua=0;var IS=O,i8=q,QK=V,OS=IS.s,LS=OS.xc;if(IS.c=i8,IS.i=QK,OS.md=Ie(i8,LS),OS.wc=LS==0?-1:(1<<LS)-1,R){O.xb=PK;break e}if((ce=o(q*V))==null){O.a=1,U=0;break e}U=(U=ca(O,ce,0,q,V,V,null))&&!X.h;break e}return U?(B!=null?B[0]=ce:(t(ce==null),t(R)),O.$=0,R||ms(te)):ms(te),U}function Wd(b,w){var R=b.c*b.i,O=R+w+16*w;return t(b.c<=w),b.V=o(O),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+R+w,1)}function zh(b,w){var R=b.C,O=w-R,B=b.V,U=b.Ba+b.c*R;for(t(w<=b.l.o);0<O;){var q=16<O?16:O,V=b.l.ma,X=b.l.width,te=X*q,ce=V.ca,we=V.tb+X*R,ne=b.Ta,he=b.Ua;qd(b,q,B,U),TP(ne,he,ce,we,te),Ga(V,R,R+q,ce,we,X),O-=q,B+=q*b.c,R+=q}t(R==w),b.C=b.Ma=w}function Uh(){this.ub=this.yd=this.td=this.Rb=0}function qh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function oS(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function vm(){this.Yb=function(){var b=[];return function w(R,O,B){for(var U=B[O],q=0;q<U&&(R.push(B.length>O+1?[]:0),!(B.length<O+1));q++)w(R[q],O+1,B)}(b,0,[3,11]),b}()}function Dy(){this.jb=o(3),this.Wc=a([4,8],vm),this.Xc=a([4,17],vm)}function Iy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function ym(){this.Na=this.la=0}function Oy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function bm(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ly(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new bm),this.aa=0,this.l=new Hh}function My(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Fy(){this.cb=this.a=0,this.sc="",this.m=new M,this.Od=new Uh,this.Kc=new qh,this.ed=new Iy,this.Qa=new oS,this.Ic=this.$c=this.Aa=0,this.D=new Ly,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,M),this.ia=0,this.pb=s(4,Oy),this.Pa=new Dy,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new My),this.Hd=0,this.rb=Array(new ym),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new bm),this.L=this.aa=0,this.gd=a([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xa(b,w){return 0>b?0:b>w?w:b}function Hh(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sS(){var b=new Fy;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,zm||(zm=Wh)),b}function Mr(b,w,R){return b.a==0&&(b.a=w,b.sc=R,b.cb=0),0}function By(b,w,R){return 3<=R&&b[w+0]==157&&b[w+1]==1&&b[w+2]==42}function $a(b,w){if(b==null)return 0;if(b.a=0,b.sc="OK",w==null)return Mr(b,2,"null VP8Io passed to VP8GetHeaders()");var R=w.data,O=w.w,B=w.ha;if(4>B)return Mr(b,7,"Truncated header.");var U=R[O+0]|R[O+1]<<8|R[O+2]<<16,q=b.Od;if(q.Rb=!(1&U),q.td=U>>1&7,q.yd=U>>4&1,q.ub=U>>5,3<q.td)return Mr(b,3,"Incorrect keyframe parameters.");if(!q.yd)return Mr(b,4,"Frame not displayable.");O+=3,B-=3;var V=b.Kc;if(q.Rb){if(7>B)return Mr(b,7,"cannot parse picture header");if(!By(R,O,B))return Mr(b,3,"Bad code word");V.c=16383&(R[O+4]<<8|R[O+3]),V.Td=R[O+4]>>6,V.i=16383&(R[O+6]<<8|R[O+5]),V.Ud=R[O+6]>>6,O+=7,B-=7,b.za=V.c+15>>4,b.Ub=V.i+15>>4,w.width=V.c,w.height=V.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((U=b.Pa).jb,0,255,U.jb.length),t((U=b.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(q.ub>B)return Mr(b,7,"bad partition length");H(U=b.m,R,O,q.ub),O+=q.ub,B-=q.ub,q.Rb&&(V.Ld=ae(U),V.Kd=ae(U)),V=b.Qa;var X,te=b.Pa;if(t(U!=null),t(V!=null),V.Cb=ae(U),V.Cb){if(V.Bb=ae(U),ae(U)){for(V.Fb=ae(U),X=0;4>X;++X)V.Zb[X]=ae(U)?W(U,7):0;for(X=0;4>X;++X)V.Lb[X]=ae(U)?W(U,6):0}if(V.Bb)for(X=0;3>X;++X)te.jb[X]=ae(U)?Z(U,8):255}else V.Bb=0;if(U.Ka)return Mr(b,3,"cannot parse segment header");if((V=b.ed).zd=ae(U),V.Tb=Z(U,6),V.wb=Z(U,3),V.Pc=ae(U),V.Pc&&ae(U)){for(te=0;4>te;++te)ae(U)&&(V.vd[te]=W(U,6));for(te=0;4>te;++te)ae(U)&&(V.od[te]=W(U,6))}if(b.L=V.Tb==0?0:V.zd?1:2,U.Ka)return Mr(b,3,"cannot parse filter header");var ce=B;if(B=X=O,O=X+ce,V=ce,b.Xb=(1<<Z(b.m,2))-1,ce<3*(te=b.Xb))R=7;else{for(X+=3*te,V-=3*te,ce=0;ce<te;++ce){var we=R[B+0]|R[B+1]<<8|R[B+2]<<16;we>V&&(we=V),H(b.Jc[+ce],R,X,we),X+=we,V-=we,B+=3}H(b.Jc[+te],R,X,V),R=X<O?0:5}if(R!=0)return Mr(b,R,"cannot parse partitions");for(R=Z(X=b.m,7),B=ae(X)?W(X,4):0,O=ae(X)?W(X,4):0,V=ae(X)?W(X,4):0,te=ae(X)?W(X,4):0,X=ae(X)?W(X,4):0,ce=b.Qa,we=0;4>we;++we){if(ce.Cb){var ne=ce.Zb[we];ce.Fb||(ne+=R)}else{if(0<we){b.pb[we]=b.pb[0];continue}ne=R}var he=b.pb[we];he.Sc[0]=NS[Xa(ne+B,127)],he.Sc[1]=AS[Xa(ne+0,127)],he.Eb[0]=2*NS[Xa(ne+O,127)],he.Eb[1]=101581*AS[Xa(ne+V,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=NS[Xa(ne+te,117)],he.Qc[1]=AS[Xa(ne+X,127)],he.lc=ne+X}if(!q.Rb)return Mr(b,4,"Not a key frame.");for(ae(U),q=b.Pa,R=0;4>R;++R){for(B=0;8>B;++B)for(O=0;3>O;++O)for(V=0;11>V;++V)te=ue(U,EK[R][B][O][V])?Z(U,8):NK[R][B][O][V],q.Wc[R][B].Yb[O][V]=te;for(B=0;17>B;++B)q.Xc[R][B]=q.Wc[R][TK[B]]}return b.kc=ae(U),b.kc&&(b.Bd=Z(U,8)),b.cb=1}function Wh(b,w,R,O,B,U,q){var V=w[B].Yb[R];for(R=0;16>B;++B){if(!ue(b,V[R+0]))return B;for(;!ue(b,V[R+1]);)if(V=w[++B].Yb[0],R=0,B==16)return 16;var X=w[B+1].Yb;if(ue(b,V[R+2])){var te=b,ce=0;if(ue(te,(ne=V)[(we=R)+3]))if(ue(te,ne[we+6])){for(V=0,we=2*(ce=ue(te,ne[we+8]))+(ne=ue(te,ne[we+9+ce])),ce=0,ne=kK[we];ne[V];++V)ce+=ce+ue(te,ne[V]);ce+=3+(8<<we)}else ue(te,ne[we+7])?(ce=7+2*ue(te,165),ce+=ue(te,145)):ce=5+ue(te,159);else ce=ue(te,ne[we+4])?3+ue(te,ne[we+5]):2;V=X[2]}else ce=1,V=X[1];X=q+CK[B],0>(te=b).b&&pe(te);var we,ne=te.b,he=(we=te.Ca>>1)-(te.I>>ne)>>31;--te.b,te.Ca+=he,te.Ca|=1,te.I-=(we+1&he)<<ne,U[X]=((ce^he)-he)*O[(0<B)+0]}return 16}function zy(b){var w=b.rb[b.sb-1];w.la=0,w.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function vs(b,w,R,O,B){B=b[w+R+32*O]+(B>>3),b[w+R+32*O]=-256&B?0>B?0:255:B}function Vr(b,w,R,O,B,U){vs(b,w,0,R,O+B),vs(b,w,1,R,O+U),vs(b,w,2,R,O-U),vs(b,w,3,R,O-B)}function Hl(b){return(20091*b>>16)+b}function Uy(b,w,R,O){var B,U=0,q=o(16);for(B=0;4>B;++B){var V=b[w+0]+b[w+8],X=b[w+0]-b[w+8],te=(35468*b[w+4]>>16)-Hl(b[w+12]),ce=Hl(b[w+4])+(35468*b[w+12]>>16);q[U+0]=V+ce,q[U+1]=X+te,q[U+2]=X-te,q[U+3]=V-ce,U+=4,w++}for(B=U=0;4>B;++B)V=(b=q[U+0]+4)+q[U+8],X=b-q[U+8],te=(35468*q[U+4]>>16)-Hl(q[U+12]),vs(R,O,0,0,V+(ce=Hl(q[U+4])+(35468*q[U+12]>>16))),vs(R,O,1,0,X+te),vs(R,O,2,0,X-te),vs(R,O,3,0,V-ce),U++,O+=32}function aS(b,w,R,O){var B=b[w+0]+4,U=35468*b[w+4]>>16,q=Hl(b[w+4]),V=35468*b[w+1]>>16;Vr(R,O,0,B+q,b=Hl(b[w+1]),V),Vr(R,O,1,B+U,b,V),Vr(R,O,2,B-U,b,V),Vr(R,O,3,B-q,b,V)}function lS(b,w,R,O,B){Uy(b,w,R,O),B&&Uy(b,w+16,R,O+4)}function Ya(b,w,R,O){rf(b,w+0,R,O,1),rf(b,w+32,R,O+128,1)}function qy(b,w,R,O){var B;for(b=b[w+0]+4,B=0;4>B;++B)for(w=0;4>w;++w)vs(R,O,w,B,b)}function Hy(b,w,R,O){b[w+0]&&Dn(b,w+0,R,O),b[w+16]&&Dn(b,w+16,R,O+4),b[w+32]&&Dn(b,w+32,R,O+128),b[w+48]&&Dn(b,w+48,R,O+128+4)}function Vh(b,w,R,O){var B,U=o(16);for(B=0;4>B;++B){var q=b[w+0+B]+b[w+12+B],V=b[w+4+B]+b[w+8+B],X=b[w+4+B]-b[w+8+B],te=b[w+0+B]-b[w+12+B];U[0+B]=q+V,U[8+B]=q-V,U[4+B]=te+X,U[12+B]=te-X}for(B=0;4>B;++B)q=(b=U[0+4*B]+3)+U[3+4*B],V=U[1+4*B]+U[2+4*B],X=U[1+4*B]-U[2+4*B],te=b-U[3+4*B],R[O+0]=q+V>>3,R[O+16]=te+X>>3,R[O+32]=q-V>>3,R[O+48]=te-X>>3,O+=64}function Vd(b,w,R){var O,B=w-32,U=Uo,q=255-b[B-1];for(O=0;O<R;++O){var V,X=U,te=q+b[w-1];for(V=0;V<R;++V)b[w+V]=X[te+b[B+V]];w+=32}}function cS(b,w){Vd(b,w,4)}function uS(b,w){Vd(b,w,8)}function dS(b,w){Vd(b,w,16)}function xm(b,w){var R;for(R=0;16>R;++R)r(b,w+32*R,b,w-32,16)}function Wy(b,w){var R;for(R=16;0<R;--R)i(b,w,b[w-1],16),w+=32}function ua(b,w,R){var O;for(O=0;16>O;++O)i(w,R+32*O,b,16)}function fS(b,w){var R,O=16;for(R=0;16>R;++R)O+=b[w-1+32*R]+b[w+R-32];ua(O>>5,b,w)}function Kd(b,w){var R,O=8;for(R=0;16>R;++R)O+=b[w-1+32*R];ua(O>>4,b,w)}function wm(b,w){var R,O=8;for(R=0;16>R;++R)O+=b[w+R-32];ua(O>>4,b,w)}function hS(b,w){ua(128,b,w)}function Ht(b,w,R){return b+2*w+R+2>>2}function pS(b,w){var R,O=w-32;for(O=new Uint8Array([Ht(b[O-1],b[O+0],b[O+1]),Ht(b[O+0],b[O+1],b[O+2]),Ht(b[O+1],b[O+2],b[O+3]),Ht(b[O+2],b[O+3],b[O+4])]),R=0;4>R;++R)r(b,w+32*R,O,0,O.length)}function mS(b,w){var R=b[w-1],O=b[w-1+32],B=b[w-1+64],U=b[w-1+96];_e(b,w+0,16843009*Ht(b[w-1-32],R,O)),_e(b,w+32,16843009*Ht(R,O,B)),_e(b,w+64,16843009*Ht(O,B,U)),_e(b,w+96,16843009*Ht(B,U,U))}function gS(b,w){var R,O=4;for(R=0;4>R;++R)O+=b[w+R-32]+b[w-1+32*R];for(O>>=3,R=0;4>R;++R)i(b,w+32*R,O,4)}function Wl(b,w){var R=b[w-1+0],O=b[w-1+32],B=b[w-1+64],U=b[w-1-32],q=b[w+0-32],V=b[w+1-32],X=b[w+2-32],te=b[w+3-32];b[w+0+96]=Ht(O,B,b[w-1+96]),b[w+1+96]=b[w+0+64]=Ht(R,O,B),b[w+2+96]=b[w+1+64]=b[w+0+32]=Ht(U,R,O),b[w+3+96]=b[w+2+64]=b[w+1+32]=b[w+0+0]=Ht(q,U,R),b[w+3+64]=b[w+2+32]=b[w+1+0]=Ht(V,q,U),b[w+3+32]=b[w+2+0]=Ht(X,V,q),b[w+3+0]=Ht(te,X,V)}function Vl(b,w){var R=b[w+1-32],O=b[w+2-32],B=b[w+3-32],U=b[w+4-32],q=b[w+5-32],V=b[w+6-32],X=b[w+7-32];b[w+0+0]=Ht(b[w+0-32],R,O),b[w+1+0]=b[w+0+32]=Ht(R,O,B),b[w+2+0]=b[w+1+32]=b[w+0+64]=Ht(O,B,U),b[w+3+0]=b[w+2+32]=b[w+1+64]=b[w+0+96]=Ht(B,U,q),b[w+3+32]=b[w+2+64]=b[w+1+96]=Ht(U,q,V),b[w+3+64]=b[w+2+96]=Ht(q,V,X),b[w+3+96]=Ht(V,X,X)}function vS(b,w){var R=b[w-1+0],O=b[w-1+32],B=b[w-1+64],U=b[w-1-32],q=b[w+0-32],V=b[w+1-32],X=b[w+2-32],te=b[w+3-32];b[w+0+0]=b[w+1+64]=U+q+1>>1,b[w+1+0]=b[w+2+64]=q+V+1>>1,b[w+2+0]=b[w+3+64]=V+X+1>>1,b[w+3+0]=X+te+1>>1,b[w+0+96]=Ht(B,O,R),b[w+0+64]=Ht(O,R,U),b[w+0+32]=b[w+1+96]=Ht(R,U,q),b[w+1+32]=b[w+2+96]=Ht(U,q,V),b[w+2+32]=b[w+3+96]=Ht(q,V,X),b[w+3+32]=Ht(V,X,te)}function yS(b,w){var R=b[w+0-32],O=b[w+1-32],B=b[w+2-32],U=b[w+3-32],q=b[w+4-32],V=b[w+5-32],X=b[w+6-32],te=b[w+7-32];b[w+0+0]=R+O+1>>1,b[w+1+0]=b[w+0+64]=O+B+1>>1,b[w+2+0]=b[w+1+64]=B+U+1>>1,b[w+3+0]=b[w+2+64]=U+q+1>>1,b[w+0+32]=Ht(R,O,B),b[w+1+32]=b[w+0+96]=Ht(O,B,U),b[w+2+32]=b[w+1+96]=Ht(B,U,q),b[w+3+32]=b[w+2+96]=Ht(U,q,V),b[w+3+64]=Ht(q,V,X),b[w+3+96]=Ht(V,X,te)}function Kh(b,w){var R=b[w-1+0],O=b[w-1+32],B=b[w-1+64],U=b[w-1+96];b[w+0+0]=R+O+1>>1,b[w+2+0]=b[w+0+32]=O+B+1>>1,b[w+2+32]=b[w+0+64]=B+U+1>>1,b[w+1+0]=Ht(R,O,B),b[w+3+0]=b[w+1+32]=Ht(O,B,U),b[w+3+32]=b[w+1+64]=Ht(B,U,U),b[w+3+64]=b[w+2+64]=b[w+0+96]=b[w+1+96]=b[w+2+96]=b[w+3+96]=U}function _m(b,w){var R=b[w-1+0],O=b[w-1+32],B=b[w-1+64],U=b[w-1+96],q=b[w-1-32],V=b[w+0-32],X=b[w+1-32],te=b[w+2-32];b[w+0+0]=b[w+2+32]=R+q+1>>1,b[w+0+32]=b[w+2+64]=O+R+1>>1,b[w+0+64]=b[w+2+96]=B+O+1>>1,b[w+0+96]=U+B+1>>1,b[w+3+0]=Ht(V,X,te),b[w+2+0]=Ht(q,V,X),b[w+1+0]=b[w+3+32]=Ht(R,q,V),b[w+1+32]=b[w+3+64]=Ht(O,R,q),b[w+1+64]=b[w+3+96]=Ht(B,O,R),b[w+1+96]=Ht(U,B,O)}function Gd(b,w){var R;for(R=0;8>R;++R)r(b,w+32*R,b,w-32,8)}function bS(b,w){var R;for(R=0;8>R;++R)i(b,w,b[w-1],8),w+=32}function Kl(b,w,R){var O;for(O=0;8>O;++O)i(w,R+32*O,b,8)}function xS(b,w){var R,O=8;for(R=0;8>R;++R)O+=b[w+R-32]+b[w-1+32*R];Kl(O>>4,b,w)}function Sm(b,w){var R,O=4;for(R=0;8>R;++R)O+=b[w+R-32];Kl(O>>3,b,w)}function km(b,w){var R,O=4;for(R=0;8>R;++R)O+=b[w-1+32*R];Kl(O>>3,b,w)}function Vy(b,w){Kl(128,b,w)}function Gl(b,w,R){var O=b[w-R],B=b[w+0],U=3*(B-O)+wS[1020+b[w-2*R]-b[w+R]],q=Qy[112+(U+4>>3)];b[w-R]=Uo[255+O+Qy[112+(U+3>>3)]],b[w+0]=Uo[255+B-q]}function Cm(b,w,R,O){var B=b[w+0],U=b[w+R];return xs[255+b[w-2*R]-b[w-R]]>O||xs[255+U-B]>O}function Gh(b,w,R,O){return 4*xs[255+b[w-R]-b[w+0]]+xs[255+b[w-2*R]-b[w+R]]<=O}function Nm(b,w,R,O,B){var U=b[w-3*R],q=b[w-2*R],V=b[w-R],X=b[w+0],te=b[w+R],ce=b[w+2*R],we=b[w+3*R];return 4*xs[255+V-X]+xs[255+q-te]>O?0:xs[255+b[w-4*R]-U]<=B&&xs[255+U-q]<=B&&xs[255+q-V]<=B&&xs[255+we-ce]<=B&&xs[255+ce-te]<=B&&xs[255+te-X]<=B}function Zd(b,w,R,O){var B=2*O+1;for(O=0;16>O;++O)Gh(b,w+O,R,B)&&Gl(b,w+O,R)}function Am(b,w,R,O){var B=2*O+1;for(O=0;16>O;++O)Gh(b,w+O*R,1,B)&&Gl(b,w+O*R,1)}function Ky(b,w,R,O){var B;for(B=3;0<B;--B)Zd(b,w+=4*R,R,O)}function Gy(b,w,R,O){var B;for(B=3;0<B;--B)Am(b,w+=4,R,O)}function Zl(b,w,R,O,B,U,q,V){for(U=2*U+1;0<B--;){if(Nm(b,w,R,U,q))if(Cm(b,w,R,V))Gl(b,w,R);else{var X=b,te=w,ce=R,we=X[te-2*ce],ne=X[te-ce],he=X[te+0],ge=X[te+ce],Te=X[te+2*ce],xe=27*(je=wS[1020+3*(he-ne)+wS[1020+we-ge]])+63>>7,Pe=18*je+63>>7,je=9*je+63>>7;X[te-3*ce]=Uo[255+X[te-3*ce]+je],X[te-2*ce]=Uo[255+we+Pe],X[te-ce]=Uo[255+ne+xe],X[te+0]=Uo[255+he-xe],X[te+ce]=Uo[255+ge-Pe],X[te+2*ce]=Uo[255+Te-je]}w+=O}}function Xl(b,w,R,O,B,U,q,V){for(U=2*U+1;0<B--;){if(Nm(b,w,R,U,q))if(Cm(b,w,R,V))Gl(b,w,R);else{var X=b,te=w,ce=R,we=X[te-ce],ne=X[te+0],he=X[te+ce],ge=Qy[112+(4+(Te=3*(ne-we))>>3)],Te=Qy[112+(Te+3>>3)],xe=ge+1>>1;X[te-2*ce]=Uo[255+X[te-2*ce]+xe],X[te-ce]=Uo[255+we+Te],X[te+0]=Uo[255+ne-ge],X[te+ce]=Uo[255+he-xe]}w+=O}}function Zy(b,w,R,O,B,U){Zl(b,w,R,1,16,O,B,U)}function Xd(b,w,R,O,B,U){Zl(b,w,1,R,16,O,B,U)}function Xy(b,w,R,O,B,U){var q;for(q=3;0<q;--q)Xl(b,w+=4*R,R,1,16,O,B,U)}function E(b,w,R,O,B,U){var q;for(q=3;0<q;--q)Xl(b,w+=4,1,R,16,O,B,U)}function F(b,w,R,O,B,U,q,V){Zl(b,w,B,1,8,U,q,V),Zl(R,O,B,1,8,U,q,V)}function re(b,w,R,O,B,U,q,V){Zl(b,w,1,B,8,U,q,V),Zl(R,O,1,B,8,U,q,V)}function se(b,w,R,O,B,U,q,V){Xl(b,w+4*B,B,1,8,U,q,V),Xl(R,O+4*B,B,1,8,U,q,V)}function me(b,w,R,O,B,U,q,V){Xl(b,w+4,1,B,8,U,q,V),Xl(R,O+4,1,B,8,U,q,V)}function Re(){this.ba=new Bt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Qe,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ue(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function wt(){this.ua=0,this.Wa=new xt,this.vb=new xt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new L}function zt(){this.xb=this.a=0,this.l=new Hh,this.ca=new Bt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new $,this.Pb=0,this.wd=new $,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new wt,this.ab=0,this.gc=s(4,gt),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hh,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bn(b,w,R,O,B,U,q){for(b=b==null?0:b[w+0],w=0;w<q;++w)B[U+w]=b+R[O+w]&255,b=B[U+w]}function dr(b,w,R,O,B,U,q){var V;if(b==null)bn(null,null,R,O,B,U,q);else for(V=0;V<q;++V)B[U+V]=b[w+V]+R[O+V]&255}function Fr(b,w,R,O,B,U,q){if(b==null)bn(null,null,R,O,B,U,q);else{var V,X=b[w+0],te=X,ce=X;for(V=0;V<q;++V)te=ce+(X=b[w+V])-te,ce=R[O+V]+(-256&te?0>te?0:255:te)&255,te=X,B[U+V]=ce}}function Kn(b,w,R,O){var B=w.width,U=w.o;if(t(b!=null&&w!=null),0>R||0>=O||R+O>U)return null;if(!b.Cc){if(b.ga==null){var q;if(b.ga=new Yt,(q=b.ga==null)||(q=w.width*w.o,t(b.Gb.length==0),b.Gb=o(q),b.Uc=0,b.Gb==null?q=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,q=1),q=!q),!q){q=b.ga;var V=b.Fa,X=b.P,te=b.qc,ce=b.mb,we=b.nb,ne=X+1,he=te-1,ge=q.l;if(t(V!=null&&ce!=null&&w!=null),ru[0]=null,ru[1]=bn,ru[2]=dr,ru[3]=Fr,q.ca=ce,q.tb=we,q.c=w.width,q.i=w.height,t(0<q.c&&0<q.i),1>=te)w=0;else if(q.$a=3&V[X+0],q.Z=V[X+0]>>2&3,q.Lc=V[X+0]>>4&3,X=V[X+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||X)w=0;else if(ge.put=ot,ge.ac=ur,ge.bc=lt,ge.ma=q,ge.width=w.width,ge.height=w.height,ge.Da=w.Da,ge.v=w.v,ge.va=w.va,ge.j=w.j,ge.o=w.o,q.$a)e:{t(q.$a==1),w=Hd();t:for(;;){if(w==null){w=0;break e}if(t(q!=null),q.mc=w,w.c=q.c,w.i=q.i,w.l=q.l,w.l.ma=q,w.l.width=q.c,w.l.height=q.i,w.a=0,Y(w.m,V,ne,he),!Za(q.c,q.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&aa(w.s)?(q.ic=1,V=w.c*w.i,w.Ta=null,w.Ua=0,w.V=o(V),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(q.ic=0,w=Wd(w,q.c)),!w))break t;w=1;break e}q.mc=null,w=0}else w=he>=q.c*q.i;q=!w}if(q)return null;b.ga.Lc!=1?b.Ga=0:O=U-R}t(b.ga!=null),t(R+O<=U);e:{if(w=(V=b.ga).c,U=V.l.o,V.$a==0){if(ne=b.rc,he=b.Vc,ge=b.Fa,X=b.P+1+R*w,te=b.mb,ce=b.nb+R*w,t(X<=b.P+b.qc),V.Z!=0)for(t(ru[V.Z]!=null),q=0;q<O;++q)ru[V.Z](ne,he,ge,X,te,ce,w),ne=te,he=ce,ce+=w,X+=w;else for(q=0;q<O;++q)r(te,ce,ge,X,w),ne=te,he=ce,ce+=w,X+=w;b.rc=ne,b.Vc=he}else{if(t(V.mc!=null),w=R+O,t((q=V.mc)!=null),t(w<=q.i),q.C>=w)w=1;else if(V.ic||da(),V.ic){V=q.V,ne=q.Ba,he=q.c;var Te=q.i,xe=(ge=1,X=q.$/he,te=q.$%he,ce=q.m,we=q.s,q.$),Pe=he*Te,je=he*w,Ve=we.wc,qe=xe<je?wi(we,te,X):null;t(xe<=Pe),t(w<=Te),t(aa(we));t:for(;;){for(;!ce.h&&xe<je;){if(te&Ve||(qe=wi(we,te,X)),t(qe!=null),de(ce),256>(Te=vr(qe.G[0],qe.H[0],ce)))V[ne+xe]=Te,++xe,++te>=he&&(te=0,++X<=w&&!(X%16)&&la(q,X));else{if(!(280>Te)){ge=0;break t}Te=xo(Te-256,ce);var _t,ft=vr(qe.G[4],qe.H[4],ce);if(de(ce),!(xe>=(ft=ps(he,ft=xo(ft,ce)))&&Pe-xe>=Te)){ge=0;break t}for(_t=0;_t<Te;++_t)V[ne+xe+_t]=V[ne+xe+_t-ft];for(xe+=Te,te+=Te;te>=he;)te-=he,++X<=w&&!(X%16)&&la(q,X);xe<je&&te&Ve&&(qe=wi(we,te,X))}t(ce.h==ie(ce))}la(q,X>w?w:X);break t}!ge||ce.h&&xe<Pe?(ge=0,q.a=ce.h?5:3):q.$=xe,w=ge}else w=ca(q,q.V,q.Ba,q.c,q.i,w,zh);if(!w){O=0;break e}}R+O>=U&&(b.Cc=1),O=1}if(!O)return null;if(b.Cc&&((O=b.ga)!=null&&(O.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+R*B}function Kr(b,w,R,O,B,U){for(;0<B--;){var q,V=b,X=w+(R?1:0),te=b,ce=w+(R?0:3);for(q=0;q<O;++q){var we=te[ce+4*q];we!=255&&(we*=32897,V[X+4*q+0]=V[X+4*q+0]*we>>23,V[X+4*q+1]=V[X+4*q+1]*we>>23,V[X+4*q+2]=V[X+4*q+2]*we>>23)}w+=U}}function Br(b,w,R,O,B){for(;0<O--;){var U;for(U=0;U<R;++U){var q=b[w+2*U+0],V=15&(te=b[w+2*U+1]),X=4369*V,te=(240&te|te>>4)*X>>16;b[w+2*U+0]=(240&q|q>>4)*X>>16&240|(15&q|q<<4)*X>>16>>4&15,b[w+2*U+1]=240&te|V}w+=B}}function _i(b,w,R,O,B,U,q,V){var X,te,ce=255;for(te=0;te<B;++te){for(X=0;X<O;++X){var we=b[w+X];U[q+4*X]=we,ce&=we}w+=R,q+=V}return ce!=255}function $l(b,w,R,O,B){var U;for(U=0;U<B;++U)R[O+U]=b[w+U]>>8}function da(){Bm=Kr,AP=Br,EP=_i,TP=$l}function Yl(b,w,R){A[b]=function(O,B,U,q,V,X,te,ce,we,ne,he,ge,Te,xe,Pe,je,Ve){var qe,_t=Ve-1>>1,ft=V[X+0]|te[ce+0]<<16,Qt=we[ne+0]|he[ge+0]<<16;t(O!=null);var yt=3*ft+Qt+131074>>2;for(w(O[B+0],255&yt,yt>>16,Te,xe),U!=null&&(yt=3*Qt+ft+131074>>2,w(U[q+0],255&yt,yt>>16,Pe,je)),qe=1;qe<=_t;++qe){var un=V[X+qe]|te[ce+qe]<<16,Zr=we[ne+qe]|he[ge+qe]<<16,en=ft+un+Qt+Zr+524296,bt=en+2*(un+Qt)>>3;yt=bt+ft>>1,ft=(en=en+2*(ft+Zr)>>3)+un>>1,w(O[B+2*qe-1],255&yt,yt>>16,Te,xe+(2*qe-1)*R),w(O[B+2*qe-0],255&ft,ft>>16,Te,xe+(2*qe-0)*R),U!=null&&(yt=en+Qt>>1,ft=bt+Zr>>1,w(U[q+2*qe-1],255&yt,yt>>16,Pe,je+(2*qe-1)*R),w(U[q+2*qe+0],255&ft,ft>>16,Pe,je+(2*qe+0)*R)),ft=un,Qt=Zr}1&Ve||(yt=3*ft+Qt+131074>>2,w(O[B+Ve-1],255&yt,yt>>16,Te,xe+(Ve-1)*R),U!=null&&(yt=3*Qt+ft+131074>>2,w(U[q+Ve-1],255&yt,yt>>16,Pe,je+(Ve-1)*R)))}}function Em(){ws[eb]=RK,ws[tb]=zP,ws[OP]=jK,ws[nb]=UP,ws[rb]=qP,ws[_S]=HP,ws[LP]=DK,ws[SS]=zP,ws[kS]=UP,ws[ib]=qP,ws[CS]=HP}function Zh(b){return b&~IK?0>b?0:255:b>>WP}function Gc(b,w){return Zh((19077*b>>8)+(26149*w>>8)-14234)}function $d(b,w,R){return Zh((19077*b>>8)-(6419*w>>8)-(13320*R>>8)+8708)}function Yd(b,w){return Zh((19077*b>>8)+(33050*w>>8)-17685)}function Zc(b,w,R,O,B){O[B+0]=Gc(b,R),O[B+1]=$d(b,w,R),O[B+2]=Yd(b,w)}function Si(b,w,R,O,B){O[B+0]=Yd(b,w),O[B+1]=$d(b,w,R),O[B+2]=Gc(b,R)}function Jd(b,w,R,O,B){var U=$d(b,w,R);w=U<<3&224|Yd(b,w)>>3,O[B+0]=248&Gc(b,R)|U>>5,O[B+1]=w}function Qd(b,w,R,O,B){var U=240&Yd(b,w)|15;O[B+0]=240&Gc(b,R)|$d(b,w,R)>>4,O[B+1]=U}function Tm(b,w,R,O,B){O[B+0]=255,Zc(b,w,R,O,B+1)}function Pm(b,w,R,O,B){Si(b,w,R,O,B),O[B+3]=255}function Qi(b,w,R,O,B){Zc(b,w,R,O,B),O[B+3]=255}function Jl(b,w,R){A[b]=function(O,B,U,q,V,X,te,ce,we){for(var ne=ce+(-2&we)*R;ce!=ne;)w(O[B+0],U[q+0],V[X+0],te,ce),w(O[B+1],U[q+0],V[X+0],te,ce+R),B+=2,++q,++X,ce+=2*R;1&we&&w(O[B+0],U[q+0],V[X+0],te,ce)}}function Xh(b,w,R){return R==0?b==0?w==0?6:5:w==0?4:0:R}function $y(b,w,R,O,B){switch(b>>>30){case 3:rf(w,R,O,B,0);break;case 2:bs(w,R,O,B);break;case 1:Dn(w,R,O,B)}}function ys(b,w){var R,O,B=w.M,U=w.Nb,q=b.oc,V=b.pc+40,X=b.oc,te=b.pc+584,ce=b.oc,we=b.pc+600;for(R=0;16>R;++R)q[V+32*R-1]=129;for(R=0;8>R;++R)X[te+32*R-1]=129,ce[we+32*R-1]=129;for(0<B?q[V-1-32]=X[te-1-32]=ce[we-1-32]=129:(i(q,V-32-1,127,21),i(X,te-32-1,127,9),i(ce,we-32-1,127,9)),O=0;O<b.za;++O){var ne=w.ya[w.aa+O];if(0<O){for(R=-1;16>R;++R)r(q,V+32*R-4,q,V+32*R+12,4);for(R=-1;8>R;++R)r(X,te+32*R-4,X,te+32*R+4,4),r(ce,we+32*R-4,ce,we+32*R+4,4)}var he=b.Gd,ge=b.Hd+O,Te=ne.ad,xe=ne.Hc;if(0<B&&(r(q,V-32,he[ge].y,0,16),r(X,te-32,he[ge].f,0,8),r(ce,we-32,he[ge].ea,0,8)),ne.Za){var Pe=q,je=V-32+16;for(0<B&&(O>=b.za-1?i(Pe,je,he[ge].y[15],4):r(Pe,je,he[ge+1].y,0,4)),R=0;4>R;R++)Pe[je+128+R]=Pe[je+256+R]=Pe[je+384+R]=Pe[je+0+R];for(R=0;16>R;++R,xe<<=2)Pe=q,je=V+KP[R],fa[ne.Ob[R]](Pe,je),$y(xe,Te,16*+R,Pe,je)}else if(Pe=Xh(O,B,ne.Ob[0]),nu[Pe](q,V),xe!=0)for(R=0;16>R;++R,xe<<=2)$y(xe,Te,16*+R,q,V+KP[R]);for(R=ne.Gc,Pe=Xh(O,B,ne.Dd),tc[Pe](X,te),tc[Pe](ce,we),xe=Te,Pe=X,je=te,255&(ne=0|R)&&(170&ne?el(xe,256,Pe,je):Un(xe,256,Pe,je)),ne=ce,xe=we,255&(R>>=8)&&(170&R?el(Te,320,ne,xe):Un(Te,320,ne,xe)),B<b.Ub-1&&(r(he[ge].y,0,q,V+480,16),r(he[ge].f,0,X,te+224,8),r(he[ge].ea,0,ce,we+224,8)),R=8*U*b.B,he=b.sa,ge=b.ta+16*O+16*U*b.R,Te=b.qa,ne=b.ra+8*O+R,xe=b.Ha,Pe=b.Ia+8*O+R,R=0;16>R;++R)r(he,ge+R*b.R,q,V+32*R,16);for(R=0;8>R;++R)r(Te,ne+R*b.B,X,te+32*R,8),r(xe,Pe+R*b.B,ce,we+32*R,8)}}function ef(b,w,R,O,B,U,q,V,X){var te=[0],ce=[0],we=0,ne=X!=null?X.kd:0,he=X??new Ue;if(b==null||12>R)return 7;he.data=b,he.w=w,he.ha=R,w=[w],R=[R],he.gb=[he.gb];e:{var ge=w,Te=R,xe=he.gb;if(t(b!=null),t(Te!=null),t(xe!=null),xe[0]=0,12<=Te[0]&&!n(b,ge[0],"RIFF")){if(n(b,ge[0]+8,"WEBP")){xe=3;break e}var Pe=Xe(b,ge[0]+4);if(12>Pe||4294967286<Pe){xe=3;break e}if(ne&&Pe>Te[0]-8){xe=7;break e}xe[0]=Pe,ge[0]+=12,Te[0]-=12}xe=0}if(xe!=0)return xe;for(Pe=0<he.gb[0],R=R[0];;){e:{var je=b;Te=w,xe=R;var Ve=te,qe=ce,_t=ge=[0];if((yt=we=[we])[0]=0,8>xe[0])xe=7;else{if(!n(je,Te[0],"VP8X")){if(Xe(je,Te[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ft=Xe(je,Te[0]+8),Qt=1+Ne(je,Te[0]+12);if(2147483648<=Qt*(je=1+Ne(je,Te[0]+15))){xe=3;break e}_t!=null&&(_t[0]=ft),Ve!=null&&(Ve[0]=Qt),qe!=null&&(qe[0]=je),Te[0]+=18,xe[0]-=18,yt[0]=1}xe=0}}if(we=we[0],ge=ge[0],xe!=0)return xe;if(Te=!!(2&ge),!Pe&&we)return 3;if(U!=null&&(U[0]=!!(16&ge)),q!=null&&(q[0]=Te),V!=null&&(V[0]=0),q=te[0],ge=ce[0],we&&Te&&X==null){xe=0;break}if(4>R){xe=7;break}if(Pe&&we||!Pe&&!we&&!n(b,w[0],"ALPH")){R=[R],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{ft=b,xe=w,Pe=R;var yt=he.gb;Ve=he.na,qe=he.P,_t=he.Sa,Qt=22,t(ft!=null),t(Pe!=null),je=xe[0];var un=Pe[0];for(t(Ve!=null),t(_t!=null),Ve[0]=null,qe[0]=null,_t[0]=0;;){if(xe[0]=je,Pe[0]=un,8>un){xe=7;break e}var Zr=Xe(ft,je+4);if(4294967286<Zr){xe=3;break e}var en=8+Zr+1&-2;if(Qt+=en,0<yt&&Qt>yt){xe=3;break e}if(!n(ft,je,"VP8 ")||!n(ft,je,"VP8L")){xe=0;break e}if(un[0]<en){xe=7;break e}n(ft,je,"ALPH")||(Ve[0]=ft,qe[0]=je+8,_t[0]=Zr),je+=en,un-=en}}if(R=R[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],xe!=0)break}R=[R],he.Ja=[he.Ja],he.xa=[he.xa];e:if(yt=b,xe=w,Pe=R,Ve=he.gb[0],qe=he.Ja,_t=he.xa,ft=xe[0],je=!n(yt,ft,"VP8 "),Qt=!n(yt,ft,"VP8L"),t(yt!=null),t(Pe!=null),t(qe!=null),t(_t!=null),8>Pe[0])xe=7;else{if(je||Qt){if(yt=Xe(yt,ft+4),12<=Ve&&yt>Ve-12){xe=3;break e}if(ne&&yt>Pe[0]-8){xe=7;break e}qe[0]=yt,xe[0]+=8,Pe[0]-=8,_t[0]=Qt}else _t[0]=5<=Pe[0]&&yt[ft+0]==47&&!(yt[ft+4]>>5),qe[0]=Pe[0];xe=0}if(R=R[0],he.Ja=he.Ja[0],he.xa=he.xa[0],w=w[0],xe!=0)break;if(4294967286<he.Ja)return 3;if(V==null||Te||(V[0]=he.xa?2:1),q=[q],ge=[ge],he.xa){if(5>R){xe=7;break}V=q,ne=ge,Te=U,b==null||5>R?b=0:5<=R&&b[w+0]==47&&!(b[w+4]>>5)?(Pe=[0],yt=[0],Ve=[0],Y(qe=new $,b,w,R),vn(qe,Pe,yt,Ve)?(V!=null&&(V[0]=Pe[0]),ne!=null&&(ne[0]=yt[0]),Te!=null&&(Te[0]=Ve[0]),b=1):b=0):b=0}else{if(10>R){xe=7;break}V=ge,b==null||10>R||!By(b,w+3,R-3)?b=0:(ne=b[w+0]|b[w+1]<<8|b[w+2]<<16,Te=16383&(b[w+7]<<8|b[w+6]),b=16383&(b[w+9]<<8|b[w+8]),1&ne||3<(ne>>1&7)||!(ne>>4&1)||ne>>5>=he.Ja||!Te||!b?b=0:(q&&(q[0]=Te),V&&(V[0]=b),b=1))}if(!b||(q=q[0],ge=ge[0],we&&(te[0]!=q||ce[0]!=ge)))return 3;X!=null&&(X[0]=he,X.offset=w-X.w,t(4294967286>w-X.w),t(X.offset==X.ha-R));break}return xe==0||xe==7&&we&&X==null?(U!=null&&(U[0]|=he.na!=null&&0<he.na.length),O!=null&&(O[0]=q),B!=null&&(B[0]=ge),0):xe}function Rm(b,w,R){var O=w.width,B=w.height,U=0,q=0,V=O,X=B;if(w.Da=b!=null&&0<b.Da,w.Da&&(V=b.cd,X=b.bd,U=b.v,q=b.j,11>R||(U&=-2,q&=-2),0>U||0>q||0>=V||0>=X||U+V>O||q+X>B))return 0;if(w.v=U,w.j=q,w.va=U+V,w.o=q+X,w.U=V,w.T=X,w.da=b!=null&&0<b.da,w.da){if(!at(V,X,R=[b.ib],U=[b.hb]))return 0;w.ib=R[0],w.hb=U[0]}return w.ob=b!=null&&b.ob,w.Kb=b==null||!b.Sd,w.da&&(w.ob=w.ib<3*O/4&&w.hb<3*B/4,w.Kb=0),1}function jm(b){if(b==null)return 2;if(11>b.S){var w=b.f.RGBA;w.fb+=(b.height-1)*w.A,w.A=-w.A}else w=b.f.kb,b=b.height,w.O+=(b-1)*w.fa,w.fa=-w.fa,w.N+=(b-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(b-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(b-1)*w.lb,w.lb=-w.lb);return 0}function Xc(b,w,R,O){if(O==null||0>=b||0>=w)return 2;if(R!=null){if(R.Da){var B=R.cd,U=R.bd,q=-2&R.v,V=-2&R.j;if(0>q||0>V||0>=B||0>=U||q+B>b||V+U>w)return 2;b=B,w=U}if(R.da){if(!at(b,w,B=[R.ib],U=[R.hb]))return 2;b=B[0],w=U[0]}}O.width=b,O.height=w;e:{var X=O.width,te=O.height;if(b=O.S,0>=X||0>=te||!(b>=eb&&13>b))b=2;else{if(0>=O.Rd&&O.sd==null){q=U=B=w=0;var ce=(V=X*GP[b])*te;if(11>b||(U=(te+1)/2*(w=(X+1)/2),b==12&&(q=(B=X)*te)),(te=o(ce+2*U+q))==null){b=1;break e}O.sd=te,11>b?((X=O.f.RGBA).eb=te,X.fb=0,X.A=V,X.size=ce):((X=O.f.kb).y=te,X.O=0,X.fa=V,X.Fd=ce,X.f=te,X.N=0+ce,X.Ab=w,X.Cd=U,X.ea=te,X.W=0+ce+U,X.Db=w,X.Ed=U,b==12&&(X.F=te,X.J=0+ce+2*U),X.Tc=q,X.lb=B)}if(w=1,B=O.S,U=O.width,q=O.height,B>=eb&&13>B)if(11>B)b=O.f.RGBA,w&=(V=Math.abs(b.A))*(q-1)+U<=b.size,w&=V>=U*GP[B],w&=b.eb!=null;else{b=O.f.kb,V=(U+1)/2,ce=(q+1)/2,X=Math.abs(b.fa),te=Math.abs(b.Ab);var we=Math.abs(b.Db),ne=Math.abs(b.lb),he=ne*(q-1)+U;w&=X*(q-1)+U<=b.Fd,w&=te*(ce-1)+V<=b.Cd,w=(w&=we*(ce-1)+V<=b.Ed)&X>=U&te>=V&we>=V,w&=b.y!=null,w&=b.f!=null,w&=b.ea!=null,B==12&&(w&=ne>=U,w&=he<=b.Tc,w&=b.F!=null)}else w=0;b=w?0:2}}return b!=0||R!=null&&R.fd&&(b=jm(O)),b}var tf=64,Bo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zo=24,$c=32,Ql=8,Yc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ke("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(b){return b},A.Predictor2=function(b,w,R){return w[R+0]},A.Predictor3=function(b,w,R){return w[R+1]},A.Predictor4=function(b,w,R){return w[R-1]},A.Predictor5=function(b,w,R){return Le(Le(b,w[R+1]),w[R+0])},A.Predictor6=function(b,w,R){return Le(b,w[R-1])},A.Predictor7=function(b,w,R){return Le(b,w[R+0])},A.Predictor8=function(b,w,R){return Le(w[R-1],w[R+0])},A.Predictor9=function(b,w,R){return Le(w[R+0],w[R+1])},A.Predictor10=function(b,w,R){return Le(Le(b,w[R-1]),Le(w[R+0],w[R+1]))},A.Predictor11=function(b,w,R){var O=w[R+0];return 0>=Be(O>>24&255,b>>24&255,(w=w[R-1])>>24&255)+Be(O>>16&255,b>>16&255,w>>16&255)+Be(O>>8&255,b>>8&255,w>>8&255)+Be(255&O,255&b,255&w)?O:b},A.Predictor12=function(b,w,R){var O=w[R+0];return(Ce((b>>24&255)+(O>>24&255)-((w=w[R-1])>>24&255))<<24|Ce((b>>16&255)+(O>>16&255)-(w>>16&255))<<16|Ce((b>>8&255)+(O>>8&255)-(w>>8&255))<<8|Ce((255&b)+(255&O)-(255&w)))>>>0},A.Predictor13=function(b,w,R){var O=w[R-1];return(Me((b=Le(b,w[R+0]))>>24&255,O>>24&255)<<24|Me(b>>16&255,O>>16&255)<<16|Me(b>>8&255,O>>8&255)<<8|Me(255&b,255&O))>>>0};var Dm=A.PredictorAdd0;A.PredictorAdd1=De,ke("Predictor2","PredictorAdd2"),ke("Predictor3","PredictorAdd3"),ke("Predictor4","PredictorAdd4"),ke("Predictor5","PredictorAdd5"),ke("Predictor6","PredictorAdd6"),ke("Predictor7","PredictorAdd7"),ke("Predictor8","PredictorAdd8"),ke("Predictor9","PredictorAdd9"),ke("Predictor10","PredictorAdd10"),ke("Predictor11","PredictorAdd11"),ke("Predictor12","PredictorAdd12"),ke("Predictor13","PredictorAdd13");var $h=A.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Cr,Yy=A.ColorIndexInverseTransform,Ja=A.MapARGB,Qa=A.VP8LColorIndexInverseTransformAlpha,Im=A.MapAlpha,Om=A.VP8LPredictorsAdd=[];Om.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Lm,Mm,Jc,Qc,eu,nf,tu,rf,bs,el,Dn,Un,Nr,Gr,ec,Fm,Yh,Jy,wP,_P,SP,kP,CP,NP,Bm,AP,EP,TP,PP=o(511),RP=o(2041),jP=o(225),DP=o(767),IP=0,wS=RP,Qy=jP,Uo=DP,xs=PP,eb=0,tb=1,OP=2,nb=3,rb=4,_S=5,LP=6,SS=7,kS=8,ib=9,CS=10,vK=[2,3,7],yK=[3,3,11],MP=[280,256,256,256,40],bK=[0,1,1,1,0],xK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],_K=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],SK=8,NS=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],AS=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],zm=null,kK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],CK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],FP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],NK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],EK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nu=[],fa=[],tc=[],PK=1,BP=2,ru=[],ws=[];Yl("UpsampleRgbLinePair",Zc,3),Yl("UpsampleBgrLinePair",Si,3),Yl("UpsampleRgbaLinePair",Qi,4),Yl("UpsampleBgraLinePair",Pm,4),Yl("UpsampleArgbLinePair",Tm,4),Yl("UpsampleRgba4444LinePair",Qd,2),Yl("UpsampleRgb565LinePair",Jd,2);var RK=A.UpsampleRgbLinePair,jK=A.UpsampleBgrLinePair,zP=A.UpsampleRgbaLinePair,UP=A.UpsampleBgraLinePair,qP=A.UpsampleArgbLinePair,HP=A.UpsampleRgba4444LinePair,DK=A.UpsampleRgb565LinePair,ob=16,sb=1<<ob-1,Um=-227,ES=482,WP=6,IK=(256<<WP)-1,VP=0,OK=o(256),LK=o(256),MK=o(256),FK=o(256),BK=o(ES-Um),zK=o(ES-Um);Jl("YuvToRgbRow",Zc,3),Jl("YuvToBgrRow",Si,3),Jl("YuvToRgbaRow",Qi,4),Jl("YuvToBgraRow",Pm,4),Jl("YuvToArgbRow",Tm,4),Jl("YuvToRgba4444Row",Qd,2),Jl("YuvToRgb565Row",Jd,2);var KP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ab=[0,2,8],UK=[8,7,6,4,4,2,2,2,1,1,1,1],qK=1;this.WebPDecodeRGBA=function(b,w,R,O,B){var U=tb,q=new Re,V=new Bt;q.ba=V,V.S=U,V.width=[V.width],V.height=[V.height];var X=V.width,te=V.height,ce=new vt;if(ce==null||b==null)var we=2;else t(ce!=null),we=ef(b,w,R,ce.width,ce.height,ce.Pd,ce.Qd,ce.format,null);if(we!=0?X=0:(X!=null&&(X[0]=ce.width[0]),te!=null&&(te[0]=ce.height[0]),X=1),X){V.width=V.width[0],V.height=V.height[0],O!=null&&(O[0]=V.width),B!=null&&(B[0]=V.height);e:{if(O=new Hh,(B=new Ue).data=b,B.w=w,B.ha=R,B.kd=1,w=[0],t(B!=null),((b=ef(B.data,B.w,B.ha,null,null,null,w,null,B))==0||b==7)&&w[0]&&(b=4),(w=b)==0){if(t(q!=null),O.data=B.data,O.w=B.w+B.offset,O.ha=B.ha-B.offset,O.put=ot,O.ac=ur,O.bc=lt,O.ma=q,B.xa){if((b=Hd())==null){q=1;break e}if(function(ne,he){var ge=[0],Te=[0],xe=[0];t:for(;;){if(ne==null)return 0;if(he==null)return ne.a=2,0;if(ne.l=he,ne.a=0,Y(ne.m,he.data,he.w,he.ha),!vn(ne.m,ge,Te,xe)){ne.a=3;break t}if(ne.xb=BP,he.width=ge[0],he.height=Te[0],!Za(ge[0],Te[0],1,ne,null))break t;return 1}return t(ne.a!=0),0}(b,O)){if(O=(w=Xc(O.width,O.height,q.Oa,q.ba))==0){t:{O=b;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((R=O.l)!=null),t((B=R.ma)!=null),O.xb!=0){if(O.ca=B.ba,O.tb=B.tb,t(O.ca!=null),!Rm(B.Oa,R,nb)){O.a=2;break n}if(!Wd(O,R.width)||R.da)break n;if((R.da||st(O.ca.S))&&da(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&da()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!G(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ca(O,O.V,O.Ba,O.c,O.i,R.o,Kc))break n;B.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(w=b.a)}else w=b.a}else{if((b=new sS)==null){q=1;break e}if(b.Fa=B.na,b.P=B.P,b.qc=B.Sa,$a(b,O)){if((w=Xc(O.width,O.height,q.Oa,q.ba))==0){if(b.Aa=0,R=q.Oa,t((B=b)!=null),R!=null){if(0<(X=0>(X=R.Md)?0:100<X?255:255*X/100)){for(te=ce=0;4>te;++te)12>(we=B.pb[te]).lc&&(we.ia=X*UK[0>we.lc?0:we.lc]>>3),ce|=we.ia;ce&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=R.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}(function(ne,he){if(ne==null)return 0;if(he==null)return Mr(ne,2,"NULL VP8Io parameter in VP8Decode().");if(!ne.cb&&!$a(ne,he))return 0;if(t(ne.cb),he.ac==null||he.ac(he)){he.ob&&(ne.L=0);var ge=ab[ne.L];if(ne.L==2?(ne.yb=0,ne.zb=0):(ne.yb=he.v-ge>>4,ne.zb=he.j-ge>>4,0>ne.yb&&(ne.yb=0),0>ne.zb&&(ne.zb=0)),ne.Va=he.o+15+ge>>4,ne.Hb=he.va+15+ge>>4,ne.Hb>ne.za&&(ne.Hb=ne.za),ne.Va>ne.Ub&&(ne.Va=ne.Ub),0<ne.L){var Te=ne.ed;for(ge=0;4>ge;++ge){var xe;if(ne.Qa.Cb){var Pe=ne.Qa.Lb[ge];ne.Qa.Fb||(Pe+=Te.Tb)}else Pe=Te.Tb;for(xe=0;1>=xe;++xe){var je=ne.gd[ge][xe],Ve=Pe;if(Te.Pc&&(Ve+=Te.vd[0],xe&&(Ve+=Te.od[0])),0<(Ve=0>Ve?0:63<Ve?63:Ve)){var qe=Ve;0<Te.wb&&(qe=4<Te.wb?qe>>2:qe>>1)>9-Te.wb&&(qe=9-Te.wb),1>qe&&(qe=1),je.dd=qe,je.tc=2*Ve+qe,je.ld=40<=Ve?2:15<=Ve?1:0}else je.tc=0;je.La=xe}}}ge=0}else Mr(ne,6,"Frame setup failed"),ge=ne.a;if(ge=ge==0){if(ge){ne.$c=0,0<ne.Aa||(ne.Ic=qK);t:{ge=ne.Ic,Te=4*(qe=ne.za);var _t=32*qe,ft=qe+1,Qt=0<ne.L?qe*(0<ne.Aa?2:1):0,yt=(ne.Aa==2?2:1)*qe;if((je=Te+832+(xe=3*(16*ge+ab[ne.L])/2*_t)+(Pe=ne.Fa!=null&&0<ne.Fa.length?ne.Kc.c*ne.Kc.i:0))!=je)ge=0;else{if(je>ne.Vb){if(ne.Vb=0,ne.Ec=o(je),ne.Fc=0,ne.Ec==null){ge=Mr(ne,1,"no memory during frame initialization.");break t}ne.Vb=je}je=ne.Ec,Ve=ne.Fc,ne.Ac=je,ne.Bc=Ve,Ve+=Te,ne.Gd=s(_t,My),ne.Hd=0,ne.rb=s(ft+1,ym),ne.sb=1,ne.wa=Qt?s(Qt,gs):null,ne.Y=0,ne.D.Nb=0,ne.D.wa=ne.wa,ne.D.Y=ne.Y,0<ne.Aa&&(ne.D.Y+=qe),t(!0),ne.oc=je,ne.pc=Ve,Ve+=832,ne.ya=s(yt,bm),ne.aa=0,ne.D.ya=ne.ya,ne.D.aa=ne.aa,ne.Aa==2&&(ne.D.aa+=qe),ne.R=16*qe,ne.B=8*qe,qe=(_t=ab[ne.L])*ne.R,_t=_t/2*ne.B,ne.sa=je,ne.ta=Ve+qe,ne.qa=ne.sa,ne.ra=ne.ta+16*ge*ne.R+_t,ne.Ha=ne.qa,ne.Ia=ne.ra+8*ge*ne.B+_t,ne.$c=0,Ve+=xe,ne.mb=Pe?je:null,ne.nb=Pe?Ve:null,t(Ve+Pe<=ne.Fc+ne.Vb),zy(ne),i(ne.Ac,ne.Bc,0,Te),ge=1}}if(ge){if(he.ka=0,he.y=ne.sa,he.O=ne.ta,he.f=ne.qa,he.N=ne.ra,he.ea=ne.Ha,he.Vd=ne.Ia,he.fa=ne.R,he.Rc=ne.B,he.F=null,he.J=0,!IP){for(ge=-255;255>=ge;++ge)PP[255+ge]=0>ge?-ge:ge;for(ge=-1020;1020>=ge;++ge)RP[1020+ge]=-128>ge?-128:127<ge?127:ge;for(ge=-112;112>=ge;++ge)jP[112+ge]=-16>ge?-16:15<ge?15:ge;for(ge=-255;510>=ge;++ge)DP[255+ge]=0>ge?0:255<ge?255:ge;IP=1}tu=Vh,rf=lS,el=Ya,Dn=qy,Un=Hy,bs=aS,Nr=Zy,Gr=Xd,ec=F,Fm=re,Yh=Xy,Jy=E,wP=se,_P=me,SP=Zd,kP=Am,CP=Ky,NP=Gy,fa[0]=gS,fa[1]=cS,fa[2]=pS,fa[3]=mS,fa[4]=Wl,fa[5]=vS,fa[6]=Vl,fa[7]=yS,fa[8]=_m,fa[9]=Kh,nu[0]=fS,nu[1]=dS,nu[2]=xm,nu[3]=Wy,nu[4]=Kd,nu[5]=wm,nu[6]=hS,tc[0]=xS,tc[1]=uS,tc[2]=Gd,tc[3]=bS,tc[4]=km,tc[5]=Sm,tc[6]=Vy,ge=1}else ge=0}ge&&(ge=function(un,Zr){for(un.M=0;un.M<un.Va;++un.M){var en,bt=un.Jc[un.M&un.Xb],et=un.m,Ar=un;for(en=0;en<Ar.za;++en){var Gt=et,yn=Ar,Jn=yn.Ac,ki=yn.Bc+4*en,eo=yn.zc,yr=yn.ya[yn.aa+en];if(yn.Qa.Bb?yr.$b=ue(Gt,yn.Pa.jb[0])?2+ue(Gt,yn.Pa.jb[2]):ue(Gt,yn.Pa.jb[1]):yr.$b=0,yn.kc&&(yr.Ad=ue(Gt,yn.Bd)),yr.Za=!ue(Gt,145)+0,yr.Za){var Bi=yr.Ob,to=0;for(yn=0;4>yn;++yn){var Xr,xn=eo[0+yn];for(Xr=0;4>Xr;++Xr){xn=AK[Jn[ki+Xr]][xn];for(var On=FP[ue(Gt,xn[0])];0<On;)On=FP[2*On+ue(Gt,xn[On])];xn=-On,Jn[ki+Xr]=xn}r(Bi,to,Jn,ki,4),to+=4,eo[0+yn]=xn}}else xn=ue(Gt,156)?ue(Gt,128)?1:3:ue(Gt,163)?2:0,yr.Ob[0]=xn,i(Jn,ki,xn,4),i(eo,0,xn,4);yr.Dd=ue(Gt,142)?ue(Gt,114)?ue(Gt,183)?1:3:2:0}if(Ar.m.Ka)return Mr(un,7,"Premature end-of-partition0 encountered.");for(;un.ja<un.za;++un.ja){if(Ar=bt,Gt=(et=un).rb[et.sb-1],Jn=et.rb[et.sb+et.ja],en=et.ya[et.aa+et.ja],ki=et.kc?en.Ad:0)Gt.la=Jn.la=0,en.Za||(Gt.Na=Jn.Na=0),en.Hc=0,en.Gc=0,en.ia=0;else{var br,Ln;if(Gt=Jn,Jn=Ar,ki=et.Pa.Xc,eo=et.ya[et.aa+et.ja],yr=et.pb[eo.$b],yn=eo.ad,Bi=0,to=et.rb[et.sb-1],xn=Xr=0,i(yn,Bi,0,384),eo.Za)var Ci=0,ha=ki[3];else{On=o(16);var Er=Gt.Na+to.Na;if(Er=zm(Jn,ki[1],Er,yr.Eb,0,On,0),Gt.Na=to.Na=(0<Er)+0,1<Er)tu(On,0,yn,Bi);else{var wo=On[0]+3>>3;for(On=0;256>On;On+=16)yn[Bi+On]=wo}Ci=1,ha=ki[0]}var qn=15&Gt.la,$r=15&to.la;for(On=0;4>On;++On){var qo=1&$r;for(wo=Ln=0;4>wo;++wo)qn=qn>>1|(qo=(Er=zm(Jn,ha,Er=qo+(1&qn),yr.Sc,Ci,yn,Bi))>Ci)<<7,Ln=Ln<<2|(3<Er?3:1<Er?2:yn[Bi+0]!=0),Bi+=16;qn>>=4,$r=$r>>1|qo<<7,Xr=(Xr<<8|Ln)>>>0}for(ha=qn,Ci=$r>>4,br=0;4>br;br+=2){for(Ln=0,qn=Gt.la>>4+br,$r=to.la>>4+br,On=0;2>On;++On){for(qo=1&$r,wo=0;2>wo;++wo)Er=qo+(1&qn),qn=qn>>1|(qo=0<(Er=zm(Jn,ki[2],Er,yr.Qc,0,yn,Bi)))<<3,Ln=Ln<<2|(3<Er?3:1<Er?2:yn[Bi+0]!=0),Bi+=16;qn>>=2,$r=$r>>1|qo<<5}xn|=Ln<<4*br,ha|=qn<<4<<br,Ci|=(240&$r)<<br}Gt.la=ha,to.la=Ci,eo.Hc=Xr,eo.Gc=xn,eo.ia=43690&xn?0:yr.ia,ki=!(Xr|xn)}if(0<et.L&&(et.wa[et.Y+et.ja]=et.gd[en.$b][en.Za],et.wa[et.Y+et.ja].La|=!ki),Ar.Ka)return Mr(un,7,"Premature end-of-file encountered.")}if(zy(un),et=Zr,Ar=1,en=(bt=un).D,Gt=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(en.M=bt.M,en.uc=Gt,ys(bt,en),Ar=1,en=(Ln=bt.D).Nb,Gt=(xn=ab[bt.L])*bt.R,Jn=xn/2*bt.B,On=16*en*bt.R,wo=8*en*bt.B,ki=bt.sa,eo=bt.ta-Gt+On,yr=bt.qa,yn=bt.ra-Jn+wo,Bi=bt.Ha,to=bt.Ia-Jn+wo,$r=(qn=Ln.M)==0,Xr=qn>=bt.Va-1,bt.Aa==2&&ys(bt,Ln),Ln.uc)for(qo=(Er=bt).D.M,t(Er.D.uc),Ln=Er.yb;Ln<Er.Hb;++Ln){Ci=Ln,ha=qo;var no=(Ho=(Ni=Er).D).Nb;br=Ni.R;var Ho=Ho.wa[Ho.Y+Ci],Wo=Ni.sa,_o=Ni.ta+16*no*br+16*Ci,Vo=Ho.dd,Gn=Ho.tc;if(Gn!=0)if(t(3<=Gn),Ni.L==1)0<Ci&&kP(Wo,_o,br,Gn+4),Ho.La&&NP(Wo,_o,br,Gn),0<ha&&SP(Wo,_o,br,Gn+4),Ho.La&&CP(Wo,_o,br,Gn);else{var Ko=Ni.B,pa=Ni.qa,of=Ni.ra+8*no*Ko+8*Ci,nc=Ni.Ha,Ni=Ni.Ia+8*no*Ko+8*Ci;no=Ho.ld,0<Ci&&(Gr(Wo,_o,br,Gn+4,Vo,no),Fm(pa,of,nc,Ni,Ko,Gn+4,Vo,no)),Ho.La&&(Jy(Wo,_o,br,Gn,Vo,no),_P(pa,of,nc,Ni,Ko,Gn,Vo,no)),0<ha&&(Nr(Wo,_o,br,Gn+4,Vo,no),ec(pa,of,nc,Ni,Ko,Gn+4,Vo,no)),Ho.La&&(Yh(Wo,_o,br,Gn,Vo,no),wP(pa,of,nc,Ni,Ko,Gn,Vo,no))}}if(bt.ia&&alert("todo:DitherRow"),et.put!=null){if(Ln=16*qn,qn=16*(qn+1),$r?(et.y=bt.sa,et.O=bt.ta+On,et.f=bt.qa,et.N=bt.ra+wo,et.ea=bt.Ha,et.W=bt.Ia+wo):(Ln-=xn,et.y=ki,et.O=eo,et.f=yr,et.N=yn,et.ea=Bi,et.W=to),Xr||(qn-=xn),qn>et.o&&(qn=et.o),et.F=null,et.J=null,bt.Fa!=null&&0<bt.Fa.length&&Ln<qn&&(et.J=Kn(bt,et,Ln,qn-Ln),et.F=bt.mb,et.F==null&&et.F.length==0)){Ar=Mr(bt,3,"Could not decode alpha data.");break t}Ln<et.j&&(xn=et.j-Ln,Ln=et.j,t(!(1&xn)),et.O+=bt.R*xn,et.N+=bt.B*(xn>>1),et.W+=bt.B*(xn>>1),et.F!=null&&(et.J+=et.width*xn)),Ln<qn&&(et.O+=et.v,et.N+=et.v>>1,et.W+=et.v>>1,et.F!=null&&(et.J+=et.v),et.ka=Ln-et.j,et.U=et.va-et.v,et.T=qn-Ln,Ar=et.put(et))}en+1!=bt.Ic||Xr||(r(bt.sa,bt.ta-Gt,ki,eo+16*bt.R,Gt),r(bt.qa,bt.ra-Jn,yr,yn+8*bt.B,Jn),r(bt.Ha,bt.Ia-Jn,Bi,to+8*bt.B,Jn))}if(!Ar)return Mr(un,6,"Output aborted.")}return 1}(ne,he)),he.bc!=null&&he.bc(he),ge&=1}return ge?(ne.cb=0,ge):0})(b,O)||(w=b.a)}}else w=b.a}w==0&&q.Oa!=null&&q.Oa.fd&&(w=jm(q.ba))}q=w}U=q!=0?null:11>U?V.f.RGBA.eb:V.f.kb.y}else U=null;return U};var GP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,D){for(var C="",j=0;j<4;j++)C+=String.fromCharCode(A[D++]);return C}function u(A,D){return A[D+0]|A[D+1]<<8}function d(A,D){return(A[D+0]|A[D+1]<<8|A[D+2]<<16)>>>0}function h(A,D){return(A[D+0]|A[D+1]<<8|A[D+2]<<16|A[D+3]<<24)>>>0}new l;var f=[0],m=[0],g=[],y=new l,v=e,x=function(A,D){var C={},j=0,L=!1,z=0,K=0;if(C.frames=[],!function(M,$){for(var Q=0;Q<4;Q++)if(M[$+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(A,D)){for(h(A,D+=4),D+=8;D<A.length;){var H=c(A,D),Z=h(A,D+=4);D+=4;var W=Z+(1&Z);switch(H){case"VP8 ":case"VP8L":C.frames[j]===void 0&&(C.frames[j]={}),(fe=C.frames[j]).src_off=L?K:D-8,fe.src_size=z+Z+8,j++,L&&(L=!1,z=0,K=0);break;case"VP8X":(fe=C.header={}).feature_flags=A[D];var Y=D+4;fe.canvas_width=1+d(A,Y),Y+=3,fe.canvas_height=1+d(A,Y),Y+=3;break;case"ALPH":L=!0,z=W+8,K=D-8;break;case"ANIM":(fe=C.header).bgcolor=h(A,D),Y=D+4,fe.loop_count=u(A,Y),Y+=2;break;case"ANMF":var le,fe;(fe=C.frames[j]={}).offset_x=2*d(A,D),D+=3,fe.offset_y=2*d(A,D),D+=3,fe.width=1+d(A,D),D+=3,fe.height=1+d(A,D),D+=3,fe.duration=d(A,D),D+=3,le=A[D++],fe.dispose=1&le,fe.blend=le>>1&1}H!="ANMF"&&(D+=W)}return C}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var _=x.header?x.header:null,S=x.frames?x.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],m=[_.canvas_width];for(var k=0;k<S.length&&S[k].blend!=0;k++);}var T=S[0],P=y.WebPDecodeRGBA(v,T.src_off,T.src_size,m,f);T.rgba=P,T.imgwidth=m[0],T.imgheight=f[0];for(var N=0;N<m[0]*f[0]*4;N++)g[N]=P[N];return this.width=m,this.height=f,this.data=g,this}(function(e){var t,n,r,i,o,s,a,l,c,u=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=M;Object.defineProperty(this,"pdf",{get:function(){return $}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(G){Q=!!G}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(G){ie=!!G}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(G){isNaN(G)||(oe=G)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(G){isNaN(G)||(de=G)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(G){var We;typeof G=="number"?We=[G,G,G,G]:((We=new Array(4))[0]=G[0],We[1]=G.length>=2?G[1]:We[0],We[2]=G.length>=3?G[2]:We[0],We[3]=G.length>=4?G[3]:We[1]),c.margin=We}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(G){pe=G}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(G){ae=G}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(G){ue=G}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(G){G instanceof u&&(c=G)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(G){c.path=G}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(G){_e=G}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(G){var We;We=h(G),this.ctx.fillStyle=We.style,this.ctx.isFillTransparent=We.a===0,this.ctx.fillOpacity=We.a,this.pdf.setFillColor(We.r,We.g,We.b,{a:We.a}),this.pdf.setTextColor(We.r,We.g,We.b,{a:We.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(G){var We=h(G);this.ctx.strokeStyle=We.style,this.ctx.isStrokeTransparent=We.a===0,this.ctx.strokeOpacity=We.a,We.a===0?this.pdf.setDrawColor(255,255,255):(We.a,this.pdf.setDrawColor(We.r,We.g,We.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(G){["butt","round","square"].indexOf(G)!==-1&&(this.ctx.lineCap=G,this.pdf.setLineCap(G))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(G){isNaN(G)||(this.ctx.lineWidth=G,this.pdf.setLineWidth(G))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(G){["bevel","round","miter"].indexOf(G)!==-1&&(this.ctx.lineJoin=G,this.pdf.setLineJoin(G))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(G){isNaN(G)||(this.ctx.miterLimit=G,this.pdf.setMiterLimit(G))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(G){this.ctx.textBaseline=G}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(G){["right","end","center","left","start"].indexOf(G)!==-1&&(this.ctx.textAlign=G)}});var Se=null,Ne=null,Xe=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xe},set:function(G){Se=null,Ne=null,Xe=G}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(G){var We;if(this.ctx.font=G,(We=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(G))!==null){var xt=We[1];We[2];var at=We[3],Ie=We[4];We[5];var Ae=We[6],ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ie)[2];Ie=Math.floor(ke==="px"?parseFloat(Ie)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(Ie)*this.pdf.getFontSize():parseFloat(Ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ie);var Oe=function(tt){var jn,nn,be=[],ze=tt.trim();if(ze==="")return mC;if(ze in HL)return[HL[ze]];for(;ze!=="";){switch(nn=null,jn=(ze=VL(ze)).charAt(0)){case'"':case"'":nn=oxe(ze.substring(1),jn);break;default:nn=sxe(ze)}if(nn===null||(be.push(nn[0]),(ze=VL(nn[1]))!==""&&ze.charAt(0)!==","))return mC;ze=ze.replace(/^,/,"")}return be}(Ae);if(this.fontFaces){var Le=function(tt,jn){var nn=tt.getFontList(),be=JSON.stringify(nn);if(Se===null||Ne!==be){var ze=function(nt){var Je=[];return Object.keys(nt).forEach(function(dt){nt[dt].forEach(function(st){var mt=null;switch(st){case"bold":mt={family:dt,weight:"bold"};break;case"italic":mt={family:dt,style:"italic"};break;case"bolditalic":mt={family:dt,weight:"bold",style:"italic"};break;case"":case"normal":mt={family:dt}}mt!==null&&(mt.ref={name:dt,style:st},Je.push(mt))})}),Je}(nn);Se=function(nt){for(var Je={},dt=0;dt<nt.length;++dt){var st=pC(nt[dt]),mt=st.family,cn=st.stretch,Bt=st.style,vt=st.weight;Je[mt]=Je[mt]||{},Je[mt][cn]=Je[mt][cn]||{},Je[mt][cn][Bt]=Je[mt][cn][Bt]||{},Je[mt][cn][Bt][vt]=st}return Je}(ze.concat(jn)),Ne=be}return Se}(this.pdf,this.fontFaces),Ce=Oe.map(function(tt){return{family:tt,stretch:"normal",weight:at,style:xt}}),Me=function(tt,jn,nn){for(var be=(nn=nn||{}).defaultFontFamily||"times",ze=Object.assign({},ixe,nn.genericFontFamilies||{}),nt=null,Je=null,dt=0;dt<jn.length;++dt)if(ze[(nt=pC(jn[dt])).family]&&(nt.family=ze[nt.family]),tt.hasOwnProperty(nt.family)){Je=tt[nt.family];break}if(!(Je=Je||tt[be]))throw new Error("Could not find a font-family for the rule '"+WL(nt)+"' and default family '"+be+"'.");if(Je=function(st,mt){if(mt[st])return mt[st];var cn=dA[st],Bt=cn<=dA.normal?-1:1,vt=qL(mt,KV,cn,Bt);if(!vt)throw new Error("Could not find a matching font-stretch value for "+st);return vt}(nt.stretch,Je),Je=function(st,mt){if(mt[st])return mt[st];for(var cn=VV[st],Bt=0;Bt<cn.length;++Bt)if(mt[cn[Bt]])return mt[cn[Bt]];throw new Error("Could not find a matching font-style for "+st)}(nt.style,Je),!(Je=function(st,mt){if(mt[st])return mt[st];if(st===400&&mt[500])return mt[500];if(st===500&&mt[400])return mt[400];var cn=rxe[st],Bt=qL(mt,GV,cn,st<400?-1:1);if(!Bt)throw new Error("Could not find a matching font-weight for value "+st);return Bt}(nt.weight,Je)))throw new Error("Failed to resolve a font for the rule '"+WL(nt)+"'.");return Je}(Le,Ce);this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var Be="";(at==="bold"||parseInt(at,10)>=700||xt==="bold")&&(Be="bold"),xt==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var De="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},$e=0;$e<Oe.length;$e++){if(this.pdf.internal.getFont(Oe[$e],Be,{noFallback:!0,disableWarning:!0})!==void 0){De=Oe[$e];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(Oe[$e],"bold",{noFallback:!0,disableWarning:!0})!==void 0)De=Oe[$e],Be="bold";else if(this.pdf.internal.getFont(Oe[$e],"normal",{noFallback:!0,disableWarning:!0})!==void 0){De=Oe[$e],Be="normal";break}}if(De===""){for(var pt=0;pt<Oe.length;pt++)if(it[Oe[pt]]){De=it[Oe[pt]];break}}De=De===""?"Times":De,this.pdf.setFont(De,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(G){this.ctx.globalCompositeOperation=G}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(G){this.ctx.globalAlpha=G}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(G){this.ctx.lineDashOffset=G,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(G){this.ctx.lineDash=G,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(G){this.ctx.ignoreClearRect=!!G}})};d.prototype.setLineDash=function(M){this.lineDash=M},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){S.call(this,"fill",!1)},d.prototype.stroke=function(){S.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(M,$){if(isNaN(M)||isNaN($))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(M,$)},d.prototype.closePath=function(){var M=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Mn(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){M=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},d.prototype.lineTo=function(M,$){if(isNaN(M)||isNaN($))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new s(Q.x,Q.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},d.prototype.quadraticCurveTo=function(M,$,Q,ie){if(isNaN(Q)||isNaN(ie)||isNaN(M)||isNaN($))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new s(Q,ie)),de=this.ctx.transform.applyToPoint(new s(M,$));this.path.push({type:"qct",x1:de.x,y1:de.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},d.prototype.bezierCurveTo=function(M,$,Q,ie,oe,de){if(isNaN(oe)||isNaN(de)||isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new s(oe,de)),ae=this.ctx.transform.applyToPoint(new s(M,$)),ue=this.ctx.transform.applyToPoint(new s(Q,ie));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:ue.x,y2:ue.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},d.prototype.arc=function(M,$,Q,ie,oe,de){if(isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie)||isNaN(oe))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new s(M,$));M=pe.x,$=pe.y;var ae=this.ctx.transform.applyToPoint(new s(0,Q)),ue=this.ctx.transform.applyToPoint(new s(0,0));Q=Math.sqrt(Math.pow(ae.x-ue.x,2)+Math.pow(ae.y-ue.y,2))}Math.abs(oe-ie)>=2*Math.PI&&(ie=0,oe=2*Math.PI),this.path.push({type:"arc",x:M,y:$,radius:Q,startAngle:ie,endAngle:oe,counterclockwise:de})},d.prototype.arcTo=function(M,$,Q,ie,oe){throw new Error("arcTo not implemented.")},d.prototype.rect=function(M,$,Q,ie){if(isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,$),this.lineTo(M+Q,$),this.lineTo(M+Q,$+ie),this.lineTo(M,$+ie),this.lineTo(M,$),this.lineTo(M+Q,$),this.lineTo(M,$)},d.prototype.fillRect=function(M,$,Q,ie){if(isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,$,Q,ie),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},d.prototype.strokeRect=function(M,$,Q,ie){if(isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(M,$,Q,ie),this.stroke())},d.prototype.clearRect=function(M,$,Q,ie){if(isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,$,Q,ie))},d.prototype.save=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage($),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},d.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage($),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(M){var $,Q,ie,oe;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))$=0,Q=0,ie=0,oe=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(de!==null)$=parseInt(de[1]),Q=parseInt(de[2]),ie=parseInt(de[3]),oe=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)$=parseInt(de[1]),Q=parseInt(de[2]),ie=parseInt(de[3]),oe=parseFloat(de[4]);else{if(oe=1,typeof M=="string"&&M.charAt(0)!=="#"){var pe=new FV(M);M=pe.ok?pe.toHex():"#000000"}M.length===4?($=M.substring(1,2),$+=$,Q=M.substring(2,3),Q+=Q,ie=M.substring(3,4),ie+=ie):($=M.substring(1,3),Q=M.substring(3,5),ie=M.substring(5,7)),$=parseInt($,16),Q=parseInt(Q,16),ie=parseInt(ie,16)}}return{r:$,g:Q,b:ie,a:oe,style:M}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(M,$,Q,ie){if(isNaN($)||isNaN(Q)||typeof M!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!f.call(this)){var oe=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;j.call(this,{text:M,x:$,y:Q,scale:de,angle:oe,align:this.textAlign,maxWidth:ie})}},d.prototype.strokeText=function(M,$,Q,ie){if(isNaN($)||isNaN(Q)||typeof M!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ie=isNaN(ie)?void 0:ie;var oe=W(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;j.call(this,{text:M,x:$,y:Q,scale:de,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:ie})}},d.prototype.measureText=function(M){if(typeof M!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Q=this.pdf.internal.scaleFactor,ie=$.internal.getFontSize(),oe=$.getStringUnitWidth(M)*ie/$.internal.scaleFactor;return new function(de){var pe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return pe}}),this}({width:oe*=Math.round(96*Q/72*1e4)/1e4})},d.prototype.scale=function(M,$){if(isNaN(M)||isNaN($))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(M,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.rotate=function(M){if(isNaN(M))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply($)},d.prototype.translate=function(M,$){if(isNaN(M)||isNaN($))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,M,$);this.ctx.transform=this.ctx.transform.multiply(Q)},d.prototype.transform=function(M,$,Q,ie,oe,de){if(isNaN(M)||isNaN($)||isNaN(Q)||isNaN(ie)||isNaN(oe)||isNaN(de))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(M,$,Q,ie,oe,de);this.ctx.transform=this.ctx.transform.multiply(pe)},d.prototype.setTransform=function(M,$,Q,ie,oe,de){M=isNaN(M)?1:M,$=isNaN($)?0:$,Q=isNaN(Q)?0:Q,ie=isNaN(ie)?1:ie,oe=isNaN(oe)?0:oe,de=isNaN(de)?0:de,this.ctx.transform=new l(M,$,Q,ie,oe,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(M,$,Q,ie,oe,de,pe,ae,ue){var _e=this.pdf.getImageProperties(M),Se=1,Ne=1,Xe=1,G=1;ie!==void 0&&ae!==void 0&&(Xe=ae/ie,G=ue/oe,Se=_e.width/ie*ae/ie,Ne=_e.height/oe*ue/oe),de===void 0&&(de=$,pe=Q,$=0,Q=0),ie!==void 0&&ae===void 0&&(ae=ie,ue=oe),ie===void 0&&ae===void 0&&(ae=_e.width,ue=_e.height);var We=this.ctx.transform.decompose(),xt=W(We.rotate.shx),at=new l,Ie=(at=(at=(at=at.multiply(We.translate)).multiply(We.skew)).multiply(We.scale)).applyToRectangle(new a(de-$*Xe,pe-Q*G,ie*Se,oe*Ne));if(this.autoPaging){for(var Ae,ke=y.call(this,Ie),Oe=[],Le=0;Le<ke.length;Le+=1)Oe.indexOf(ke[Le])===-1&&Oe.push(ke[Le]);_(Oe);for(var Ce=Oe[0],Me=Oe[Oe.length-1],Be=Ce;Be<Me+1;Be++){this.pdf.setPage(Be);var De=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=Be===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],tt=Be===1?0:$e+(Be-2)*pt;if(this.ctx.clip_path.length!==0){var jn=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ae,this.posX+this.margin[3],-tt+it+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=jn}var nn=JSON.parse(JSON.stringify(Ie));nn=x([nn],this.posX+this.margin[3],-tt+it+this.ctx.prevPageLastElemOffset)[0];var be=(Be>Ce||Be<Me)&&g.call(this);be&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,pt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,xt),be&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(M,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,xt)};var y=function(M,$,Q){var ie=[];$=$||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ie.push(Math.floor((M.y+oe)/Q)+1);break;case"arc":ie.push(Math.floor((M.y+oe-M.radius)/Q)+1),ie.push(Math.floor((M.y+oe+M.radius)/Q)+1);break;case"qct":var de=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ie.push(Math.floor((de.y+oe)/Q)+1),ie.push(Math.floor((de.y+de.h+oe)/Q)+1);break;case"bct":var pe=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ie.push(Math.floor((pe.y+oe)/Q)+1),ie.push(Math.floor((pe.y+pe.h+oe)/Q)+1);break;case"rect":ie.push(Math.floor((M.y+oe)/Q)+1),ie.push(Math.floor((M.y+M.h+oe)/Q)+1)}for(var ae=0;ae<ie.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ae];)v.call(this);return ie},v=function(){var M=this.fillStyle,$=this.strokeStyle,Q=this.font,ie=this.lineCap,oe=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=$,this.font=Q,this.lineCap=ie,this.lineWidth=oe,this.lineJoin=de},x=function(M,$,Q){for(var ie=0;ie<M.length;ie++)switch(M[ie].type){case"bct":M[ie].x2+=$,M[ie].y2+=Q;case"qct":M[ie].x1+=$,M[ie].y1+=Q;default:M[ie].x+=$,M[ie].y+=Q}return M},_=function(M){return M.sort(function($,Q){return $-Q})},S=function(M,$){var Q=this.fillStyle,ie=this.strokeStyle,oe=this.lineCap,de=this.lineWidth,pe=Math.abs(de*this.ctx.transform.scaleX),ae=this.lineJoin;if(this.autoPaging){for(var ue,_e,Se=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),Xe=[],G=0;G<Ne.length;G++)if(Ne[G].x!==void 0)for(var We=y.call(this,Ne[G]),xt=0;xt<We.length;xt+=1)Xe.indexOf(We[xt])===-1&&Xe.push(We[xt]);for(var at=0;at<Xe.length;at++)for(;this.pdf.internal.getNumberOfPages()<Xe[at];)v.call(this);_(Xe);for(var Ie=Xe[0],Ae=Xe[Xe.length-1],ke=Ie;ke<Ae+1;ke++){this.pdf.setPage(ke),this.fillStyle=Q,this.strokeStyle=ie,this.lineCap=oe,this.lineWidth=pe,this.lineJoin=ae;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=ke===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ke===1?0:Ce+(ke-2)*Me;if(this.ctx.clip_path.length!==0){var De=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ue,this.posX+this.margin[3],-Be+Le+this.ctx.prevPageLastElemOffset),k.call(this,M,!0),this.path=De}if(_e=JSON.parse(JSON.stringify(Se)),this.path=x(_e,this.posX+this.margin[3],-Be+Le+this.ctx.prevPageLastElemOffset),$===!1||ke===0){var it=(ke>Ie||ke<Ae)&&g.call(this);it&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,Me,null).clip().discardPath()),k.call(this,M,$),it&&this.pdf.restoreGraphicsState()}this.lineWidth=de}this.path=Se}else this.lineWidth=pe,k.call(this,M,$),this.lineWidth=de},k=function(M,$){if((M!=="stroke"||$||!m.call(this))&&(M==="stroke"||$||!f.call(this))){for(var Q,ie,oe=[],de=this.path,pe=0;pe<de.length;pe++){var ae=de[pe];switch(ae.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ae,deltas:[],abs:[]});break;case"lt":var ue=oe.length;if(de[pe-1]&&!isNaN(de[pe-1].x)&&(Q=[ae.x-de[pe-1].x,ae.y-de[pe-1].y],ue>0)){for(;ue>=0;ue--)if(oe[ue-1].close!==!0&&oe[ue-1].begin!==!0){oe[ue-1].deltas.push(Q),oe[ue-1].abs.push(ae);break}}break;case"bct":Q=[ae.x1-de[pe-1].x,ae.y1-de[pe-1].y,ae.x2-de[pe-1].x,ae.y2-de[pe-1].y,ae.x-de[pe-1].x,ae.y-de[pe-1].y],oe[oe.length-1].deltas.push(Q);break;case"qct":var _e=de[pe-1].x+2/3*(ae.x1-de[pe-1].x),Se=de[pe-1].y+2/3*(ae.y1-de[pe-1].y),Ne=ae.x+2/3*(ae.x1-ae.x),Xe=ae.y+2/3*(ae.y1-ae.y),G=ae.x,We=ae.y;Q=[_e-de[pe-1].x,Se-de[pe-1].y,Ne-de[pe-1].x,Xe-de[pe-1].y,G-de[pe-1].x,We-de[pe-1].y],oe[oe.length-1].deltas.push(Q);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ae)}}ie=$?null:M==="stroke"?"stroke":"fill";for(var xt=!1,at=0;at<oe.length;at++)if(oe[at].arc)for(var Ie=oe[at].abs,Ae=0;Ae<Ie.length;Ae++){var ke=Ie[Ae];ke.type==="arc"?N.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,$,!xt):L.call(this,ke.x,ke.y),xt=!0}else if(oe[at].close===!0)this.pdf.internal.out("h"),xt=!1;else if(oe[at].begin!==!0){var Oe=oe[at].start.x,Le=oe[at].start.y;z.call(this,oe[at].deltas,Oe,Le),xt=!0}ie&&A.call(this,ie),$&&D.call(this)}},T=function(M){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+$-Q;case"hanging":return M+$-2*Q;case"middle":return M+$/2-Q;default:return M}},P=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function($,Q){this.colorStops.push([$,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var N=function(M,$,Q,ie,oe,de,pe,ae,ue){for(var _e=H.call(this,Q,ie,oe,de),Se=0;Se<_e.length;Se++){var Ne=_e[Se];Se===0&&(ue?C.call(this,Ne.x1+M,Ne.y1+$):L.call(this,Ne.x1+M,Ne.y1+$)),K.call(this,M,$,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ae?D.call(this):A.call(this,pe)},A=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(M,$){this.pdf.internal.out(n(M)+" "+r($)+" m")},j=function(M){var $;switch(M.align){case"right":case"end":$="right";break;case"center":$="center";break;default:$="left"}var Q,ie,oe,de=this.pdf.getTextDimensions(M.text),pe=T.call(this,M.y),ae=P.call(this,pe)-de.h,ue=this.ctx.transform.applyToPoint(new s(M.x,pe));if(this.autoPaging){var _e=this.ctx.transform.decompose(),Se=new l;Se=(Se=(Se=Se.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ne=this.ctx.transform.applyToRectangle(new a(M.x,pe,de.w,de.h)),Xe=Se.applyToRectangle(new a(M.x,ae,de.w,de.h)),G=y.call(this,Xe),We=[],xt=0;xt<G.length;xt+=1)We.indexOf(G[xt])===-1&&We.push(G[xt]);_(We);for(var at=We[0],Ie=We[We.length-1],Ae=at;Ae<Ie+1;Ae++){this.pdf.setPage(Ae);var ke=Ae===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[2],Ce=Le-this.margin[0],Me=this.pdf.internal.pageSize.width-this.margin[1],Be=Me-this.margin[3],De=Ae===1?0:Oe+(Ae-2)*Ce;if(this.ctx.clip_path.length!==0){var it=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-1*De+ke),k.call(this,"fill",!0),this.path=it}var $e=x([JSON.parse(JSON.stringify(Xe))],this.posX+this.margin[3],-De+ke+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*M.scale),oe=this.lineWidth,this.lineWidth=oe*M.scale);var pt=this.autoPaging!=="text";if(pt||$e.y+$e.h<=Le){if(pt||$e.y>=ke&&$e.x<=Me){var tt=pt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||Me-$e.x)[0],jn=x([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-De+ke+this.ctx.prevPageLastElemOffset)[0],nn=pt&&(Ae>at||Ae<Ie)&&g.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Ce,null).clip().discardPath()),this.pdf.text(tt,jn.x,jn.y,{angle:M.angle,align:$,renderingMode:M.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else $e.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-$e.y);M.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)}}else M.scale>=.01&&(ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ie*M.scale),oe=this.lineWidth,this.lineWidth=oe*M.scale),this.pdf.text(M.text,ue.x+this.posX,ue.y+this.posY,{angle:M.angle,align:$,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(ie),this.lineWidth=oe)},L=function(M,$,Q,ie){Q=Q||0,ie=ie||0,this.pdf.internal.out(n(M+Q)+" "+r($+ie)+" l")},z=function(M,$,Q){return this.pdf.lines(M,$,Q,null,null)},K=function(M,$,Q,ie,oe,de,pe,ae){this.pdf.internal.out([t(i(Q+M)),t(o(ie+$)),t(i(oe+M)),t(o(de+$)),t(i(pe+M)),t(o(ae+$)),"c"].join(" "))},H=function(M,$,Q,ie){for(var oe=2*Math.PI,de=Math.PI/2;$>Q;)$-=oe;var pe=Math.abs(Q-$);pe<oe&&ie&&(pe=oe-pe);for(var ae=[],ue=ie?-1:1,_e=$;pe>1e-5;){var Se=_e+ue*Math.min(pe,de);ae.push(Z.call(this,M,_e,Se)),pe-=Math.abs(Se-_e),_e=Se}return ae},Z=function(M,$,Q){var ie=(Q-$)/2,oe=M*Math.cos(ie),de=M*Math.sin(ie),pe=oe,ae=-de,ue=pe*pe+ae*ae,_e=ue+pe*oe+ae*de,Se=4/3*(Math.sqrt(2*ue*_e)-_e)/(pe*de-ae*oe),Ne=pe-Se*ae,Xe=ae+Se*pe,G=Ne,We=-Xe,xt=ie+$,at=Math.cos(xt),Ie=Math.sin(xt);return{x1:M*Math.cos($),y1:M*Math.sin($),x2:Ne*at-Xe*Ie,y2:Ne*Ie+Xe*at,x3:G*at-We*Ie,y3:G*Ie+We*at,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},W=function(M){return 180*M/Math.PI},Y=function(M,$,Q,ie,oe,de){var pe=M+.5*(Q-M),ae=$+.5*(ie-$),ue=oe+.5*(Q-oe),_e=de+.5*(ie-de),Se=Math.min(M,oe,pe,ue),Ne=Math.max(M,oe,pe,ue),Xe=Math.min($,de,ae,_e),G=Math.max($,de,ae,_e);return new a(Se,Xe,Ne-Se,G-Xe)},le=function(M,$,Q,ie,oe,de,pe,ae){var ue,_e,Se,Ne,Xe,G,We,xt,at,Ie,Ae,ke,Oe,Le,Ce=Q-M,Me=ie-$,Be=oe-Q,De=de-ie,it=pe-oe,$e=ae-de;for(_e=0;_e<41;_e++)at=(We=(Se=M+(ue=_e/40)*Ce)+ue*((Xe=Q+ue*Be)-Se))+ue*(Xe+ue*(oe+ue*it-Xe)-We),Ie=(xt=(Ne=$+ue*Me)+ue*((G=ie+ue*De)-Ne))+ue*(G+ue*(de+ue*$e-G)-xt),_e==0?(Ae=at,ke=Ie,Oe=at,Le=Ie):(Ae=Math.min(Ae,at),ke=Math.min(ke,Ie),Oe=Math.max(Oe,at),Le=Math.max(Le,Ie));return new a(Math.round(Ae),Math.round(ke),Math.round(Oe-Ae),Math.round(Le-ke))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,$,Q=(M=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:$}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(Nt.API),function(e){var t=function(s){var a,l,c,u,d,h,f,m,g,y;for(l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(d=((d=((d=((d=(d-(y=d%85))/85)-(g=d%85))/85)-(m=d%85))/85)-(f=d%85))/85)%85,l.push(h+33,f+33,m+33,g+33,y+33)):l.push(122);return function(v,x){for(var _=x;_>0;_--)v.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},n=function(s){var a,l,c,u,d,h=String,f="length",m=255,g="charCodeAt",y="slice",v="replace";for(s[y](-2),s=s[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),c=[],u=0,d=(s+=a="uuuuu"[y](s[f]%5||5))[f];d>u;u+=5)l=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(x,_){for(var S=_;S>0;S--)x.pop()}(c,a[f]),h.fromCharCode.apply(h,c)},r=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=J4(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Nt.API),function(e){e.loadFile=function(t,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,h=0,f=function(m){var g=m.length,y=[],v=String.fromCharCode;for(h=0;h<g;h+=1)y.push(v(255&m.charCodeAt(h)));return y.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),c&&d.status===200)return f(d.responseText)}(i,o,s)}catch{}return a}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Nt.API),function(e){function t(){return(Mt.html2canvas?Promise.resolve(Mt.html2canvas):cd(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Mt.DOMPurify?Promise.resolve(Mt.DOMPurify):cd(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var l=Mn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),d=l.firstChild;d;d=d.nextSibling)c!==!0&&d.nodeType===1&&d.nodeName==="SCRIPT"||u.appendChild(a(d,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var m=u[f],g=m.src.find(function(y){return y.format==="truetype"});g&&c.addFont(g.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Nt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,d).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),h=c.call(d,a,l);return s.convert(h,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Nt.getPageSize=function(a,l,c){if(Mn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+c).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var m,g=0,y=0;if(f.hasOwnProperty(h))g=f[h][1]/d,y=f[h][0]/d;else try{g=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",y>g&&(m=y,y=g,g=m);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>y&&(m=y,y=g,g=m)}return{width:y,height:g,unit:l,k:d,orientation:a}},e.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(pC):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}}(Nt.API),Nt.API.addJS=function(e){return GL=e,this.internal.events.subscribe("postPutResources",function(){F2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),KL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F2!==void 0&&KL!==void 0&&this.internal.out("/Names <</JavaScript "+F2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<u.length;o++)n.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Nt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},y=4;y<m;y+=2){if(y+=f,t.indexOf(d.charCodeAt(y+1))!==-1){h=256*d.charCodeAt(y+5)+d.charCodeAt(y+6),g={width:256*d.charCodeAt(y+7)+d.charCodeAt(y+8),height:h,numcomponents:d.charCodeAt(y+9)};break}f=256*d.charCodeAt(y+2)+d.charCodeAt(y+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(Nt.API),Nt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,o=H2e(e,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?function(N){for(var A=N.width,D=N.height,C=N.data,j=N.palette,L=N.depth,z=!1,K=[],H=[],Z=void 0,W=!1,Y=0,le=0;le<j.length;le++){var fe=UO(j[le],4),M=fe[0],$=fe[1],Q=fe[2],ie=fe[3];K.push(M,$,Q),ie!=null&&(ie===0?(Y++,H.length<1&&H.push(le)):ie<255&&(W=!0))}if(W||Y>1){z=!0,H=void 0;var oe=A*D;Z=new Uint8Array(oe);for(var de=new DataView(C.buffer),pe=0;pe<oe;pe++){var ae=gC(de,pe,L),ue=UO(j[ae],4)[3];Z[pe]=ue}}else Y===0&&(H=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:z?8:void 0,colorBytes:C,alphaBytes:Z,needSMask:z,palette:K,mask:H}}(o):l===2||l===4?function(N){for(var A=N.data,D=N.width,C=N.height,j=N.channels,L=N.depth,z=j===2?"DeviceGray":"DeviceRGB",K=j-1,H=D*C,Z=K,W=H*Z,Y=1*H,le=Math.ceil(W*L/8),fe=Math.ceil(Y*L/8),M=new Uint8Array(le),$=new Uint8Array(fe),Q=new DataView(A.buffer),ie=new DataView(M.buffer),oe=new DataView($.buffer),de=!1,pe=0;pe<H;pe++){for(var ae=pe*j,ue=0;ue<Z;ue++)nM(ie,gC(Q,ae+ue,L),pe*Z+ue,L);var _e=gC(Q,ae+Z,L);_e<(1<<L)-1&&(de=!0),nM(oe,_e,1*pe,L)}return{colorSpace:z,colorsPerPixel:K,sMaskBitsPerComponent:de?L:void 0,colorBytes:M,alphaBytes:$,needSMask:de}}(o):function(N){var A=N.data,D=N.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:A instanceof Uint16Array?function(C){for(var j=C.length,L=new Uint8Array(2*j),z=new DataView(L.buffer,L.byteOffset,L.byteLength),K=0;K<j;K++)z.setUint16(2*K,C[K],!1);return L}(A):A,needSMask:!1}}(o);var d,h,f,m=i,g=m.colorSpace,y=m.colorsPerPixel,v=m.sMaskBitsPerComponent,x=m.colorBytes,_=m.alphaBytes,S=m.needSMask,k=m.palette,T=m.mask,P=null;return r!==Nt.API.image_compression.NONE&&typeof J4=="function"?(P=function(N){var A;switch(N){case Nt.API.image_compression.FAST:A=11;break;case Nt.API.image_compression.MEDIUM:A=13;break;case Nt.API.image_compression.SLOW:A=14;break;default:A=12}return A}(r),d=this.decode.FLATE_DECODE,h="/Predictor ".concat(P," /Colors ").concat(y," /BitsPerComponent ").concat(u," /Columns ").concat(s),e=YL(x,Math.ceil(s*y*u/8),y,u,r),S&&(f=YL(_,Math.ceil(s*v/8),1,v,r))):(d=void 0,h=void 0,e=x,S&&(f=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(f&&this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),{alias:n,data:e,index:t,filter:d,decodeParameters:h,transparency:T,palette:k,sMask:f,predictor:P,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:v,colorSpace:g}}},function(e){e.processGIF89A=function(t,n,r,i){var o=new uxe(t),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new vC(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(Nt.API),ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ga.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Hn.log("bit decode error:"+n)}},ga.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ga.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ga.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}e!==0&&(this.pos+=4-e)}},ga.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&t)/t*255|0,a=(o>>5&t)/t*255|0,l=(o>>10&t)/t*255|0,c=o>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},ga.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/t*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=e}},ga.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ga.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},ga.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var o=new ga(t,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new vC(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Nt.API),iM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var o=new iM(t),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new vC(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(Nt.API),Nt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=r[c],d=r[c+1],h=r[c+2],f=r[c+3];o[a++]=u,o[a++]=d,o[a++]=h,s[l++]=f}var m=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Nt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},wp=Nt.API,B2=wp.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),o=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=t.doKerning!==!1,h=0,f=e.length,m=0,g=a[0]||l,y=[];for(n=0;n<f;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(h=d&&Mn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,y.push((a[r]||g)/l+h)),m=r;return y},ZL=wp.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return wp.processArabic&&(e=wp.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:B2.apply(this,arguments).reduce(function(o,s){return o+s},0)},XL=function(e,t,n,r){for(var i=[],o=0,s=e.length,a=0;o!==s&&a+t[o]<n;)a+=t[o],o++;i.push(e.slice(0,o));var l=o;for(a=0;o!==s;)a+t[o]>r&&(i.push(e.slice(l,o)),a=0,l=o),a+=t[o],o++;return l!==o&&i.push(e.slice(l,o)),i},$L=function(e,t,n){n||(n={});var r,i,o,s,a,l,c,u=[],d=[u],h=n.textIndent||0,f=0,m=0,g=e.split(" "),y=B2.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),x=[];g.map(function(S){(S=S.split(/\s*\n/)).length>1?x=x.concat(S.map(function(k,T){return(T&&k.length?`
`:"")+k})):x.push(S[0])}),g=x,l=ZL.apply(this,[v,n])}for(o=0,s=g.length;o<s;o++){var _=0;if(r=g[o],l&&r[0]==`
`&&(r=r.substr(1),_=1),h+f+(m=(i=B2.apply(this,[r,n])).reduce(function(S,k){return S+k},0))>t||_){if(m>t){for(a=XL.apply(this,[r,i,t-(h+f),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(S,k){return S+k},0)}else u=[r];d.push(u),h=m+l,f=y}else u.push(r),h+=f+m,f=y}return c=l?function(S,k){return(k?v:"")+S.join(" ")}:function(S){return S.join(" ")},d.map(c)},wp.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return d.metadata[h]?{widths:d.metadata[h].widths||{0:1},kerning:d.metadata[h].kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat($L.apply(this,[r[a],s,o]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},o=0;o<16;o++)r[n[o]]=t[o],i[t[o]]=n[o];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=e.__fontmetrics__.compress=function(h){var f,m,g,y,v=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof f=="number")f<0?(g=s(f).slice(3),y="-"):(g=s(f).slice(2),y=""),g=y+g.slice(0,-1)+i[g.slice(-1)];else{if(Mn(f)!=="object")throw new Error("Don't know what to do with value type "+Mn(f)+".");g=a(f)}v.push(m+g)}return v.push("}"),v.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,m,g,y,v={},x=1,_=v,S=[],k="",T="",P=h.length-1,N=1;N<P;N+=1)(y=h[N])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(S.push([_,g]),_={},g=void 0):y=="}"?((m=S.pop())[0][m[1]]=_,g=void 0,_=m[0]):y=="-"?x=-1:g===void 0?r.hasOwnProperty(y)?(k+=r[y],g=parseInt(k,16)*x,x=1,k=""):k+=y:r.hasOwnProperty(y)?(T+=r[y],_[g]=parseInt(T,16)*x,x=1,g=void 0,T=""):T+=y;return v},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var f=h.font,m=d.Unicode[f.postScriptName];m&&(f.metadata.Unicode={},f.metadata.Unicode.widths=m.widths,f.metadata.Unicode.kerning=m.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(Nt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?t(a):t(Rx(a)),s.metadata=e.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(Nt),Nt.API.addSvgAsImage=function(e,t,n,r,i,o,s,a){if(isNaN(t)||isNaN(n))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return(Mt.canvg?Promise.resolve(Mt.canvg):cd(()=>import("./index.es-C3nTEjdb.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){d.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,s,a)})},Nt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Nt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,d=0;function h(m,g){var y,v=!1;for(y=0;y<m.length;y+=1)m[y]===g&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(Mn(e)==="object"){for(i in e)if(o=e[i],h(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&h(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Nt.API),function(e){var t=e.API,n=t.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,h=o.length;d<h;++d){if(a=s.metadata.characterToGlyph(o.charCodeAt(d)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},r=function(o){var s,a,l,c,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,h=(a=Object.keys(o).sort(function(f,m){return f-m})).length;d<h;d++)s=a[d],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var g=c();u({data:f,addLength1:!0,objectId:g}),l("endobj");var y=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Tp(a.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Tp(a.fontName)),l("/FontDescriptor "+v+" 0 R"),l("/W "+e.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+y+" 0 R"),l("/BaseFont /"+Tp(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),t.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof e.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var y=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Tp(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var v=0;v<a.metadata.hmtx.widths.length;v++)a.metadata.hmtx.widths[v]=parseInt(a.metadata.hmtx.widths[v]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Tp(a.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},d=o.mutex||{},h=d.pdfEscape,f=d.activeFontKey,m=d.fonts,g=f,y="",v=0,x="",_=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:d};for(x=a,g=f,Array.isArray(a)&&(x=a[0]),v=0;v<x.length;v+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[x[v].charCodeAt(0)]),s||x[v].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?y+=x[v]:y+="";var S="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?S=h(y,g).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(S=n(y,m[g])),d.isHex=!0,{text:S,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(Nt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Nt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,u,d=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,_=0;this.__bidiEngine__={};var S=function(C){var j=C.charCodeAt(),L=j>>8,z=g[L];return z!==void 0?d[256*z+(255&j)]:L===252||L===253?"AL":v.test(L)?"L":L===8?"R":"N"},k=function(C){for(var j,L=0;L<C.length;L++){if((j=S(C.charAt(L)))==="L")return!1;if(j==="R")return!0}return!1},T=function(C,j,L,z){var K,H,Z,W,Y=j[z];switch(Y){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(Y="AN");break;case"AL":x=!0,Y="R";break;case"WS":case"BN":Y="N";break;case"CS":z<1||z+1>=j.length||(K=L[z-1])!=="EN"&&K!=="AN"||(H=j[z+1])!=="EN"&&H!=="AN"?Y="N":x&&(H="AN"),Y=H===K?H:"N";break;case"ES":Y=(K=z>0?L[z-1]:"B")==="EN"&&z+1<j.length&&j[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&L[z-1]==="EN"){Y="EN";break}if(x){Y="N";break}for(Z=z+1,W=j.length;Z<W&&j[Z]==="ET";)Z++;Y=Z<W&&j[Z]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(W=j.length,Z=z+1;Z<W&&j[Z]==="NSM";)Z++;if(Z<W){var le=C[z],fe=le>=1425&&le<=2303||le===64286;if(K=j[Z],fe&&(K==="R"||K==="AL")){Y="R";break}}}Y=z<1||(K=j[z-1])==="B"?"N":L[z-1];break;case"B":x=!1,i=!0,Y=_;break;case"S":o=!0,Y="N"}return Y},P=function(C,j,L){var z=C.split("");return L&&N(z,L,{hiLevel:_}),z.reverse(),j&&j.reverse(),z.join("")},N=function(C,j,L){var z,K,H,Z,W,Y=-1,le=C.length,fe=0,M=[],$=_?f:h,Q=[];for(x=!1,i=!1,o=!1,K=0;K<le;K++)Q[K]=S(C[K]);for(H=0;H<le;H++){if(W=fe,M[H]=T(C,Q,M,H),z=240&(fe=$[W][m[M[H]]]),fe&=15,j[H]=Z=$[fe][5],z>0)if(z===16){for(K=Y;K<H;K++)j[K]=1;Y=-1}else Y=-1;if($[fe][6])Y===-1&&(Y=H);else if(Y>-1){for(K=Y;K<H;K++)j[K]=Z;Y=-1}Q[H]==="B"&&(j[H]=0),L.hiLevel|=Z}o&&function(ie,oe,de){for(var pe=0;pe<de;pe++)if(ie[pe]==="S"){oe[pe]=_;for(var ae=pe-1;ae>=0&&ie[ae]==="WS";ae--)oe[ae]=_}}(Q,j,le)},A=function(C,j,L,z,K){if(!(K.hiLevel<C)){if(C===1&&_===1&&!i)return j.reverse(),void(L&&L.reverse());for(var H,Z,W,Y,le=j.length,fe=0;fe<le;){if(z[fe]>=C){for(W=fe+1;W<le&&z[W]>=C;)W++;for(Y=fe,Z=W-1;Y<Z;Y++,Z--)H=j[Y],j[Y]=j[Z],j[Z]=H,L&&(H=L[Y],L[Y]=L[Z],L[Z]=H);fe=W}fe++}}},D=function(C,j,L){var z=C.split(""),K={hiLevel:_};return L||(L=[]),N(z,L,K),function(H,Z,W){if(W.hiLevel!==0&&u)for(var Y,le=0;le<H.length;le++)Z[le]===1&&(Y=y.indexOf(H[le]))>=0&&(H[le]=y[Y+1])}(z,L,K),A(2,z,j,L,K),A(1,z,j,L,K),z.join("")};return this.__bidiEngine__.doBidiReorder=function(C,j,L){if(function(K,H){if(H)for(var Z=0;Z<K.length;Z++)H[Z]=Z;a===void 0&&(a=k(K)),c===void 0&&(c=k(K))}(C,j),s||!l||c)if(s&&l&&a^c)_=a?1:0,C=P(C,j,L);else if(!s&&l&&c)_=a?1:0,C=D(C,j,L),C=P(C,j);else if(!s||a||l||c){if(s&&!l&&a^c)C=P(C,j),a?(_=0,C=D(C,j,L)):(_=1,C=D(C,j,L),C=P(C,j));else if(s&&a&&!l&&c)_=1,C=D(C,j,L),C=P(C,j);else if(!s&&!l&&a^c){var z=u;a?(_=1,C=D(C,j,L),_=0,u=!1,C=D(C,j,L),u=z):(_=0,C=D(C,j,L),C=P(C,j),_=1,u=!1,C=D(C,j,L),u=z,C=P(C,j))}}else _=0,C=D(C,j,L);else _=a?1:0,C=D(C,j,L);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,l=C.isOutputVisual,a=C.isInputRtl,c=C.isOutputRtl,u=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Nt),Nt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Pd(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Cxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new dxe(this.contents),this.head=new hxe(this),this.name=new yxe(this),this.cmap=new XV(this),this.toUnicode={},this.hhea=new pxe(this),this.maxp=new bxe(this),this.hmtx=new xxe(this),this.post=new gxe(this),this.os2=new mxe(this),this.loca=new kxe(this),this.glyf=new wxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,o,s,a;for(s=0,o=0,a=(t=""+t).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=t.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ka,Pd=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,o,s,a,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,o;for(o=[],r=0,i=t.length;r<i;r++)n=t[r],o.push(this.writeByte(n));return o},e}(),dxe=function(){var e;function t(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,o,s,a,l,c,u,d,h,f,m,g;for(g in f=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(f)/l),s=Math.floor(d/l),u=16*f-d,(i=new Pd).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(s),i.writeShort(u),o=16*f,c=i.pos+o,a=null,m=[],n)for(h=n[g],i.writeString(g),i.writeInt(e(h)),i.writeInt(c),i.writeInt(h.length),m=m.concat(h),g==="head"&&(a=c),c+=h.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-e(i.data),i.pos=a+8,i.writeUInt32(r),i.data},e=function(n){var r,i,o,s;for(n=$V.call(n);n.length%4;)n.push(0);for(o=new Pd(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},t}(),fxe={}.hasOwnProperty,ql=function(e,t){for(var n in t)fxe.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ka=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var hxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Pd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),oM=function(){function e(t,n){var r,i,o,s,a,l,c,u,d,h,f,m,g,y,v,x,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(f=t.readUInt16(),h=f/2,t.pos+=6,o=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(t.readUInt16());return k}(),t.pos+=2,g=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(t.readUInt16());return k}(),c=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(t.readUInt16());return k}(),u=function(){var S,k;for(k=[],l=S=0;0<=h?S<h:S>h;l=0<=h?++S:--S)k.push(t.readUInt16());return k}(),i=(this.length-t.pos+this.offset)/2,a=function(){var S,k;for(k=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)k.push(t.readUInt16());return k}(),l=v=0,_=o.length;v<_;l=++v)for(y=o[l],r=x=m=g[l];m<=y?x<=y:x>=y;r=m<=y?++x:--x)u[l]===0?s=r+c[l]:(s=a[u[l]/2+(r-m)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}t.pos=d}return e.encode=function(t,n){var r,i,o,s,a,l,c,u,d,h,f,m,g,y,v,x,_,S,k,T,P,N,A,D,C,j,L,z,K,H,Z,W,Y,le,fe,M,$,Q,ie,oe,de,pe,ae,ue,_e,Se;switch(z=new Pd,s=Object.keys(t).sort(function(Ne,Xe){return Ne-Xe}),n){case"macroman":for(g=0,y=function(){var Ne=[];for(m=0;m<256;++m)Ne.push(0);return Ne}(),x={0:0},o={},K=0,Y=s.length;K<Y;K++)x[ae=t[i=s[K]]]==null&&(x[ae]=++g),o[i]={old:t[i],new:x[t[i]]},y[i]=x[t[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(y),{charMap:o,subtable:z.data,maxGlyphID:g+1};case"unicode":for(j=[],d=[],_=0,x={},r={},v=c=null,H=0,le=s.length;H<le;H++)x[k=t[i=s[H]]]==null&&(x[k]=++_),r[i]={old:k,new:x[k]},a=x[k]-i,v!=null&&a===c||(v&&d.push(v),j.push(i),c=a),v=i;for(v&&d.push(v),d.push(65535),j.push(65535),D=2*(A=j.length),N=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(N/2)/Math.LN2,P=2*A-N,l=[],T=[],f=[],m=Z=0,fe=j.length;Z<fe;m=++Z){if(C=j[m],u=d[m],C===65535){l.push(0),T.push(0);break}if(C-(L=r[C].new)>=32768)for(l.push(0),T.push(2*(f.length+A-m)),i=W=C;C<=u?W<=u:W>=u;i=C<=u?++W:--W)f.push(r[i].new);else l.push(L-C),T.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*A+2*f.length),z.writeUInt16(0),z.writeUInt16(D),z.writeUInt16(N),z.writeUInt16(h),z.writeUInt16(P),de=0,M=d.length;de<M;de++)i=d[de],z.writeUInt16(i);for(z.writeUInt16(0),pe=0,$=j.length;pe<$;pe++)i=j[pe],z.writeUInt16(i);for(ue=0,Q=l.length;ue<Q;ue++)a=l[ue],z.writeUInt16(a);for(_e=0,ie=T.length;_e<ie;_e++)S=T[_e],z.writeUInt16(S);for(Se=0,oe=f.length;Se<oe;Se++)g=f[Se],z.writeUInt16(g);return{charMap:r,subtable:z.data,maxGlyphID:_+1}}},e}(),XV=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new oM(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=oM.encode(t,n),(i=new Pd).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),pxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),mxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),gxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=t.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(t.readUInt32());return l}.call(this)}},e}(),vxe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},yxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,o,s,a,l,c,u,d,h;for(t.pos=this.offset,t.readShort(),n=t.readShort(),a=t.readShort(),r=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+a+t.readShort()});for(l={},o=u=0,d=r.length;u<d;o=++u)i=r[o],t.pos=i.offset,c=t.readString(i.length),s=new vxe(c,i),l[h=i.nameID]==null&&(l[h]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),bxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),xxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,o,s,a,l;for(t.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=function(){var c,u,d,h;for(h=[],c=0,u=(d=this.metrics).length;c<u;c++)o=d[c],h.push(o.advance);return h}.call(this),r=this.widths[this.widths.length-1],l=[],n=s=0;0<=i?s<i:s>i;n=0<=i?++s:--s)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),$V=[].slice,wxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,o,s,a,l,c,u,d;return t in this.cache?this.cache[t]:(o=this.file.loca,n=this.file.contents,r=o.indexOf(t),(i=o.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,s=(a=new Pd(n.read(i))).readShort(),c=a.readShort(),d=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[t]=s===-1?new Sxe(a,c,d,l,u):new _xe(a,s,c,d,l,u),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,o,s,a,l;for(s=[],o=[],a=0,l=n.length;a<l;a++)i=t[n[a]],o.push(s.length),i&&(s=s.concat(i.encode(r)));return o.push(s.length),{table:s,offsets:o}},e}(),_xe=function(){function e(t,n,r,i,o,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Sxe=function(){function e(t,n,r,i,o){var s,a;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Pd($V.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),kxe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ql(e,Ka),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=2)o.push(2*t.readUInt16());return o}.call(this):function(){var i,o;for(o=[],r=0,i=this.length;r<i;r+=4)o.push(t.readUInt32());return o}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<r.length;++s)if(r[s]=i,o<n.length&&n[o]==s){++o,r[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},e}(),Cxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,t={},o=this.subset)r=o[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,o,s,a,l;for(i={},s=0,a=t.length;s<a;s++)i[o=t[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},e.prototype.encode=function(t,n){var r,i,o,s,a,l,c,u,d,h,f,m,g,y,v;for(i in r=XV.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),f={0:0},v=r.charMap)f[(l=v[i]).old]=l.new;for(m in h=r.maxGlyphID,s)m in f||(f[m]=h++);return u=function(x){var _,S;for(_ in S={},x)S[x[_]]=_;return S}(f),d=Object.keys(u).sort(function(x,_){return x-_}),g=function(){var x,_,S;for(S=[],x=0,_=d.length;x<_;x++)a=d[x],S.push(u[a]);return S}(),o=this.font.glyf.encode(s,g,f),c=this.font.loca.encode(o.offsets,g),y={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();Nt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+t.convert(s));return o.push(">>"),o.join(`
`)}return""+n},t}();async function Nxe(e){return new Promise((t,n)=>{const r=new Image,i=URL.createObjectURL(e);r.onload=()=>{URL.revokeObjectURL(i);try{const o=r.width,s=r.height,a=612,l=792,c=36,u=a-2*c,d=l-2*c,h=o/s,f=u/d;let m,g;h>f?(m=u,g=u/h):(g=d,m=d*h);const y=c+(u-m)/2,v=c+(d-g)/2,x=new Nt({orientation:"portrait",unit:"pt",format:"letter"}),_=document.createElement("canvas");_.width=o,_.height=s;const S=_.getContext("2d");if(!S){n(new Error("Failed to create canvas context"));return}S.drawImage(r,0,0);const k=e.type==="image/png"?"PNG":"JPEG",T=_.toDataURL(e.type==="image/png"?"image/png":"image/jpeg",.92);x.addImage(T,k,y,v,m,g);const P=x.output("blob"),A=`${e.name.replace(/\.[^/.]+$/,"")}.pdf`;t({pdfBlob:P,pdfFilename:A})}catch(o){n(o)}},r.onerror=()=>{URL.revokeObjectURL(i),n(new Error("Failed to load image for conversion"))},r.src=i})}function Axe({conditionId:e,loanId:t,createdBy:n}){const[r,i]=I.useState([]),o=I.useCallback((f,m)=>{i(g=>g.map(y=>y.id===f?{...y,...m}:y))},[]),s=I.useCallback(async f=>{const m=uQ(f.file);if(!m.valid){o(f.id,{status:"error",error:m.error});return}o(f.id,{status:"uploading",progress:5});let g=f.file,y=f.file.name,v=f.file.type;if(cQ(f.file)){o(f.id,{progress:10});try{const{pdfBlob:L,pdfFilename:z}=await Nxe(f.file);g=L,y=z,v=AN}catch{o(f.id,{status:"error",error:"Failed to convert image to PDF"});return}}o(f.id,{progress:25});const x=NB(y),_=e??"unassigned",S=`${t}/${_}/${x}`,{url:k,error:T}=await SB(g,S);if(T||!k){o(f.id,{status:"error",error:T||"Failed to upload file"});return}o(f.id,{progress:55});let P=null,N=1;const A=new File([g],y,{type:AN}),D=await hQ(A);if(D.thumbnail){const L=`${t}/${_}/thumb_${x.replace(/\.[^/.]+$/,".jpg")}`,{url:z}=await kB(D.thumbnail,L);P=z}N=D.pageCount,o(f.id,{progress:80});const{document:C,error:j}=await pQ({conditionId:e,loanId:t,fileName:f.file.name,fileUrl:k,thumbnailUrl:P,fileSize:g.size,mimeType:v,originalFilename:f.file.name,pageCount:N,createdBy:n});if(j||!C){o(f.id,{status:"error",error:j||"Failed to create document record"});return}o(f.id,{status:"complete",progress:100,document:C})},[e,t,n,o]),a=I.useCallback(f=>{const g=Array.from(f).map(y=>({id:`${Date.now()}_${Math.random().toString(36).substring(2,9)}`,file:y,status:"pending",progress:0}));i(y=>[...y,...g]),g.forEach(y=>{s(y)})},[s]),l=I.useCallback(async f=>{const m=r.find(g=>g.id===f);m?.document?.id&&await CB(m.document.id),i(g=>g.filter(y=>y.id!==f))},[r]),c=I.useCallback(f=>{const m=r.find(g=>g.id===f);m&&m.status==="error"&&(o(f,{status:"pending",progress:0,error:void 0}),s({...m,status:"pending",progress:0}))},[r,o,s]),u=I.useCallback(()=>{i(f=>f.filter(m=>m.status!=="complete"))},[]),d=r.some(f=>f.status==="pending"||f.status==="uploading"),h=r.filter(f=>f.status==="complete").length;return{uploadQueue:r,addFiles:a,removeFile:l,retryUpload:c,clearCompleted:u,hasActiveUploads:d,completedCount:h}}function Exe({onFilesSelected:e}){const[t,n]=I.useState(!1),r=I.useRef(null),i=I.useCallback(d=>{d.preventDefault(),d.stopPropagation(),n(!0)},[]),o=I.useCallback(d=>{d.preventDefault(),d.stopPropagation(),n(!1)},[]),s=I.useCallback(d=>{d.preventDefault(),d.stopPropagation()},[]),a=I.useCallback(d=>{d.preventDefault(),d.stopPropagation(),n(!1);const h=d.dataTransfer.files;h.length>0&&e(h)},[e]),l=I.useCallback(d=>{const h=d.target.files;h&&h.length>0&&e(h),r.current&&(r.current.value="")},[e]),c=I.useCallback(()=>{r.current?.click()},[]),u=i5.join(",");return p.jsxs("div",{onDragEnter:i,onDragLeave:o,onDragOver:s,onDrop:a,className:`
        flex flex-col items-center justify-center
        border-2 border-dashed rounded-lg
        p-8 h-full min-h-[300px]
        transition-colors duration-200
        ${t?"border-cmg-teal bg-[#D5EFEF]":"border-cmg-teal bg-[#EAF6F7]"}
      `,children:[p.jsx("input",{ref:r,type:"file",multiple:!0,accept:u,onChange:l,className:"hidden"}),p.jsx(OJ,{className:`w-16 h-16 mb-4 transition-colors ${t?"text-cmg-teal-dark":"text-cmg-teal"}`}),p.jsx("p",{className:"text-gray-700 font-medium text-lg mb-4",children:"Drag & Drop to Upload"}),p.jsx(Pt,{onClick:c,variant:"primary",className:"rounded-full px-6",children:"Select Files"}),p.jsxs("div",{className:"text-center mt-4",children:[p.jsxs("p",{className:"text-gray-500 text-sm",children:["Max File Size: ",SE(NN)]}),p.jsx("p",{className:"text-gray-400 text-xs mt-1",children:"Supported formats: PDF, JPEG, PNG, GIF, WebP"})]})]})}function Txe({item:e,onDelete:t,onRetry:n}){const r=e.status==="pending"||e.status==="uploading",i=e.status==="complete",o=e.status==="error";return p.jsx("div",{className:"py-3 border-b border-gray-100 last:border-b-0",children:p.jsxs("div",{className:"flex items-center justify-between gap-3",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:`text-sm font-medium truncate ${o?"text-red-600":"text-gray-900"}`,title:e.file.name,children:e.file.name}),r&&p.jsx("div",{className:"mt-2",children:p.jsx("div",{className:"h-1.5 bg-gray-200 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-gray-300 to-cmg-teal rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})}),i&&e.document&&p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:SE(e.file.size)}),o&&p.jsx("p",{className:"text-xs text-red-500 mt-1",children:e.error})]}),p.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[i&&p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 rounded transition-colors",title:"Preview (placeholder)",children:p.jsx(fJ,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t(e.id),className:"p-1.5 text-red-400 hover:text-red-600 rounded transition-colors",title:"Delete",children:p.jsx(Sd,{className:"w-4 h-4"})})]}),o&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 text-cmg-teal hover:text-cmg-teal-dark rounded transition-colors",title:"Retry",children:p.jsx(NJ,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>t(e.id),className:"p-1.5 text-red-400 hover:text-red-600 rounded transition-colors",title:"Remove",children:p.jsx(Sd,{className:"w-4 h-4"})})]})]})]})})}function Pxe({conditionId:e,loanId:t,initialFiles:n,onClose:r,onUploadComplete:i,onReviewDocs:o,createdBy:s}){const{uploadQueue:a,addFiles:l,removeFile:c,retryUpload:u,hasActiveUploads:d,completedCount:h}=Axe({conditionId:e,loanId:t,createdBy:s}),f=I.useRef(!1);I.useEffect(()=>{!f.current&&n&&n.length>0&&(f.current=!0,l(n))},[n,l]);function m(){h>0&&i(),r()}function g(){h>0&&i(),o(e),r()}return p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl shadow-xl overflow-hidden",children:[p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 bg-gray-50",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(bE,{className:"w-5 h-5 text-cmg-teal"}),p.jsx("h2",{className:"text-lg font-bold text-gray-900",children:e?"Upload":"Bulk Upload"})]}),p.jsx("button",{onClick:m,className:"p-1 hover:bg-gray-200 rounded transition-colors",children:p.jsx(lr,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("div",{className:"flex min-h-[400px]",children:[p.jsx("div",{className:"flex-1 p-4",children:p.jsx(Exe,{onFilesSelected:l})}),p.jsxs("div",{className:"w-[300px] border-l border-gray-200 flex flex-col",children:[p.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50",children:p.jsxs("h3",{className:"text-sm font-semibold text-gray-700",children:["Files (",a.length,")"]})}),p.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:a.length===0?p.jsx("div",{className:"flex items-center justify-center h-full text-gray-400 text-sm",children:"No files selected"}):a.map(y=>p.jsx(Txe,{item:y,onDelete:c,onRetry:u},y.id))})]})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[p.jsx(Pt,{onClick:m,variant:"secondary",children:"Close"}),p.jsx(Pt,{onClick:g,variant:"primary",disabled:d||h===0,children:"Review Docs"})]})]})})}function Rxe({selectedCount:e,onDeselectAll:t,onSetFlag:n,onSetStatus:r,onSuspend:i,onRemove:o}){const[s,a]=I.useState(!1),[l,c]=I.useState(!1),u=I.useRef(null),d=I.useRef(null);return I.useEffect(()=>{function h(f){d.current&&!d.current.contains(f.target)&&c(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),p.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-2",children:p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("button",{onClick:t,className:"flex items-center gap-1.5 text-xs text-gray-700 hover:text-gray-900",children:[p.jsx(lr,{className:"w-3.5 h-3.5"}),p.jsx("span",{children:"Deselect All"})]}),p.jsx("div",{className:"h-4 w-px bg-gray-300"}),p.jsxs("span",{className:"text-xs text-gray-600",children:["(",e,")"]}),p.jsxs("div",{ref:u,className:"relative",children:[p.jsx(jr,{onClick:()=>a(!s),icon:p.jsx(mo,{className:"w-3.5 h-3.5"}),iconPosition:"right",size:"md",children:"Flag"}),s&&p.jsx("div",{className:"absolute top-full left-0 mt-1 z-50",children:p.jsx(s5,{currentColor:null,onApply:h=>{n(h),a(!1)},onClose:()=>a(!1)})})]}),p.jsxs("div",{ref:d,className:"relative",children:[p.jsx(jr,{onClick:()=>c(!l),icon:p.jsx(mo,{className:"w-3.5 h-3.5"}),iconPosition:"right",size:"md",children:"Set Condition Status"}),l&&p.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-10 min-w-[180px]",children:t5.map(h=>p.jsx("button",{onClick:()=>{r(h),c(!1)},className:"w-full text-left px-4 py-2 text-xs text-gray-700 hover:bg-gray-50",children:h},h))})]}),p.jsx("div",{className:"h-4 w-px bg-gray-300"}),p.jsx(jr,{onClick:i,icon:p.jsx(eJ,{className:"w-3.5 h-3.5"}),size:"md",variant:"danger",children:"Suspend"}),p.jsx(jr,{onClick:o,icon:p.jsx(Sd,{className:"w-3.5 h-3.5"}),size:"md",children:"Remove"})]})})}function jxe({unreadCount:e,onClose:t}){return p.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Conditions Portal Notes"}),e>0&&p.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 rounded-full",children:e>99?"99+":e})]}),p.jsx(CN,{icon:p.jsx(lr,{className:"w-5 h-5"}),onClick:t})]})}function Dxe({activeFilter:e,onFilterChange:t,onMarkAllRead:n,onSearchToggle:r,hasUnread:i,saving:o}){const s=[{key:"all",label:"All"},{key:"conditions",label:"Condition"},{key:"updates",label:"Updates"}];return p.jsxs("div",{className:"flex items-center justify-between px-6 border-b border-gray-200",children:[p.jsx("div",{className:"flex items-center gap-6",children:s.map(a=>p.jsx("button",{onClick:()=>t(a.key),className:`text-sm font-bold py-3 border-b-2 transition-colors ${e===a.key?"text-gray-900 border-cmg-teal":"text-gray-500 border-transparent hover:text-cmg-teal"}`,children:a.label},a.key))}),p.jsxs("div",{className:"flex items-center gap-3",children:[i&&p.jsx(Pt,{variant:"secondary",size:"sm",onClick:n,disabled:o,children:"Mark All Read"}),p.jsx("button",{onClick:r,className:"p-1.5 text-cmg-teal hover:text-cmg-teal-dark hover:bg-cmg-teal/10 rounded transition-colors",children:p.jsx(ey,{className:"w-5 h-5"})})]})]})}function Ixe({isOpen:e,searchQuery:t,onSearchChange:n,onClose:r}){const i=I.useRef(null);return I.useEffect(()=>{e&&i.current&&i.current.focus()},[e]),e?p.jsx("div",{className:"px-6 py-3 border-b border-gray-200 bg-gray-50 animate-in slide-in-from-top-2 duration-200",children:p.jsxs("div",{className:"relative",children:[p.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{ref:i,type:"text",value:t,onChange:o=>n(o.target.value),placeholder:"Search notes...",className:"w-full pl-10 pr-10 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cmg-teal focus:border-cmg-teal"}),p.jsx("button",{onClick:()=>{n(""),r()},className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 rounded transition-colors",children:p.jsx(lr,{className:"w-4 h-4"})})]})}):null}function Oxe({note:e,onTogglePin:t,onMarkRead:n,onDelete:r}){const[i,o]=I.useState(!1),s=I.useRef(null);I.useEffect(()=>{function h(f){s.current&&!s.current.contains(f.target)&&o(!1)}return i&&document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[i]);const a=()=>{e.is_read||n(e.id)},c=new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).replace(",",", "),d=new Date(e.created_at).toDateString()===new Date().toDateString()?`Today, ${new Date(e.created_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`:c;return p.jsx("div",{onClick:a,className:`relative px-6 py-4 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer ${e.is_read?"":"bg-blue-50/30"}`,children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx("div",{className:"flex-shrink-0 mt-1.5",children:e.is_read?p.jsx("div",{className:"w-2 h-2"}):p.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx("span",{className:"font-bold text-xs text-gray-900",children:e.author_name}),p.jsx("span",{className:"text-xs text-gray-400",children:d})]}),e.condition&&p.jsx("div",{className:"mb-2",children:p.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700",children:e.condition.condition_id})}),p.jsx("div",{className:"text-xs text-gray-700 prose prose-sm max-w-none [&_p]:my-1 [&_ul]:my-1 [&_ol]:my-1 [&_ul]:list-disc [&_ul]:pl-5 [&_a]:text-cmg-teal",dangerouslySetInnerHTML:{__html:e.content}})]}),p.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[p.jsx("button",{onClick:h=>{h.stopPropagation(),t(e.id)},className:`p-1.5 rounded transition-colors ${e.is_pinned?"text-cmg-teal hover:bg-cmg-teal/10":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:e.is_pinned?"Unpin note":"Pin note",children:p.jsx(CJ,{className:`w-4 h-4 ${e.is_pinned?"fill-cmg-teal":""}`})}),p.jsxs("div",{className:"relative",ref:s,children:[p.jsx("button",{onClick:h=>{h.stopPropagation(),o(!i)},className:"p-1.5 rounded text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors",children:p.jsx(xJ,{className:"w-4 h-4"})}),i&&p.jsx("div",{className:"absolute right-0 top-full mt-1 w-32 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:p.jsxs("button",{onClick:h=>{h.stopPropagation(),r(e.id),o(!1)},className:"w-full px-3 py-2 text-left text-xs text-red-600 hover:bg-red-50 flex items-center gap-2",children:[p.jsx(Sd,{className:"w-4 h-4"}),"Delete"]})})]})]})]})})}function Lxe({notes:e,loading:t,onTogglePin:n,onMarkRead:r,onDelete:i,isConditionFiltered:o}){return t?p.jsx("div",{className:"flex-1 flex items-center justify-center",children:p.jsx("div",{className:"text-gray-400",children:"Loading notes..."})}):e.length===0?p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 py-12",children:[p.jsx(Y_,{className:"w-12 h-12 mb-3 opacity-50"}),p.jsx("p",{className:"text-sm",children:o?"No notes for this condition":"No notes yet"}),p.jsx("p",{className:"text-xs mt-1",children:o?"Add a note above or clear the filter":"Add a note above to get started"})]}):p.jsx("div",{className:"flex-1 overflow-y-auto",children:e.map(s=>p.jsx(Oxe,{note:s,onTogglePin:n,onMarkRead:r,onDelete:i},s.id))})}function Mxe({entryPoint:e,conditionId:t,onAddNote:n,saving:r}){const[i,o]=I.useState(!1),[s,a]=I.useState(""),l=e==="condition"?"condition":"update",c=e==="condition"&&t?`Add a note for condition ${t}...`:"Add a loan update...",u=async()=>{if(!s.trim()||s==="<p></p>")return;await n(s,l,e==="condition"?t:null)&&(a(""),o(!1))},d=s.trim()&&s!=="<p></p>";return i?p.jsxs("div",{className:"px-6 py-4",children:[p.jsx(sy,{value:s,onChange:a,placeholder:c,onSubmit:u,autoFocus:!0}),p.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[p.jsx(Pt,{variant:"secondary",size:"md",onClick:()=>{a(""),o(!1)},children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"md",onClick:u,disabled:!d||r,children:r?"Saving...":"Add Note"})]})]}):p.jsx("div",{className:"px-6 py-4",children:p.jsx("button",{onClick:()=>o(!0),className:"w-full h-9 px-4 text-left text-xs text-gray-400 bg-white border border-gray-300 rounded-lg hover:border-cmg-teal focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-cmg-teal transition-colors",children:"Create New Note"})})}function Fxe({conditionDisplayId:e,onClear:t}){return p.jsxs("div",{className:"px-4 py-2.5 bg-white border-b border-gray-200 flex items-center gap-2 animate-fade-in",children:[p.jsx("span",{className:"text-xs text-gray-500",children:"Filtered by:"}),p.jsx(o5,{variant:"grey",onDismiss:t,children:e})]})}function Bxe({isOpen:e,onClose:t,entryPoint:n,conditionId:r}){const{selectedLoanId:i}=Q1(),[o,s]=I.useState("all"),[a,l]=I.useState(!1),[c,u]=I.useState(""),[d,h]=I.useState(null),[f,m]=I.useState(null),{notes:g,loading:y,saving:v,unreadCount:x,addNote:_,togglePin:S,markRead:k,markAllRead:T,deleteNote:P}=wB({loanId:i,filter:o,searchQuery:c,filterConditionId:d}),N=I.useCallback(async D=>{const{data:C}=await Ee.from("conditions").select("condition_id").eq("id",D).maybeSingle();C?.condition_id?m(C.condition_id):(h(null),m(null))},[]);I.useEffect(()=>{e&&r&&(h(r),N(r))},[e,r,N]);const A=I.useCallback(()=>{h(null),m(null)},[]);return I.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),I.useEffect(()=>{function D(C){C.key==="Escape"&&(a?(l(!1),u("")):t())}return e&&document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[e,a,t]),I.useEffect(()=>{e||(l(!1),u(""),s("all"),h(null),m(null))},[e]),e?p.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end",children:[p.jsx("div",{className:"absolute inset-0 bg-black/30 transition-opacity",onClick:t}),p.jsxs("div",{className:"relative w-full max-w-lg bg-white shadow-xl flex flex-col animate-slide-in-right",children:[p.jsx(jxe,{unreadCount:x,onClose:t}),p.jsx(Mxe,{entryPoint:n,conditionId:r,onAddNote:_,saving:v}),p.jsx(Dxe,{activeFilter:o,onFilterChange:s,onMarkAllRead:T,onSearchToggle:()=>l(!a),hasUnread:x>0,saving:v}),f&&p.jsx(Fxe,{conditionDisplayId:f,onClear:A}),p.jsx(Ixe,{isOpen:a,searchQuery:c,onSearchChange:u,onClose:()=>l(!1)}),p.jsx(Lxe,{notes:g,loading:y,onTogglePin:S,onMarkRead:k,onDelete:P,isConditionFiltered:!!d})]})]}):null}function zxe(e){var t;const{char:n,allowSpaces:r,allowToIncludeChar:i,allowedPrefixes:o,startOfLine:s,$position:a}=e,l=r&&!i,c=Fie(n),u=new RegExp(`\\s${c}$`),d=s?"^":"",h=i?"":c,f=l?new RegExp(`${d}${c}.*?(?=\\s${h}|$)`,"gm"):new RegExp(`${d}(?:^)?${c}[^\\s${h}]*`,"gm"),m=((t=a.nodeBefore)==null?void 0:t.isText)&&a.nodeBefore.text;if(!m)return null;const g=a.pos-m.length,y=Array.from(m.matchAll(f)).pop();if(!y||y.input===void 0||y.index===void 0)return null;const v=y.input.slice(Math.max(0,y.index-1),y.index),x=new RegExp(`^[${o?.join("")}\0]?$`).test(v);if(o!==null&&!x)return null;const _=g+y.index;let S=_+y[0].length;return l&&u.test(m.slice(S-1,S+1))&&(y[0]+=" ",S+=1),_<a.pos&&S>=a.pos?{range:{from:_,to:S},query:y[0].slice(n.length),text:y[0]}:null}var Uxe=new cr("suggestion");function qxe({pluginKey:e=Uxe,editor:t,char:n="@",allowSpaces:r=!1,allowToIncludeChar:i=!1,allowedPrefixes:o=[" "],startOfLine:s=!1,decorationTag:a="span",decorationClass:l="suggestion",decorationContent:c="",decorationEmptyClass:u="is-empty",command:d=()=>null,items:h=()=>[],render:f=()=>({}),allow:m=()=>!0,findSuggestionMatch:g=zxe,shouldShow:y}){let v;const x=f?.(),_=()=>{const P=t.state.selection.$anchor.pos,N=t.view.coordsAtPos(P),{top:A,right:D,bottom:C,left:j}=N;try{return new DOMRect(j,A,D-j,C-A)}catch{return null}},S=(P,N)=>N?()=>{const A=e.getState(t.state),D=A?.decorationId,C=P.dom.querySelector(`[data-decoration-id="${D}"]`);return C?.getBoundingClientRect()||null}:_;function k(P,N){var A;try{const C=e.getState(P.state),j=C?.decorationId?P.dom.querySelector(`[data-decoration-id="${C.decorationId}"]`):null,L={editor:t,range:C?.range||{from:0,to:0},query:C?.query||null,text:C?.text||null,items:[],command:z=>d({editor:t,range:C?.range||{from:0,to:0},props:z}),decorationNode:j,clientRect:S(P,j)};(A=x?.onExit)==null||A.call(x,L)}catch{}const D=P.state.tr.setMeta(N,{exit:!0});P.dispatch(D)}const T=new Yn({key:e,view(){return{update:async(P,N)=>{var A,D,C,j,L,z,K;const H=(A=this.key)==null?void 0:A.getState(N),Z=(D=this.key)==null?void 0:D.getState(P.state),W=H.active&&Z.active&&H.range.from!==Z.range.from,Y=!H.active&&Z.active,le=H.active&&!Z.active,fe=!Y&&!le&&H.query!==Z.query,M=Y||W&&fe,$=fe||W,Q=le||W&&fe;if(!M&&!$&&!Q)return;const ie=Q&&!M?H:Z,oe=P.dom.querySelector(`[data-decoration-id="${ie.decorationId}"]`);v={editor:t,range:ie.range,query:ie.query,text:ie.text,items:[],command:de=>d({editor:t,range:ie.range,props:de}),decorationNode:oe,clientRect:S(P,oe)},M&&((C=x?.onBeforeStart)==null||C.call(x,v)),$&&((j=x?.onBeforeUpdate)==null||j.call(x,v)),($||M)&&(v.items=await h({editor:t,query:ie.query})),Q&&((L=x?.onExit)==null||L.call(x,v)),$&&((z=x?.onUpdate)==null||z.call(x,v)),M&&((K=x?.onStart)==null||K.call(x,v))},destroy:()=>{var P;v&&((P=x?.onExit)==null||P.call(x,v))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(P,N,A,D){const{isEditable:C}=t,{composing:j}=t.view,{selection:L}=P,{empty:z,from:K}=L,H={...N},Z=P.getMeta(e);if(Z&&Z.exit)return H.active=!1,H.decorationId=null,H.range={from:0,to:0},H.query=null,H.text=null,H;if(H.composing=j,C&&(z||t.view.composing)){(K<N.range.from||K>N.range.to)&&!j&&!N.composing&&(H.active=!1);const W=g({char:n,allowSpaces:r,allowToIncludeChar:i,allowedPrefixes:o,startOfLine:s,$position:L.$from}),Y=`id_${Math.floor(Math.random()*4294967295)}`;W&&m({editor:t,state:D,range:W.range,isActive:N.active})&&(!y||y({editor:t,range:W.range,query:W.query,text:W.text,transaction:P}))?(H.active=!0,H.decorationId=N.decorationId?N.decorationId:Y,H.range=W.range,H.query=W.query,H.text=W.text):H.active=!1}else H.active=!1;return H.active||(H.decorationId=null,H.range={from:0,to:0},H.query=null,H.text=null),H}},props:{handleKeyDown(P,N){var A,D,C,j;const{active:L,range:z}=T.getState(P.state);if(!L)return!1;if(N.key==="Escape"||N.key==="Esc"){const H=T.getState(P.state),Z=(A=v?.decorationNode)!=null?A:null,W=Z??(H?.decorationId?P.dom.querySelector(`[data-decoration-id="${H.decorationId}"]`):null);if(((D=x?.onKeyDown)==null?void 0:D.call(x,{view:P,event:N,range:H.range}))||!1)return!0;const le={editor:t,range:H.range,query:H.query,text:H.text,items:[],command:fe=>d({editor:t,range:H.range,props:fe}),decorationNode:W,clientRect:W?()=>W.getBoundingClientRect()||null:null};return(C=x?.onExit)==null||C.call(x,le),k(P,e),!0}return((j=x?.onKeyDown)==null?void 0:j.call(x,{view:P,event:N,range:z}))||!1},decorations(P){const{active:N,range:A,decorationId:D,query:C}=T.getState(P);if(!N)return null;const j=!C?.length,L=[l];return j&&L.push(u),Wn.create(P.doc,[si.inline(A.from,A.to,{nodeName:a,class:L.join(" "),"data-decoration-id":D,"data-decoration-content":c})])}}});return T}function Hxe({editor:e,overrideSuggestionOptions:t,extensionName:n,char:r="@"}){const i=new cr;return{editor:e,char:r,pluginKey:i,command:({editor:o,range:s,props:a})=>{var l,c,u;const d=o.view.state.selection.$to.nodeAfter;((l=d?.text)==null?void 0:l.startsWith(" "))&&(s.to+=1),o.chain().focus().insertContentAt(s,[{type:n,attrs:{...a,mentionSuggestionChar:r}},{type:"text",text:" "}]).run(),(u=(c=o.view.dom.ownerDocument.defaultView)==null?void 0:c.getSelection())==null||u.collapseToEnd()},allow:({state:o,range:s})=>{const a=o.doc.resolve(s.from),l=o.schema.nodes[n];return!!a.parent.type.contentMatch.matchType(l)},...t}}function YV(e){return(e.options.suggestions.length?e.options.suggestions:[e.options.suggestion]).map(t=>Hxe({editor:e.editor,overrideSuggestionOptions:t,extensionName:e.name,char:t.char}))}function sM(e,t){const n=YV(e),r=n.find(i=>i.char===t);return r||(n.length?n[0]:null)}var Wxe=ci.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({node:e,suggestion:t}){var n,r;return`${(n=t?.char)!=null?n:"@"}${(r=e.attrs.label)!=null?r:e.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:e,node:t,suggestion:n}){var r,i;return["span",Sn(this.HTMLAttributes,e.HTMLAttributes),`${(r=n?.char)!=null?r:"@"}${(i=t.attrs.label)!=null?i:t.attrs.id}`]},suggestions:[],suggestion:{}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},mentionSuggestionChar:{default:"@",parseHTML:e=>e.getAttribute("data-mention-suggestion-char"),renderHTML:e=>({"data-mention-suggestion-char":e.mentionSuggestionChar})}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){const n=sM(this,e.attrs.mentionSuggestionChar);if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",Sn({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e,suggestion:n})];const r={...this.options};r.HTMLAttributes=Sn({"data-type":this.name},this.options.HTMLAttributes,t);const i=this.options.renderHTML({options:r,node:e,suggestion:n});return typeof i=="string"?["span",Sn({"data-type":this.name},this.options.HTMLAttributes,t),i]:i},...P9({nodeName:"mention",name:"@",selfClosing:!0,allowedAttributes:["id","label",{name:"mentionSuggestionChar",skipIfDefault:"@"}],parseAttributes:e=>{const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=n.exec(e);for(;r!==null;){const[,i,o,s]=r,a=o??s;t[i==="char"?"mentionSuggestionChar":i]=a,r=n.exec(e)}return t},serializeAttributes:e=>Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t==="mentionSuggestionChar"?"char":t}="${n}"`).join(" ")}),renderText({node:e}){const t={options:this.options,node:e,suggestion:sM(this,e.attrs.mentionSuggestionChar)};return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel(t)):this.options.renderText(t)},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:t})=>{let n=!1;const{selection:r}=t,{empty:i,anchor:o}=r;if(!i)return!1;let s=new Fs,a=0;return t.doc.nodesBetween(o-1,o,(l,c)=>{if(l.type.name===this.name)return n=!0,s=l,a=c,!1}),n&&e.insertText(this.options.deleteTriggerWithBackspace?"":s.attrs.mentionSuggestionChar,a,a+s.nodeSize),n})}},addProseMirrorPlugins(){return YV(this).map(qxe)}}),Vxe=Wxe,Lo="top",ia="bottom",oa="right",Mo="left",hP="auto",Py=[Lo,ia,oa,Mo],q0="start",q1="end",Kxe="clippingParents",JV="viewport",yg="popper",Gxe="reference",aM=Py.reduce(function(e,t){return e.concat([t+"-"+q0,t+"-"+q1])},[]),QV=[].concat(Py,[hP]).reduce(function(e,t){return e.concat([t,t+"-"+q0,t+"-"+q1])},[]),Zxe="beforeRead",Xxe="read",$xe="afterRead",Yxe="beforeMain",Jxe="main",Qxe="afterMain",ewe="beforeWrite",twe="write",nwe="afterWrite",rwe=[Zxe,Xxe,$xe,Yxe,Jxe,Qxe,ewe,twe,nwe];function Ml(e){return e?(e.nodeName||"").toLowerCase():null}function ds(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function _h(e){var t=ds(e).Element;return e instanceof t||e instanceof Element}function Zs(e){var t=ds(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function pP(e){if(typeof ShadowRoot>"u")return!1;var t=ds(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function iwe(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!Zs(o)||!Ml(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function owe(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},s=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=s.reduce(function(l,c){return l[c]="",l},{});!Zs(i)||!Ml(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const eK={name:"applyStyles",enabled:!0,phase:"write",fn:iwe,effect:owe,requires:["computeStyles"]};function jl(e){return e.split("-")[0]}var Vf=Math.max,N_=Math.min,H0=Math.round;function fA(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tK(){return!/^((?!chrome|android).)*safari/i.test(fA())}function W0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Zs(e)&&(i=e.offsetWidth>0&&H0(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&H0(r.height)/e.offsetHeight||1);var s=_h(e)?ds(e):window,a=s.visualViewport,l=!tK()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function mP(e){var t=W0(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nK(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&pP(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Mc(e){return ds(e).getComputedStyle(e)}function swe(e){return["table","td","th"].indexOf(Ml(e))>=0}function Ud(e){return((_h(e)?e.ownerDocument:e.document)||window.document).documentElement}function rS(e){return Ml(e)==="html"?e:e.assignedSlot||e.parentNode||(pP(e)?e.host:null)||Ud(e)}function lM(e){return!Zs(e)||Mc(e).position==="fixed"?null:e.offsetParent}function awe(e){var t=/firefox/i.test(fA()),n=/Trident/i.test(fA());if(n&&Zs(e)){var r=Mc(e);if(r.position==="fixed")return null}var i=rS(e);for(pP(i)&&(i=i.host);Zs(i)&&["html","body"].indexOf(Ml(i))<0;){var o=Mc(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ry(e){for(var t=ds(e),n=lM(e);n&&swe(n)&&Mc(n).position==="static";)n=lM(n);return n&&(Ml(n)==="html"||Ml(n)==="body"&&Mc(n).position==="static")?t:n||awe(e)||t}function gP(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Dv(e,t,n){return Vf(e,N_(t,n))}function lwe(e,t,n){var r=Dv(e,t,n);return r>n?n:r}function rK(){return{top:0,right:0,bottom:0,left:0}}function iK(e){return Object.assign({},rK(),e)}function oK(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var cwe=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,iK(typeof t!="number"?t:oK(t,Py))};function uwe(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=jl(n.placement),l=gP(a),c=[Mo,oa].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=cwe(i.padding,n),h=mP(o),f=l==="y"?Lo:Mo,m=l==="y"?ia:oa,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],y=s[l]-n.rects.reference[l],v=Ry(o),x=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,_=g/2-y/2,S=d[f],k=x-h[u]-d[m],T=x/2-h[u]/2+_,P=Dv(S,T,k),N=l;n.modifiersData[r]=(t={},t[N]=P,t.centerOffset=P-T,t)}}function dwe(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||nK(t.elements.popper,i)&&(t.elements.arrow=i))}const fwe={name:"arrow",enabled:!0,phase:"main",fn:uwe,effect:dwe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function V0(e){return e.split("-")[1]}var hwe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function pwe(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:H0(n*i)/i||0,y:H0(r*i)/i||0}}function cM(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=h===void 0?0:h,m=s.y,g=m===void 0?0:m,y=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=y.x,g=y.y;var v=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),_=Mo,S=Lo,k=window;if(c){var T=Ry(n),P="clientHeight",N="clientWidth";if(T===ds(n)&&(T=Ud(n),Mc(T).position!=="static"&&a==="absolute"&&(P="scrollHeight",N="scrollWidth")),T=T,i===Lo||(i===Mo||i===oa)&&o===q1){S=ia;var A=d&&T===k&&k.visualViewport?k.visualViewport.height:T[P];g-=A-r.height,g*=l?1:-1}if(i===Mo||(i===Lo||i===ia)&&o===q1){_=oa;var D=d&&T===k&&k.visualViewport?k.visualViewport.width:T[N];f-=D-r.width,f*=l?1:-1}}var C=Object.assign({position:a},c&&hwe),j=u===!0?pwe({x:f,y:g},ds(n)):{x:f,y:g};if(f=j.x,g=j.y,l){var L;return Object.assign({},C,(L={},L[S]=x?"0":"",L[_]=v?"0":"",L.transform=(k.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",L))}return Object.assign({},C,(t={},t[S]=x?g+"px":"",t[_]=v?f+"px":"",t.transform="",t))}function mwe(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:jl(t.placement),variation:V0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,cM(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,cM(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const gwe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:mwe,data:{}};var z2={passive:!0};function vwe(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=ds(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,z2)}),a&&l.addEventListener("resize",n.update,z2),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,z2)}),a&&l.removeEventListener("resize",n.update,z2)}}const ywe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vwe,data:{}};var bwe={left:"right",right:"left",bottom:"top",top:"bottom"};function Lx(e){return e.replace(/left|right|bottom|top/g,function(t){return bwe[t]})}var xwe={start:"end",end:"start"};function uM(e){return e.replace(/start|end/g,function(t){return xwe[t]})}function vP(e){var t=ds(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function yP(e){return W0(Ud(e)).left+vP(e).scrollLeft}function wwe(e,t){var n=ds(e),r=Ud(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=tK();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+yP(e),y:l}}function _we(e){var t,n=Ud(e),r=vP(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Vf(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Vf(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+yP(e),l=-r.scrollTop;return Mc(i||n).direction==="rtl"&&(a+=Vf(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function bP(e){var t=Mc(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function sK(e){return["html","body","#document"].indexOf(Ml(e))>=0?e.ownerDocument.body:Zs(e)&&bP(e)?e:sK(rS(e))}function Iv(e,t){var n;t===void 0&&(t=[]);var r=sK(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=ds(r),s=i?[o].concat(o.visualViewport||[],bP(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Iv(rS(s)))}function hA(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Swe(e,t){var n=W0(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function dM(e,t,n){return t===JV?hA(wwe(e,n)):_h(t)?Swe(t,n):hA(_we(Ud(e)))}function kwe(e){var t=Iv(rS(e)),n=["absolute","fixed"].indexOf(Mc(e).position)>=0,r=n&&Zs(e)?Ry(e):e;return _h(r)?t.filter(function(i){return _h(i)&&nK(i,r)&&Ml(i)!=="body"}):[]}function Cwe(e,t,n,r){var i=t==="clippingParents"?kwe(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,c){var u=dM(e,c,r);return l.top=Vf(u.top,l.top),l.right=N_(u.right,l.right),l.bottom=N_(u.bottom,l.bottom),l.left=Vf(u.left,l.left),l},dM(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function aK(e){var t=e.reference,n=e.element,r=e.placement,i=r?jl(r):null,o=r?V0(r):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case Lo:l={x:s,y:t.y-n.height};break;case ia:l={x:s,y:t.y+t.height};break;case oa:l={x:t.x+t.width,y:a};break;case Mo:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?gP(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case q0:l[c]=l[c]-(t[u]/2-n[u]/2);break;case q1:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function H1(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?Kxe:a,c=n.rootBoundary,u=c===void 0?JV:c,d=n.elementContext,h=d===void 0?yg:d,f=n.altBoundary,m=f===void 0?!1:f,g=n.padding,y=g===void 0?0:g,v=iK(typeof y!="number"?y:oK(y,Py)),x=h===yg?Gxe:yg,_=e.rects.popper,S=e.elements[m?x:h],k=Cwe(_h(S)?S:S.contextElement||Ud(e.elements.popper),l,u,s),T=W0(e.elements.reference),P=aK({reference:T,element:_,strategy:"absolute",placement:i}),N=hA(Object.assign({},_,P)),A=h===yg?N:T,D={top:k.top-A.top+v.top,bottom:A.bottom-k.bottom+v.bottom,left:k.left-A.left+v.left,right:A.right-k.right+v.right},C=e.modifiersData.offset;if(h===yg&&C){var j=C[i];Object.keys(D).forEach(function(L){var z=[oa,ia].indexOf(L)>=0?1:-1,K=[Lo,ia].indexOf(L)>=0?"y":"x";D[L]+=j[K]*z})}return D}function Nwe(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?QV:l,u=V0(r),d=u?a?aM:aM.filter(function(m){return V0(m)===u}):Py,h=d.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=d);var f=h.reduce(function(m,g){return m[g]=H1(e,{placement:g,boundary:i,rootBoundary:o,padding:s})[jl(g)],m},{});return Object.keys(f).sort(function(m,g){return f[m]-f[g]})}function Awe(e){if(jl(e)===hP)return[];var t=Lx(e);return[uM(e),t,uM(t)]}function Ewe(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,m=f===void 0?!0:f,g=n.allowedAutoPlacements,y=t.options.placement,v=jl(y),x=v===y,_=l||(x||!m?[Lx(y)]:Awe(y)),S=[y].concat(_).reduce(function(Q,ie){return Q.concat(jl(ie)===hP?Nwe(t,{placement:ie,boundary:u,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g}):ie)},[]),k=t.rects.reference,T=t.rects.popper,P=new Map,N=!0,A=S[0],D=0;D<S.length;D++){var C=S[D],j=jl(C),L=V0(C)===q0,z=[Lo,ia].indexOf(j)>=0,K=z?"width":"height",H=H1(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),Z=z?L?oa:Mo:L?ia:Lo;k[K]>T[K]&&(Z=Lx(Z));var W=Lx(Z),Y=[];if(o&&Y.push(H[j]<=0),a&&Y.push(H[Z]<=0,H[W]<=0),Y.every(function(Q){return Q})){A=C,N=!1;break}P.set(C,Y)}if(N)for(var le=m?3:1,fe=function(ie){var oe=S.find(function(de){var pe=P.get(de);if(pe)return pe.slice(0,ie).every(function(ae){return ae})});if(oe)return A=oe,"break"},M=le;M>0;M--){var $=fe(M);if($==="break")break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}}const Twe={name:"flip",enabled:!0,phase:"main",fn:Ewe,requiresIfExists:["offset"],data:{_skip:!1}};function fM(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function hM(e){return[Lo,oa,ia,Mo].some(function(t){return e[t]>=0})}function Pwe(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=H1(t,{elementContext:"reference"}),a=H1(t,{altBoundary:!0}),l=fM(s,r),c=fM(a,i,o),u=hM(l),d=hM(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Rwe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Pwe};function jwe(e,t,n){var r=jl(e),i=[Mo,Lo].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Mo,oa].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function Dwe(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,s=QV.reduce(function(u,d){return u[d]=jwe(d,t.rects,o),u},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}const Iwe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Dwe};function Owe(e){var t=e.state,n=e.name;t.modifiersData[n]=aK({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const Lwe={name:"popperOffsets",enabled:!0,phase:"read",fn:Owe,data:{}};function Mwe(e){return e==="x"?"y":"x"}function Fwe(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,m=n.tetherOffset,g=m===void 0?0:m,y=H1(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=jl(t.placement),x=V0(t.placement),_=!x,S=gP(v),k=Mwe(S),T=t.modifiersData.popperOffsets,P=t.rects.reference,N=t.rects.popper,A=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,D=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,j={x:0,y:0};if(T){if(o){var L,z=S==="y"?Lo:Mo,K=S==="y"?ia:oa,H=S==="y"?"height":"width",Z=T[S],W=Z+y[z],Y=Z-y[K],le=f?-N[H]/2:0,fe=x===q0?P[H]:N[H],M=x===q0?-N[H]:-P[H],$=t.elements.arrow,Q=f&&$?mP($):{width:0,height:0},ie=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rK(),oe=ie[z],de=ie[K],pe=Dv(0,P[H],Q[H]),ae=_?P[H]/2-le-pe-oe-D.mainAxis:fe-pe-oe-D.mainAxis,ue=_?-P[H]/2+le+pe+de+D.mainAxis:M+pe+de+D.mainAxis,_e=t.elements.arrow&&Ry(t.elements.arrow),Se=_e?S==="y"?_e.clientTop||0:_e.clientLeft||0:0,Ne=(L=C?.[S])!=null?L:0,Xe=Z+ae-Ne-Se,G=Z+ue-Ne,We=Dv(f?N_(W,Xe):W,Z,f?Vf(Y,G):Y);T[S]=We,j[S]=We-Z}if(a){var xt,at=S==="x"?Lo:Mo,Ie=S==="x"?ia:oa,Ae=T[k],ke=k==="y"?"height":"width",Oe=Ae+y[at],Le=Ae-y[Ie],Ce=[Lo,Mo].indexOf(v)!==-1,Me=(xt=C?.[k])!=null?xt:0,Be=Ce?Oe:Ae-P[ke]-N[ke]-Me+D.altAxis,De=Ce?Ae+P[ke]+N[ke]-Me-D.altAxis:Le,it=f&&Ce?lwe(Be,Ae,De):Dv(f?Be:Oe,Ae,f?De:Le);T[k]=it,j[k]=it-Ae}t.modifiersData[r]=j}}const Bwe={name:"preventOverflow",enabled:!0,phase:"main",fn:Fwe,requiresIfExists:["offset"]};function zwe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Uwe(e){return e===ds(e)||!Zs(e)?vP(e):zwe(e)}function qwe(e){var t=e.getBoundingClientRect(),n=H0(t.width)/e.offsetWidth||1,r=H0(t.height)/e.offsetHeight||1;return n!==1||r!==1}function Hwe(e,t,n){n===void 0&&(n=!1);var r=Zs(t),i=Zs(t)&&qwe(t),o=Ud(t),s=W0(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ml(t)!=="body"||bP(o))&&(a=Uwe(t)),Zs(t)?(l=W0(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=yP(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Wwe(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function Vwe(e){var t=Wwe(e);return rwe.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function Kwe(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Gwe(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var pM={placement:"bottom",modifiers:[],strategy:"absolute"};function mM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Zwe(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?pM:i;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},pM,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(v){var x=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},o,u.options,x),u.scrollParents={reference:_h(a)?Iv(a):a.contextElement?Iv(a.contextElement):[],popper:Iv(l)};var _=Vwe(Gwe([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(S){return S.enabled}),m(),f.update()},forceUpdate:function(){if(!h){var v=u.elements,x=v.reference,_=v.popper;if(mM(x,_)){u.rects={reference:Hwe(x,Ry(_),u.options.strategy==="fixed"),popper:mP(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(D){return u.modifiersData[D.name]=Object.assign({},D.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var k=u.orderedModifiers[S],T=k.fn,P=k.options,N=P===void 0?{}:P,A=k.name;typeof T=="function"&&(u=T({state:u,options:N,name:A,instance:f})||u)}}}},update:Kwe(function(){return new Promise(function(y){f.forceUpdate(),y(u)})}),destroy:function(){g(),h=!0}};if(!mM(a,l))return f;f.setOptions(c).then(function(y){!h&&c.onFirstUpdate&&c.onFirstUpdate(y)});function m(){u.orderedModifiers.forEach(function(y){var v=y.name,x=y.options,_=x===void 0?{}:x,S=y.effect;if(typeof S=="function"){var k=S({state:u,name:v,instance:f,options:_}),T=function(){};d.push(k||T)}})}function g(){d.forEach(function(y){return y()}),d=[]}return f}}var Xwe=[ywe,Lwe,gwe,eK,Iwe,Twe,Bwe,fwe,Rwe],$we=Zwe({defaultModifiers:Xwe}),Ywe="tippy-box",lK="tippy-content",Jwe="tippy-backdrop",cK="tippy-arrow",uK="tippy-svg-arrow",gf={passive:!0,capture:!0},dK=function(){return document.body};function yC(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function xP(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function fK(e,t){return typeof e=="function"?e.apply(void 0,t):e}function gM(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function Qwe(e){return e.split(/\s+/).filter(Boolean)}function Pp(e){return[].concat(e)}function vM(e,t){e.indexOf(t)===-1&&e.push(t)}function e_e(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function t_e(e){return e.split("-")[0]}function A_(e){return[].slice.call(e)}function yM(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Ov(){return document.createElement("div")}function iS(e){return["Element","Fragment"].some(function(t){return xP(e,t)})}function n_e(e){return xP(e,"NodeList")}function r_e(e){return xP(e,"MouseEvent")}function i_e(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function o_e(e){return iS(e)?[e]:n_e(e)?A_(e):Array.isArray(e)?e:A_(document.querySelectorAll(e))}function bC(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function bM(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function s_e(e){var t,n=Pp(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function a_e(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,l=a.interactiveBorder,c=t_e(s.placement),u=s.modifiersData.offset;if(!u)return!0;var d=c==="bottom"?u.top.y:0,h=c==="top"?u.bottom.y:0,f=c==="right"?u.left.x:0,m=c==="left"?u.right.x:0,g=o.top-r+d>l,y=r-o.bottom-h>l,v=o.left-n+f>l,x=n-o.right-m>l;return g||y||v||x})}function xC(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function xM(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var gl={isTouch:!1},wM=0;function l_e(){gl.isTouch||(gl.isTouch=!0,window.performance&&document.addEventListener("mousemove",hK))}function hK(){var e=performance.now();e-wM<20&&(gl.isTouch=!1,document.removeEventListener("mousemove",hK)),wM=e}function c_e(){var e=document.activeElement;if(i_e(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function u_e(){document.addEventListener("touchstart",l_e,gf),window.addEventListener("blur",c_e)}var d_e=typeof window<"u"&&typeof document<"u",f_e=d_e?!!window.msCrypto:!1,h_e={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},p_e={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Pa=Object.assign({appendTo:dK,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},h_e,p_e),m_e=Object.keys(Pa),g_e=function(t){var n=Object.keys(t);n.forEach(function(r){Pa[r]=t[r]})};function pK(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=e[o]!==void 0?e[o]:(a=Pa[o])!=null?a:s}return r},{});return Object.assign({},e,n)}function v_e(e,t){var n=t?Object.keys(pK(Object.assign({},Pa,{plugins:t}))):m_e,r=n.reduce(function(i,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function _M(e,t){var n=Object.assign({},t,{content:fK(t.content,[e])},t.ignoreAttributes?{}:v_e(e,t.plugins));return n.aria=Object.assign({},Pa.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var y_e=function(){return"innerHTML"};function pA(e,t){e[y_e()]=t}function SM(e){var t=Ov();return e===!0?t.className=cK:(t.className=uK,iS(e)?t.appendChild(e):pA(t,e)),t}function kM(e,t){iS(t.content)?(pA(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?pA(e,t.content):e.textContent=t.content)}function mA(e){var t=e.firstElementChild,n=A_(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(lK)}),arrow:n.find(function(r){return r.classList.contains(cK)||r.classList.contains(uK)}),backdrop:n.find(function(r){return r.classList.contains(Jwe)})}}function mK(e){var t=Ov(),n=Ov();n.className=Ywe,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Ov();r.className=lK,r.setAttribute("data-state","hidden"),kM(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,s){var a=mA(t),l=a.box,c=a.content,u=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&kM(c,e.props),s.arrow?u?o.arrow!==s.arrow&&(l.removeChild(u),l.appendChild(SM(s.arrow))):l.appendChild(SM(s.arrow)):u&&l.removeChild(u)}return{popper:t,onUpdate:i}}mK.$$tippy=!0;var b_e=1,U2=[],wC=[];function x_e(e,t){var n=_M(e,Object.assign({},Pa,pK(yM(t)))),r,i,o,s=!1,a=!1,l=!1,c=!1,u,d,h,f=[],m=gM(Xe,n.interactiveDebounce),g,y=b_e++,v=null,x=e_e(n.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},S={id:y,reference:e,popper:Ov(),popperInstance:v,props:n,state:_,plugins:x,clearDelayTimeouts:Be,setProps:De,setContent:it,show:$e,hide:pt,hideWithInteractivity:tt,enable:Ce,disable:Me,unmount:jn,destroy:nn};if(!n.render)return S;var k=n.render(S),T=k.popper,P=k.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+S.id,S.popper=T,e._tippy=S,T._tippy=S;var N=x.map(function(be){return be.fn(S)}),A=e.hasAttribute("aria-expanded");return _e(),le(),Z(),W("onCreate",[S]),n.showOnCreate&&Oe(),T.addEventListener("mouseenter",function(){S.props.interactive&&S.state.isVisible&&S.clearDelayTimeouts()}),T.addEventListener("mouseleave",function(){S.props.interactive&&S.props.trigger.indexOf("mouseenter")>=0&&z().addEventListener("mousemove",m)}),S;function D(){var be=S.props.touch;return Array.isArray(be)?be:[be,0]}function C(){return D()[0]==="hold"}function j(){var be;return!!((be=S.props.render)!=null&&be.$$tippy)}function L(){return g||e}function z(){var be=L().parentNode;return be?s_e(be):document}function K(){return mA(T)}function H(be){return S.state.isMounted&&!S.state.isVisible||gl.isTouch||u&&u.type==="focus"?0:yC(S.props.delay,be?0:1,Pa.delay)}function Z(be){be===void 0&&(be=!1),T.style.pointerEvents=S.props.interactive&&!be?"":"none",T.style.zIndex=""+S.props.zIndex}function W(be,ze,nt){if(nt===void 0&&(nt=!0),N.forEach(function(dt){dt[be]&&dt[be].apply(dt,ze)}),nt){var Je;(Je=S.props)[be].apply(Je,ze)}}function Y(){var be=S.props.aria;if(be.content){var ze="aria-"+be.content,nt=T.id,Je=Pp(S.props.triggerTarget||e);Je.forEach(function(dt){var st=dt.getAttribute(ze);if(S.state.isVisible)dt.setAttribute(ze,st?st+" "+nt:nt);else{var mt=st&&st.replace(nt,"").trim();mt?dt.setAttribute(ze,mt):dt.removeAttribute(ze)}})}}function le(){if(!(A||!S.props.aria.expanded)){var be=Pp(S.props.triggerTarget||e);be.forEach(function(ze){S.props.interactive?ze.setAttribute("aria-expanded",S.state.isVisible&&ze===L()?"true":"false"):ze.removeAttribute("aria-expanded")})}}function fe(){z().removeEventListener("mousemove",m),U2=U2.filter(function(be){return be!==m})}function M(be){if(!(gl.isTouch&&(l||be.type==="mousedown"))){var ze=be.composedPath&&be.composedPath()[0]||be.target;if(!(S.props.interactive&&xM(T,ze))){if(Pp(S.props.triggerTarget||e).some(function(nt){return xM(nt,ze)})){if(gl.isTouch||S.state.isVisible&&S.props.trigger.indexOf("click")>=0)return}else W("onClickOutside",[S,be]);S.props.hideOnClick===!0&&(S.clearDelayTimeouts(),S.hide(),a=!0,setTimeout(function(){a=!1}),S.state.isMounted||oe())}}}function $(){l=!0}function Q(){l=!1}function ie(){var be=z();be.addEventListener("mousedown",M,!0),be.addEventListener("touchend",M,gf),be.addEventListener("touchstart",Q,gf),be.addEventListener("touchmove",$,gf)}function oe(){var be=z();be.removeEventListener("mousedown",M,!0),be.removeEventListener("touchend",M,gf),be.removeEventListener("touchstart",Q,gf),be.removeEventListener("touchmove",$,gf)}function de(be,ze){ae(be,function(){!S.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&ze()})}function pe(be,ze){ae(be,ze)}function ae(be,ze){var nt=K().box;function Je(dt){dt.target===nt&&(xC(nt,"remove",Je),ze())}if(be===0)return ze();xC(nt,"remove",d),xC(nt,"add",Je),d=Je}function ue(be,ze,nt){nt===void 0&&(nt=!1);var Je=Pp(S.props.triggerTarget||e);Je.forEach(function(dt){dt.addEventListener(be,ze,nt),f.push({node:dt,eventType:be,handler:ze,options:nt})})}function _e(){C()&&(ue("touchstart",Ne,{passive:!0}),ue("touchend",G,{passive:!0})),Qwe(S.props.trigger).forEach(function(be){if(be!=="manual")switch(ue(be,Ne),be){case"mouseenter":ue("mouseleave",G);break;case"focus":ue(f_e?"focusout":"blur",We);break;case"focusin":ue("focusout",We);break}})}function Se(){f.forEach(function(be){var ze=be.node,nt=be.eventType,Je=be.handler,dt=be.options;ze.removeEventListener(nt,Je,dt)}),f=[]}function Ne(be){var ze,nt=!1;if(!(!S.state.isEnabled||xt(be)||a)){var Je=((ze=u)==null?void 0:ze.type)==="focus";u=be,g=be.currentTarget,le(),!S.state.isVisible&&r_e(be)&&U2.forEach(function(dt){return dt(be)}),be.type==="click"&&(S.props.trigger.indexOf("mouseenter")<0||s)&&S.props.hideOnClick!==!1&&S.state.isVisible?nt=!0:Oe(be),be.type==="click"&&(s=!nt),nt&&!Je&&Le(be)}}function Xe(be){var ze=be.target,nt=L().contains(ze)||T.contains(ze);if(!(be.type==="mousemove"&&nt)){var Je=ke().concat(T).map(function(dt){var st,mt=dt._tippy,cn=(st=mt.popperInstance)==null?void 0:st.state;return cn?{popperRect:dt.getBoundingClientRect(),popperState:cn,props:n}:null}).filter(Boolean);a_e(Je,be)&&(fe(),Le(be))}}function G(be){var ze=xt(be)||S.props.trigger.indexOf("click")>=0&&s;if(!ze){if(S.props.interactive){S.hideWithInteractivity(be);return}Le(be)}}function We(be){S.props.trigger.indexOf("focusin")<0&&be.target!==L()||S.props.interactive&&be.relatedTarget&&T.contains(be.relatedTarget)||Le(be)}function xt(be){return gl.isTouch?C()!==be.type.indexOf("touch")>=0:!1}function at(){Ie();var be=S.props,ze=be.popperOptions,nt=be.placement,Je=be.offset,dt=be.getReferenceClientRect,st=be.moveTransition,mt=j()?mA(T).arrow:null,cn=dt?{getBoundingClientRect:dt,contextElement:dt.contextElement||L()}:e,Bt={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(It){var Kt=It.state;if(j()){var Wr=K(),ur=Wr.box;["placement","reference-hidden","escaped"].forEach(function(ot){ot==="placement"?ur.setAttribute("data-placement",Kt.placement):Kt.attributes.popper["data-popper-"+ot]?ur.setAttribute("data-"+ot,""):ur.removeAttribute("data-"+ot)}),Kt.attributes.popper={}}}},vt=[{name:"offset",options:{offset:Je}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!st}},Bt];j()&&mt&&vt.push({name:"arrow",options:{element:mt,padding:3}}),vt.push.apply(vt,ze?.modifiers||[]),S.popperInstance=$we(cn,T,Object.assign({},ze,{placement:nt,onFirstUpdate:h,modifiers:vt}))}function Ie(){S.popperInstance&&(S.popperInstance.destroy(),S.popperInstance=null)}function Ae(){var be=S.props.appendTo,ze,nt=L();S.props.interactive&&be===dK||be==="parent"?ze=nt.parentNode:ze=fK(be,[nt]),ze.contains(T)||ze.appendChild(T),S.state.isMounted=!0,at()}function ke(){return A_(T.querySelectorAll("[data-tippy-root]"))}function Oe(be){S.clearDelayTimeouts(),be&&W("onTrigger",[S,be]),ie();var ze=H(!0),nt=D(),Je=nt[0],dt=nt[1];gl.isTouch&&Je==="hold"&&dt&&(ze=dt),ze?r=setTimeout(function(){S.show()},ze):S.show()}function Le(be){if(S.clearDelayTimeouts(),W("onUntrigger",[S,be]),!S.state.isVisible){oe();return}if(!(S.props.trigger.indexOf("mouseenter")>=0&&S.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(be.type)>=0&&s)){var ze=H(!1);ze?i=setTimeout(function(){S.state.isVisible&&S.hide()},ze):o=requestAnimationFrame(function(){S.hide()})}}function Ce(){S.state.isEnabled=!0}function Me(){S.hide(),S.state.isEnabled=!1}function Be(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function De(be){if(!S.state.isDestroyed){W("onBeforeUpdate",[S,be]),Se();var ze=S.props,nt=_M(e,Object.assign({},ze,yM(be),{ignoreAttributes:!0}));S.props=nt,_e(),ze.interactiveDebounce!==nt.interactiveDebounce&&(fe(),m=gM(Xe,nt.interactiveDebounce)),ze.triggerTarget&&!nt.triggerTarget?Pp(ze.triggerTarget).forEach(function(Je){Je.removeAttribute("aria-expanded")}):nt.triggerTarget&&e.removeAttribute("aria-expanded"),le(),Z(),P&&P(ze,nt),S.popperInstance&&(at(),ke().forEach(function(Je){requestAnimationFrame(Je._tippy.popperInstance.forceUpdate)})),W("onAfterUpdate",[S,be])}}function it(be){S.setProps({content:be})}function $e(){var be=S.state.isVisible,ze=S.state.isDestroyed,nt=!S.state.isEnabled,Je=gl.isTouch&&!S.props.touch,dt=yC(S.props.duration,0,Pa.duration);if(!(be||ze||nt||Je)&&!L().hasAttribute("disabled")&&(W("onShow",[S],!1),S.props.onShow(S)!==!1)){if(S.state.isVisible=!0,j()&&(T.style.visibility="visible"),Z(),ie(),S.state.isMounted||(T.style.transition="none"),j()){var st=K(),mt=st.box,cn=st.content;bC([mt,cn],0)}h=function(){var vt;if(!(!S.state.isVisible||c)){if(c=!0,T.offsetHeight,T.style.transition=S.props.moveTransition,j()&&S.props.animation){var Qe=K(),It=Qe.box,Kt=Qe.content;bC([It,Kt],dt),bM([It,Kt],"visible")}Y(),le(),vM(wC,S),(vt=S.popperInstance)==null||vt.forceUpdate(),W("onMount",[S]),S.props.animation&&j()&&pe(dt,function(){S.state.isShown=!0,W("onShown",[S])})}},Ae()}}function pt(){var be=!S.state.isVisible,ze=S.state.isDestroyed,nt=!S.state.isEnabled,Je=yC(S.props.duration,1,Pa.duration);if(!(be||ze||nt)&&(W("onHide",[S],!1),S.props.onHide(S)!==!1)){if(S.state.isVisible=!1,S.state.isShown=!1,c=!1,s=!1,j()&&(T.style.visibility="hidden"),fe(),oe(),Z(!0),j()){var dt=K(),st=dt.box,mt=dt.content;S.props.animation&&(bC([st,mt],Je),bM([st,mt],"hidden"))}Y(),le(),S.props.animation?j()&&de(Je,S.unmount):S.unmount()}}function tt(be){z().addEventListener("mousemove",m),vM(U2,m),m(be)}function jn(){S.state.isVisible&&S.hide(),S.state.isMounted&&(Ie(),ke().forEach(function(be){be._tippy.unmount()}),T.parentNode&&T.parentNode.removeChild(T),wC=wC.filter(function(be){return be!==S}),S.state.isMounted=!1,W("onHidden",[S]))}function nn(){S.state.isDestroyed||(S.clearDelayTimeouts(),S.unmount(),Se(),delete e._tippy,S.state.isDestroyed=!0,W("onDestroy",[S]))}}function jy(e,t){t===void 0&&(t={});var n=Pa.plugins.concat(t.plugins||[]);u_e();var r=Object.assign({},t,{plugins:n}),i=o_e(e),o=i.reduce(function(s,a){var l=a&&x_e(a,r);return l&&s.push(l),s},[]);return iS(e)?o[0]:o}jy.defaultProps=Pa;jy.setDefaultProps=g_e;jy.currentInput=gl;Object.assign({},eK,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});jy.setDefaultProps({render:mK});const gK=I.forwardRef(({items:e,command:t},n)=>{const[r,i]=I.useState(0);return I.useEffect(()=>{i(0)},[e]),I.useImperativeHandle(n,()=>({onKeyDown:({event:o})=>{if(o.key==="ArrowUp")return i(s=>(s+e.length-1)%e.length),!0;if(o.key==="ArrowDown")return i(s=>(s+1)%e.length),!0;if(o.key==="Enter"){const s=e[r];return s&&t({id:s.id,label:s.name}),!0}return!1}})),e.length===0?p.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg p-3 text-xs text-gray-500",children:"No team members found"}):p.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden max-h-48 overflow-y-auto",children:e.map((o,s)=>p.jsxs("button",{onClick:()=>t({id:o.id,label:o.name}),className:`w-full text-left px-3 py-2 flex flex-col gap-0.5 ${s===r?"bg-cmg-teal/10 text-cmg-teal":"hover:bg-gray-50"}`,children:[p.jsx("span",{className:"text-xs font-medium",children:o.name}),p.jsx("span",{className:"text-[10px] text-gray-500",children:o.role})]},o.id))})});gK.displayName="MentionList";function bg({onClick:e,isActive:t,children:n,title:r}){return p.jsx("button",{type:"button",onClick:e,title:r,className:`p-1.5 rounded transition-colors ${t?"bg-cmg-teal/20 text-cmg-teal":"text-gray-500 hover:bg-gray-100 hover:text-gray-700"}`,children:n})}function CM(){return p.jsx("div",{className:"w-px h-5 bg-gray-200 mx-0.5"})}function w_e({value:e,onChange:t,placeholder:n="Add a note...",teamMembers:r}){const i=I.useRef(!1),o=I.useRef(r);I.useEffect(()=>{o.current=r},[r]);const s=I.useCallback(({query:u})=>{const d=o.current;if(!u)return d.slice(0,5);const h=u.toLowerCase();return d.filter(f=>f.name.toLowerCase().includes(h)||f.role.toLowerCase().includes(h)).slice(0,5)},[]),a=S5({extensions:[N5.configure({heading:!1}),oy,cT.configure({placeholder:n,emptyEditorClass:"is-editor-empty"}),Vxe.configure({HTMLAttributes:{class:"mention"},suggestion:{items:s,render:()=>{let u=null,d=null;return{onStart:h=>{u=new nse(gK,{props:h,editor:h.editor}),h.clientRect&&(d=jy("body",{getReferenceClientRect:h.clientRect,appendTo:()=>document.body,content:u.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate:h=>{u?.updateProps(h),h.clientRect&&d?.[0]?.setProps({getReferenceClientRect:h.clientRect})},onKeyDown:h=>h.event.key==="Escape"?(d?.[0]?.hide(),!0):u?.ref?.onKeyDown(h)??!1,onExit:()=>{d?.[0]?.destroy(),u?.destroy()}}}}})],content:e,onUpdate:({editor:u})=>{i.current||t(u.getHTML())}});I.useEffect(()=>{a&&e!==a.getHTML()&&(i.current=!0,a.commands.setContent(e,{emitUpdate:!1}),i.current=!1)},[e,a]);const l=I.useCallback(()=>{a&&a.chain().focus().insertContent("@").run()},[a]),c="w-4 h-4";return p.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden focus-within:ring-2 focus-within:ring-cmg-teal focus-within:border-cmg-teal",children:[p.jsxs("div",{className:"flex items-center gap-0.5 p-2 bg-gray-50 border-b border-gray-200",children:[p.jsx(bg,{onClick:()=>a?.chain().focus().toggleBold().run(),isActive:a?.isActive("bold"),title:"Bold",children:p.jsx(X_,{className:c})}),p.jsx(bg,{onClick:()=>a?.chain().focus().toggleItalic().run(),isActive:a?.isActive("italic"),title:"Italic",children:p.jsx(Q_,{className:c})}),p.jsx(bg,{onClick:()=>a?.chain().focus().toggleUnderline().run(),isActive:a?.isActive("underline"),title:"Underline",children:p.jsx(e5,{className:c})}),p.jsx(CM,{}),p.jsx(bg,{onClick:()=>a?.chain().focus().toggleBulletList().run(),isActive:a?.isActive("bulletList"),title:"Bullet List",children:p.jsx(yE,{className:c})}),p.jsx(CM,{}),p.jsx(bg,{onClick:l,title:"Mention someone",children:p.jsx(sJ,{className:c})})]}),p.jsx(_5,{editor:a,className:"text-sm prose prose-sm max-w-none p-3 min-h-[150px] focus:outline-none [&_.ProseMirror]:outline-none [&_.ProseMirror]:min-h-full [&_.ProseMirror]:text-sm [&_.ProseMirror_ul]:list-disc [&_.ProseMirror_ul]:pl-5 [&_.ProseMirror_ul]:my-2 [&_.ProseMirror_p]:my-1 [&_.ProseMirror.is-editor-empty:first-child::before]:content-[attr(data-placeholder)] [&_.ProseMirror.is-editor-empty:first-child::before]:text-gray-400 [&_.ProseMirror.is-editor-empty:first-child::before]:float-left [&_.ProseMirror.is-editor-empty:first-child::before]:h-0 [&_.ProseMirror.is-editor-empty:first-child::before]:pointer-events-none [&_.mention]:bg-blue-100 [&_.mention]:text-blue-700 [&_.mention]:px-1 [&_.mention]:py-0.5 [&_.mention]:rounded [&_.mention]:font-medium"})]})}function __e(e){const[t,n]=I.useState([]),[r,i]=I.useState(!0);I.useEffect(()=>{if(!e){n([]),i(!1);return}async function s(){i(!0);const{data:a,error:l}=await Ee.from("loan_team_members").select("*").eq("loan_id",e).order("name");l?(console.error("Error fetching loan team members:",l),n([])):n(a||[]),i(!1)}s()},[e]);const o=I.useCallback(s=>{if(!s)return t;const a=s.toLowerCase();return t.filter(l=>l.name.toLowerCase().includes(a)||l.role.toLowerCase().includes(a))},[t]);return{members:t,loading:r,searchMembers:o}}function S_e({isOpen:e,onClose:t,onSubmitComplete:n}){const{selectedLoanId:r,updateLoanStatus:i}=Q1(),{selectedRole:o}=Bc(),{members:s}=__e(r),[a,l]=I.useState(""),[c,u]=I.useState("UW Received"),[d,h]=I.useState(!1),f=MJ.map(g=>({value:g,label:g}));I.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),I.useEffect(()=>{function g(y){y.key==="Escape"&&!d&&t()}return e&&document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[e,d,t]),I.useEffect(()=>{e||(l(""),u("UW Received"))},[e]);async function m(){if(d)return;if(h(!0),!await i(c)){h(!1);return}a.replace(/<[^>]*>/g,"").trim().length>0&&r&&await Ee.from("condition_notes").insert({loan_id:r,condition_id:null,author_name:Tl(o),author_role:o,content:a,note_type:"update",is_pinned:!1}),h(!1),n(),t()}return e?p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[p.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:d?void 0:t}),p.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-2xl mx-4",children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Submit to UW"}),p.jsx("button",{onClick:t,disabled:d,className:"p-1 text-gray-400 hover:text-gray-600 rounded transition-colors disabled:opacity-50",children:p.jsx(lr,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"p-6 space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Please select the loan status and add any relevant notes for the underwriter prior to submission."}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Loan Status"}),p.jsx(yi,{options:f,value:c,onChange:g=>u(g),placeholder:"Select status"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Condition Portal Note"}),p.jsx(w_e,{value:a,onChange:l,placeholder:"",teamMembers:s})]}),p.jsx("p",{className:"text-xs text-gray-500",children:"This note will only be visible to members of the loan team."})]}),p.jsxs("div",{className:"flex items-center justify-center gap-4 p-6 border-t border-gray-200",children:[p.jsx(Pt,{variant:"secondary",size:"lg",onClick:t,disabled:d,className:"min-w-[100px]",children:"Cancel"}),p.jsx(Pt,{variant:"primary",size:"lg",onClick:m,disabled:d,className:"min-w-[100px]",children:d?"Submitting...":"Submit"})]})]})]}):null}function k_e(){const{selectedLoanId:e,loading:t}=Q1(),{selectedRole:n}=Bc(),{groupedByStage:r,loading:i,counts:o,viewFilter:s,setViewFilter:a,pageFilter:l,setPageFilter:c,searchQuery:u,setSearchQuery:d,collapsedSections:h,toggleSection:f,collapseAll:m,expandAll:g,updateConditionStatus:y,addNote:v,bulkUpdateStage:x,bulkUpdateStatus:_,bulkDeleteConditions:S,updateConditionDetails:k,refetch:T}=nQ(e||"",n),{setFlag:P,bulkSetFlags:N,getFlag:A}=rQ(e||"",n),{unreadCount:D,refetch:C}=wB({loanId:e}),{parties:j}=xE(e||""),[L,z]=I.useState(new Set),[K,H]=I.useState(!1),[Z,W]=I.useState(null),[Y,le]=I.useState(!1),[fe,M]=I.useState("request"),[$,Q]=I.useState(!1),[ie,oe]=I.useState(!1),[de,pe]=I.useState(!1),[ae,ue]=I.useState(null),[_e,Se]=I.useState(null),[Ne,Xe]=I.useState(!1),[G,We]=I.useState("bell"),[xt,at]=I.useState(null),[Ie,Ae]=I.useState(!1),Oe=["Suspend","Prior to Docs","Prior to Funding","Prior to Purchase","Post Funding","Trailing Docs"].every(Qe=>h.has(Qe));function Le(Qe){z(It=>{const Kt=new Set(It);return Kt.has(Qe)?Kt.delete(Qe):Kt.add(Qe),Kt})}function Ce(Qe,It){const Kt=It.every(Wr=>L.has(Wr));z(Wr=>{const ur=new Set(Wr);return Kt?It.forEach(ot=>ur.delete(ot)):It.forEach(ot=>ur.add(ot)),ur})}function Me(Qe,It){y(Qe,It)}function Be(Qe,It){v(Qe,It)}function De(){z(new Set)}async function it(Qe){const It=Array.from(L);await N(It,Qe)&&z(new Set)}async function $e(Qe){const It=Array.from(L);await _(It,Qe)&&z(new Set)}async function pt(){const Qe=Array.from(L);await x(Qe,"Suspend")&&z(new Set),Q(!1)}async function tt(){const Qe=Array.from(L);await S(Qe)&&z(new Set),oe(!1)}function jn(Qe,It){ue({conditionId:Qe,initialFiles:It})}function nn(){ue(null),T()}function be(Qe){ue({conditionId:null,initialFiles:Qe})}function ze(Qe){Se(Qe===null?"__unassigned__":Qe),pe(!0),ue(null)}function nt(){Se(null),pe(!0)}function Je(Qe){Se(Qe),pe(!0)}function dt(){pe(!1),Se(null)}function st(Qe,It){We(Qe),at(It||null),Xe(!0)}function mt(){Xe(!1),at(null),C(),T()}async function cn(Qe,It){const{error:Kt}=await Ee.from("doc_requests").insert({condition_id:Qe,document_type:It.document_type,fulfillment_party:It.fulfillment_party,description_for_borrower:It.description_for_borrower,status:"New"});return Kt?(console.error("Error adding doc request:",Kt),!1):(T(),!0)}async function Bt(Qe,It){const{error:Kt}=await Ee.from("doc_requests").update(It).eq("id",Qe);return Kt?(console.error("Error updating doc request:",Kt),!1):(T(),!0)}async function vt(Qe){const{error:It}=await Ee.from("doc_requests").delete().eq("id",Qe);return It?(console.error("Error deleting doc request:",It),!1):(T(),!0)}return t||i||!e?p.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:p.jsx("div",{className:"text-gray-500",children:"Loading conditions..."})}):p.jsxs("div",{className:"min-h-screen bg-gray-100",children:[p.jsx(gQ,{viewFilter:s,setViewFilter:a,pageFilter:l,setPageFilter:c,searchQuery:u,setSearchQuery:d,counts:o,onAddConditions:()=>H(!0),onSendBrwRequests:()=>{M("request"),le(!0)},onSendBrwReminder:()=>{M("reminder"),le(!0)},onReviewDocs:nt,onBulkUpload:be,onOpenNotesModal:()=>st("bell"),unreadNotesCount:D,onSubmitToUW:()=>Ae(!0)}),L.size>0&&p.jsx(Rxe,{selectedCount:L.size,onDeselectAll:De,onSetFlag:it,onSetStatus:$e,onSuspend:()=>Q(!0),onRemove:()=>oe(!0)}),p.jsx(xQ,{onCollapseAll:m,onExpandAll:g,allCollapsed:Oe}),p.jsx("div",{className:"divide-y divide-gray-200",children:r.length===0?p.jsx("div",{className:"bg-white px-4 py-8 text-center text-gray-500",children:"No conditions match the current filters."}):r.map(({stage:Qe,conditions:It})=>{const Kt=It.map(ot=>ot.id),Wr=Kt.every(ot=>L.has(ot)),ur=h.has(Qe);return p.jsxs("div",{children:[p.jsx(wQ,{stage:Qe,count:It.length,isCollapsed:ur,onToggle:()=>f(Qe),isSelected:Wr&&It.length>0,onSelectAll:()=>Ce(Qe,Kt)}),!ur&&p.jsx("div",{children:It.map(ot=>p.jsx(zae,{condition:ot,isSelected:L.has(ot.id),flagColor:A(ot.id),loanId:e,parties:j,userRole:n,onSelect:()=>Le(ot.id),onStatusChange:lt=>Me(ot.id,lt),onAddNote:lt=>Be(ot.id,lt),onEdit:()=>W(ot.id),onFlagChange:lt=>P(ot.id,lt),onOpenUploadModal:jn,onOpenNotesModal:lt=>st("condition",lt),onOpenReviewDocs:Je,onUpdateDetails:k,onAddDocRequest:lt=>cn(ot.id,lt),onUpdateDocRequest:Bt,onDeleteDocRequest:vt},ot.id))})]},Qe)})}),K&&p.jsx(tle,{loanId:e,onClose:()=>H(!1),onAdd:T}),Z&&p.jsx(vle,{conditionId:Z,loanId:e,flagColor:A(Z),onClose:()=>W(null),onUpdate:T,onFlagChange:Qe=>P(Z,Qe)}),Y&&p.jsx(hue,{loanId:e,mode:fe,onClose:()=>le(!1),onSave:T}),$&&p.jsx(t1,{title:"Suspend Conditions",message:`Are you sure you want to suspend ${L.size} condition${L.size===1?"":"s"}? They will be moved to the Suspend stage.`,confirmLabel:"Suspend",cancelLabel:"Cancel",confirmVariant:"danger",onConfirm:pt,onCancel:()=>Q(!1)}),ie&&p.jsx(t1,{title:"Remove Conditions",message:`Are you sure you want to permanently delete ${L.size} condition${L.size===1?"":"s"}? This action cannot be undone.`,confirmLabel:"Remove",cancelLabel:"Cancel",confirmVariant:"danger",onConfirm:tt,onCancel:()=>oe(!1)}),de&&p.jsx(k1e,{loanId:e,filterConditionId:_e,onClose:dt,onUpdate:T}),ae&&p.jsx(Pxe,{conditionId:ae.conditionId,loanId:e,initialFiles:ae.initialFiles,onClose:nn,onUploadComplete:T,onReviewDocs:ze,createdBy:Tl(n)}),p.jsx(Bxe,{isOpen:Ne,onClose:mt,entryPoint:G,conditionId:xt}),p.jsx(S_e,{isOpen:Ie,onClose:()=>Ae(!1),onSubmitComplete:T})]})}function C_e(){const[e,t]=I.useState(!1);return p.jsx($Y,{children:p.jsxs(WY,{children:[p.jsxs("div",{className:"min-h-screen flex flex-col",children:[p.jsx(FJ,{onOpenSelector:()=>t(!0)}),p.jsx("div",{className:"flex-1",children:p.jsx(k_e,{})})]}),e&&p.jsx(XJ,{onClose:()=>t(!1)})]})})}F7(document.getElementById("root")).render(p.jsx(I.StrictMode,{children:p.jsx(C_e,{})}));export{Mn as _,Xs as c,W1 as g};
